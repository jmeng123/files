{"last_chapter_rule":"","pageList":[],"title":"æŸ¥é‡","author":"Reborn","version":4,"type":"tool","url":"hiker://fyAll","col_type":"text_2","class_name":"è§„åˆ™æŸ¥é‡","class_url":"home","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar res = {};\nvar items = [];\n\n// æ‰€æœ‰å¼€å…³  å¼€åˆ™ true  å…³åˆ™ false\n// è§„åˆ™å»é‡å¼€å…³\nlet clearDuplicate = true;\n\nvar keyList = [];\n// TODO ä¼˜åŒ–èƒ½åŒ¹é… hiker://xxx çš„é“¾æ¥\nvar domainRegExp = new RegExp(\"([a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+\\\\.?)\");\n// domainRegExp = new RegExp(\"[hiker|http|https]://(.*?)/\");\nfunction isKeyInList(key) {\n    if (keyList.indexOf(key) > -1) {\n        return true;\n    }\n    return false;\n}\n\nlet rules = JSON.parse(getResCode());\n// let url = getUrl();\nlet url = \"hiker://home\";\n/hiker:\\/\\/(.*)/.test(url);\nlet category = RegExp.$1;\nswitch (category) {\n    case \"home\":\n        for (let i = 0; i < rules.length; i++) {\n            let rule = rules[i];\n            let key = domainRegExp.test(rule.url) === true ? RegExp.$1 : \"\";\n            // TODO ä¿®å¤åŒ¹é…å‡º fypage.html çš„é—®é¢˜\n            if (key === \"\" || key === \"fypage.html\" || isKeyInList(key) === true) {\n                continue;\n            }\n            keyList.push(key);\n        }\n        break;\n    case \"bookmark\":\n        break;\n    default:\n        setError(\"æœªçŸ¥åˆ†ç±»ï¼Œæ— æ³•è§£æ\");\n        break;\n}\n\nvar mRulesList = new Array(keyList.length);\nfor (let i = 0; i < mRulesList.length; i++) {\n    let rulesTemp = rules;\n    mRulesList[i] = rulesTemp.filter(item => {\n        let result = false;\n        try {\n            result = item.url.indexOf(keyList[i]) > -1;\n        } catch (e) {  result = false;  }\n        return result;\n    });\n}\n\nvar keyNum = 0;\nvar itemsTemp = [];\nfor (let i = 0; i < mRulesList.length; i++) {\n    let mRules = mRulesList[i];\n    if (mRules.length >= 2) {\n        itemsTemp.push({\n            title: keyList[i],\n            col_type: \"text_1\"\n        });\n        keyNum++;\n        for (let j = 0; j < mRules.length; j++) {\n            let rule = mRules[j];\n            itemsTemp.push({\n                title: rule.title,\n                url: \"hiker://home@\" + rule.title,\n            });\n        }\n    }\n}\n\nif (clearDuplicate === true){\n    var obj = {};\n    itemsTemp = itemsTemp.reduce((current, next) => {\n        obj[next.title] ? \"\" : obj[next.title] = true && current.push(next);\n        return current;\n    }, []);\n}\n\nitems.push({\n    title: \"æ€»è§„åˆ™æ•°ï¼š\" + rules.length + \"ï¼Œå½“å‰å¾…å¤„ç†ï¼š\" + keyNum + \" ç»„\",\n    desc: \"å°‘æ‰çš„è§„åˆ™å»å“ªé‡Œäº†ï¼Ÿå½“ç„¶æ˜¯ä¸é‡å¤çš„è§„åˆ™å•¦ï¼\\n(ç„¶è€Œè¿˜æœ‰ä¸€éƒ¨åˆ†æ˜¯åŒ¹é…å¤±è´¥çš„ç»“æœğŸ™ˆï¸...)\",\n    col_type: \"pic_1\"\n});\n\nwhile (itemsTemp.length) items.push(itemsTemp.shift());\n\nres.data = items;\nsetHomeResult(res);","searchFind":"js: // From Zruiry\nvar jsonZr = JSON.parse(fetch('hiker://home'));\r\nvar res = {};\nvar d = [];\nvar n = 0;\nfor (var i = 0; i <jsonZr.length; i++) {\n    if ((jsonZr[i].title + JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) + JSON.stringify(jsonZr[i].url).match(/.*?hiker.*?/)).includes(getUrl().split('#')[1]))\n    n++;\n}\nd.push({\n    title: 'æ‚¨çš„æœ¬åœ°å…±æœ‰' + jsonZr.length + 'æ¡è§„åˆ™',\n    content: \"å…±æœç´¢åˆ°\" + n + \"æ¡ç»“æœ\",\n});\nfor (var i = 0; i <jsonZr.length; i++) {\n    var r = {};\n    r.title = jsonZr[i].title;\n    var ruleAuthor = jsonZr[i].author;\n    var ruleGroup = jsonZr[i].group;\n    var ruleUrl = JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//);\n    r.desc = \"è§„åˆ™ç‰ˆæœ¬ï¼š\" + jsonZr[i].version;\n    if (jsonZr[i].author == null || jsonZr[i].author == undefined || jsonZr[i].author == '') {\n       ruleAuthor = \"æœªçŸ¥\";\n} \n    if(JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == null || JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == undefined || JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) == '') {\n        ruleUrl = \"æ— æ³•è¯†åˆ«\";\n}\n    if (JSON.stringify(jsonZr[i].url).includes(\"hiker\")) {\n       ruleUrl = jsonZr[i].url;\n}\n    if (jsonZr[i].group == null || jsonZr[i].group == undefined || jsonZr[i].group == '') {\n       ruleGroup = \"æš‚æ— åˆ†ç»„\";\n}\n    r.content = \"è§„åˆ™ä½œè€…ï¼š\" + ruleAuthor + \"\\næ‰€åœ¨åˆ†ç»„ï¼š\" + ruleGroup + \"\\nç«™ç‚¹ç½‘å€ï¼š\" + ruleUrl;\n    r.url = 'hiker://home@' + jsonZr[i].title;\n    r.img = 'https://acg.xydwz.cn/gqapi/gqapi.php?t=' + new Date().getTime() / i * (i + 1);\n    if ((jsonZr[i].title + JSON.stringify(jsonZr[i].url).match(/https?:\\/\\/.*?\\//) + JSON.stringify(jsonZr[i].url).match(/.*?hiker.*?/)).includes(getUrl().split('#')[1]))\n    d.push(r);\n}\r\nres.data = d;\r\nsetSearchResult(res);\r","search_url":"hiker://bookmark#**","group":"â‘§å·¥å…·","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"#ff148e8e"}