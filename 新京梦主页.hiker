海阔视界，我的主页「新京梦主页」主题￥my_home_theme￥eyJEYXRlIjoiMjAyNS0wMy0wMiAyMToxMTowMCIsIk5hbWUiOiLmlrDkuqzmoqbkuLvpobUiLCJCb29rbWFya3NMaXN0IjpbeyJwYXR0ZXJuIjoyLCJuYW1lIjoi6aKE5aSE55CGIiwiY29kZSI6InZhciBjb2xsZWN0aW9uPUpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vY29sbGVjdGlvbicpKTtcbnZhciBjb2xQaWNVcmw9XCJoaWtlcjovL2ltYWdlcy9jYXJkX2JnXCI7XG5mb3IobGV0IGk9MDtpPGNvbGxlY3Rpb24ubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICAgIGlmKGNvbGxlY3Rpb25baV0ucGljVXJsIT1udWxsKXsgICAgICAgICAgICAgICAgICAgICAgICBjb2xQaWNVcmw9Y29sbGVjdGlvbltpXS5waWNVcmw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuLyoqdHJ5e1xudmFyIGxvZ29QaWMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vYXBpLmJ0c3R1LmNuL3NqYnovYXBpLnBocD9seD1mZW5namluZyZmb3JtYXQ9aW1hZ2VzJl90dD0nK25ldyBEYXRlKCkuZ2V0VGltZSgpLHtyZWRpcmVjdDpmYWxzZSwgd2l0aEhlYWRlcnM6dHJ1ZSwgdGltZW91dDogMTAwMH0pKS5oZWFkZXJzLmxvY2F0aW9uWzBdO1xufWNhdGNoKGUpe30qL1xudmFyIGxvZ29QaWMgPSBcImhpa2VyOi8vaW1hZ2VzL2hvbWVfYmdcIjtcbltdXG5cbi8qXG4vL+acrOWcsOWbvueJh+maj+aculxuLy/nm7TmjqXlvJXnlKhmaWxlSW1n5Y2z5Y+vXG4vL2ZpbGXmm7TmlLnot6/lvoRcbmxldCBmaWxlID0gbmV3IGphdmEuaW8uRmlsZSgnL3N0b3JhZ2UvZW11bGF0ZWQvMC9QaWN0dXJlcy8nKTtcbmxldCBmaWxlTGlzdCA9IGZpbGUubGlzdEZpbGVzKCkuZmlsdGVyKGggPT4gaC5pc0ZpbGUoKSYmL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnApLy50ZXN0KGgpKTtcbmxldCBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmlsZUxpc3QubGVuZ3RoKTtcbnZhciBmaWxlSW1nID0gZmlsZUxpc3RbaV07Ki9cblxuIn0seyJzdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5a+85YWl5Zu+5qCHIiwiY29kZSI6Ii8v6Ieq5Yqo5a+85YWl77yM5peg6ZyA5omL5Yqo5pON5L2c44CCXG4vL+ato+W4uOaYvuekuuWbvuagh+WQju+8jOWPr+S7peWFs+aOieacrOS5puetvu+8jOS9v+S4u+mhteabtOa1geeVheOAglxubGV0IGljb25zID0gW3tcbiAgICAnaHRtbCc6ICdodHRwOi8vMTIzLjU2LjEwNS4xNDUvdHViaWFvL21vcmUvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvJyxcbiAgICAnaWQnOiBbJzEucG5nJywnNS5wbmcnLCc3LnBuZycsJzEwLnBuZycsJzE2LnBuZycsJzE4LnBuZycsJzI1LnBuZycsJzI3LnBuZycsJzM1LnBuZycsJzM2LnBuZycsJzM3LnBuZycsJzM4LnBuZycsJzQ0LnBuZycsJzQ3LnBuZycsJzQ4LnBuZycsJzU5LnBuZycsJzY1LnBuZycsJzY3LnBuZycsJzczLnBuZycsJzkzLnBuZycsJzEwMS5wbmcnLCcxMzAucG5nJywnMTQ2LnBuZycsJzE1Ny5wbmcnLCcxNjEucG5nJywnMTY3LnBuZycsJzE3MS5wbmcnLCcxODIucG5nJywnMTk1LnBuZycsJzIwMi5wbmcnLCcyMDUucG5nJywnMjEzLnBuZycsJzIxNS5wbmcnLCcyMjEucG5nJywnMjI3LnBuZycsJzIzMi5wbmcnLCcyNTEucG5nJywnMjUzLnBuZycsJzI1OC5wbmcnLCcyNjMucG5nJywnMjc5LnBuZycsJzI4NC5wbmcnLCcyOTQucG5nJywnMzAwLnBuZycsJzMwMy5wbmcnLCczMjUucG5nJywnMzM2LnBuZyddXG59LCB7XG4gICAgJ2h0bWwnOiAnaHR0cDovLzEyMy41Ni4xMDUuMTQ1L3R1Ymlhby9xLycsXG4gICAgJ2ZpbGUnOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9xLycsXG4gICAgJ2lkJzogWyc1LnBuZycsJzIwLnBuZycsICczNS5wbmcnLCc3MC5wbmcnLCcxMjUucG5nJ11cbn0sIHtcbiAgICAnaHRtbCc6ICdodHRwOi8vMTIzLjU2LjEwNS4xNDUvdHViaWFvL211c2ljLycsXG4gICAgJ2ZpbGUnOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tdXNpYy8nLFxuICAgICdpZCc6IFsnNTEuc3ZnJywnODIuc3ZnJywnODUuc3ZnJ11cbn0sIHtcbiAgICAnaHRtbCc6ICdodHRwOi8vMTIzLjU2LjEwNS4xNDUvdHViaWFvL21vdmllLycsXG4gICAgJ2ZpbGUnOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3ZpZS8nLFxuICAgICdpZCc6IFsnOS5zdmcnLCcyMi5zdmcnXVxufSwge1xuICAgICdodG1sJzogJ2h0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vbWVzc3kvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21lc3N5LycsXG4gICAgJ2lkJzogWycxMjMuc3ZnJywnMTI0LnN2ZyddXG59LCB7XG4gICAgJ2h0bWwnOiAnaHR0cHM6Ly9pbWcudmludWEuY24vaW1hZ2VzLycsXG4gICAgJ2ZpbGUnOiAnaGlrZXI6Ly9maWxlcy9KbS92aW51YS8nLFxuICAgICdpZCc6IFsndktZOTguanBlZycsJ3ZLa1FiLmpwZWcnXVxufV07XG5cbmxldCBpY29uPSBpY29ucy5mbGF0TWFwKGggPT4gaC5pZC5tYXAoaWQgPT4gKHtcbiAgICB1cmw6IGguaHRtbCArIGlkLFxuICAgIGZpbGU6IGguZmlsZSArIGlkXG59KSkpO1xuXG5pY29uLmZvckVhY2goaiA9PiB7XG4gICAgaWYgKCFmaWxlRXhpc3Qoai5maWxlKSkge3NhdmVJbWFnZShqLnVybCwgai5maWxlKTtcbiAgICB9XG59KTtcblxuIn0seyJwYXR0ZXJuIjoyLCJuYW1lIjoi5YWo5rCRa+atjCIsImNvZGUiOiJsZXQga2cgPSBbXTtcbmtnLnB1c2goe1xuICAgIHRpdGxlOlwi5YWo5rCRS+atjFwiLFxuICAgIGRlc2M6IFwi6L6T5YWl5YWo5rCRS+atjOWIhuS6q+mTvuaOpVwiLFxuICAgIHVybDogJChcIlwiLFwi6L6T5YWl5YWo5rCRS+atjOWIhuS6q+mTvuaOpVwiKS5pbnB1dCgoKT0+e1xuICAgICAgICBpZiAoaW5wdXQgPT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/ovpPlhaXpk77mjqXlkI7mkq3mlL7vvIFcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhcGkgPSBcImh0dHBzOi8veGhsOTcuY24vdG9vbHMvcW1rZy9rZ19jaGFuZ2JhLnBocFwiXG4gICAgICAgICAgICB2YXIgcGxheSA9IEpTT04ucGFyc2UocG9zdChhcGksIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiUmVmZXJlclwiOiBcImh0dHBzOi8veGhsOTcuY24vdG9vbHMvcW1rZy9cIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgYm9keToge1xuICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBpbnB1dFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgaWYgKHBsYXkuY29kZSA9PSBcIjFcIikgeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgZnQ9ZmluZEl0ZW0oTVlfUlVMRS50aXRsZStcImtwbGF5XCIpO1xuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oTVlfUlVMRS50aXRsZStcImtwbGF5XCIse1xuICAgICAgICAgICAgICAgICAgICBleHRyYTpPYmplY3QuYXNzaWduKHt9LGZ0LmV4dHJhLHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUaXRsZTpwbGF5LnRpdGxlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSkgICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXkudXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+ino+aekOWksei0peivt+i+k+WFpeato+ehrumTvuaOpe+8jOWUseWQp+mTvuaOpeWJjei+ueS4jeiDveacieaWh+Wtl+S7peWPiuepuuagvO+8gVwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9KSxcbiAgICBjb2xfdHlwZTogXCJpY29uX3NtYWxsXzRcIixcbiAgICBleHRyYToge1xuICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLFxuICAgICAgICBwYWdlVGl0bGU6XCLmkq3mlL5cIixcbiAgICAgICAgaWQ6IE1ZX1JVTEUudGl0bGUgKyBcImtwbGF5XCJcbiAgICB9XG59KVxua2ciLCJzdGF0dXMiOmZhbHNlfSx7InN0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjIsIm5hbWUiOiLpmo/mnLrmrYzmm7IiLCJjb2RlIjoibGV0IGdxID0gW11cblxuZnVuY3Rpb24gc2V0SGVhZChwaWMsIHRleHQsIGRlc2MsIHBsYXlVcmwpIHtcbiAgICBwdXRNeVZhcigndXJsJywgcGxheVVybCk7XG4gICAgdXBkYXRlSXRlbShcInNpbXBsZVBsYXllcjpwaWNcIiwge1xuICAgICAgICB0aXRsZTogdGV4dCB8fCAn6ZqP5py65q2M5puyJyxcbiAgICAgICAgcGljX3VybDogcGljIHx8IFwiaGlrZXI6Ly9pbWFnZXMvaG9tZV9waWM0XCIsXG4gICAgICAgIC8vdXJsOiBwaWMgfHwgXCJoaWtlcjovL2VtcHR5XCJcbiAgICB9KTtcblxufVxuZ3EucHVzaCh7XG4gICAgdGl0bGU6ICfpmo/mnLrmrYzmm7InLFxuICAgIHBpY191cmw6IFwiaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3JlLzEyOS5wbmdcIixcbiAgICBjb2xfdHlwZTogXCJpY29uX3JvdW5kXzRcIixcbiAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKHNldEhlYWQpID0+IHtcbiAgICAgICAgbGV0IEcgPSAkLnJlcXVpcmUoXCJodHRwczovL2hpa2VyZmFucy5jb20vd2Vpc3lyL2pzL0dsb2JhbFZhci5qc1wiKTtcbiAgICAgICAgbGV0IGF1ZGlvU2luZ2xlID0gRy5tb2R1bGVNeVZhcihcImF1ZGlvU2luZ2xlXCIsIFwiaHR0cHM6Ly9naXRjb2RlLm5ldC9saXV6YW95dWUvaGFpLy0vcmF3L21hc3Rlci9qZGJmLmpzXCIpOyAgICAgICAgXG4gICAgICAgIGxldCBtb2RlID0gZ2V0SXRlbShcIm1vZGVcIiwgXCLng63mrYzmppxcIik7XG4gICAgICAgIGxldCBtaWQgPSBnZXRJdGVtKFwibWlkXCIsIFwiXCIpO1xuICAgICAgICBsZXQgc29uZ0luZm8gPSB7fTtcbiAgICAgICAgbGV0IGlkID0gXCJcIjtcbiAgICAgICAgbGV0IGN1cmwgPSBcIlwiOyAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlBdWRpbyh1cmwsIGluZm8pIHtcbiAgICAgICAgICAgIGxldCBjaWQgPSBpZDtcbiAgICAgICAgICAgIGN1cmwgPSB1cmw7XG4gICAgICAgICAgIGF1ZGlvU2luZ2xlLnBsYXlOZXR3b3IodXJsLCB2b2lkIDAsICgpID0+IHtcbiBsb2coaW5mby5uYW1lKTsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRIZWFkKGluZm8ucGljdXJsLCBpbmZvLm5hbWUsIGluZm8uYXJ0aXN0c25hbWUsIHVybCk7XG4gICAgICAgICAgICAgICAgdG9hc3QoXCLmraPlnKjmkq3mlL7vvJpcIiArIGluZm8ubmFtZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRTb25nKCkge1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwi6Ieq5a6a5LmJ5q2M5Y2VSURcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1NpbmdsZS5nZXRSYW5kb21MaXN0U29uZyhtaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9TaW5nbGUuZ2V0UmFuZG9tU29uZyhtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgIGZ1bmN0aW9uIHBsYXlWaXAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goXCJodHRwczovL2FwaS54aW5nemhpZ2UuY29tL0FQSS9OZXRFYXNlX0Nsb3VkTXVzaWNfbmV3Lz9zb25naWQ9XCIgKyBpZCArIFwiJmJyPTJcIikpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5QXVkaW8oanNvbi5kYXRhLnNyYywgc29uZ0luZm8pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc29uZ0luZm8gPSBnZXRTb25nKCk7XG4gICAgICAgICAgICAgICAgaWQgPSBzb25nSW5mby5pZDtcbiAgICAgICAgICAgICAgICBhdWRpb1NpbmdsZS5pZCA9IHNvbmdJbmZvLmlkO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbShcIm1pZFwiKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJtb2RlXCIpO1xuICAgICAgICAgICAgICAgIHRvYXN0KGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxheUF1ZGlvKHNvbmdJbmZvLnVybCwgc29uZ0luZm8pO1xuICAgICAgICB9XG5pZiAoIWF1ZGlvU2luZ2xlLmhhc1BsYXllcigpKSB7ICAgICAgICAgXG4gICBhdWRpb1NpbmdsZS5zZXRDb21wbGV0aW9uTGlzdGVuZXIoKCkgPT4ge1xubG9nKGdldEl0ZW0oXCLlvqrnjq9cIiwgXCIwXCIpKTtcbiAgICAgICAgICAgIGlmIChnZXRJdGVtKFwi5b6q546vXCIsIFwiMFwiKSA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBwbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXlBdWRpbyhjdXJsLCBzb25nSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhdWRpb1NpbmdsZS5zZXRFcnJvckxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIC8vdG9hc3QoXCLmkq3mlL7lpLHotKXmraPlnKjph43mlrDpmo/mnLpcIik7XG4gICAgICAgICAgICBpZiAoIXBsYXlWaXAoKSkge1xuICAgICAgICAgICAgICAgIHBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXkoKTtcbiAgICAgICAgcmV0dXJuIFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICB9XG4gICAgIGlmIChhdWRpb1NpbmdsZS5oYXNQbGF5ZXIoKSkgeyAgICAgICAgICAgYXVkaW9TaW5nbGUuc3RhcnRPclBhdXNlKCk7XG4gICAgICAgIGlmIChhdWRpb1NpbmdsZS5pc1BsYXlpbmcoKSkgeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5pKt5pS+5bey5byA5aeLXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/mkq3mlL7lt7LlgZzmraJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSAgIFxuICAgICAgICAgICAgXG4gICAgICAgXG4gICAgfSwgc2V0SGVhZCksXG4gICAgZXh0cmE6IHtcbiAgICAgICAgaWQ6IFwic2ltcGxlUGxheWVyOnBpY1wiLFxuICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICB0aXRsZTogXCLkuIvkuIDmm7JcIixcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChzZXRIZWFkKSA9PiB7XG4gICAgICAgIGxldCBHID0gJC5yZXF1aXJlKFwiaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3dlaXN5ci9qcy9HbG9iYWxWYXIuanNcIik7XG4gICAgICAgIGxldCBhdWRpb1NpbmdsZSA9IEcubW9kdWxlTXlWYXIoXCJhdWRpb1NpbmdsZVwiLCBcImh0dHBzOi8vZ2l0Y29kZS5uZXQvbGl1emFveXVlL2hhaS8tL3Jhdy9tYXN0ZXIvamRiZi5qc1wiKTsgICAgICAgIFxuICAgICAgICBsZXQgbW9kZSA9IGdldEl0ZW0oXCJtb2RlXCIsIFwi54Ot5q2M5qacXCIpO1xuICAgICAgICBsZXQgbWlkID0gZ2V0SXRlbShcIm1pZFwiLCBcIlwiKTtcbiAgICAgICAgbGV0IHNvbmdJbmZvID0ge307XG4gICAgICAgIGxldCBpZCA9IFwiXCI7XG4gICAgICAgIGxldCBjdXJsID0gXCJcIjsgICAgICAgIFxuICAgICAgICBmdW5jdGlvbiBwbGF5QXVkaW8odXJsLCBpbmZvKSB7XG4gICAgICAgICAgICBsZXQgY2lkID0gaWQ7XG4gICAgICAgICAgICBjdXJsID0gdXJsO1xuICAgICAgICAgICBhdWRpb1NpbmdsZS5wbGF5TmV0d29yKHVybCwgdm9pZCAwLCAoKSA9PiB7XG4gbG9nKGluZm8ubmFtZSk7ICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2V0SGVhZChpbmZvLnBpY3VybCwgaW5mby5uYW1lLCBpbmZvLmFydGlzdHNuYW1lLCB1cmwpO1xuICAgICAgICAgICAgICAgIHRvYXN0KFwi5q2j5Zyo5pKt5pS+77yaXCIgKyBpbmZvLm5hbWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZ2V0U29uZygpIHtcbiAgICAgICAgICAgIGlmIChtb2RlID09PSBcIuiHquWumuS5ieatjOWNlUlEXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9TaW5nbGUuZ2V0UmFuZG9tTGlzdFNvbmcobWlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvU2luZ2xlLmdldFJhbmRvbVNvbmcobW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgICAgICBcbiAgICAgICAgXG4gICAgICAgICBmdW5jdGlvbiBwbGF5VmlwKCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKFwiaHR0cHM6Ly9hcGkueGluZ3poaWdlLmNvbS9BUEkvTmV0RWFzZV9DbG91ZE11c2ljX25ldy8/c29uZ2lkPVwiICsgaWQgKyBcIiZicj0yXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgcGxheUF1ZGlvKGpzb24uZGF0YS5zcmMsIHNvbmdJbmZvKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHNvbmdJbmZvID0gZ2V0U29uZygpO1xuICAgICAgICAgICAgICAgIGlkID0gc29uZ0luZm8uaWQ7XG4gICAgICAgICAgICAgICAgYXVkaW9TaW5nbGUuaWQgPSBzb25nSW5mby5pZDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJtaWRcIik7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwibW9kZVwiKTtcbiAgICAgICAgICAgICAgICB0b2FzdChlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsYXlBdWRpbyhzb25nSW5mby51cmwsIHNvbmdJbmZvKTtcbiAgICAgICAgfVxuYXVkaW9TaW5nbGUuc2V0Q29tcGxldGlvbkxpc3RlbmVyKCgpID0+IHsgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoZ2V0SXRlbShcIuW+queOr1wiLCBcIjBcIikgPT0gMCkge1xuXG4gICAgICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwbGF5QXVkaW8oY3VybCwgc29uZ0luZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYXVkaW9TaW5nbGUuc2V0RXJyb3JMaXN0ZW5lcigoKSA9PiB7XG4gICAgICAgICAgICAvL3RvYXN0KFwi5pKt5pS+5aSx6LSl5q2j5Zyo6YeN5paw6ZqP5py6XCIpO1xuICAgICAgICAgICAgaWYgKCFwbGF5VmlwKCkpIHtcbiAgICAgICAgICAgICAgICBwbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBwbGF5KCk7XG4gICAgICAgIHJldHVybiBcImhpa2VyOi8vZW1wdHlcIjtcbiAgICAgICAgICAgIH0sIHNldEhlYWQpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiBcIuS4i+i9vVwiLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsgZ2V0TXlWYXIoJ3VybCcsICcnKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIuatjOWNlVwiLFxuICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbXCLng63mrYzmppxcIiwgXCLmlrDmrYzmppxcIiwgXCLpo5nljYfmppxcIiwgXCLmipbpn7PmppxcIiwgXCLnlLXpn7PmppxcIiwgXCLoh6rlrprkuYnmrYzljZVJRFwiXTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChsaXN0LCAxLCAn6YCJ5oup5q2M5Y2VJywgZ2V0SXRlbSgnaScsICctMScpKS5zZWxlY3QoKGxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpID0gbGlzdC5pbmRleE9mKGlucHV0KSArICcnOyAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnaScsIGkpO1xuICAgICAgICAgICBcbiAgICAgICAgaWYgKGlucHV0ID09PSBcIuiHquWumuS5ieatjOWNlUlEXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJChnZXRJdGVtKFwibWlkXCIsIFwiXCIpKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNOYU4oTnVtYmVyKGlucHV0KSkpIHJldHVybiBcInRvYXN0Oi8vaWTkuLrlupTnuq/mlbDlrZdcIjtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcIm1pZFwiLCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJtb2RlXCIsIFwi6Ieq5a6a5LmJ5q2M5Y2VSURcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v6K6+572u5a6M5oiQ5YiH5o2i5LiL5LiA6aaW5Y2z5Y+vXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJtb2RlXCIsIGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v6K6+572u5a6M5oiQ5YiH5o2i5LiL5LiA6aaW5Y2z5Y+vXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sIGxpc3QpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogZ2V0SXRlbSgn5b6q546vJywgJzAnKSAgPT0gXCIwXCIgPyBcIumaj+acuuaSreaUvlwiIDogXCLljZXmm7Llvqrnjq9cIixcbiAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChnZXRJdGVtKCflvqrnjq8nLCAnMCcpID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+W+queOrycsICcxJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgn5Y2V5puy5b6q546vJylcbiAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+W+queOrycsICcwJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgn6ZqP5py65pKt5pS+Jyk7XG59ICAgICAgICAgICAgICAgICAgICBcbn0pXG59XVxuICAgIH1cbn0pO1xuZ3FcbiJ9LHsibmFtZSI6IumhuuaQnCIsIm1hcmsiOiLmtbfmiqUiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjIsIm5hbWUiOiLpobrmkJzlhYPntKAiLCJjb2RlIjoicmVxdWlyZSgnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3dlaXN5ci/pobrmkJxfaW50by5qcycpO1xu6aG65pCcKDI1MCkgLy/nu5nkuKrmjIflrprpq5jluqYifV0sImZvbGRfc3RhdHVzIjpmYWxzZSwicGF0dGVybiI6M30seyJuYW1lIjoi5aSp5rCUIiwibWFyayI6Iua1t+aKpSIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuWkqeawlOaSreaKpSIsImNvZGUiOiJsZXQgdHEgPSBbXTtcblxuQXJyYXkucHJvdG90eXBlLmxhc3QgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xufTtcblxuZnVuY3Rpb24gZ2V0Q2l0eSgpIHtcbiAgICBsZXQgdXJsID0gXCJodHRwczovL3d3dy5pcHNodWRpLmNvbS9cIjtcbiAgICBsZXQgaXAgPSBwZGZoKGZldGNoKHVybCksIFwiaW5wdXRbbmFtZT1pcF0mJnZhbHVlXCIpO1xuICAgIC8vbG9nKGlwKVxuICAgIGxldCBjaXR5ID0gcGRmaChmZXRjaCh1cmwgKyBpcCksIFwidGFibGUmJnRyOmhhcyg6bWF0Y2hlcyjlvZLlsZ7lnLApKSYmdGQsMSYmc3BhbiYmVGV4dFwiKTtcbiAgICAvL2xvZyhjaXR5KVxuICAgIHJldHVybiBjaXR5LnNwbGl0KFwiIFwiKS5sYXN0KCk7XG59XG5cbmZ1bmN0aW9uIHplcm8ocykge1xuICAgIHJldHVybiBzIDwgMTAgPyAnMCcgKyBzIDogcztcbn07XG5sZXQgbXlkYXRlID0gbmV3IERhdGUoKTtcbmxldCB5ZWFyID0gbXlkYXRlLmdldEZ1bGxZZWFyKCk7IC8v5bm0XG5sZXQgbW9udGggPSBteWRhdGUuZ2V0TW9udGgoKSArIDE7IC8v5pyIXG5sZXQgZGF0ZSA9IG15ZGF0ZS5nZXREYXRlKCk7IC8v5pelXG4vKmxldCBob3VyID0gbXlkYXRlLmdldEhvdXJzKCk7Ly/ml7ZcbmxldCBtaW51dGUgPSBteWRhdGUuZ2V0TWludXRlcygpOy8v5YiGXG5sZXQgc2Vjb25kID0gbXlkYXRlLmdldFNlY29uZHMoKTsvL+enkiovXG5sZXQgZGF5ID0gbmV3IEFycmF5KFwi5pif5pyf5pelXCIsIFwi5pif5pyf5LiAXCIsIFwi5pif5pyf5LqMXCIsIFwi5pif5pyf5LiJXCIsIFwi5pif5pyf5ZubXCIsIFwi5pif5pyf5LqUXCIsIFwi5pif5pyf5YWtXCIpW215ZGF0ZS5nZXREYXkoKV07XG5cbi8v5pel5Y6GXG52YXIgcmwgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vZmlsZS/ml6XljoYuanMnKTtcbnRyeSB7XG4gICAgdmFyIGNkX2ZpbGUgPSAkLnJlcXVpcmUocmwpLmRhdGU7XG59IGNhdGNoIChlKSB7XG4gICAgbGV0IGh0bWwgPSBmZXRjaCgnaHR0cHM6Ly9yYXcuZ2l0bWlycm9yLmNvbS9qbWVuZzEyMy9maWxlcy9tYWluL+aXpeWOhi5qcycpOyAgICBcbiAgICBzYXZlRmlsZShybCwgaHRtbCk7XG4gICAgICAgIHZhciBjZF9maWxlID0gJC5yZXF1aXJlKHJsKS5kYXRlO1xufVxubGV0IGNkID0gY2RfZmlsZTtcbmxldCBjaXR5aWQgPSBnZXRJdGVtKFwiY2l0eV9pZFwiLCBcIlwiKTtcbmlmIChjaXR5aWQgPT0gXCJcIikge1xuICAgIGNsZWFySXRlbSgn5Zyw5Yy6Jylcbn1cbnZhciDkvY3nva4gPSBcIlwiIHx8IGdldEl0ZW0oJ+WcsOWMuicsICcnKTtcbmlmICgh5L2N572uKSB7XG4gICAg5L2N572uID0gZ2V0Q2l0eSgpLnJlcGxhY2UoXCLluIJcIiwgXCJcIik7XG4gICAgc2V0SXRlbShcIuWcsOWMulwiLCDkvY3nva4pO1xufVxuXG5sZXQgSUQgPSBnZXRJdGVtKCfmkq3miqXlkZgnLCAnMicpO1xuXG5sZXQg5paH5a2X5aSp5rCUID0gZ2V0SXRlbSgn5byA5YWzJywgJ+W8gOWQrycpO1xudmFyIHRxX2ltZyA9IGdldEl0ZW0oXCJ0cV9pbWdcIiwgXCJcIik7XG4vL+WbvueJh1xudmFyIGdpZiA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvZ2lmLmpzb24nKTtcbmlmICghZmlsZUV4aXN0KGdpZikpIHtcbiAgICBzYXZlRmlsZShnaWYsICdbXCJodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvelV6Q3kuZ2lmXCIsXCJodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvelVhYWkuZ2lmXCIsXCJodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvelV2dTEuZ2lmXCIsXCJodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvYUxodTIuZ2lmXCJdJyk7XG59XG5sZXQgZl9pZCA9IGdldEl0ZW0oJ0pzX2prJywgJ2RvbmdtYW4nKTtcbnZhciBkaXpoaSA9IGdldEl0ZW0oJ2RpJywgJ2hpa2VyOi8vZmlsZXMvSm0vcG5nLycgKyBmX2lkICsgJy5qc29uJyk7XG5pZiAoIWZpbGVFeGlzdChkaXpoaSkpIHtcbiAgICBzYXZlRmlsZShkaXpoaSwgJ1tdJyk7XG59XG5ldmFsKCdsaXN0PScgKyBmZXRjaChkaXpoaSkpO1xudmFyIFBpYyA9IGdldEl0ZW0oJ1BpYycsICdsaXN0Jyk7XG5sZXQgaW1nbGlzdCA9IGxpc3Q7XG5sZXQgbWF4ID0gaW1nbGlzdC5sZW5ndGggLSAxO1xubGV0IG1pbiA9IDA7XG5sZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbnZhciBzaG93SW1nID0gaW1nbGlzdFtudW1dO1xudmFyIGltYWdlID0gZ2V0SXRlbSgnZnMnLCAnaW1nJyk7XG52YXIgaHRtbCA9IGdldEl0ZW0oJ2h0bWwnLCAnaHR0cHM6Ly93d3cueXVhbnhpYXBpLmNuL2FwaS9pbWcvP3R5cGU9bWVpbnYmZm9ybWF0PWltZycpO1xuLy9sb2coaW1nbGlzdClcblxudmFyIHVybCA9IFwiXCI7XG5pZiAodHFfaW1nID09IFwiXCIpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAoaW1hZ2UgPT0gJ2ltZycpIHtcbiAgICAgICAgICAgIHVybCA9IChodG1sICsgJyMnICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGltYWdlID09ICd1cmwnKSB7XG4gICAgICAgICAgICB1cmwgPSBmZXRjaChodG1sKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhdGggPSBcIi5kYXRhLmltZ1wiO1xuICAgICAgICAgICAgaWYgKGh0bWwuaW5jbHVkZXMoXCJAQFwiKSkge1xuICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gaHRtbC5zcGxpdChcIkBAXCIpO1xuICAgICAgICAgICAgICAgIGh0bWwgPSB0ZW1wWzBdO1xuICAgICAgICAgICAgICAgIHBhdGggPSB0ZW1wWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9sb2cocGF0aClcbiAgICAgICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKGh0bWwpKTtcbiAgICAgICAgICAgIGV2YWwoXCJ1cmw9anNvblwiICsgcGF0aCk7XG4gICAgICAgICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoXCIvL1wiKSkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiaHR0cHM6XCIgKyB1cmw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL2xvZyh1cmwpXG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGxvZyhlLm1lc3NhZ2UpXG4gICAgICAgIGxvZyhcIuaKpemUmVwiKVxuICAgICAgICBjbGVhckl0ZW0oXCJmc1wiKTtcbiAgICAgICAgY2xlYXJJdGVtKFwiaHRtbFwiKTtcbiAgICB9XG59XG5sZXQgaW1ncyA9IGdldEl0ZW0oJ2ltZycsIHVybCArICcjLmpwZycpO1xudmFyIGltZyA9IChQaWMgPT0gJ2xpc3QnKSA/IGltZ3MgOiAoc2hvd0ltZyA9PSBudWxsID8gaW1ncyA6IHNob3dJbWcpO1xuXG52YXIgd3BhdGggPSBcImhpa2VyOi8vZmlsZXMvY2FjaGUvd2VhdGhlci5qc29uXCI7XG52YXIgdXBkYXRhID0ge1xuICAgIOWkqTogMCxcbiAgICDml7Y6IDEsXG4gICAg5YiGOiAwLFxufVxudmFyIHVwZGF0YXRpbWUgPSAodXBkYXRhLuWkqSAqIDg2NDAwMDAwKSArICh1cGRhdGEu5pe2ICogMzYwMDAwMCkgKyAodXBkYXRhLuWIhiAqIDYwMDAwKTtcblxudmFyIGNvbmQgPSBmYWxzZTtcbmxldCB3cGpzb24gPSByZWFkRmlsZSh3cGF0aCk7XG5pZiAod3Bqc29uICE9IFwiXCIpIHtcbiAgICB3cGpzb24gPSBKU09OLnBhcnNlKHdwanNvbik7XG4gICAgaWYgKG5ldyBEYXRlKCkuZ2V0VGltZSgpID4gd3Bqc29uW1wibmV4dFVwZGF0ZVRpbWVcIl0pIHtcbiAgICAgICAgY29uZCA9IHRydWU7XG4gICAgfVxuICAgIC8qaWYo5L2N572uIT13cGpzb25bJ2NpdHknXSl7XG4gICAgIGNvbmQ9dHJ1ZTtcbiAgICB9Ki9cbn1cbi8vbG9nKOS9jee9rilcblxuZnVuY3Rpb24gY29sb3JUaXRsZSh0aXRsZSwgY29sb3JzKSB7XG4gICAgdmFyIGRlZiA9IHtcbiAgICAgICAgZmM6ICcjZmZmZmZmJyxcbiAgICAgICAgYmM6ICcjM0Y4RUQwJyxcbiAgICB9XG4gICAgY29sb3JzID0gT2JqZWN0LmFzc2lnbihkZWYsIGNvbG9ycyk7XG4gICAgcmV0dXJuICc8Zm9udCBjb2xvcj1cIicgKyBjb2xvcnMuZmMgKyAnXCI+PHNwYW4gc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiAnICsgY29sb3JzLmJjICsgJ1wiPicgKyB0aXRsZSArICc8L3NwYW4+PC9mb250Pidcbn1cblxuZnVuY3Rpb24gZGF0ZUZvcm1hdCh0aW1lKSB7XG4gICAgbGV0IHRleHQgPSAneXl5eS1NTS1kZCBISDptbTpzcyc7XG4gICAgcmV0dXJuICQuZGF0ZUZvcm1hdCh0aW1lLCB0ZXh0KVxufVxuXG5mdW5jdGlvbiByZXBlYXRTdHJpbmcoc3RyLCBudW0pIHtcbiAgICByZXR1cm4gc3RyLnJlcGVhdChudW0pO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlV2l0aFBhdHRlcm5zKHRleHQsIHBhdHRlcm5MaXN0LCByZXBsYWNlbWVudExpc3QpIHtcbiAgICBsZXQgcmVwbGFjZWRUZXh0ID0gdGV4dDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdHRlcm5MaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXR0ZXJuID0gcGF0dGVybkxpc3RbaV07XG4gICAgICAgIGlmIChwYXR0ZXJuLmluY2x1ZGVzKFwiOjpcIikpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wID0gcGF0dGVybi5zcGxpdChcIjo6XCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gbmV3IFJlZ0V4cCh0ZW1wWzBdLCB0ZW1wWzFdKTtcbiAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKHRlbXBbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50TGlzdFtpXTtcbiAgICAgICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsgLy8g5aaC5p6c5YiX6KGo6aG55piv5q2j5YiZ6KGo6L6+5byPXG4gICAgICAgICAgICAvL2xvZyhcIuato+WImVwiKVxuICAgICAgICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZW1lbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykgeyAvLyDlpoLmnpzliJfooajpobnmmK/mlofmnKzlrZfnrKbkuLJcbiAgICAgICAgICAgIHZhciByZWdleFBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgICAgICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UocmVnZXhQYXR0ZXJuLCByZXBsYWNlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcGxhY2VkVGV4dDtcbn1cblxuXG52YXIgdHFfc2ltcGxlID0gZ2V0SXRlbShcInRxX3NpbXBsZVwiLCBcIjBcIikgPT0gXCIwXCIgPyBmYWxzZSA6IHRydWU7XG5cbmZ1bmN0aW9uIGdldHFpbWFnZSgpIHtcbiAgICB2YXIgaW1nID0gXCJcIjtcbiAgICBpZiAodHFfc2ltcGxlKSB7XG4gICAgICAgIHZhciB0aHRtbCA9IGZldGNoKFwiaHR0cHM6Ly90aWFucWkubW9qaS5jb20vXCIgKyAoY2l0eWlkICE9IFwiXCIgPyBcImFwaS9yZWRpcmVjdC9cIiArIGNpdHlpZCA6IFwiXCIpLCB7fSlcbiAgICAgICAgLy9sb2codGh0bWwpXG4gICAgICAgIGltZyA9IHBkZmgodGh0bWwsIFwiLndlYV93ZWF0aGVyJiZpbWcmJnNyY1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIGltZztcbn1cblxuXG5pZiAoY2l0eWlkID09IFwiXCIpIHtcbiAgICB2YXIgaXRlbSA9IEpTT04ucGFyc2UocG9zdChcImh0dHBzOi8vc3NjaC5hcGkubW9qaS5jb20vY2l0eW1hbmFnZS9qc29uL2g1L3NlYXJjaENpdHlcIiwge1xuICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICBrZXlXb3JkOiDkvY3nva4sXG4gICAgICAgIH1cbiAgICB9KSkuY2l0eV9saXN0WzBdO1xuICAgIC8vbG9nKGl0ZW0pXG4gICAgLy9zZXRJdGVtKFwiY2l0eVwiLGl0ZW0ubmFtZSk7XG4gICAgY2l0eWlkID0gaXRlbS5jaXR5SWQ7XG4gICAgc2V0SXRlbShcImNpdHlfaWRcIiwgU3RyaW5nKGl0ZW0uY2l0eUlkKSk7XG59XG5pZiAod3Bqc29uLmNpdHlpZCA9PSB1bmRlZmluZWQpIHtcbiAgICBjb25kID0gdHJ1ZTtcbn1cbmlmICh3cGpzb24uY2l0eWlkICE9IGNpdHlpZCkge1xuICAgIGNvbmQgPSB0cnVlO1xufVxuXG4vL2xvZyhjaXR5aWQpXG5pZiAod3Bqc29uID09IFwiXCIgfHwgY29uZCkge1xuICAgIC8vbG9nKFwi5aSp5rCU57yT5a2Y57yT5a2YIOW9k+WJjVwiICsgSlNPTi5zdHJpbmdpZnkodXBkYXRhKSArICfmm7TmlrDkuIDmrKEsJyArIGRhdGVGb3JtYXQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdXBkYXRhdGltZSkpKTtcbiAgICAvL3dwanNvbj1KU09OLnBhcnNlKGZldGNoKFwiaHR0cDovL2F1dG9kZXYub3BlbnNwZWVjaC5jbi9jc3AvYXBpL3YyLjEvd2VhdGhlcj9vcGVuSWQ9YWl1aWN1cyZjbGllbnRUeXBlPWFuZHJvaWQmc2lnbj1hbmRyb2lkJmNpdHk9XCIr5L2N572uK1wiJm5lZWRNb3JlRGF0YT10cnVlJnBhZ2VObz0xJnBhZ2VTaXplPTFcIikpLmRhdGEubGlzdFswXTtcbiAgICB2YXIgaCA9IGZldGNoKFwiaHR0cHM6Ly9tLm1vamkuY29tL1wiICsgKGNpdHlpZCAhPSBcIlwiID8gXCJhcGkvcmVkaXJlY3QvXCIgKyBjaXR5aWQgOiBcIlwiKSwge30pO1xuXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHdhcnRleHQgPSBbXTtcbiAgICAgICAgdmFyIHdhcm5pbmcgPSBwZGZhKGgsIFwiLmluZm9fYXFpJiZsaTpub3QoOmhhcyhbYWx0PWFxaV0pKVwiKS5tYXAoeCA9PiBwZGZoKHgsIFwiVGV4dFwiKSkubWFwKCh4KSA9PiB7XG4gICAgICAgICAgICB2YXIgdGV4dCA9IHguc3BsaXQoXCIgXCIpWzBdO1xuICAgICAgICAgICAgdmFyIGNvbG9yID0geC5zcGxpdChcIiBcIilbMV0ucmVwbGFjZShcIuiJslwiLCBcIlwiKTtcbiAgICAgICAgICAgIHN3aXRjaCAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwi6JOdXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjNEQ3RUY4XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCLpu4RcIjpcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcIiNGRkVEMkRcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIuapmVwiOlxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiI0Y3OEUxQlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwi57qiXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjRjU0QjQ2XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjRkZGRkZGXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3YXJ0ZXh0LnB1c2goeCk7XG4gICAgICAgICAgICByZXR1cm4gY29sb3JUaXRsZSh0ZXh0LCB7XG4gICAgICAgICAgICAgICAgYmM6IGNvbG9yXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgICAgd3Bqc29uID0ge1xuICAgICAgICAgICAgY2l0eWlkOiBjaXR5aWQsXG4gICAgICAgICAgICBpbWc6IGdldHFpbWFnZSgpLFxuICAgICAgICAgICAgY2l0eTogcGRmaChoLCBcIi5jaXR5JiZUZXh0XCIpLFxuICAgICAgICAgICAgd2VhdGhlcjogcGRmaChoLCBcIiNpbmZvX3dlYSYmVGV4dFwiKSxcbiAgICAgICAgICAgIHRlbXA6IHBkZmgoaCwgXCIuaW5mb19hYm91dCYmZW0mJlRleHRcIiksXG4gICAgICAgICAgICBhaXJRdWFsaXR5OiBwZGZoKGgsIFwiLmluZm9fYXFpJiZsaTpoYXMoW2FsdD1hcWldKSYmVGV4dFwiKSxcbiAgICAgICAgICAgIHdpbmQ6IHBkZmgoaCwgXCIuaW5mb19hYm91dCYmcCYmVGV4dFwiKSxcbiAgICAgICAgICAgIHdhcm5pbmc6IHdhcm5pbmcsXG4gICAgICAgICAgICB3YXJ0ZXh0OiB3YXJ0ZXh0LFxuICAgICAgICB9XG4gICAgICAgIC8vbG9nKFwi5q2j5bi4XCIpXG4gICAgfSBjYXRjaCB7fVxuXG4gICAgd3Bqc29uW1wibmV4dFVwZGF0ZVRpbWVcIl0gPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgKyB1cGRhdGF0aW1lKS50b1N0cmluZygpO1xuICAgIHdwanNvbltcIm5leHRVcGRhdGVUZXh0XCJdID0gZGF0ZUZvcm1hdCgobmV3IERhdGUoKS5nZXRUaW1lKCkgKyB1cGRhdGF0aW1lKSk7XG4gICAgd3JpdGVGaWxlKHdwYXRoLCBKU09OLnN0cmluZ2lmeSh3cGpzb24pKTtcbn1cbmlmICgoIXdwanNvbi5oYXNPd25Qcm9wZXJ0eShcImltZ1wiKSB8fCB3cGpzb25bXCJpbWdcIl0gPT0gXCJcIikgJiYgdHFfaW1nID09IFwic2ltcGxlXCIpIHtcbiAgICB3cGpzb24uaW1nID0gZ2V0cWltYWdlKCk7XG4gICAgd3JpdGVGaWxlKHdwYXRoLCBKU09OLnN0cmluZ2lmeSh3cGpzb24pKTtcbn1cblxuLy9sb2cod3Bqc29uKVxuXG5sZXQgd2FybGluZSA9IGdldEl0ZW0oXCJ3YXJsaW5lXCIsIFwiNzowXCIpO1xudmFyIOminOiJsiA9IGdldEl0ZW0oJ+aWh+WtlycsICcjZmQyNjhhJyk7XG5cbnZhciB3ZWF0aGVyID0ge1xuICAgIGNpdHk6IHdwanNvbi5jaXR5LFxuICAgIGNvbmQ6IHdwanNvbi53ZWF0aGVyLFxuICAgIHRtcDogd3Bqc29uLnRlbXAsXG4gICAgYWlycXVhbGl0eTogd3Bqc29uLmFpclF1YWxpdHksXG4gICAgd2luZDogd3Bqc29uLndpbmQsXG4gICAgd2FybmluZzogd3Bqc29uLndhcm5pbmcubGVuZ3RoID8gXCLlvZPliY3pooToraY6IFwiLmZvbnRjb2xvcijpopzoibIpICsgd3Bqc29uLndhcm5pbmcuam9pbihcIiBcIikgKyBcIlwiIDogXCJcIixcbiAgICB3YXJ0ZXh0OiB3cGpzb24ud2FydGV4dC5sZW5ndGggPyBcIuW9k+WJjemihOitpjogXCIgKyB3cGpzb24ud2FydGV4dC5qb2luKFwiIFwiKSA6IFwiXCIsXG59XG5cbndhcmxpbmUgPSB3YXJsaW5lLnNwbGl0KFwiOlwiKTtcblxudmFyIGZydWl0ID0gW1wi5Zyw5Yy6XCIsIFwi5aSp5rCUXCIsIFwi5rip5bqmXCIsIFwiQVFJXCIsIFwi5pel5pyfXCIsIFwi5Yac5Y6GXCIsIFwi6aOO5ZCRXCIsIFwi6aKE6K2mXCJdO1xudmFyIHRxX3Nob3dzID0gc3RvcmFnZTAuZ2V0SXRlbShcInRxX3Nob3dzXCIsIGZydWl0Lm1hcCgoKSA9PiBcIjFcIikpO1xuXG5cbnZhciB0cV9yZSA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9yZVwiLCBbXSk7XG5cbmxldCB0aXRsZXMgPSBbXG4gICAgJzxmb250IGNvbG9yPScgKyDpopzoibIgKyAnPicgKyB3ZWF0aGVyLmNpdHkgKyAnPC9mb250PicsXG4gICAgJzxzbWFsbD48Zm9udCBjb2xvcj0nICsg6aKc6ImyICsgJz7ku4rml6XlpKnmsJQ6ICgnICsgd2VhdGhlci5jb25kICsgJyk8L2ZvbnQ+JyxcbiAgICAnPGZvbnQgY29sb3I9JyArIOminOiJsiArICc+5rip5bqmOiAoJyArIHdlYXRoZXIudG1wICsgJ+KEgyk8L2ZvbnQ+JywgJzxmb250IGNvbG9yPScgKyDpopzoibIgKyAnPuepuuawlOi0qOmHjzogKCcgKyB3ZWF0aGVyLmFpcnF1YWxpdHkgKyAnKTwvZm9udD4nLFxuICAgICc8Zm9udCBjb2xvcj0nICsg6aKc6ImyICsgJz7ml6XmnJ86ICcgKyB5ZWFyICsgJ+W5tCcgKyB6ZXJvKG1vbnRoKSArICfmnIgnICsgemVybyhkYXRlKSArICfml6U8L2ZvbnQ+JyxcbiAgICAnPGZvbnQgY29sb3I9JyArIOminOiJsiArICc+5Yac5Y6GOiAnICsgY2QgKyAnXFx0ICcgKyBkYXkgKyAnPC9mb250PicsXG4gICAgJzxmb250IGNvbG9yPScgKyDpopzoibIgKyAnPumjjuWQkTogJyArIHdlYXRoZXIud2luZCArICc8L2ZvbnQ+PHNtYWxsPicsXG5dO1xuXG5cbmxldCB3YXJuaW5nID0gcmVwZWF0U3RyaW5nKFwiXFx0XCIsIHdhcmxpbmVbMV0pICsgd2VhdGhlci53YXJuaW5nO1xuXG52YXIgdHFfdGl0bGVzID0gT2JqZWN0LmFzc2lnbihbXSwgdGl0bGVzKVxuaWYgKHdlYXRoZXIud2FybmluZyAhPSBcIlwiKSB7XG4gICAgdHFfdGl0bGVzLnB1c2god2VhdGhlci53YXJuaW5nKVxufVxuc3RvcmFnZTAucHV0TXlWYXIoXCJ0cV90aXRsZXNcIiwgdHFfdGl0bGVzKTtcblxuaWYgKE9iamVjdC5rZXlzKHRxX3JlKS5sZW5ndGggPiAwKSB7XG4gICAgZnVuY3Rpb24gdHJlcGxhY2VBTEwodGl0bGUsIHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICB9XG4gICAgICAgIHRpdGxlID0gcmVwbGFjZVdpdGhQYXR0ZXJucyh0aXRsZSwgcGFyYW1zW1wicmVnZXhcIl0sIHBhcmFtc1tcInJlcGxhY2VcIl0pO1xuICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgfVxuICAgIGZydWl0LmZpbHRlcih4ID0+IHggIT0gXCLpooToraZcIikuZm9yRWFjaCgoeCwgaSkgPT4ge1xuICAgICAgICB0aXRsZXNbaV0gPSB0cmVwbGFjZUFMTCh0aXRsZXNbaV0sIHRxX3JlW3hdKVxuICAgIH0pXG4gICAgd2FybmluZyA9IHRyZXBsYWNlQUxMKHdhcm5pbmcsIHRxX3JlW1wi6aKE6K2mXCJdKVxufVxuXG50aXRsZXMgPSB0aXRsZXMubWFwKGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4KSB7XG4gICAgcmV0dXJuIHRxX3Nob3dzW2luZGV4XSA9PSBcIjFcIiA/IHRpdGxlc1tpbmRleF0gOiBcIlwiO1xufSk7XG5cblxuaWYgKHdhcm5pbmcgIT0gXCJcIiAmJiB0cV9zaG93c1s3XSA9PSBcIjFcIikge1xuICAgIHZhciBsZSA9IHRpdGxlcy5maWx0ZXIoeCA9PiB4ICE9IFwiXCIpLmxlbmd0aDtcbiAgICAvL2xvZyhsZSlcbiAgICBpZiAod2FybGluZVswXSA9PSBcIjdcIikge1xuICAgICAgICBpZiAobGUgPT0gd2FybGluZVswXSkge1xuICAgICAgICAgICAgdGl0bGVzW2xlXSA9IHdhcm5pbmcgKyAnPC9zbWFsbD4nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVzW3dhcmxpbmVbMF1dID0gd2FybmluZztcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBzcyA9IFwiXCI7XG4gICAgICAgIGxldCBlbiA9IFwiXCI7XG4gICAgICAgIGlmICh3YXJsaW5lWzBdID09IFwiNlwiICYmIHRxX3Nob3dzWzZdID09IFwiMVwiKSB7XG4gICAgICAgICAgICBbc3MsIGVuZF0gPSBbXCJcIiwgXCI8L3NtYWxsPlwiXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGl0bGVzLmxlbmd0aCA8IHdhcmxpbmVbMF0pIHtcbiAgICAgICAgICAgIHRpdGxlc1t0aXRsZXMubGVuZ3RoXSA9IHdhcm5pbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZXNbd2FybGluZVswXV0gPSAodGl0bGVzW3dhcmxpbmVbMF1dICE9IHVuZGVmaW5lZCA/IHRpdGxlc1t3YXJsaW5lWzBdXSA6IFwiXCIpICsgc3MgKyB3YXJuaW5nICsgZW47XG4gICAgICAgIH1cbiAgICB9XG59XG4vL2xvZyh0aXRsZXMuam9pbihcIlxcblwiKSlcbi8vbG9nKHdlYXRoZXIpXG5cbnZhciB0aXRsZSA9ICfigJzigJzigJ3igJ0nICsgdGl0bGVzLmZpbHRlcih4ID0+IHggIT0gXCJcIikuam9pbihcIlxcblwiKTtcbi8vbG9nKHRpdGxlcylcblxudmFyIG9ubHlfeDUgPSBnZXRJdGVtKFwib25seXg1XCIsIFwiMFwiKSA9PSBcIjBcIiA/IHRydWUgOiBmYWxzZTtcblxuZnVuY3Rpb24gbGF6eVIod2VhdGhlciwgbW9kZSkge1xuICAgIHZhciB0eHQgPSAod2VhdGhlci5jaXR5ICsgJ++8jOS7iuWkqScgKyB3ZWF0aGVyLmNvbmQgKyAn77yM5rip5bqmJyArIHdlYXRoZXIudG1wICsgJ++8jOepuuawlOi0qOmHjycgKyB3ZWF0aGVyLmFpcnF1YWxpdHkgKyAn77yMJyArIHdlYXRoZXIud2luZC5yZXBsYWNlKC8lLywgXCJcIikpICsgJ++8jCcgKyB3ZWF0aGVyLndhcnRleHQ7XG4gICAgLy9sb2codHh0KVxuICAgIGZ1bmN0aW9uIHBsYXlBdWRpbyh1cmwpIHtcbiAgICAgICAgY29uc3QgTWVkaWFQbGF5ZXIgPSBhbmRyb2lkLm1lZGlhLk1lZGlhUGxheWVyO1xuICAgICAgICBsZXQgbWVkaWFQbGF5ZXIgPSBuZXcgTWVkaWFQbGF5ZXIoKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIG1lZGlhUGxheWVyLnNldERhdGFTb3VyY2UodXJsKTtcbiAgICAgICAgICAgIG1lZGlhUGxheWVyLnByZXBhcmVBc3luYygpO1xuICAgICAgICAgICAgbWVkaWFQbGF5ZXIuc2V0T25QcmVwYXJlZExpc3RlbmVyKG5ldyBNZWRpYVBsYXllci5PblByZXBhcmVkTGlzdGVuZXIoe1xuICAgICAgICAgICAgICAgIG9uUHJlcGFyZWQobXApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFQbGF5ZXIuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBtZWRpYVBsYXllci5zZXRPbkNvbXBsZXRpb25MaXN0ZW5lcihuZXcgTWVkaWFQbGF5ZXIuT25Db21wbGV0aW9uTGlzdGVuZXIoe1xuICAgICAgICAgICAgICAgIG9uQ29tcGxldGlvbihtcCkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYVBsYXllci5yZWxlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhUGxheWVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG1lZGlhUGxheWVyLnJlbGVhc2UoKTtcbiAgICAgICAgICAgIG1lZGlhUGxheWVyID0gbnVsbDtcbiAgICAgICAgICAgIGxvZyhlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8v55u05o6l5pKt5pS+572R57uc6KeG6aKR6ZO+5o6l77yM5pyJ5Y+v6IO95pKt5pS+5aSx6LSl6L+Y5rKh5pyJ57yT5a2Y77yM6L+Y5piv5LiL6L295LiA5LiL5q+U6L6D56iz5aalXG4gICAgZnVuY3Rpb24gcGxheU5ldHdvckF1ZGlvKHVybCkge1xuICAgICAgICBsZXQgcGF0aCA9IFwiaGlrZXI6Ly9maWxlcy9fY2FjaGUvXCIgKyBtZDUodXJsKTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICByZXF1aXJlRG93bmxvYWQodXJsLCBwYXRoKTtcbiAgICAgICAgICAgIHBsYXlBdWRpbyhnZXRQYXRoKHBhdGgpLnNsaWNlKDcpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8veGlhb2FwaS5jbi9BUEkvenNfdHRzLnBocD90eXBlPXh1bmZlaSZpZD0nICsgZ2V0SXRlbSgn5pKt5oql5ZGYJykgKyAnJm1zZz0nICsgdHh0KSkudHRzO1xuICAgIGxldCBkID0gW107XG4gICAgZC5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHR4dCxcbiAgICAgICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLFxuICAgIH0pXG4gICAgZC5wdXNoKHtcbiAgICAgICAgY29sX3R5cGU6IFwieDVfd2Vidmlld19zaW5nbGVcIixcbiAgICAgICAgZGVzYzogXCIwXCIsXG4gICAgICAgIHVybDogdXJsLFxuICAgICAgICBleHRyYToge1xuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGZiYS5sb2coXCJhYVwiKVxuICAgICAgICAgICAgICAgIGxldCBhdWRpbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2F1ZGlvW2NvbnRyb2xzXVthdXRvcGxheV1bbmFtZT1cIm1lZGlhXCJdJyk7XG4gICAgICAgICAgICAgICAgYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+mfs+mikeaSreaUvuWujOaIkCcpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgciA9ICQkJCgpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVmcmVzaFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucGFyc2VMYXp5UnVsZShyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9KVxuXG4gICAgaWYgKG1vZGUgPT0gXCJsYXp5XCIpIHtcbiAgICAgICAgLy9sb2codXJsKVxuICAgICAgICBsZXQge1xuICAgICAgICAgICAgR01cbiAgICAgICAgfSA9ICQucmVxdWlyZShcImh0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20vam1lbmcxMjMvZmlsZXMvbWFpbi9HbG9iYWxWYXJWMy5qc1wiKVxuICAgICAgICBsZXQgYXVkaW9TaW5nbGUgPSBHTS5kZWZpbmVNb2R1bGUoXCJhdWRpb1NpbmdsZVwiLCBcImF1ZGlvP3J1bGU9566A5piT5pKt5pS+5ZmoXCIpO1xuICAgICAgICBpZiAoIWF1ZGlvU2luZ2xlLmhhc1BsYXllcigpIHx8IGF1ZGlvU2luZ2xlLmdldExvY2FsVXJsKHVybCkgIT09IGF1ZGlvU2luZ2xlLmdldEN1cnJlbnRVcmwoKSkge1xuICAgICAgICAgICAgYXVkaW9TaW5nbGUucGxheU5ldHdvcih1cmwpO1xuICAgICAgICAgICAgLy9yZXR1cm4gXCJ0b2FzdDovL+W8gOWni+aSreaUvlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdWRpb1NpbmdsZS5oYXNQbGF5ZXIoKSkge1xuICAgICAgICAgICAgLy9hdWRpb1NpbmdsZS5zdGFydE9yUGF1c2UoKTtcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mraPlnKjmkq3mlL4nO1xuICAgICAgICB9XG4gICAgICAgIC8vcGxheU5ldHdvckF1ZGlvKHVybCk7XG5cbiAgICAgICAgLy9yZXR1cm4gJ3RvYXN0Oi8v5q2j5Zyo5pKt5oql5aSp5rCUJ1xuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArIHR4dDtcbiAgICB9XG4gICAgcmV0dXJuIHNldFJlc3VsdChkKVxufVxudXJsID0gJCgnaGlrZXI6Ly9lbXB0eSNub0xvYWRpbmcjJykubGF6eVJ1bGUobGF6eVIsIHdlYXRoZXIsIFwibGF6eVwiKTtcblxudmFyIHRxX2NvbCA9IGdldEl0ZW0oXCJ0cV9jb2xcIiwgXCJjYXJkX3BpY18xXCIpO1xuLy9sb2codHFfY29sKVxuaWYgKHRxX2ltZyAhPSBcIlwiKSB7XG4gICAgaWYgKHRxX2ltZy5pbmNsdWRlcyhcIkBAXCIpKSB7XG4gICAgICAgIHZhciB0ZW1wID0gdHFfaW1nLnNwbGl0KFwiQEBcIik7XG4gICAgICAgIHRoID0gZmV0Y2godGVtcFswXSk7XG4gICAgICAgIHRxX2ltZyA9IHBkZmgodGgsIHRlbXBbMV0pO1xuICAgIH1cbiAgICBpbWcgPSB0cV9pbWc7XG59XG5cbmlmIChbXCJ0ZXh0X2ljb25cIiwgXCJhdmF0YXJcIl0uaW5jbHVkZXModHFfY29sKSkge1xuICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZSgn4oCc4oCc4oCd4oCdJywgXCJcIik7XG59XG5pZiAodHFfc2ltcGxlICYmIHdwanNvbltcImltZ1wiXSkge1xuICAgIGltZyA9IHdwanNvbltcImltZ1wiXTtcbn1cblxudHEucHVzaCh7XG4gICAgY29sX3R5cGU6IHRxX2NvbCxcbiAgICB0aXRsZTog5paH5a2X5aSp5rCUID09ICflvIDlkK8nID8gdGl0bGUgOiAnJyxcbiAgICBkZXNjOiB0cV9jb2wuaW5jbHVkZXMoXCJjYXJkXCIpID8gXCIwXCIgOiBcIlwiLFxuICAgIGltZzogaW1nLFxuICAgIHVybDogdXJsLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIC8vbmV3V2luZG93OnRydWUsXG4gICAgICAgIGlkOiBcIuS4u+mhteWFg+e0oCPlpKnmsJTmkq3miqVcIixcbiAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLFxuICAgICAgICBwYWdlVGl0bGU6ICflpKnmsJTmkq3miqUnLFxuICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICB0aXRsZTogJ/CflJbmloflrZc6XFx0JyArIChnZXRJdGVtKCflvIDlhbMnLCAn5byA5ZCvJykgPT0gJ+W8gOWQrycgPyAn5byAJyA6ICflhbMnKSxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCflvIDlhbMnLCBnZXRJdGVtKCflvIDlhbMnLCAn5byA5ZCvJykgPT0gJ+W8gOWQrycgPyAn5YWz6ZetJyA6ICflvIDlkK8nKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9hc3QoJ+WkqeawlOaWh+Wtl+W3sicgKyAoZ2V0SXRlbSgn5byA5YWzJywgJ+W8gOWQrycpID09ICflvIDlkK8nID8gJ+aJk+W8gCcgOiAn5YWz6ZetJykpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+UhOWIh+aNoicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoWyflpKnmsJTkvY3nva4nLCAn5aSp5rCU5pKt5oqlJywgJ+WbvueJh+aOpeWPoycsICfmloflrZfpopzoibInLCAn5pys5Zyw6ZqP5py6JywgXCLpooTorabmiYDlnKjooYxcIiwgXCLmjInpkq7moLflvI9cIiwgXCLpgInmi6nmmL7npLpcIiwgXCLmnoHnroDmqKHlvI86XCIgKyAoZ2V0SXRlbShcInRxX3NpbXBsZVwiLCBcIjBcIikgPT0gXCIwXCIgPyBcIuWFs1wiIDogXCLlvIBcIiksIFwi5paH5pys5pu/5o2iXCIsIFwi6YeN572u6K6+5a6aXCJdLCAyLCAn6K+36YCJ5oupJykuc2VsZWN0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoaWtlclBvcCA9ICQucmVxdWlyZShcImh0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20vam1lbmcxMjMvZmlsZXMvbWFpbi9oaWtlclBvcC5qc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICflpKnmsJTkvY3nva4nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+aDs+imgeabtOaNoueahOWcsOWMuuS9jee9ru+8jOepuuWImeaMieWumuS9jScpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NldEl0ZW0oJ+WcsOWMuicsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwiY2l0eV9pZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5oyJ5a6a5L2NJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNpdHlsaXN0ID0gSlNPTi5wYXJzZShwb3N0KFwiaHR0cHM6Ly9zc2NoLmFwaS5tb2ppLmNvbS9jaXR5bWFuYWdlL2pzb24vaDUvc2VhcmNoQ2l0eVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVdvcmQ6IGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmNpdHlfbGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvZyhjaXR5bGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ID0gY2l0eWxpc3QubWFwKHggPT4geC5uYW1lICsgXCIsXCIgKyB4LnBuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvd1NlbGVjdE9wdGlvbnMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLor7fnoa7lrppcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBzZWxlY3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChjaXR5bGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coY2l0eWxpc3RbTVlfSU5ERVhdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJjaXR5X2lkXCIsIFN0cmluZyhjaXR5bGlzdFtNWV9JTkRFWF0uY2l0eUlkKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5Zyw5Z2A5Li6JyArIGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBjaXR5bGlzdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouWcsOWdgOS4uicgKyBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5aSp5rCU5pKt5oqlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gW1wi5LiD5ZOlIOeUt+WjsFwiLCBcIuWtkOaZtCDlpbPlo7BcIiwgXCLkuIDoj7Ig5aWz5aOwXCIsIFwi5bCP6ZyyIOWls+WjsFwiLCBcIuWwj+m5jyDnlLflo7BcIiwgXCLlsI/mlrAg55S35aOwXCIsIFwi5bCP6ZuqIOWls+WjsFwiLCBcIui2heWTpSDnlLflo7BcIiwgXCLlsI/lqpsg5aWz5aOwXCIsIFwi5Y+25a2QIOWls+WjsFwiLCBcIuWNg+mbqiDlpbPlo7BcIiwgXCLlsI/lv6Ag55S35aOwXCIsIFwi5LiH5Y+UIOeUt+WjsFwiLCBcIuiZq+iZqyDlpbPlo7BcIiwgXCLmpaDmpaAg55S356ulXCIsIFwi5pmT55KHIOWls+WjsFwiLCBcIuiKs+iKsyDlpbPnq6VcIiwgXCLlmInlmIkg5aWz5aOwXCIsIFwi5bCP5YCpIOWls+WjsFwiLCBcIuiLseaWhyDlpbPlo7BcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCIsIFwiNVwiLCBcIjZcIiwgXCI3XCIsIFwiOFwiLCBcIjlcIiwgXCIxMFwiLCBcIjExXCIsIFwiMTJcIiwgXCIxM1wiLCBcIjE0XCIsIFwiMTVcIiwgXCIxNlwiLCBcIjE3XCIsIFwiMThcIiwgXCIxOVwiLCBcIjIwXCJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRpdGxlLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBsaXN0Lm1hcChsaXN0ID0+IGxpc3QubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChuYW1lLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KChsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSBsaXN0LmZpbmRJbmRleChsaXN0ID0+IGxpc3QubmFtZSA9PSBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGxpc3Rbb10uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5pKt5oql5ZGYJywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouaSreaKpeWRmCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGxpc3QpXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5Zu+54mH5o6l5Y+jJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoWyflm77niYcnLCAnanNvbicsICd1cmwnXSwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICflm77niYcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0X2pwZyA9IGdldEl0ZW0oJ3RfanBnJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0X2pwZywgJ+aDs+imgeabtOaNoueahOWbvueJh+aOpeWPo+WcsOWdgO+8jFxcbuaUr+aMgee9kee7nGFwaeWSjOacrOWcsOWbvueJhycpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdmcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2h0bWwnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndF9qcGcnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouaOpeWPoyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAnanNvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRfanNvbiA9IGdldEl0ZW0oJ3RfanNvbicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodF9qc29uLCAn5oOz6KaB5pu05o2i55qEanNvbuWbvueJh+aOpeWPo+WcsOWdgFxcbum7mOiupOaVsOaNruS4umRhdGEuaW1nXFxu5pWw5o2u5LiN5ZCM5Y+vIOaOpeWPo0BA5pWw5o2uJykuaW5wdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/kuI3og73kuLrnqbpcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdmcycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ1BpYycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnaHRtbCcsIHR4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0X2pzb24nLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouaOpeWPoyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRfdXJsID0gZ2V0SXRlbSgndF91cmwnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRfdXJsLCAn5oOz6KaB5pu05o2i55qE5Zu+54mH5o6l5Y+j5Zyw5Z2A77yMZmV0Y2godXJsKeiOt+WPlueahOWbvueJh+S4unVybOmTvuaOpeOAgicpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnZnMnLCAndXJsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ1BpYycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnaHRtbCcsIHR4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0X3VybCcsIHR4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2i5o6l5Y+jJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+aWh+Wtl+minOiJsicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5cyA9IGdldEl0ZW0oJ3lzX2lucHV0JywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoeXMsICfmg7PopoHmm7TmjaLnmoTpopzoibLku6PnoIFcXG7kvovlpoLvvJojZmQyNjhhJykuaW5wdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+aWh+WtlycsIHR4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgneXNfaW5wdXQnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2i5paH5a2X6aKc6ImyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+acrOWcsOmaj+acuicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IFtcIuWKqOa8q1wiLCBcIue+juWls1wiLCBcIumjjuaZr1wiLCBcIuaxvei9plwiLCBcIuWKqOWbvlwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IFtcImRvbmdtYW5cIiwgXCJtZWludlwiLCBcImZlbmdqaW5nXCIsIFwicWljaGVcIiwgXCJnaWZcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRpdGxlLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBsaXN0Lm1hcChqID0+IGoubmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChuYW1lLCAyLCAn4p2X77iP5YiG57uE5peg5Zu+54mH5YiZ6buY6K6kJykuc2VsZWN0KChsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBsaXN0LmZpbmRJbmRleChqID0+IGoubmFtZSA9PSBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gbGlzdFt0XS5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcSA9IGdldEl0ZW0oJ1BpYycpID09ICdnaWYnID8gJ2dpZicgOiAnc2onO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmID0gZ2V0SXRlbSgnSnNfamsnKSA9PSAnZ2lmJyA/ICdoaWtlcjovL2ZpbGVzL0ptL3BuZy9naWYuanNvbicgOiAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGlkICsgJy5qc29uJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdQaWMnLCBxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdkaScsIGYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ0pzX2prJywgaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i6ZqP5py6JyArIGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09IFwi6aKE6K2m5omA5Zyo6KGMXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGdldEl0ZW0oXCJ3YXJsaW5lXCIsIFwiNzowXCIpLCAn6aKE6K2m5omA5Zyo6KGM6buY6K6kNzowIOWQjumdouaYr1xcXFx0JykuaW5wdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBpbnB1dC5zcGxpdChcIjpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gdGVtcFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IHRlbXBbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBOdW1iZXIoaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID4gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSA3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4obGluZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdCArIFwiOlwiICsgbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd3YXJsaW5lJywgU3RyaW5nKHJlc3VsdCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+aJgOWcqOihjFwiICsgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dC5pbmNsdWRlcyhcIng15qih5byPXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25seV94NSA9IGdldEl0ZW0oXCJvbmx5eDVcIiwgXCIwXCIpID09IFwiMFwiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcIm9ubHl4NVwiLCBvbmx5X3g1ID8gXCIxXCIgOiBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gXCLmjInpkq7moLflvI9cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGlrZXJQb3AuaW5wdXRUd29Sb3coe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlSGludDogXCLmoLflvI8g6buY6K6kY2FyZF9waWNfMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlRGVmYXVsdDogZ2V0SXRlbShcInRxX2NvbFwiLCBcImNhcmRfcGljXzFcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsSGludDogXCLlm77niYcg56m65L2/55So5o6l5Y+j5Zu+54mHXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsRGVmYXVsdDogZ2V0SXRlbShcInRxX2ltZ1wiLCBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0F1dG9Tb2Z0OiB0cnVlLCAvL+S4jeiHquWKqOaJk+W8gOi+k+WFpeazlVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuaMiemSruagt+W8j1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGlkZUNhbmNlbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maXJtKHMxLCBzMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwidHFfY29sXCIsIHMxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcInRxX2ltZ1wiLCBzMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/moLflvI9cIiArIHMxICsgXCIg5Zu+54mHXCIgKyBzMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/kvaDlj5bmtojkuoZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09IFwi6YCJ5oup5pi+56S6XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjaGVja2VkTmFtZSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZydWl0ID0gW1wi5Zyw5Yy6XCIsIFwi5aSp5rCUXCIsIFwi5rip5bqmXCIsIFwi5pel5pyfXCIsIFwi5Yac5Y6GXCIsIFwiQVFJXCIsIFwi6aOO5ZCRXCIsIFwi6aKE6K2mXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRxX3Nob3dzID0gc3RvcmFnZTAuZ2V0SXRlbShcInRxX3Nob3dzXCIsIGZydWl0Lm1hcCgoKSA9PiBcIjFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHFfc2hvd3MgPSB0cV9zaG93cy5yZWR1Y2UoZnVuY3Rpb24oYWNjLCBlbGVtZW50LCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ID09PSBcIjFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2MucHVzaChpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvZyh0cV9zaG93cylcblxuICAgICAgICAgICAgICAgICAgICAgICAgaGlrZXJQb3AubXVsdGlDaG9pY2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIumAieaLqemcgOimgeaYvuekuueahOWGheWuuVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IGZydWl0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWRJbmRleHM6IHRxX3Nob3dzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hvaWNlKGksIGlzQ2hlY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvZyhpICsgXCI6XCIgKyBpc0NoZWNrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRUaXRsZTogXCLnoa7orqRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWdodENsaWNrKG9wdGlvbnMsIGNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoXCLkvaDpgInkuobvvJpcIiArIG9wdGlvbnMuZmlsdGVyKCh2LCBpKSA9PiBjaGVja2VkW2ldKS5qb2luKFwiLFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMubWFwKCh4LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2tlZFtpXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWROYW1lLnB1c2goXCIxXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkTmFtZS5wdXNoKFwiMFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coY2hlY2tlZE5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnNldEl0ZW0oXCJ0cV9zaG93c1wiLCBjaGVja2VkTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnRUaXRsZTogXCLlhajpgIlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0Q2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KFwi5YWo6YCJXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfc2hvd3NcIiwgZnJ1aXQubWFwKCgpID0+IFwiMVwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlclRpdGxlOiBcIuWPlua2iFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuaW5jbHVkZXMoXCLmnoHnroDmqKHlvI9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaW1wbGUgPSBnZXRJdGVtKFwidHFfc2ltcGxlXCIsIFwiMFwiKSA9PSBcIjBcIiA/IGZhbHNlIDogdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwidHFfc2ltcGxlXCIsIFwiMFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9pbWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwidHFfc2hvd3NcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9yZVwiLCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG9ialtcIua4qeW6plwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfcmVcIiwgb2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFsbF9jb2xzID0gWycnXS5jb25jYXQoZ2V0Q29sVHlwZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsX2NvbHMgPSBhbGxfY29scy5maWx0ZXIoeCA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKHRleHRffGZsZXh8YXZhdGFyfGNhcmR8aWNvbikuKi8udGVzdCh4KSAmJiB4ICE9IFwiaWNvbl8xX3NlYXJjaFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChhbGxfY29scywgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJ0cV9pbWdcIiwgXCJzaW1wbGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJ0cV9zaW1wbGVcIiwgXCIxXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwidHFfY29sXCIsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9yZVwiLCB7fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtcIua4qeW6plwiXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVnZXhcIjogW1wi5rip5bqmOiBcXFxcKCguKj8pXFxcXCk6OmdcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcGxhY2VcIjogW1wiJDFcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IFtcIua4qeW6pjogXFxcXCgoLio/KVxcXFwpOjpnfHwkMVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnNldEl0ZW0oXCJ0cV9yZVwiLCBvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfc2hvd3NcIiwgW1wiMFwiLCBcIjBcIiwgXCIxXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5beyXCIgKyAoc2ltcGxlID8gXCLlhbPpl61cIiA6IFwi5byA5ZCvXCIpICsgXCLmnoHnroDmqKHlvI9cIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcIuaWh+acrOabv+aNolwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChcImhpa2VyOi8vZW1wdHlcIikucnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHFfdGl0bGVzID0gc3RvcmFnZTAuZ2V0TXlWYXIoXCJ0cV90aXRsZXNcIiwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtcIuWcsOWMulwiLCBcIuWkqeawlFwiLCBcIua4qeW6plwiLCBcIkFRSVwiLCBcIuaXpeacn1wiLCBcIuWGnOWOhlwiLCBcIumjjuWQkVwiLCBcIumihOitplwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHRxX3JlPXN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9yZVwiLGxpc3QubWFwKCgpPT57fSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2l0ZW1dID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc3RvcmFnZTAuZ2V0SXRlbShcInRxX3JlXCIsIG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gc3RvcmFnZTAuZ2V0TXlWYXIoXCJ0cV9yZVwiLCBvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaCh4ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmouaGFzT3duUHJvcGVydHkoeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialt4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlcyA9IHRxX3RpdGxlcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHRyZXBsYWNlQUxMKHRpdGxlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmFtcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHJlcGxhY2VXaXRoUGF0dGVybnModGl0bGUsIHBhcmFtc1tcInJlZ2V4XCJdLCBwYXJhbXNbXCJyZXBsYWNlXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmZpbHRlcih4ID0+IHggIT0gXCLpooToraZcIikuZm9yRWFjaCgoeCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZXNbaV0gPSB0cmVwbGFjZUFMTCh0aXRsZXNbaV0sIG9ialt4XSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlc1s3XSA9IHRyZXBsYWNlQUxMKHRpdGxlc1s3XSwgb2JqW1wi6aKE6K2mXCJdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdJyArIHRpdGxlcy5qb2luKFwiXFxuXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZzogXCJodHRwOi8vcGljLnFxYml6aGkuY29tL2FsbGltZy8yMDIzMTAvMTMzNTl6aDk4Ymhvc3M3cWFzazFfdmlldy5qcGdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5mb3JFYWNoKChlLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IFwi5p+l5om+fHzmm7/mjaLlhoXlrrkg5LiA6KGM5LiA5LiqIDo6Z+ato+WImVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwiaW5wdXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygob2JqLCBlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5wdXQuc3BsaXQoL1tcXHJcXG5dLykuZmlsdGVyKHggPT4geCAhPSBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvZyh2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbZV1bXCJ2YWx1ZVwiXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdleGxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZWxpc3QgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gaXRlbS5zcGxpdChcInx8XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleGxpc3QucHVzaChwYXJ0c1swXSB8fCBpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWxpc3QucHVzaChwYXJ0c1sxXSB8fCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbZV1bXCJyZWdleFwiXSA9IHJlZ2V4bGlzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbZV1bXCJyZXBsYWNlXCJdID0gcmVwbGFjZWxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoXCJ0cV9yZVwiLCBvYmopXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9iaiwgZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0YXJlYVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogb2JqW2VdW1widmFsdWVcIl0uam9pbihcIlxcclxcblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi4oCc4oCc4oCd4oCdXCIgKyBcIjxzbWFsbD7muIXnqbpcIi5mb250Y29sb3IoXCJncmV5XCIpICsgXCI8L3NtYWxsPlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJ0ZXh0X2NlbnRlcl8xXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChcIiNub0xvYWRpbmcjXCIpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX3JlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJNeVZhcihcInRxX3JlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImhpa2VyOi8vZW1wdHlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNtYWxsPuehruiupDwvc21hbGw+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoXCIjbm9Mb2FkaW5nI1wiKS5sYXp5UnVsZSgob2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhck15VmFyKFwidHFfcmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfcmVcIiwgb2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImhpa2VyOi8vZW1wdHlcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb2JqKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfigJzigJzigJ3igJ08c21hbGw+5Y+W5raIPC9zbWFsbD4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChcIiNub0xvYWRpbmcjXCIpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoXCJ0cV9yZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJoaWtlcjovL2VtcHR5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VXaXRoUGF0dGVybnModGV4dCwgcGF0dGVybkxpc3QsIHJlcGxhY2VtZW50TGlzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVwbGFjZWRUZXh0ID0gdGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwYXR0ZXJuTGlzdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuLmluY2x1ZGVzKFwiOjpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHBhdHRlcm4uc3BsaXQoXCI6OlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuID0gbmV3IFJlZ0V4cCh0ZW1wWzBdLCB0ZW1wWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IG5ldyBSZWdFeHAodGVtcFswXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VtZW50ID0gcmVwbGFjZW1lbnRMaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHApIHsgLy8g5aaC5p6c5YiX6KGo6aG55piv5q2j5YiZ6KGo6L6+5byPXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coXCLmraPliJlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlZFRleHQgPSByZXBsYWNlZFRleHQucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykgeyAvLyDlpoLmnpzliJfooajpobnmmK/mlofmnKzlrZfnrKbkuLJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhQYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlZFRleHQgPSByZXBsYWNlZFRleHQucmVwbGFjZShyZWdleFBhdHRlcm4sIHJlcGxhY2VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZWRUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gXCLph43nva7orr7lrppcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwid2FybGluZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX2NvbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX2ltZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX3NpbXBsZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX3Nob3dzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwidHFfcmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJoaWtlcjovL2VtcHR5XCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfwn5a85re75YqgJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChpbWcpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBbXCLliqjmvKtcIiwgXCLnvo7lpbNcIiwgXCLpo47mma9cIiwgXCLmsb3ovaZcIiwgXCLliqjlm75cIl07XG4gICAgICAgICAgICAgICAgbGV0IGlkID0gW1wiZG9uZ21hblwiLCBcIm1laW52XCIsIFwiZmVuZ2ppbmdcIiwgXCJxaWNoZVwiLCBcImdpZlwiXTtcbiAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRpdGxlLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBsaXN0Lm1hcChqID0+IGoubmFtZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMiwgJ+a3u+WKoOWIsCcpLnNlbGVjdCgoaW1nLCBsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBhID0gbGlzdC5maW5kSW5kZXgoaiA9PiBqLm5hbWUgPT0gaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBsaXN0W2FdLmlkO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gaW5wdXQgPT09ICfliqjlm74nID8gKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9naWYvJyArIHRpbWUgKyAnLmdpZicpIDogKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy8nICsgaWQgKyAnLycgKyB0aW1lICsgJy5wbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGpzb25QYXRoID0gJ2hpa2VyOi8vZmlsZXMvSm0vcG5nLycgKyBpZCArICcuanNvbic7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5wYXJzZShyZXF1ZXN0KGpzb25QYXRoKSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBkYXRhLmNvbmNhdCh1cmwpO1xuICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShqc29uUGF0aCwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgICAgICBzYXZlSW1hZ2UoaW1nLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdKc19qaycsIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3sua3u+WKoOWIsCcgKyBpbnB1dCArICfliIbnu4QnO1xuICAgICAgICAgICAgICAgIH0sIGltZywgbGlzdClcbiAgICAgICAgICAgIH0sIGltZylcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfwn5OM6ZSB5a6aJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChpbWcsIHNob3dJbWcpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvd0ltZykge1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdpbWcnLCBzaG93SW1nKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3sumUgeWumidcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2NhY2hlLnBuZycpO1xuICAgICAgICAgICAgICAgICAgICBzYXZlSW1hZ2UoaW1nLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdpbWcnLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ1BpYycpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey6ZSB5a6aJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIGltZywgc2hvd0ltZylcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfwn5SA6ZqP5py6JyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2h0bWwnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2ltZycpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnZnMnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2RpJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9jYWNoZS5wbmcnKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suaBouWkjemaj+acuidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn4p2O77iP5Yig6ZmkJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChzaG93SW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGdldEl0ZW0oJ0pzX2prJykgKyAnLmpzb24nKTtcbiAgICAgICAgICAgICAgICBQaWMgPSBKU09OLnBhcnNlKHJlcXVlc3QodXJsKSk7XG4gICAgICAgICAgICAgICAgbGV0IGluZGV4VG9SZW1vdmUgPSBQaWMuaW5kZXhPZihzaG93SW1nKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVtb3ZlZEVsZW1lbnRzID0gUGljLnNwbGljZShpbmRleFRvUmVtb3ZlLCAxKTtcbiAgICAgICAgICAgICAgICBzYXZlRmlsZSh1cmwsIEpTT04uc3RyaW5naWZ5KFBpYykpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZUZpbGUoc2hvd0ltZyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+J1xuICAgICAgICAgICAgfSwgc2hvd0ltZylcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfwn5uh566h55CGJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn6ZqP5py65Zu+54mH566h55CGJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGdldEl0ZW0oJ0pzX2prJykgKyAnLmpzb24nO1xuXG4gICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXlm77niYfpk77mjqUv5pys5Zyw5Zu+54mH6Lev5b6EJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygodXJsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlm77niYfpk77mjqVcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG5nX2xpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QodXJsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG5nX2xpc3QgPSBwbmdfbGlzdC5jb25jYXQoaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKHVybCwgSlNPTi5zdHJpbmdpZnkocG5nX2xpc3QpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a3u+WKoOaIkOWKnyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB1cmwpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBbXCLliqjmvKtcIiwgXCLnvo7lpbNcIiwgXCLpo47mma9cIiwgXCLmsb3ovaZcIiwgXCLliqjlm75cIl07XG4gICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IFtcImRvbmdtYW5cIiwgXCJtZWludlwiLCBcImZlbmdqaW5nXCIsIFwicWljaGVcIiwgXCJnaWZcIl07XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gdGl0bGUubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZFtpbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsaXN0Lm1hcChqID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGdldEl0ZW0oJ0pzX2prJykgPT0gai5pZCA/ICfigJjigJjigJnigJk8Zm9udCBjb2xvcj0jZmQyNjhhPicgKyBqLm5hbWUgKyAnPC9mb250PicgOiBqLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9ICdoaWtlcjovL2ZpbGVzL0ptL3BuZy8nICsgai5pZCArICcuanNvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsZUV4aXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKHVybCwgJ1tdJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnSnNfamsnLCBqLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4pm777iP6YeN572uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9ICdoaWtlcjovL2ZpbGVzL0ptL3BuZy8nICsgai5pZCArICcuanNvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRmlsZSh1cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3sumHjee9ric7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQaWMgPSBKU09OLnBhcnNlKHJlcXVlc3QodXJsKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGljID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IFBpYy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9IFBpY1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZGV4LnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKFsn57yW6L6RJywgJ+afpeeciycsICfliKDpmaQnXSwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgodXJsLCBpbmRleCwgaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoaW1nLCAn5oOz6KaB5pu05o2i55qE5Zu+54mH6ZO+5o6lJykuaW5wdXQoKHVybCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWMgPSBKU09OLnBhcnNlKHJlcXVlc3QodXJsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGljW2luZGV4XSA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKHVybCwgSlNPTi5zdHJpbmdpZnkoUGljKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mm7TmlLnmiJDlip9+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdXJsLCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5p+l55yLJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpwZyA9IGdldFBhdGgoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBqcGcgKyAnIy5qcGcnXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpYyA9IEpTT04ucGFyc2UocmVxdWVzdCh1cmwpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpYy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUodXJsLCBKU09OLnN0cmluZ2lmeShQaWMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUZpbGUoaW1nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdXJsLCBpbmRleCwgaW1nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaW1nLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfV0sXG4gICAgfVxufSlcbnRxIn1dLCJmb2xkX3N0YXR1cyI6dHJ1ZSwicGF0dGVybiI6M30seyJuYW1lIjoi6LGG55OjIiwibWFyayI6Iua1t+aKpSIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuixhueTo+a1t+aKpXg15pS5IiwiY29kZSI6ImxldCBkYmFyciA9IFtdO1xudmFyIHIgPSAkLnJlcXVpcmUoXCJodHRwczovL2dpdGVlLmNvbS96ZXRhbHBoYS9oaWtlcnZpZXcvcmF3L21hc3Rlci9nbG9iYWwvanMveDV1aS5qc1wiLCB1bmRlZmluZWQsIDI0KVxudmFyIHNldHBhZ2UgPSAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICB2YXIgZGJvYmogPSB7XG4gICAgICAgIHR5cGU6IHtcbiAgICAgICAgICAgIHRpdGxlOiAn57G75Z6LJyxcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIFwiMFwiOiBcIueUteW9sVwiLFxuICAgICAgICAgICAgICAgIFwiMVwiOiBcIueUteinhuWJp1wiLFxuICAgICAgICAgICAgICAgIFwiMlwiOiBcIuWKqOa8q1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICB0aXBzOiAnJyxcbiAgICAgICAgICAgIHZhbHVlOiBcIjBcIixcbiAgICAgICAgfSxcbiAgICAgICAgY291bnRyaWVzOiB7XG4gICAgICAgICAgICB0aXRsZTogJ+WMuuWfnycsXG4gICAgICAgICAgICBzZWxlY3Q6IFtcIlwiLCBcIuS4reWbveWkp+mZhlwiLCBcIuS4reWbvemmmea4r1wiLCBcIuS4reWbveWPsOa5vlwiLCBcIuaXpeacrFwiLCBcIumfqeWbvVwiLCBcIue+juWbvVwiXSxcbiAgICAgICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgICAgICB0aXBzOiAnJyxcbiAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICB9LFxuICAgICAgICB5ZWFyOiB7XG4gICAgICAgICAgICB0aXRsZTogJ+W5tOS7vScsXG4gICAgICAgICAgICBkZXNjOiAn6L6T5YWl5bm05Lu95q+U5aaCMjAyMCwyMDIxJyxcbiAgICAgICAgICAgIHR5cGU6ICdpbnB1dCcsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgfSxcbiAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgdGl0bGU6ICfmjpLluo8nLFxuICAgICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICAgICAgXCJUXCI6IFwi5oyJ54Ot5bqm5o6S5bqPXCIsXG4gICAgICAgICAgICAgICAgXCJSXCI6IFwi5oyJ5pe26Ze05o6S5bqPXCIsXG4gICAgICAgICAgICAgICAgXCJTXCI6IFwi5oyJ6K+E5YiG5o6S5bqPXCIsXG4gICAgICAgICAgICAgICAgXCJVXCI6IFwi5oyJ6L+R5pyf54Ot6ZeoXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aXBzOiAn6buY6K6k6L+R5pyf54Ot6ZeoJyxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0XzEnLFxuICAgICAgICAgICAgdmFsdWU6IFwiVVwiLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgT2JqZWN0LmtleXMoZGJvYmopLmZvckVhY2goeCA9PiB7XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdGZ1bmMoc2VsZWN0cywga2V5LCBvYmopIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0ID09IFwi5YWo6YOoXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXRJdGVtKFwiZGJfXCIgKyBrZXksIGlucHV0KTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9iai50eXBlID09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgICAgIHNlbGVjdHMudW5zaGlmdChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGIgPSBnZXRJdGVtKFwiZGJfXCIgKyBrZXksIG9iai52YWx1ZSk7XG4gICAgICAgICAgICBzZWxlY3RzID0gc2VsZWN0cy5tYXAoKGl0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0LnNwbGl0KFwiOlwiKVsxXSA9PT0gZGIgPyAn4p6h77iPJyArIGl0IDogaXQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuICQoc2VsZWN0cywgMSwgb2JqLnRpcHMpXG4gICAgICAgICAgICAgICAgLnNlbGVjdCgoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnJlcGxhY2UoXCLinqHvuI9cIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dC5pbmNsdWRlcyhcIjpcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQuc3BsaXQoXCI6XCIpWzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSBcIuWFqOmDqFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nKGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcImRiX1wiICsgaywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSc7XG4gICAgICAgICAgICAgICAgfSwga2V5KVxuICAgICAgICB9XG4gICAgICAgIGxldCBkZWYgPSBnZXRJdGVtKFwiZGJfXCIgKyB4LCBkYm9ialt4XS52YWx1ZSk7XG4gICAgICAgIC8vbG9nKGRlZilcbiAgICAgICAgdmFyIHNlbGVjdCA9IFtdO1xuICAgICAgICBpZiAoZGJvYmpbeF0uc2VsZWN0KSB7XG4gICAgICAgICAgICBpZiAoZGJvYmpbeF0uc2VsZWN0LmNvbnN0cnVjdG9yID09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdCA9IE9iamVjdC5lbnRyaWVzKGRib2JqW3hdLnNlbGVjdCkubWFwKChba2V5LCB2YWx1ZV0pID0+IHZhbHVlKyc6JytrZXkpO1xuXG4gICAgICAgICAgICAgICAgZGVmID0gZGJvYmpbeF0uc2VsZWN0W2RlZl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGJvYmpbeF0uc2VsZWN0LmNvbnN0cnVjdG9yID09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ID0gZGJvYmpbeF0uc2VsZWN0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYgPT0gXCJcIikge1xuICAgICAgICAgICAgZGVmID0gXCLlhajpg6hcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlZiA9IGRlZjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGl0bGUgPSBkYm9ialt4XS50aXRsZTtcbiAgICAgICAgbGV0IHVybCA9IFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICAgICBpZiAoZGJvYmpbeF0udHlwZS5pbmNsdWRlcyhcInRleHRcIikpIHtcbiAgICAgICAgICAgIHVybCA9ICQoXCIjbm9Mb2FkaW5nI1wiKS5sYXp5UnVsZShzZWxlY3RmdW5jLCBzZWxlY3QsIHgsIGRib2JqW3hdKTtcbiAgICAgICAgICAgIHRpdGxlID0gZGJvYmpbeF0udGl0bGUgKyAnOicgKyBkZWY7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRib2JqW3hdLnR5cGUgPT0gXCJpbnB1dFwiKSB7XG4gICAgICAgICAgICB1cmwgPSAkLnRvU3RyaW5nKHNlbGVjdGZ1bmMsIHNlbGVjdCwgeCwgZGJvYmpbeF0pO1xuICAgICAgICAgICAgdGl0bGUgPSBkYm9ialt4XS50aXRsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBkZXNjOiBkYm9ialt4XS5kZXNjLFxuICAgICAgICAgICAgY29sX3R5cGU6IGRib2JqW3hdLnR5cGUsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZGVmLFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG5cbiAgICAvKmQucHVzaCh7XG4gICAgICAgIHRpdGxlOiAn6K6+572uJyxcbiAgICAgICAgaW1nOiAnaHR0cHM6Ly9pMi4xMDAwMjQueHl6LzIwMjMvMDQvMjYvdTA0dXhuLndlYnAnLFxuICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9zZXR0aW5nUGFnZT9ydWxlPemdkuixhidcbiAgICB9KSovXG59KVxuXG5cbmxldCBkYl9kaWN0ID0ge1xuICAgIFwiY291bnRyaWVzXCI6IGdldEl0ZW0oXCJkYl9jb3VudHJpZXNcIiwgXCJcIiksXG4gICAgXCJzb3J0XCI6IGdldEl0ZW0oXCJkYl9zb3J0XCIsIFwiVVwiKSxcbiAgICBcInllYXJfcmFuZ2VcIjogZ2V0SXRlbShcImRiX3llYXJcIiwgXCJcIiksXG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVPYmplY3RzKG9iajEsIG9iajIpIHtcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKS5zb3J0KCk7XG4gICAgdmFyIGtleXMyID0gT2JqZWN0LmtleXMob2JqMikuc29ydCgpO1xuICAgIHZhciBpbmRleCA9IGtleXMxLmluZGV4T2YoJ3RpbWUnKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGtleXMxLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGluZGV4ID0ga2V5czIuaW5kZXhPZigndGltZScpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAga2V5czIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzMS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIga2V5ID0ga2V5czFbaV07XG4gICAgICAgIGlmIChvYmoxW2tleV0gIT09IG9iajJba2V5XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5sZXQgZGJfdHlwZXMgPSBbXCJtb3ZpZVwiLCBcInR2XCIsIFwidHZcIl07XG5sZXQgZGJfdHAgPSBbXCLnlLXlvbFcIiwgXCLnlLXop4bliadcIiwgXCLliqjmvKtcIl07XG5sZXQgbnVtcz1bMCwyMCw0MCw2MCw4MCwxMDBdO1xuXG5sZXQgRE9VQkFOX1VSTCA9ICdodHRwczovL21vdmllLmRvdWJhbi5jb20vai9uZXdfc2VhcmNoX3N1YmplY3RzP3JhbmdlPTAsMTAmc3RhcnQ9MCZ0YWdzPScgKyBkYl90cFtnZXRJdGVtKFwiZGJfdHlwZVwiLCBcIjBcIildICsgJyYnICsgT2JqZWN0LmtleXMoZGJfZGljdCkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBrZXkgKyBcIj1cIiArIGRiX2RpY3Rba2V5XVxufSkuam9pbihcIiZcIik7XG5cbi8vbG9nKERPVUJBTl9VUkwpXG5cbmRiX2RpY3RbJ3RhZ3MnXSA9IGdldEl0ZW0oXCJkYl90eXBlXCIsIFwiMFwiKTtcbmRiX2RpY3RbJ3RpbWUnXSA9IChuZXcgRGF0ZSgpLmdldFRpbWUoKSArIDg2NDAwMDAwKS50b1N0cmluZygpO1xuXG5sZXQgcGF0aF9kYXRhID0gXCJoaWtlcjovL2ZpbGVzL2NhY2hlL1wiICsgTVlfUlVMRS50aXRsZSArIFwiZGRvdWJhbl9kYXRhLnR4dFwiO1xubGV0IHBhdGhfZGF0ZSA9IFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9cIiArIE1ZX1JVTEUudGl0bGUgKyBcImRkb3ViYW5fZGF0ZS50eHRcIjtcbmxldCByZXN1bHQgPSBbXTtcbmxldCBkYl9kYXRhID0gcmVhZEZpbGUocGF0aF9kYXRhKTtcbmxldCBkYl9kYXRlID0gcmVhZEZpbGUocGF0aF9kYXRlKTtcbmlmIChkYl9kYXRlICE9IFwiXCIpIHtcbiAgICBkYl9kYXRlID0gSlNPTi5wYXJzZShkYl9kYXRlKVxufVxubGV0IG5vd19kYXRlID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5sZXQgZGJfcmUgPSBmYWxzZTtcbi8vbG9nKG5vd19kYXRlPmRiX2RhdGUudGltZSlcbmlmIChub3dfZGF0ZSA+IGRiX2RhdGUudGltZSkge1xuICAgIGRiX3JlID0gdHJ1ZTtcbn1cbmlmICghY29tcGFyZU9iamVjdHMoZGJfZGljdCwgZGJfZGF0ZSkpIHtcbiAgICBkYl9yZSA9IHRydWU7XG59XG5pZiAoZGJfZGF0YSA9PSBcIlwiIHx8IGRiX3JlKSB7XG4gICAgLy9sb2coJ2Rvd25sb2FkJylcbiAgICBkYl9kYXRhID0gZmV0Y2goRE9VQkFOX1VSTCk7XG4gICAgd3JpdGVGaWxlKHBhdGhfZGF0YSwgZGJfZGF0YSk7XG4gICAgd3JpdGVGaWxlKHBhdGhfZGF0ZSwgSlNPTi5zdHJpbmdpZnkoZGJfZGljdCkpO1xuICAgIGRiX2RhdGEgPSBKU09OLnBhcnNlKGRiX2RhdGEpO1xufSBlbHNlIHtcbiAgICBkYl9kYXRhID0gSlNPTi5wYXJzZShkYl9kYXRhKTtcbn1cblxuXG5pZiAoZGJfZGF0YS5oYXNPd25Qcm9wZXJ0eShcImRhdGFcIikpIHtcbiAgICByZXN1bHQgPSBkYl9kYXRhLmRhdGEubWFwKHggPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHgudGl0bGUsXG4gICAgICAgICAgICBpbWc6IHguY292ZXIsXG4gICAgICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvU2RldGFpbCNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIz9ydWxlPemdkuixhiZpZD0nICsgeC5pZCArICcmdHlwZT0nICsgZGJfdHlwZXNbZGJfZGljdFtcInRhZ3NcIl1dLFxuICAgICAgICB9XG4gICAgfSlcbn1cbmlmIChyZXN1bHQubGVuZ3RoID09IDApIHtcbiAgICBkYmFyci5wdXNoKHtcbiAgICAgICAgdGl0bGU6ICflvZPliY3pgInmi6nml6Dnu5PmnpwnLFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxuICAgICAgICB1cmw6ICQoXCIjbm9Mb2FkaW5nI1wiKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckl0ZW0oXCJkYl90eXBlXCIpO1xuICAgICAgICAgICAgY2xlYXJJdGVtKFwiZGJfY291bnRyaWVzXCIpO1xuICAgICAgICAgICAgY2xlYXJJdGVtKFwiZGJfeWVhclwiKTtcbiAgICAgICAgICAgIGNsZWFySXRlbShcImRiX3NvcnRcIik7XG4gICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xuICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JztcbiAgICAgICAgfSlcbiAgICB9KVxufVxuXG5yLnNob3coZGJhcnIsIHJlc3VsdCwge1xuICAgIHRpdGxlOiAn6Z2S6LGGJyxcbiAgICB1cmw6IFwie3VybH1cIixcbiAgICBwYXJhbXM6e1xuICAgICAgcGFnZXM6ZmFsc2VcbiAgICB9LFxuICAgIG1hcms6IFwiXCIsXG59LCB7XG4gICAgeDVwbHVzUnVsZTogc2V0cGFnZVxuICAgIC8veDV1aTogJ2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0Rvd25sb2FkL3dlYi9oaWtlcnZpZXcvZ2xvYmFsL2pzL3g1dWkuanMnLFxuICAgIC8veDVmOiBcImZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0Rvd25sb2FkL3dlYi9oaWtlcnZpZXcvZ2xvYmFsL2h0bWwvU2xpZGVYLmh0bWxcIixcbn0pXG5cbmRiYXJyOyJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLova7mkq0iLCJtYXJrIjoi5rW35oqlIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi6L2u5pKt5YWD57SgIiwiY29kZSI6ImxldCBkID0gW107XG5yYygnaHR0cHM6Ly9naXRsYWIuY29tL2xpdXphb3l1ZS9sLy0vcmF3L21haW4vJUU4JUJEJUFFJUU2JTkyJUFELmpzJywgMjQpO1xuYmFubmVyKGQsIGFyciwgMzAwMCwgJ3MxJykifV0sImZvbGRfc3RhdHVzIjpmYWxzZSwicGF0dGVybiI6M30seyJuYW1lIjoi6KeG6aKRIiwibWFyayI6Iua1t+aKpSIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6Iuinhumikea1t+aKpSIsImNvZGUiOiJwdXRWYXIoJ+Wwj+eoi+W6j+WQjScsIE1ZX1JVTEUudGl0bGUpO1xuXG5wdXRWYXIoTVlfUlVMRS50aXRsZSArICfop4bpopHpq5jluqYnLCAnMTY4Jyk7XG5wdXRWYXIoTVlfUlVMRS50aXRsZSArICfop4bpopHlrr3luqYnLCAnOTMlJyk7XG4vL+acgOWkpzEwMCVcbnB1dFZhcihNWV9SVUxFLnRpdGxlICsgXCLop4bpopHlnIbop5JcIiwgJzE1Jyk7Ly8w5piv55u06KeSXG52YXIg5pys5ZywID0gZ2V0UGF0aCgnaGlrZXI6Ly9maWxlcy95dWFuL3ZpZGVvQ2Fyb3VzZWwuaHRtbCcpO1xuaWYgKCFmaWxlRXhpc3Qo5pys5ZywKSkge1xuICAgIGNvbmZpcm0oe1xuICAgICAgICB0aXRsZTogJ+WvvOWFpScsXG4gICAgICAgIGNvbnRlbnQ6ICfmo4DmtYvliLDkvaDmsqHmnInmnKzlnLDmlofku7bvvIzmmK/lkKblr7zlhaUnLFxuICAgICAgICBjb25maXJtOiAkLnRvU3RyaW5nKCjmnKzlnLApID0+IHtcbiAgICAgICAgICAgIHdyaXRlRmlsZSjmnKzlnLAsIGZldGNoKCdodHRwczovL2dpdGxhYi5jb20vbGl1emFveXVlL2wvLS9yYXcvbWFpbi92aWRlb0Nhcm91c2VsLmh0bWwnKSk7XG4gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgIH0sIOacrOWcsCksXG4gICAgICAgIGNhbmNlbDogJC50b1N0cmluZygoKSA9PiB7fSlcbiAgICB9KTtcbn07XG5be1xuICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsXG4gICAgICAgICAgICB1cmw6IOacrOWcsCxcbiAgICAgICAgICAgIGRlc2M6ICdsaXN0JiYnICsgZ2V0VmFyKE1ZX1JVTEUudGl0bGUgKyAn6KeG6aKR6auY5bqmJywgJ3ZpZGVvJyksXG4gICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLCAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2VcbiAgICAgICAgICB9XG59XSJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLkuIDoqIAiLCJtYXJrIjoi5LiA6KiAIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5LiA6KiAX+aXpeWOhiIsImNvZGUiOiJmdW5jdGlvbiB6ZXJvKHMpIHtcbiAgICByZXR1cm4gcyA8IDEwID8gJzAnICsgcyA6IHM7XG59O1xubGV0IG15ZGF0ZSA9IG5ldyBEYXRlKCk7XG5sZXQgeWVhciA9IG15ZGF0ZS5nZXRGdWxsWWVhcigpOyAvL+W5tFxubGV0IG1vbnRoID0gbXlkYXRlLmdldE1vbnRoKCkgKyAxOyAvL+aciFxubGV0IGRhdGUgPSBteWRhdGUuZ2V0RGF0ZSgpOyAvL+aXpVxuLypsZXQgaG91ciA9IG15ZGF0ZS5nZXRIb3VycygpOy8v5pe2XG5sZXQgbWludXRlID0gbXlkYXRlLmdldE1pbnV0ZXMoKTsvL+WIhlxubGV0IHNlY29uZCA9IG15ZGF0ZS5nZXRTZWNvbmRzKCk7Ly/np5IqL1xubGV0IGRheSA9IG5ldyBBcnJheShcIuaYn+acn+aXpVwiLCBcIuaYn+acn+S4gFwiLCBcIuaYn+acn+S6jFwiLCBcIuaYn+acn+S4iVwiLCBcIuaYn+acn+Wbm1wiLCBcIuaYn+acn+S6lFwiLCBcIuaYn+acn+WFrVwiKVtteWRhdGUuZ2V0RGF5KCldO1xuXG4vL+aXpeWOhlxudmFyIHJsID0gKCdoaWtlcjovL2ZpbGVzL0ptL2ZpbGUv5pel5Y6GLmpzJyk7XG50cnkge1xuICAgIHZhciBjZF9maWxlID0gJC5yZXF1aXJlKHJsKS5kYXRlO1xufSBjYXRjaCAoZSkge1xuICAgIGxldCBodG1sID0gZmV0Y2goJ2h0dHBzOi8vcmF3LmdpdG1pcnJvci5jb20vam1lbmcxMjMvZmlsZXMvbWFpbi/ml6XljoYuanMnKTtcbiAgICBzYXZlRmlsZShybCwgaHRtbCk7ICAgIFxuICAgIHZhciBjZF9maWxlID0gJC5yZXF1aXJlKHJsKS5kYXRlO1xufVxubGV0IGNkID0gY2RfZmlsZTtcbmxldCDmmL7npLogPSBnZXRJdGVtKCd0aXRsZScsICfml6XljoYnKTtcbmxldCBnZXRSYW5kb21Db2xvciA9IGZ1bmN0aW9uKCkge8KgwqDCoFxuICAgIHJldHVybiAnIycgKyAoJzAwMDAwJyArIChNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwIDw8IDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpO8KgwqBcbn3CoMKgXG52YXIg5pel5Y6GID0gKCfigJzigJzigJ3igJ08Zm9udCBjb2xvcj0nICsgZ2V0UmFuZG9tQ29sb3IoKSArICc+4o+w77iPXFx0JyArIHllYXIgKyAn5bm0JyArIHplcm8obW9udGgpICsgJ+aciCcgKyB6ZXJvKGRhdGUpICsgJ+aXpSAnICsgY2QgKyAnICAnICsgZGF5ICsgJzwvZm9udD4nKTtcblxudHJ5IHtcbiAgICB2YXIgZGl6aGkgPSAoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpO1xuICAgIGlmICghZmlsZUV4aXN0KGRpemhpKSkge1xuICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJywgJ1tcIueWj+W9seaoquaWnOawtOa4hea1he+8jOaal+mmmea1ruWKqOaciOm7hOaYj+OAglwiLFwi5ZKM6aOO57uG5Yqo5biY5bi35pqW77yM5riF6Zyy5b6u5Yed5p6V57Cf5YeJ44CCXCIsXCLmoqjoirHmu6HpmaLpo5jpppnpm6rvvIzpq5jmpbzlpJzpnZnpo47nrZ3lkr3jgIJcIixcIuiNu+iKseeni++8jOa9h+a5mOWknO+8jOapmOa0suS9s+aZr+WmguWxj+eUu+OAglwiLFwi5pqX5p+z6JCn6JCn77yM6aOe5pif5YaJ5YaJ77yM5aSc5LmF55+l56eL5L+h44CCXCIsXCLnuqLooaPlhaXmoajvvIzpnZLnga/mkYfmtarvvIzlvq7lh4nmhI/mgJ3jgIJcIl0nKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gZ2V0SXRlbSgn5LiA6KiAJywgZGl6aGkpO1xuICAgIGlmICh1cmwgPT09IGRpemhpKSB7XG4gICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCh1cmwpKTtcbiAgICAgICAgbGV0IG1heCA9IGpzb24ubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pbiA9IDA7XG4gICAgICAgIGxldCBudW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuICAgICAgICB2YXIgRGlzcGxheSA9IGpzb25bbnVtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgZ2VzaGkgPSBnZXRJdGVtKCfmoLzlvI8nLCAnanNvbicpO1xuICAgICAgICB2YXIgRGlzcGxheSA9IGdlc2hpID09ICdqc29uJyA/IEpTT04ucGFyc2UoZmV0Y2godXJsLCB7XG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwXG4gICAgICAgIH0pKS5kYXRhLmNvbnRlbnQgOiBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDBcbiAgICAgICAgfSk7XG5cbiAgICB9XG4gICAgdmFyIOS4gOiogCA9ICgn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9JyArIGdldFJhbmRvbUNvbG9yKCkgKyAnPvCfjoBcXHQnICsgZ2V0SXRlbSgneWl5YW4nLCBEaXNwbGF5KSArICc8L2ZvbnQ+Jyk7XG59IGNhdGNoIChlKSB7XG4gICAgdmFyIOS4gOiogCA9ICgn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9JyArIGdldFJhbmRvbUNvbG9yKCkgKyAnPuKdl++4j1xcdCcgKyBnZXRJdGVtKCd5aXlhbicsICfojrflj5bmlbDmja7lpLHotKXvvIzor7fliLfmlrDph43or5XmiJbmm7TmjaLmjqXlj6PjgIInKSArICc8L2ZvbnQ+Jyk7XG59XG5cbnZhciB5c19zcyA9IGdldEl0ZW0oJ3lzX3NzJywgJycpO1xuW3tcbiAgICB0aXRsZTog5pi+56S6ID09ICfml6XljoYnID8g5pel5Y6GIDog5LiA6KiALFxuICAgIGNvbF90eXBlOiAndGV4dF8xJyxcbiAgICB1cmw6ICdjb3B5Oi8vJyArIERpc3BsYXksXG4gICAgZXh0cmE6IHtcbiAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLFxuICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICB0aXRsZTogJ/Cfk7LmmL7npLo6XFx0JyArIChnZXRJdGVtKCd0aXRsZScsICfml6XljoYnKSA9PSAn5pel5Y6GJyA/ICfml6XljoYnIDogJ+S4gOiogCcpLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgZ2V0SXRlbSgndGl0bGUnLCAn5pel5Y6GJykgPT0gJ+aXpeWOhicgPyAn5LiA6KiAJyA6ICfml6XljoYnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9hc3QoJ+W3suWIh+aNouiHsycgKyAoZ2V0SXRlbSgndGl0bGUnLCAn5pel5Y6GJykgPT0gJ+aXpeWOhicgPyAn5pel5Y6GJyA6ICfkuIDoqIAnKSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfwn5Od5LiA6KiAJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJChbJ+mAoOWRlycsICfmnKzlnLAnLCAn5o6l5Y+jJywgJ+ivl+ivjScsICfmg4Xor50nLCAn6aqa6K+dJywgJ+Wui+ivjScsICfpuKHmsaQnLCAn5Y+k57GNJ10sIDMsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+mAoOWRlycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBMID0gZ2V0SXRlbSgnTCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKEwsICflhpnkuIDlj6Xoh6rlt7HllpzmrKLnmoTlj6XlrZDlkKfjgIInKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/kuI3og73kuLrnqbpcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdMJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3lpeWFuJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2i5LiA6KiAJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5o6l5Y+jJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoWyd0ZXh05qC85byPJywgJ2pzb27moLzlvI8nXSwgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICd0ZXh05qC85byPJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgVCA9IGdldEl0ZW0oJ1QnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKFQsICfmg7Pmm7TmjaLnmoTkuIDoqIDmjqXlj6PlnLDlnYBcXG50ZXh05paH5a2X5qC85byP44CCXFxuXFxu5rOo5oSP77ya5aaC6YGH5Li76aG15Yqg6L295Y2h6aG/77yM6K+35pu05o2i5LiA6KiA5o6l5Y+j77yM5oiW6ICF5oGi5aSN6buY6K6k77yM5oiW6ICF6Ieq5bex5p2l5LiA5Y+l77yM5YaN6ICF5YiH5o2i5pel5Y6G5pi+56S644CCJykuaW5wdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/kuI3og73kuLrnqbpcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ1QnLCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfkuIDoqIAnLCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+agvOW8jycsICd0eHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmm7TmjaLkuIDoqIAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAnanNvbuagvOW8jycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIEogPSBnZXRJdGVtKCdKJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChKLCAn5oOz5pu05o2i55qE5LiA6KiA5o6l5Y+j5Zyw5Z2AXFxu6YCC55So5LqOanNvbuaVsOaNruS4umRhdGEuY29udGVudFxcblxcbuazqOaEj++8muWmgumBh+S4u+mhteWKoOi9veWNoemhv++8jOivt+abtOaNouS4gOiogOaOpeWPo++8jOaIluiAheaBouWkjem7mOiupO+8jOaIluiAheiHquW3seadpeS4gOWPpe+8jOWGjeiAheWIh+aNouaXpeWOhuaYvuekuuOAgicpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdKJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ+agvOW8jycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2i5LiA6KiAJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn6K+X6K+NJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vdjIuamlucmlzaGljaS5jb20vb25lLmpzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaLkuIDoqIDlj6Tor5for40nXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+aDheivnScpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfkuIDoqIAnLCAnaHR0cHM6Ly9hcGkudnZoYW4uY29tL2FwaS90ZXh0L2xvdmU/dHlwZT1qc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmoLzlvI8nLCAnanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5LiA6KiA5oOF6K+dJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfpqpror50nKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vYXBpLnZ2aGFuLmNvbS9hcGkvdGV4dC9zZXh5P3R5cGU9anNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmoLzlvI8nLCAnanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouS4gOiogOmqmuivnSdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5a6L6K+NJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vYXBpLnFxc3V1LmNuL2FwaS9kbS16bXNjJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+agvOW8jycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5LiA6KiA5pyA576O5a6L6K+NJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfpuKHmsaQnKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vYXBpLnFxc3V1LmNuL2FwaS9kbS1kanRhbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaLkuIDoqIDmr5LpuKHmsaQnXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+WPpOexjScpIHtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfkuIDoqIAnLCAnaHR0cHM6Ly9hcGkucXFzdXUuY24vYXBpL2RtLWdqbWonKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaLkuIDoqIDlj6TnsY3lkI3lj6UnXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5pys5Zyw6ZqP5py65LiA6KiAJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+UsOeuoeeQhicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+acrOWcsOS4gOiogOeuoeeQhicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfinpUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWPpeWtkO+8jOWkmuS4quivt+aNouihjOmalOW8gOOAglxcbijlj6XlrZDmnKvlsL7kuLrlj6Xlj7fjgILkuK3oi7Hmlofpl67lj7fvvJ8/5Lya6Ieq5Yqo5re75Yqg5o2i6KGM56ymKScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuICd0b2FzdDovL+i+k+WFpeS4uuepuic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IGlucHV0LnJlcGxhY2UoL+OAgnzvvJ98XFw/L2csIFwi44CCXFxuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbnB1dF9uYW1lID0gdHh0LnNwbGl0KC9cXG4/XFxuLyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGlucHV0X25hbWUuZmlsdGVyKHBhcnQgPT4gcGFydC50cmltKCkubGVuZ3RoID4gMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlpeWFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeWl5YW4gPSB5aXlhbi5jb25jYXQobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicsIEpTT04uc3RyaW5naWZ5KHlpeWFuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5re75Yqg5oiQ5YqfflwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4pyU77iP5pON5L2c5a6M54K55oiRJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgeWl5YW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgeWl5YW4uZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZGV4ICsgJy4nICsgaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKFsn57yW6L6RJywgJ+enu+S9jScsICfliKDpmaQnXSwgMywgJ+ivt+mAieaLqeaTjeS9nCcpLnNlbGVjdCgoaW5kZXgsIGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICfnvJbovpEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChpdGVtLCAn6K+36L6T5YWl5oOz5pu05o2i55qE5Y+l5a2QJykuaW5wdXQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlpeWFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNob3cgPSBpbnB1dC5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWl5YW5baW5kZXhdID0gc2hvdztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoeWl5YW4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+abtOaUueaIkOWKn34nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+enu+S9jScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCcnLCAn6K+36L6T5YWl6KaB56e75Yqo5Yiw5ZOq5Liq5bqP5Y+35YmN6Z2iJykuaW5wdXQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlpeWFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB5aXlhbltpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWl5YW4uc3BsaWNlKGlucHV0LCAwLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aXlhbi5zcGxpY2UoaW5kZXggKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aXlhbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoeWl5YW4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+enu+S9jeaIkOWKn34nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWl5YW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpeWFuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoeWl5YW4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4LCBpdGVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfimbvvuI/ph43nva4nLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnTCcpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnVCcpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnSicpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgn5qC85byPJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LmgaLlpI3pu5jorqQnXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XSxcbiAgICB9XG59XSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5YiG5Ymy57q/IiwidGl0bGUiOiIiLCJ1cmwiOiIiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJsaW5lX2JsYW5rIn1dLCJmb2xkX3N0YXR1cyI6dHJ1ZSwicGF0dGVybiI6M30seyJuYW1lIjoi5pCc57SiIiwibWFyayI6IiIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuWOhuWPsuiusOW9lSIsInRpdGxlIjoi5Y6G5Y+yIiwidXJsIjoiaGlrZXI6Ly9oaXN0b3J5IiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS81LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTkuabnrb4iLCJ0aXRsZSI6IuS5puetviIsInVybCI6Imhpa2VyOi8vYm9va21hcmsiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE2LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTkuIvovb0iLCJ0aXRsZSI6IuS4i+i9vSIsInVybCI6Imhpa2VyOi8vZG93bmxvYWQiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzM1LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLkuLvpobXorr7nva4iLCJ0aXRsZSI6Iuiuvue9riIsInVybCI6IkBqczpsZXQgdGl0bGU9W3t0aXRsZTpcIuS4u+mhteiuvue9rlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNDcucG5nXCIsdXJsOmAke3NldHRpbmd9YH0se3RpdGxlOlwi5pu05aSa6K6+572uXCIsaWNvbjpcImhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS80NC5wbmdcIix1cmw6XCJoaWtlcjovL3NldHRpbmdNb3JlXCJ9LHt0aXRsZTpcIuaWh+S7tueuoeeQhlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzcucG5nXCIsdXJsOlwiaGlrZXI6Ly9leHBsb3JlXCJ9LHt0aXRsZTpcIumBk+mVv+S7k+W6k1wiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMTgyLnBuZ1wiLHVybDpcImhpa2VyOi8vaG9tZUDpgZPplb/ku5PlupNQcm9cIn0se3RpdGxlOlwi6LWE5rqQ566h55CGXCIsaWNvbjpcImhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zNi5wbmdcIix1cmw6XCJoaWtlcjovL2hvbWVA5pys5Zyw6LWE5rqQ566h55CGXCJ9LHt0aXRsZTpcIuWlh+WmmeW3peWFt1wiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjcucG5nXCIsdXJsOlwiaGlrZXI6Ly90b29sc1wifSx7dGl0bGU6XCLmiYvliqjlpIfku71cIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI3OS5wbmdcIix1cmw6XCJoaWtlcjovL3dlYmRhdlwifSx7dGl0bGU6XCLnvZHlnYDov4fmu6RcIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI5NC5wbmdcIix1cmw6XCJoaWtlcjovL2FkVXJsXCJ9LHt0aXRsZTpcIue9kemhteaPkuS7tlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjg0LnBuZ1wiLHVybDpcImhpa2VyOi8vanNcIn0se3RpdGxlOlwi5YWD57Sg5oum5oiqXCIsaWNvbjpcImhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMjUucG5nXCIsdXJsOlwiaGlrZXI6Ly9hZFJ1bGVcIn1dOyQodGl0bGUsMixcIuabtOWkmuWKn+iDvVwiKS5zZWxlY3QoKHRpdGxlKT0+e2xldCBpPXRpdGxlLmZpbmRJbmRleCh0PT50LnRpdGxlPT1pbnB1dCk7bGV0IHVybD10aXRsZVtpXS51cmw7cmV0dXJuIHVybH0sdGl0bGUpIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS80NC5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi6Ieq5a6a5LmJX+aQnOe0oiIsImNvZGUiOiJsZXQgc28gPSBbXTtcbmlmICghZmlsZUV4aXN0KCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJykpIHtcbiAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicsICdbe1wibmFtZVwiOlwi55m+5bqmXCIsXCJ1cmxcIjpcImh0dHBzOi8vbS5iYWlkdS5jb20vcz93b3JkPVwifSx7XCJuYW1lXCI6XCLnjqnlgbZcIixcInVybFwiOlwiaGlrZXI6Ly9zZWFyY2g/cnVsZT3njqnlgbblk6Xlk6Umcz1cIn0se1wibmFtZVwiOlwi6IGa5b2xXCIsXCJ1cmxcIjpcImhpa2VyOi8vc2VhcmNoP3J1bGU96IGa5b2xJnM9XCJ9LHtcIm5hbWVcIjpcIuW9seinhlwiLFwidXJsXCI6XCJoaWtlcjovL3NlYXJjaD9zaW1wbGU9ZmFsc2UmcnVsZT3kurrkurrop4bpopFBUFAmcz1cIn0se1wibmFtZVwiOlwi55+t5YmnXCIsXCJ1cmxcIjpcImhpa2VyOi8vc2VhcmNoP3NpbXBsZT1mYWxzZSZydWxlPeays+mprOWJp+WcukFQUCZzPVwifSx7XCJuYW1lXCI6XCLpn7PkuZBcIixcInVybFwiOlwiaGlrZXI6Ly9zZWFyY2g/c2ltcGxlPWZhbHNlJnJ1bGU95q2M6K+N6YCC6YWNJnM9XCJ9LHtcIm5hbWVcIjpcIuS7k+W6k1wiLFwidXJsXCI6XCJoaWtlcjovL3NlYXJjaD9ydWxlPemBk+mVv+S7k+W6k1BybyZzPVwifSx7XCJuYW1lXCI6XCLmkJzni5dcIixcInVybFwiOlwiaHR0cHM6Ly9tLnNvZ291LmNvbS93ZWIvc2VhcmNoTGlzdC5qc3A/c19mcm9tPXBjc2VhcmNoJmtleXdvcmQ9XCJ9LHtcIm5hbWVcIjpcIjM2MFwiLFwidXJsXCI6XCJodHRwczovL20uc28uY29tL3M/aWU9dXRmLTgmZnI9bm9uZSZzc2lkPSZxPVwifSx7XCJuYW1lXCI6XCLlv4XlupRcIixcInVybFwiOlwiaHR0cHM6Ly9jbi5iaW5nLmNvbS9zZWFyY2g/cT1cIn0se1wibmFtZVwiOlwi5aS45YWLXCIsXCJ1cmxcIjpcImh0dHBzOi8vcXVhcmsuc20uY24vcz9xPVwifV0nKTtcbn1cblxudmFyIHNlYXJjaF91cmwgPSBnZXRJdGVtKCdzZWFyY2hfdXJsJywgJ2h0dHBzOi8vbS5iYWlkdS5jb20vcz93b3JkPScpO1xubGV0IHNlYXJjaF9pbnB1dCA9IGdldEl0ZW0oJ3NlYXJjaF9pbnB1dCcsICcnKTtcbmxldCBzZWFyY2hfY29sb3IgPSBnZXRJdGVtKCdzZWFyY2hfY29sb3InLCAn55m+5bqmJyk7XG52YXIgc2VhcmNoX2xpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nKSk7XG5zby5wdXNoKHtcbiAgICB0aXRsZTogJ+aQnOe0oicsXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXG4gICAgZGVzYzogJ+i+k+WFpeS9oOaDs+aQnOe0oueahCcsXG4gICAgdXJsOiAkLnRvU3RyaW5nKChzZWFyY2hfdXJsKSA9PiB7XG4gICAgICAgIGlmICghaW5wdXQpIHtcbiAgICAgICAgICAgIHN0YXJ0UVJTY2FuUGFnZSgpO1xuICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0SXRlbSgnc2VhcmNoX2lucHV0JywgaW5wdXQpO1xuICAgICAgICAgICAgdmFyIHVybCA9IHNlYXJjaF91cmwgKyBpbnB1dDtcbiAgICAgICAgICAgIHJldHVybiB1cmxcbiAgICAgICAgfVxuICAgIH0sIHNlYXJjaF91cmwpLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0SXRlbSgnc2VhcmNoX2lucHV0JywgJycpLFxuICAgICAgICBvbkNoYW5nZTogJ3NldEl0ZW0oXCJzZWFyY2hfaW5wdXRcIixpbnB1dCknXG4gICAgfVxufSk7XG5zby5wdXNoKHtcbiAgICB0aXRsZTogJ/CfkYknLFxuICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXG4gICAgdXJsOiBcInNlbGVjdDovL1wiICsgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICBcIueuoeeQhlwiLFxuICAgICAgICAgICAgXCLph43nva5cIlxuICAgICAgICBdLFxuICAgICAgICBhdHRhY2hWaWV3OiB0cnVlLFxuICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaW5wdXQgPT0gXCLnrqHnkIZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmkJzntKLnrqHnkIYnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn56S65L6LOiDnmb7luqZAaHR0cHM6Ly9tLmJhaWR1LmNvbS9zP3dvcmQ9JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly/lkI3np7BA5pCc57Si6ZO+5o6lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4p6VJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICflkI3np7BA5pCc57Si6ZO+5o6lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gJ3RvYXN0Oi8v6L6T5YWl5Li656m6JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGlucHV0LnNwbGl0KCdAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoX25hbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogbmFtZVsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2ggPSBzZWFyY2guY29uY2F0KHNlYXJjaF9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicsIEpTT04uc3RyaW5naWZ5KHNlYXJjaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+a3u+WKoOaIkOWKn35cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KclO+4j+aTjeS9nOWujOeCueaIkScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JpZ19ibGFua19ibG9jaycsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2guZm9yRWFjaChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZGV4ICsgJy4nICsgaXRlbS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBpdGVtLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGl0ZW0udXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfnp7vkvY0nLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6nmk43kvZwnKS5zZWxlY3QoKGluZGV4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoaXRlbS5uYW1lICsgJ0AnICsgaXRlbS51cmwsICflkI3np7BA5pCc57Si6ZO+5o6lJykuaW5wdXQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2hvdyA9IGlucHV0LnNwbGl0KCdAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoW2luZGV4XSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc2hvd1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzaG93WzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicsIEpTT04uc3RyaW5naWZ5KHNlYXJjaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5pu05pS55oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn56e75L2NJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfor7fovpPlhaXopoHnp7vliqjliLDlk6rkuKrluo/lj7fliY3pnaInKS5pbnB1dCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VhcmNoID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gc2VhcmNoW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2guc3BsaWNlKGlucHV0LCAwLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2guc3BsaWNlKGluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJywgSlNPTi5zdHJpbmdpZnkoc2VhcmNoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/np7vkvY3miJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nLCBKU09OLnN0cmluZ2lmeShzZWFyY2gpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4LCBpdGVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LmgaLlpI3pu5jorqQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfSksXG59KTtcbnNlYXJjaF9saXN0Lm1hcChzID0+IHtcbiAgICBzby5wdXNoKHtcbiAgICAgICAgdGl0bGU6IHNlYXJjaF9jb2xvciA9PSBzLm5hbWUgPyAn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9I2ZkMjY4YT4nICsgcy5uYW1lICsgJzwvZm9udD4nIDogcy5uYW1lLFxuICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxuICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKHMpID0+IHtcbiAgICAgICAgICAgIHNldEl0ZW0oJ3NlYXJjaF91cmwnLCBzLnVybCk7XG4gICAgICAgICAgICBzZXRJdGVtKCdzZWFyY2hfY29sb3InLCBzLm5hbWUpXG4gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknXG4gICAgICAgIH0sIHMpLFxuICAgIH0pO1xufSk7XG5zbyJ9XSwiZm9sZF9zdGF0dXMiOnRydWUsInBhdHRlcm4iOjN9LHsibmFtZSI6IuaUtuiXjyIsIm1hcmsiOiLlsI/mtbfmiqUiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTmlLbol48iLCJ0aXRsZSI6IiIsInVybCI6Imhpa2VyOi8vY29sbGVjdGlvbiIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL3ZpbnVhL3ZLa1FiLmpwZWciLCJkZXNjIjoiQGpzOifmlLbol48oJytjb2xsZWN0aW9uLmxlbmd0aCsnKSciLCJ0eXBlIjoibW92aWVfMiJ9LHsic3RhdHVzIjpmYWxzZSwicGF0dGVybiI6MCwibmFtZSI6IuaIkeeahOWwj+eoi+W6jyIsInRpdGxlIjoiIiwidXJsIjoiaGlrZXI6Ly9ob21lIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vdmludWEvdktZOTguanBlZyIsImRlc2MiOiJAanM6J+eoi+W6jygnK2dldFJ1bGVDb3VudCgpKycpJyIsInR5cGUiOiJtb3ZpZV8yIn0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTlsI/nqIvluo/lvLnnqpfliIbnu4TluKblm77moIciLCJ0aXRsZSI6IiIsInVybCI6IkBqczogdmFyIGh0bWwgPSBKU09OLnBhcnNlKHJlcXVlc3QoXCJoaWtlcjovL2hvbWVcIikpOyB2YXIgZ3JvdXBsaXN0ID0gW107IHZhciBhcHBsZXRsaXN0ID0gW107IGZvciAoaSA9IDA7IGkgPCBodG1sLmxlbmd0aDsgaSsrKSB7ICAgICBncm91cGxpc3QucHVzaChodG1sW2ldLmdyb3VwKTsgfSBncm91cGxpc3QgPSBBcnJheS5mcm9tKG5ldyBTZXQoZ3JvdXBsaXN0KSk7IGZvciAoaSA9IDA7IGkgPCBncm91cGxpc3QubGVuZ3RoOyBpKyspIHsgICAgIGdyb3VwbmFtZSA9IGdyb3VwbGlzdFtpXTsgICAgIGFwcGxldGxpc3RbaV0gPSBbXTsgICAgIGh0bWwuZm9yRWFjaChlbGVtZW50ID0+IHsgICAgICAgICBpZiAoZWxlbWVudC5ncm91cCA9PSBncm91cG5hbWUpIHsgICAgICAgICAgICAgYXBwbGV0bGlzdFtpXS5wdXNoKHsgICAgICAgICAgICAgICAgICd0aXRsZSc6IGVsZW1lbnQudGl0bGUsICAgICAgICAgICAgICAgICAnaWNvbic6IGVsZW1lbnQuaWNvbiAgICAgICAgICAgICB9KTsgICAgICAgICB9ICAgICB9KTsgICAgIHZhciBhcHBsaXN0ID0gYXBwbGV0bGlzdFtpXTsgICAgIHVybCA9ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGFwcGxpc3QpID0+IHsgICAgICAgICByZXR1cm4gJChhcHBsaXN0LCAyLCAn6YCJ5oup5bCP56iL5bqPJykuc2VsZWN0KCgpID0+IHsgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2hvbWVAJyArIGlucHV0ICAgICAgICAgfSkgICAgIH0sIGFwcGxpc3QpOyAgICAgZ3JvdXBsaXN0W2ldID0geyAgICAgICAgICduYW1lJzogZ3JvdXBuYW1lLCAgICAgICAgICd1cmwnOiB1cmwsICAgICB9OyB9IHZhciBsaXN0ID0gZ3JvdXBsaXN0Lm1hcChncm91cCA9PiBncm91cC5uYW1lKTsgJChsaXN0LCAzLCAn6YCJ5oup5YiG57uEJykuc2VsZWN0KChncm91cGxpc3QpID0+IHsgICAgIGxldCBmeiA9IGdyb3VwbGlzdC5maW5kSW5kZXgoZ3JvdXAgPT4gZ3JvdXAubmFtZSA9PSBpbnB1dCk7ICAgICByZXR1cm4gZ3JvdXBsaXN0W2Z6XS51cmw7IH0sIGdyb3VwbGlzdCkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS92aW51YS92S1k5OC5qcGVnIiwiZGVzYyI6IkBqczon56iL5bqPKCcrZ2V0UnVsZUNvdW50KCkrJyknIiwidHlwZSI6Im1vdmllXzIifSx7InN0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTlsI/nqIvluo/lhajpg6giLCJ0aXRsZSI6IiIsInVybCI6IkBqczogdmFyIGh0bWwgPSBKU09OLnBhcnNlKHJlcXVlc3QoXCJoaWtlcjovL2hvbWVcIikpOyB2YXIgYXBwbGV0bGlzdCA9IFtdOyBodG1sLmZvckVhY2goZWxlbWVudCA9PiB7ICAgICBhcHBsZXRsaXN0LnB1c2goeyAgICAgICAgICd0aXRsZSc6IGVsZW1lbnQudGl0bGUsICAgICAgICAgJ2ljb24nOiBlbGVtZW50Lmljb24gICAgIH0pOyB9KTsgdmFyIGFwcGxpc3QgPSBhcHBsZXRsaXN0OyB1cmwgPSAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChhcHBsaXN0KSA9PiB7ICAgICByZXR1cm4gJChhcHBsaXN0LCAzLCAn5oiR55qE5bCP56iL5bqPKOWFqOmDqCknKS5zZWxlY3QoKCkgPT4geyAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9ob21lQCcgKyBpbnB1dCAgICAgfSkgfSwgYXBwbGlzdCk7IiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vdmludWEvdktZOTguanBlZyIsImRlc2MiOiJAanM6J+eoi+W6jygnK2dldFJ1bGVDb3VudCgpKycpJyIsInR5cGUiOiJtb3ZpZV8yIn1dLCJmb2xkX3N0YXR1cyI6dHJ1ZSwicGF0dGVybiI6M30seyJuYW1lIjoi5Zub5qCH6aKYIiwibWFyayI6IiIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuacgOi/kSIsInRpdGxlIjoi5pyA6L+RIiwidXJsIjoiQGpzOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgIHZhciBydWxlcyA9IGdldExhc3RSdWxlcygxNikubWFwKHIgPT4geyAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgIHRpdGxlOiByLnRpdGxlLCAgICAgICAgICAgICBpY29uOiByLmljb24gICAgICAgICB9OyAgICAgICAgIH0pOyAgICAgcmV0dXJuICQocnVsZXMsIDIsICfmnIDov5Hkvb/nlKgnKS5zZWxlY3QoKCkgPT4geyAgICAgICAgIHJldHVybiBcImhpa2VyOi8vaG9tZUBcIiArIGlucHV0ICAgICB9KSB9KSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5bi455SoIiwiY29kZSI6ImlmICghZmlsZUV4aXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKSB7XG4gICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJywgJ1t7XCJ0aXRsZVwiOlwi6ZW/5oyJ5bi455So5re75YqgXCIsXCJpY29uXCI6XCJoaWtlcjovL2ltYWdlcy9ob21lX2JnXCJ9XScpO1xufVxubGV0IHByb2dyYW0gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJykpO1xuW3tcbiAgICB0aXRsZTogJ+W4uOeUqCcsXG4gICAgY29sX3R5cGU6ICd0ZXh0XzQnLFxuICAgIHVybDogJChwcm9ncmFtLCAyLCAn5bi455So5bCP56iL5bqPJykuc2VsZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKGlucHV0ID09ICfplb/mjInluLjnlKjmt7vliqAnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6ZW/5oyJ5bi455So566h55CG5re75YqgJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2hvbWVAJyArIGlucHV0O1xuICAgICAgICB9XG4gICAgfSksXG4gICAgZXh0cmE6IHtcbiAgICAgICAgbG9uZ0NsaWNrOiBbe1xuICAgICAgICAgICAgdGl0bGU6ICfwn5W5IOW4uOeUqOWwj+eoi+W6j+euoeeQhicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+Wwj+eoi+W6j+euoeeQhicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfnpLrkvos6IOiBmuW9sUBodHRwczovL2FwaS54aW5hYy5uZXQvaWNvbi8/dXJsPWh0dHBzOi8vZ2l0aHViLmNvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8v6IGa5b2xQGh0dHBzOi8vYXBpLnhpbmFjLm5ldC9pY29uLz91cmw9aHR0cHM6Ly9naXRodWIuY29tJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4p6VJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfnqIvluo/lkI3np7BA5Zu+54mH6ZO+5o6lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gJ3RvYXN0Oi8v6L6T5YWl5Li656m6JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGlucHV0LnNwbGl0KCdAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyYW1fbmFtZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5hbWVbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IG5hbWVbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gcHJvZ3JhbS5jb25jYXQocHJvZ3JhbV9uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nLCBKU09OLnN0cmluZ2lmeShwcm9ncmFtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5re75Yqg5oiQ5YqfflwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+RiSDku47mnIDov5Hmt7vliqAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcnVsZXMgPSBnZXRMYXN0UnVsZXMoNTApLm1hcChyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiByLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogci5pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChydWxlcywgMiwgJ+eCueWHu+a3u+WKoCcpLnNlbGVjdCgocnVsZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBydWxlcy5maW5kSW5kZXgociA9PiByLnRpdGxlID09IGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBydWxlc1thXS5pY29uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyYW0gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtID0gcHJvZ3JhbS5jb25jYXQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicsIEpTT04uc3RyaW5naWZ5KHByb2dyYW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+a3u+WKoOaIkOWKn35cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBydWxlcylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KclO+4j+aTjeS9nOWujOeCueaIkScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMicsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2sodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JsYW5rX2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHByb2dyYW0gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmRleCArICcuJyArIGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzJfcm91bmQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaXRlbS5pY29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfnp7vkvY0nLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6nmk43kvZwnKS5zZWxlY3QoKGluZGV4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoaXRlbS50aXRsZSArICdAJyArIGl0ZW0uaWNvbiwgJ+ivt+i+k+WFpeaDs+abtOaNoueahOWwj+eoi+W6j+WQjScpLmlucHV0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2hvdyA9IGlucHV0LnNwbGl0KCdAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbVtpbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBzaG93WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBzaG93WzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nLCBKU09OLnN0cmluZ2lmeShwcm9ncmFtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mm7TmlLnmiJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnp7vkvY0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+ivt+i+k+WFpeimgeenu+WKqOWIsOWTquS4quW6j+WPt+WJjemdoicpLmlucHV0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHByb2dyYW1baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW0uc3BsaWNlKGlucHV0LCAwLCB0ZW1wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCBpbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNwbGljZShpbmRleCArIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJywgSlNPTi5zdHJpbmdpZnkocHJvZ3JhbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v56e75L2N5oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW0uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicsIEpTT04uc3RyaW5naWZ5KHByb2dyYW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4LCBpdGVtKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246ICdsZWZ0J1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XSxcbiAgICB9XG59XSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5pel5bi4IiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWycg4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzFBQjE2Qj7ml6XluLg8L2ZvbnQ+Jywn5pel5bi4J11cIixcIjxUYWI+QFsn5pel5bi45Lmm562+57uEJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+aXpeW4uOS5puetvue7hCcsJ+W8gOWFsyddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLlqLHkuZAiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJyDigJjigJjigJnigJk8Zm9udCBjb2xvcj0jMmViN2ZlPuWoseS5kDwvZm9udD4nLCflqLHkuZAnXVwiLFwiPFRhYj5AWyflqLHkuZDkuabnrb7nu4QnXVwiLG9yZGVyKSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn5aix5LmQ5Lmm562+57uEJywn5byA5YWzJ11cIixvcmRlcikiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzQifV0sImZvbGRfc3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLml6XluLjkuabnrb7nu4QiLCJtYXJrIjoi5byA5YWzIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi6ZuF5ZCsIiwidGl0bGUiOiLpm4XlkKwiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgnJyk7ICAgICBsZXQgZCA9IFtdOyAgICAgZC5wdXNoKHsgICAgICAgICB0aXRsZTogJ+WWnOmprOaLiembhScsICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yNTgucG5nJywgICAgICAgICBkZXNjOiAn566h55CGJywgICAgICAgICB1cmw6IFwic2VsZWN0Oi8vXCIgKyBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgIG9wdGlvbnM6IFtcIueuoeeQhlwiLCBcIum7mOiupFwiXSwgICAgICAgICAgICAgYXR0YWNoVmlldzogdHJ1ZSwgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICfnrqHnkIYnKSB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aVsOaNrueuoeeQhicpOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqAnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5ZCN56ewQGlkQOWbvueJh+mTvuaOpUDkuLvmkq3lkI3np7AnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+agueaNruaPkOekuui+k+WFpeWGheWuuVwiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4bWx5ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5ID0geG1seS5jb25jYXQoaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicsIEpTT04uc3RyaW5naWZ5KHhtbHkpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a3u+WKoOaIkOWKnycgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHhtbHkgPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhtbHkubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0geG1seVtpXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gaXRlbS5zcGxpdCgnQCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaW5kZXggKyAnLicgKyBsaXN0WzBdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBsaXN0WzJdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfnp7vkvY0nLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6nmk43kvZwnKS5zZWxlY3QoKGluZGV4LCBpdGVtKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoaXRlbSwgJ+aDs+imgeabtOaNoueahOWGheWuuVxcbuWQjeensC1pZC3lm77niYfpk77mjqUt5Li75pKt5ZCN56ewJykuaW5wdXQoKGluZGV4KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhtbHkgPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbHlbaW5kZXhdID0gaW5wdXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJywgSlNPTi5zdHJpbmdpZnkoeG1seSkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5pu05pS55oiQ5YqfficgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnp7vkvY0nKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+imgeenu+WKqOWIsOWTquS4quW6j+WPt+WJjemdoi/lkI7pnaInKS5pbnB1dCgoaW5kZXgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeG1seSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSB4bWx5W2luZGV4XTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5LnNwbGljZShpbnB1dCwgMCwgdGVtcCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0IDwgaW5kZXgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seS5zcGxpY2UoaW5kZXggKyAxLCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5LnNwbGljZShpbmRleCwgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicsIEpTT04uc3RyaW5naWZ5KHhtbHkpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+enu+S9jeaIkOWKn34nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4bWx5ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbHkuc3BsaWNlKGluZGV4LCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicsIEpTT04uc3RyaW5naWZ5KHhtbHkpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgsIGl0ZW0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpOyAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5oGi5aSN6buY6K6kJyAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KSAgICAgICAgIH0pLCAgICAgfSk7ICAgICBkLnB1c2goeyAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICBkZXNjOiAn6L6T5YWl5L2g5oOz5pCc57Si55qEJywgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+i+k+WFpeWFs+mUruivjVwiOyAgICAgICAgICAgICB2YXIgdHh0ID0gaW5wdXQ7ICAgICAgICAgICAgIHNldEl0ZW0oJ+mbheWQrCcsIHR4dCk7ICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5IyNmeXBhZ2UjZnVsbFRoZW1lIyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodHh0KSA9PiB7ICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vc2VhcmNoLnhpbWFsYXlhLmNvbS9mcm9udC92MT9kZXZpY2U9YW5kcm9pZCZjb25kaXRpb249cmVsYXRpb24mY29yZT1hbGJ1bSZzcGVsbGNoZWNrZXI9dHJ1ZSZrdz0nICsgdHh0ICsgJyZwYWdlPScgKyBNWV9QQUdFICsgJyZyb3dzPTYwJykpLnJlc3BvbnNlLmRvY3M7ICAgICAgICAgICAgICAgICBqc29uLm1hcChsID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gbC5jb3Zlcl9wYXRoLnNwbGl0KCchJylbMF07ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGwudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWMnLCAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9I0ZBNzI5OD4nICsgbC5pbnRybyArICc8L2ZvbnQ+JywgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgobCwgaW1nKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUobC50aXRsZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2UgPSBnZXRWYXIoJ3htbHlfcGFnZScsICcxJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNjID0gZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vbW9iaWxlLnhpbWFsYXlhLmNvbS9tb2JpbGUvb3RoZXJzL2NhL2FsYnVtL3RyYWNrLycgKyBsLmlkICsgJy8nICsgYXNjICsgJy8nICsgcGFnZSArICcvNjA/YWxidW1JZD0nICsgbC5pZCArICcmcGFnZVNpemU9NjAmaXNBc2M9JyArIGFzYyArICcmcG9zaXRpb249MSZkZXZpY2U9YW5kcm9pZCcpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBNYXRoLmNlaWwoanNvbi5hbGJ1bS50cmFja3MgLyA2MCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnJywgJ+mcgOimgee/u+mhteeahOaVsOWtl++8jOavj+mhtTYw44CCXFxuXFxu5YWx77yaJyArIGpzb24uYWxidW0udHJhY2tzICsgJ+adoeiKguebru+8jCcgKyBwYWdlICsgJy8nICsgdG90YWwgKyAn6aG144CCJykuaW5wdXQoKHRvdGFsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpemhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID4gdG90YWwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6K+36L6T5YWl5q2j5bi46aG156CBJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcigneG1seV9wYWdlJywgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0b3RhbCksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuLvmkq06ICcgKyBsLm5pY2tuYW1lICsgJ1xcdFxcdOiKguebrignICsganNvbi5hbGJ1bS50cmFja3MgKyAnKScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBhc2MgPT0gJ3RydWUnID8gJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTIzLnN2ZycgOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tZXNzeS8xMjQuc3ZnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogYXNjID09ICd0cnVlJyA/ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PuacgOaWsDwvZm9udD4nIDogJzxmb250IGNvbG9yPSNGQTcyOTg+6aG65bqPPC9mb250PicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpID09ICdmYWxzZScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclZhcign5o6S5bqPJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcign5o6S5bqPJywgJ2ZhbHNlJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHJhY2tzLmxpc3QuZm9yRWFjaCgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogai5wbGF5VXJsNjQgKyAnI2lzTXVzaWM9dHJ1ZSMnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCwgaW1nKSwgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoOWIsOmmlumhtScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGwsIGltZykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9IChsLnRpdGxlICsgJ0AnICsgbC5pZCArICdAJyArIGltZyArICdAJyArIGwubmlja25hbWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seSA9IHhtbHkuY29uY2F0KGxpbmspOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nLCBKU09OLnN0cmluZ2lmeSh4bWx5KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2sodHJ1ZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mt7vliqDmiJDlip8nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCwgaW1nKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgfSksICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRJdGVtKCfpm4XlkKwnLCAnJyksICAgICAgICAgICAgIG9uQ2hhbmdlOiAnc2V0SXRlbShcIumbheWQrFwiLGlucHV0KScsICAgICAgICAgfSAgICAgfSk7ICAgICBsZXQgeG1seV90aXRsZSA9IFsn5pyJ5aOw5LmmJywgJ+mfs+S5kCcsICfnm7jlo7Dor4TkuaYnLCAn5bm/5pKt5YmnJywgJ+WoseS5kCcsICflvbHop4YnLCAn5YS/56ulJywgJ+WOhuWPsicsICfllYbkuJrotKLnu48nLCAn5Lq65paHJywgJ+aVmeiCsuWfueiurScsICdJVOenkeaKgCcsICflpJbor60nLCAn5aS05p2hJywgJ+S6jOasoeWFgycsICfmiI/mm7InLCAn5peF5ri4JywgJ+WBpeW6t+WFu+eUnycsICfml7blsJrnlJ/mtLsnXTsgICAgIHZhciB4bWx5X2lkID0gWyd5b3VzaGVuZ3NodScsICd5aW55dWUnLCAneGlhbmdzaGVuZycsICdndWFuZ2JvanYnLCAneXVsZScsICd5aW5nc2hpJywgJ2VydG9uZycsICdsaXNoaScsICdzaGFuZ3llJywgJ3JlbndlbicsICdqaWFveXUnLCAna2VqaScsICd3YWl5dScsICd0b3V0aWFvJywgJ2VyY2l5dWFuJywgJ3hpcXUnLCAnbHZ5b3UnLCAnamlhbmthbmcnLCAnc2hpc2hhbmcnXTsgICAgIGxldCB4bWx5X2ZsID0geG1seV90aXRsZS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7ICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgbmFtZTogaXRlbSwgICAgICAgICAgICAgaWQ6IHhtbHlfaWRbaW5kZXhdICAgICAgICAgfTsgICAgIH0pOyAgICAgeG1seV9mbC5tYXAoaiA9PiB7ICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSwgICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJywgICAgICAgICAgICAgdXJsOiAkKCdoaWtlcjovL2VtcHR5I2Z1bGxUaGVtZSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKGopID0+IHsgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vbS54aW1hbGF5YS5jb20vbS1yZXZpc2lvbi9wYWdlL3JhbmsvcXVlcnlSYW5rP2NsdXN0ZXJDb2RlPXJpc2UmcGFnZT0xJmNhdGVnb3J5Q29kZT0nICsgai5pZCkpLmRhdGE7ICAgICAgICAgICAgICAgICBqc29uLnJhbmtNb2R1bGVJbmZvTGlzdC5tYXAobCA9PiB7ICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9ICdodHRwczovL2ltYWdldjIueG1jZG4uY29tLycgKyBsLmFsYnVtSW5mby5jb3ZlcjsgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogbC5hbGJ1bUluZm8udGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWMnLCAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBsLmFsYnVtSW5mby5zaG9ydEludHJvID8gJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSNGQTcyOTg+JyArIGwuYWxidW1JbmZvLnNob3J0SW50cm8gKyAnPC9mb250PicgOiAn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9I0ZBNzI5OD4nICsgbC5hbGJ1bUluZm8uc2FsZVBvaW50ICsgJzwvZm9udD4nLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdoaWtlcjovL2VtcHR5I2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChsLCBpbWcpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZShsLmFsYnVtSW5mby50aXRsZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBhZ2UgPSBnZXRWYXIoJ3htbHlfcGFnZScsICcxJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXNjID0gZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vbW9iaWxlLnhpbWFsYXlhLmNvbS9tb2JpbGUvb3RoZXJzL2NhL2FsYnVtL3RyYWNrLycgKyBsLmlkICsgJy8nICsgYXNjICsgJy8nICsgcGFnZSArICcvNjA/YWxidW1JZD0nICsgbC5pZCArICcmcGFnZVNpemU9NjAmaXNBc2M9JyArIGFzYyArICcmcG9zaXRpb249MSZkZXZpY2U9YW5kcm9pZCcpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBNYXRoLmNlaWwoanNvbi5hbGJ1bS50cmFja3MgLyA2MCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnJywgJ+mcgOimgee/u+mhteeahOaVsOWtl++8jOavj+mhtTYw44CCXFxuXFxu5YWx77yaJyArIGpzb24uYWxidW0udHJhY2tzICsgJ+adoeiKguebru+8jCcgKyBwYWdlICsgJy8nICsgdG90YWwgKyAn6aG144CCJykuaW5wdXQoKHRvdGFsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpemhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID4gdG90YWwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6K+36L6T5YWl5q2j5bi46aG156CBJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcigneG1seV9wYWdlJywgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0b3RhbCksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuLvmkq06ICcgKyBqc29uLmFsYnVtLm5pY2tuYW1lICsgJ1xcdFxcdOiKguebrignICsganNvbi5hbGJ1bS50cmFja3MgKyAnKScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBhc2MgPT0gJ3RydWUnID8gJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTIzLnN2ZycgOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tZXNzeS8xMjQuc3ZnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogYXNjID09ICd0cnVlJyA/ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PuacgOaWsDwvZm9udD4nIDogJzxmb250IGNvbG9yPSNGQTcyOTg+6aG65bqPPC9mb250PicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpID09ICdmYWxzZScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclZhcign5o6S5bqPJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcign5o6S5bqPJywgJ2ZhbHNlJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24udHJhY2tzLmxpc3QuZm9yRWFjaCgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogai5wbGF5VXJsNjQgKyAnI2lzTXVzaWM9dHJ1ZSMnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCwgaW1nKSwgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCBqKSwgICAgICAgICB9KTsgICAgIH0pOyAgICAgaWYgKGZpbGVFeGlzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSA9PSBmYWxzZSkgeyAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicsICdbXCIxMOWIhumSn+aWsOmXu+aXqemkkEA2ODU4OTM1N0BodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzLzBmMzQtYXVkaW9mcmVlaGlnaHFwcy85RC82Ny9HS3dSSVJ3R2VIU2JBQUY1bEFGb1RDWGkuanBlZ0DllpzpqazlpLTmnaFcIiwgXCLnu5nkvaDmrYzkuIDmm7JAMzY0MTc4QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vc3RvcmFnZXMvNTkyYy1hdWRpb2ZyZWVoaWdocXBzLzNGLzM5L0dLd1JJRG9JNHhjcEFBN1dfQUplMzNVUy5qcGVnQOW8oOe+ilwiLCBcIumfs+S5kOS8mOWTgUAyNjUwMDA5QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA0MC9NMEIvNDIvOUEvd0tnSlZGcWp1ZkR3Si0yN0FBRXRZenkyU3dzMDE3LmpwZ0DkuLvmkq3lj7blrZBcIiwgXCLnlJ/mtLvmnYLlv5dAMzY2MzA2MDZAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDc1L00wNi84My8wRS93S2dPMDE2UlE0ZXdpeC1NQUNhcDFfYl9KS2MyMDcuanBnQE1ha2VWb2ljZVwiLCBcIumdnuW4uOa6nOS9s+acn3zniIbnrJHlkJDmp73mrKLkuZDop6PljotAMjQ5MDIwQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXAzMC9NMEIvQkUvMTEvd0tnSlhsblNabHpob3Y2ckFBR3lSdEhQSkJnMjU0LmpwZ0DkvbPmnJ9cIiwgXCLmrrXlrZDmnaXkuoZAMjAzMzU1QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA1L00wMy9BNi9EOC93S2dEdGxSMU1EX1QxRFFIQUFOcVpEeWs0OHM3MjAuanBnQOmHh+mHh1wiLCBcIuS4gOWNg+mbtuS4gOeske+9nOedoeedgOmDveiDveeskemGkueahOauteWtkEAyMzc0MjI2OUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNjAvTTA2LzQwLzgzL3dLZ0xiMXprSEllZ2xyNlZBQi14MDZLaFdKTTkxNy5qcGdA6aW85bmyR0FOXCIsIFwi5Lic5YyX6K6y56yR6K+dQDM1NTU4NzBAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDQ0L00wMC9BRi9CQy93S2dLakZzd0xydkJpVENDQUFoUEVEMHppM1E3ODYuanBnQOmYv+WTiOS4nOWMl1wiLCBcIuWmmeWuh+i/nuacseKUgui2o+mXu+WQkOanvSDniIbnrJHmnInmlpnvvIFAMjcwNTM1QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA3Ni9NMDkvMDYvQjQvd0tnTzNsNUdSdmVCeTlQZkFBUkVPLWp0V0YwMDQ3LmpwZ0DmnLHlrodcIiwgXCLku4rmmZrohLHlj6Pnp4BANDczNTQyMkBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzL2FhNjMtYXVkaW9mcmVlaGlnaHFwcy85QS85NC9DTUNvT1NRRHk0X1hBQUNQaGdCNF9CaU4uanBnQOS7iuaZmuiEseWPo+engFwiLCBcIuaAu+aciei/meagt+eahOatjOWPquaDs+S4gOS4quS6uuWQrEAzNTk1ODQxQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA1NC9NMDMvQkUvODkvd0tnTGNsdzF5MlBqRU5EOEFBR04yU0tQUE5NMzkxLmpwZ0DngbDlp5HlqJjpn7PkuZBcIiwgXCLmgLvmnInkuIDpppbmrYzkuKjkvJrorqnkvaDljZXmm7Llvqrnjq/liLDmg7Plk61ANDU1MjUxOTJAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy8xNzNkLWF1ZGlvZnJlZWhpZ2hxcHMvMUQvQUMvR0t3UklKRUdEZ19JQUFPUFlRRXRQN3ZpLmpwZWdA54Of6Iqx6L+35Lq655y8XCIsIFwi6Z+z5LmQ6K6w5LqL5pysfOS4gOmmluatjOS4gOS4quaVheS6i0A0NzIxMDAzMEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzLzkyM2EtYXVkaW9mcmVlaGlnaHFwcy85RS84Ri9HS3dSSVVFSGpEekdBQUdHREFIbzA5TU0uanBnQOafoOaqrOmmmemmmUZNXCIsIFwi6YKj5Lqb5aW95ZCs55qE5aWz55Sf57+75ZSxQDMxNzUxNTIyQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA2OS9NMDUvQ0YvRDkvd0tnTWIxMzNLTUNDUW1pU0FBRHFKVUtHZk5FMzc1LmpwZ0DoirHlsI/lsI/ojLVcIiwgXCLmva7mtYHpn7PkuZBAMTk1MjEzNjVAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDQ5L00wNy8wNy9BRC93S2dLbDF2MzlrYVFSaU9IQUFGcFhPR2s3Sms1MDEucG5nQOWwj+advuaOqOiNkFwiLCBcIumCo+S6m+S4gOWQrOWwseaEn+WKqOeahOe7j+WFuOeUteW9seWQjeabskAzOTE2MzcyNUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwODMvTTAyL0VGLzhEL3dLZzVIVjhOVWY3QTh5ejNBQVRodzhMaHVaWTYyMS5qcGdA5Y+25LqR5bed55qE55Ge6bij6Z+z5LmQ5Y+wXCIsIFwi5pma5a6J5aaI5aaI552h5YmN5pWF5LqLQDI2MDc0NEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNTgvTTA2LzA4LzlCL3dLZ0xnbHpUeVRqaU95MG9BQWNPVHYxNm9oZzgxNS5qcGdA5pma5a6J5aaI5aaIXCIsIFwi5rCR6Ze06K+h5pWF5LqLQDI5NTM1NzUwQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA2OS9NMDgvQjIvRTUvd0tnTWVWM2dsU1RRUE5NZEFDeXQxX2tfbERJODEzLmpwZ0DpmL/mtanor7TkuovlhL9cIiwgXCLlj6TnrZ3lkI3mm7LmrKPotY/lj6TnrZ3nu4/lhbjlkI3mm7JAMTY3OTI4NTRAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDQ2L00wNC9BQS9COC93S2dLbGx0cWlpTEF6anlKQUFETFpNeTZ2WkkxMzYuanBnQOWWnOmprOadpeWVplwiLCBcIue7j+WFuOWPpOS5kC3lj6TnkLTljYHlpKflkI3mm7JANjMxNzI2NUBodHRwczovL2ltZzIuYmFpZHUuY29tL2l0L3U9MTMzMzgwNzkwMCwyOTQ4NjMwMzMxJmZtPTI1MyZmbXQ9YXV0byZhcHA9MTM4JmY9SlBFR0B4aWV4aWV4aWV4aWVcIiwgXCLjgJDkuJbnlYzkuIrmnIDnvo7nmoTpkqLnkLTmm7LjgJHlgqznnKDpn7PkuZBANDA1MDYzOUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwMTMvTTAwLzQwL0Y2L3dLZ0RYVmNLQ2dfQzZtSWxBQVVEcnYxZk9OazE0NS5wbmdA6Iul5Ly85pm05aSp57uN6ZKnXCIsIFwi44CK5aSc6Imy6ZKi55C05puy44CLQDI5MTcxOEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzL2IzZDItYXVkaW9mcmVlaGlnaHFwcy85MS84RS9HTUNvT1NBRnF1RzJBQVU0endFS05vaFoucG5nQOWknOiJsumSoueQtOabsui1tea1t+a0i1wiLCBcIjjliIbpkp/vvIwzROeOr+Wig+WHj+WOi+WGpeaDs3zpn7PkuZDnlpfmhIhAMjgyNDY1NzJAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDY1L00wMi82RC8zRS93S2dNYWwxbF9DckRkNjJqQUFJVnNqeWxKVHM1MDYuanBnQOiAs+eVjF9FYXJtZXJzaW9uXCIsIFwi6L+35Lq655G+Lei9pui9veWKsueIhkRK55S16Z+z6Iie5puyQDU4OTk1MDdAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDg2L00wNS9DMy8xNi93S2c1Smw4SVpodXpfYTlrQUFHZnNveFM3Qjg4NzYuanBnQERK6L+35Lq655G+XCIsIFwi5rCR6LCj57K+6YCJIHwg5ZSx5bC95Lq66Ze055m+5oCBQDMxMzgwOTYyQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA2OC9NMDIvQjMvQTkvd0tnTWJsM2dydFN6TUVHV0FBQTRiSC1ablNvOTEzLmpwZ0DoirHlsI/lsI/ojLVcIiwgXCLnu4/lhbjnlZnlo7DmnLpAMjkwOTk2QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA1MC9NMDgvRkEvRDIvd0tnS25WdnI5dkh6bWMyWEFBVXUtV21fUlNnMzU5LmpwZ0DkuLvmkq3lsI9EXCIsIFwi6K6p5L2g5b6q546v55m+6YGN5Lul5LiK55qE57uP5YW46Iux5paH5q2MQDQ4NjYzNjFAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDc3L00wNy81NS82Qy93S2dPMVY2TnhFU2hseFZIQUFBSlcyWmhzTTg1MTYuanBnQOS4gOeCueaKkuaDhemfs+S5kOmikemBk1wiLCBcIjEwMDDpppblkKzkuI3ohbvnmoTlpb3mrYzkuKjkvJjotKjmrYzljZVAMzI1MTk4MjRAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy83ODI0LWF1ZGlvZnJlZWhpZ2hxcHMvOEUvMTAvR0t3UklNQUZseUQ4QUFITkpnRUZCb1phLmpwZWdA6ZmI6Ie76Ie7XCIsIFwi5bCP5LiD55qE56eB5oi/5q2MQDIzNzc3MUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzL2E3NDAtYXVkaW9mcmVlaGlnaHFwcy81OC8yMC9HTUNvT1I4SGdybHpBQU85dFFIbDdiVnMuanBlZ0DlsI/kuINcIiwgXCLkuJbnlYzkuIrmnIDlpb3lkKznmoTnuq/pn7PkuZBAMTE2NTk4NzNAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDM1L00wMy84Qi81Qy93S2dKbkZvVDRBcURael9FQUFDX0FhUnBqdkE0OTcuanBnQOWtpF/pm7ZcIiwgXCLnu4/lhbjosavliaflkI3lrrblkI3mrrUxMDAw6aaWQDUzNDAzODc2QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vc3RvcmFnZXMvODNjNy1hdWRpb2ZyZWVoaWdocXBzLzY4L0Y1L0NLd1JJVzRGSndnNkFBRXRFUURuRXdoYS5qcGdA5oiP5puy5Lyg5om/5Lq6XCIsIFwi6buE5qKF5oiP57uP5YW45ZCN5a625ZCN5q61MTAwMOmmlkA1MzgzMTY0NEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzL2ZlNDYtYXVkaW9mcmVlaGlnaHFwcy9CRi83RS9HS3dSSURvRnUtVldBQUlHTkFFT1FVYWQuanBlZ0DmiI/mm7LkvKDmib/kurpcIiwgXCLlm73nsrnkuqzliadAMjgyMjQ3OUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNTYvTTA3LzAyL0RDL3dLZ0xnRnlPQ1NPQmdLYXFBQUtWR0JMMFNxazg5NC5qcGdA5byY54S2XCJdJyk7ICAgICB9ICAgICB2YXIgeG1seSA9IGV2YWwoSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKSk7ICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHhtbHkubGVuZ3RoOyBpKyspIHsgICAgICAgICB2YXIgayA9IHhtbHlbaV0uc3BsaXQoJ0AnKTsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZToga1swXSwgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18zJywgICAgICAgICAgICAgcGljOiBrWzJdLCAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycpLnJ1bGUoKGspID0+IHsgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICBsZXQgcGFnZSA9IGdldFZhcigneG1seV9wYWdlJywgJzEnKTsgICAgICAgICAgICAgICAgIHZhciBhc2MgPSBnZXRWYXIoJ+aOkuW6jycsICd0cnVlJyk7ICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHA6Ly9tb2JpbGUueGltYWxheWEuY29tL21vYmlsZS9vdGhlcnMvY2EvYWxidW0vdHJhY2svJyArIGtbMV0gKyAnLycgKyBhc2MgKyAnLycgKyBwYWdlICsgJy82MD9hbGJ1bUlkPScgKyBrWzFdICsgJyZwYWdlU2l6ZT02MCZpc0FzYz0nICsgYXNjICsgJyZwb3NpdGlvbj0xJmRldmljZT1hbmRyb2lkJykpOyAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9IE1hdGguY2VpbChqc29uLmFsYnVtLnRyYWNrcyAvIDYwKTsgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3BpY18xX2Z1bGwnLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGtbMl0sICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnJywgJ+mcgOimgee/u+mhteeahOaVsOWtl++8jOavj+mhtTYw44CCXFxuXFxu5YWx77yaJyArIGpzb24uYWxidW0udHJhY2tzICsgJ+adoeiKguebru+8jCcgKyBwYWdlICsgJy8nICsgdG90YWwgKyAn6aG144CCJykuaW5wdXQoKHRvdGFsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpemhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID4gdG90YWwpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6K+36L6T5YWl5q2j5bi46aG156CBJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcigneG1seV9wYWdlJywgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0b3RhbCksICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuLvmkq06ICcgKyBrWzNdICsgJ1xcdFxcdOiKguebrignICsganNvbi5hbGJ1bS50cmFja3MgKyAnKScsICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBhc2MgPT0gJ3RydWUnID8gJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTIzLnN2ZycgOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tZXNzeS8xMjQuc3ZnJywgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogYXNjID09ICd0cnVlJyA/ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PuacgOaWsDwvZm9udD4nIDogJzxmb250IGNvbG9yPSNGQTcyOTg+6aG65bqPPC9mb250PicsICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpID09ICdmYWxzZScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclZhcign5o6S5bqPJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1dFZhcign5o6S5bqPJywgJ2ZhbHNlJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIGpzb24udHJhY2tzLmxpc3QuZm9yRWFjaCgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGtbMl0sICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBqLnBsYXlVcmw2NCArICcjaXNNdXNpYz10cnVlIycsICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCBrKSAgICAgICAgIH0pOyAgICAgfSAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNy5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi6Z+z5LmQ5q2M5Y2VIiwidGl0bGUiOiLpn7PkuZAiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgn5ZCs54K56Z+z5LmQJyk7ICAgICBsZXQgZCA9IFtdOyAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgIHBpYzogJ2h0dHA6Ly8xMjMuNTYuMTA1LjE0NS93ZWlzeXIvaW1nL1RvcEltZzAucG5nJywgICAgICAgICAgICAgZGVzYzogJzAnLCAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn5bCP5LiD5q2M5Y2VJywgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzNfcm91bmRfZmlsbCcsICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbXVzaWMvODUuc3ZnJywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgICAgICAgICAgICAgIGlmICghZmlsZUV4aXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSkgeyAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCAnW3tcInRpdGxlXCI6XCLng63mkJzmrYzmm7JcIixcImljb25cIjpcImh0dHA6Ly9xcGljLnkucXEuY29tL211c2ljX2NvdmVyL2hLRnJpYk1od0g0Q2x3TldKeGljdUN4anV3SWtiWlBxNEhWVDBRZ3hzZGI4SldRWFhDMlRGc3VRLzYwMD9uPTFcIixcImlkXCI6NzUzMjY3MDUzOH0se1widGl0bGVcIjpcIuaKlumfs+eDremXqFwiLFwiaWNvblwiOlwiaHR0cDovL3FwaWMueS5xcS5jb20vbXVzaWNfY292ZXIvV3B2ZEpYZm43OThpYkQ0Z2NmancwTlN1QmtGVEpZcFk1UU9ldjNFeGNCUWlhbVJjb2JrcE43N2cvNjAwP249MVwiLFwiaWRcIjo3NjMwMzAzNDc0fV0nKTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIHZhciBnZWRhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJykpOyAgICAgICAgICAgICAgICAgcmV0dXJuICQoZ2VkYW4sIDIsICflsI/kuIPmrYzljZUnKS5zZWxlY3QoKGdlZGFuKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBnZWRhbi5maW5kSW5kZXgodCA9PiB0LnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBnZWRhblthXS5pZDsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoaWQpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/kuIPmrYzljZUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS55YW9odWQuY24vYXBpL3FxbXVzaWMvdjI/a2V5PWFVbHlrQTM1S2dtd1BVcGVoSktOYkZqbzZ2JnR5cGU9c29uZ2xpc3QmaWQ9JyArIGlkKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBodG1sLmxpc3QubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nZXI6IGouYXV0aG9yLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsYnVtOiBqLmFsYnVtLm5hbWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqLnBpYywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogai5taWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGh0bWwuaW5mby50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn8J+nuFxcdCcgKyBodG1sLmluZm8uY3JlYXRvci5uaWNrICsgJ1xcblxcbvCfjrxcXHQnICsgaHRtbC5pbmZvLnNvbmdudW0gKyAn6aaWJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaHRtbC5pbmZvLnBpY3VybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnJywgJ+absuWQjeaIluatjOaJiycpLmlucHV0KChqc29uKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoKGFycmF5LCBuYW1lKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheS5maWx0ZXIoaXRlbSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50aXRsZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSkgfHwgaXRlbS5zaW5nZXIudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHRzID0gc2VhcmNoKGpzb24sIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5JykucnVsZSgocmVzdWx0cykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmkJzntKLnu5PmnpwnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzLmZvckVhY2goaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogai5hbGJ1bSA/IGouc2luZ2VyICsgJyAtLSAnICsgai5hbGJ1bSA6IGouc2luZ2VyICsgJyAtLSAnICsgai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqLnBpYywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLmxlYWZvbmUuY24vYXBpL3FxbXVzaWM/dHlwZT0xNCZpZD0nICsgai5pZCkpLmRhdGE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcy51cmwgKyAnI2lzTXVzaWM9dHJ1ZSMnXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0ganMubHJjOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL212X3NxLnBocD9uPTEmbXNnPScgKyBqLnRpdGxlLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanNvblszXSB8fCBqc29uWzJdIHx8IGpzb25bMV0gfHwganNvblswXV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc3VsdHMpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ayoeacieaJvuWIsCcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqc29uKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfk6DlpI3liLblm77niYfpk77mjqUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaHRtbCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb3B5Oi8vJyArIGh0bWwuaW5mby5waWN1cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGh0bWwpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLm1hcChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogai5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLmxhenlSdWxlKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5sZWFmb25lLmNuL2FwaS9xcW11c2ljP3R5cGU9MTQmaWQ9JyArIGouaWQpKS5kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcy51cmwgKyAnI2lzTXVzaWM9dHJ1ZSMnXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBscmMgPSBqcy5scmM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly94aWFvYXBpLmNuL0FQSS9tdl9zcS5waHA/bj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gW2pzb25bM10gfHwganNvblsyXSB8fCBqc29uWzFdIHx8IGpzb25bMF1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvovb3mrYzmm7InLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5sZWFmb25lLmNuL2FwaS9xcW11c2ljP3R5cGU9MTQmaWQ9JyArIGouaWQpKS5kYXRhLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd25sb2FkOi8vJyArIGpzb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6KeC55yLTVYnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8veGlhb2FwaS5jbi9BUEkvbXZfc3EucGhwP249MSZtc2c9JyArIGoudGl0bGUsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqc29uWzNdIHx8IGpzb25bMl0gfHwganNvblsxXSB8fCBqc29uWzBdXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuY2VuZ3VpZ3VpLmNuL2FwaS9qdWhlL2FwaS5waHA/dHlwZT1rZ212Jm49MSZtc2c9JyArIGoudGl0bGUsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmRhdGEudXJsXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCBpZCkgICAgICAgICAgICAgICAgIH0sIGdlZGFuKSAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/Cfkp4g6I635Y+W5q2M5Y2VJywgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCcnLCAn4p2X77iP5q2M5Y2V5aaC5p6c5pyJ5paw5aKe77yM5YiZ6ZyA6KaB6YeN5paw6I635Y+WXFxuXFxuUVHotKblj7fojrflj5bmrYzljZUnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLmNlbmd1aWd1aS5jbi9hcGkvbXVzaWMvcXEvdXNlcl9saXN0LnBocD9xcT0nICsgaW5wdXQpKS5teXBsYXlsaXN0Lm1hcChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBqLnBpYywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGouaWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4gPSBnZWRhbi5jb25jYXQoanNvbik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZ2VkYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmt7vliqAnICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflLAg5q2M5Y2V566h55CGJywgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmrYzljZXnrqHnkIYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5o+Q5Y+WaWQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXliIbkuqvlkI7lpI3liLbnmoTpk77mjqUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHUxID0gdHh0LnNwbGl0KCcmJylbNF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IHUxLnNwbGl0KCc9Jyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29weShpZFsxXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LlpI3liLYnICsgaWRbMV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+aYvuekuuWQjeensEDlm77niYfpk77mjqVAUVHpn7PkuZBpZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fmoLnmja7mj5DnpLrovpPlhaXlhoXlrrlcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gaW5wdXQuc3BsaXQoJ0AnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuWzBdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogblsxXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBuWzJdICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlZGFuID0gZ2VkYW4uY29uY2F0KGRhdGEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZ2VkYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5re75YqgJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+atjOWNleWbvueJh+mTvuaOpeWPr+S7peWcqOatjOWNleS6jOe6p+a1t+aKpemVv+aMieWkjeWItu+8jOaJgOS7peWPr+S7peWFiOa3u+WKoOatjOWNleWGjee8lui+kea3u+WKoOatjOWNleWbvueJh++8jOaIluiAheiHquW3semAieS4gOW8oOWbvuS9nOS4uuWwgemdouOAgicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gai50aXRsZSArICdAJyArIGouaWNvbiArICdAJyArIGouaWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZGV4ICsgJy4nICsgai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18zJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqLmljb24sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfnp7vkvY0nLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6knKS5zZWxlY3QoKGluZGV4LCBpdGVtKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+e8lui+kScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChpdGVtLCAn5oOz6KaB5pu05o2i55qE5q2M5Y2V5ZCNLOatjOWNlWlkLOWbvueJh+mTvuaOpSAnKS5pbnB1dCgoaW5kZXgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuID0gaW5wdXQuc3BsaXQoJ0AnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW5baW5kZXhdID0geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5bMF0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBuWzFdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG5bMl0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vZ2VkYW4uanNvbicsIEpTT04uc3RyaW5naWZ5KGdlZGFuKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+abtOaUueaIkOWKn34nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnp7vkvY0nKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfopoHnp7vliqjliLDlk6rkuKrluo/lj7fliY3pnaIv5ZCO6Z2iJykuaW5wdXQoKGluZGV4KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBnZWRhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IGdlZGFuW2luZGV4XTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4uc3BsaWNlKGlucHV0LCAwLCB0ZW1wKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0IDwgaW5kZXgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlZGFuLnNwbGljZShpbmRleCArIDEsIDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4uc3BsaWNlKGluZGV4LCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZ2VkYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v56e75L2N5oiQ5YqfficgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4uc3BsaWNlKGluZGV4LCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZ2VkYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WIoOmZpOaIkOWKn34nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4LCBpdGVtKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KZu++4jyDmgaLlpI3pu5jorqQnLCAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suaBouWkjem7mOiupCcgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgIH0gICAgICAgICB9KTsgLyrnvZHmmJPmjpLooYzmppzmrYzljZVf5byA5aeLKi8gICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogJ+Wwj+iKuOamnOWNlScsICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl8zX3JvdW5kX2ZpbGwnLCAgICAgICAgICAgICBwaWM6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL211c2ljLzUxLnN2ZycsICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICB2YXIgZ2VkYW4gPSBKU09OLnBhcnNlKGZjKCdodHRwOi8vbXVzaWMuMTYzLmNvbS9hcGkvdG9wbGlzdCcsIDI0KSkubGlzdC5tYXAobCA9PiB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGwubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbC5jb3ZlckltZ1VybCwgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGwuaWQgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJChnZWRhbiwgMiwgJ+Wwj+iKuOaOkuihjOamnCcpLnNlbGVjdCgoZ2VkYW4pID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGdlZGFuLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGdlZGFuW2FdLmlkOyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+Wwj+iKuOatjOWNlScpOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHA6Ly9tdXNpYy4xNjMuY29tL2FwaS92Ni9wbGF5bGlzdC9kZXRhaWw/bj0xMDAwJmlkPScgKyBpZCwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudFwiOiBcIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTAyLjAuMC4wIFNhZmFyaS81MzcuMzZcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvb2tpZVwiOiBcIm9zPXBjOyBNVVNJQ19VPTAwMTczOTk3RTU3REMxNjExMkQyRTE1NzlGNTU1NDQ0ODEyRTUxMzNGMTZDMzQyMTNEOUJCNUUzRUNFQzgxODg0NURGOEEzMzZBM0I5RDQ5NUVFMTgyRjMwMDFBRkVBRjlFOTcxNTkxQ0NFREM0NzEzODQyRjMyOTZBMUU3OURGQjc4MTdBOEM3QkI4MTU0RkYxNTQ4MzY0OEYxODREMEU3MkQ3RDI2QTU2NUU0NDUwNzM4MDgyNDkwMkMyMTUyQ0MwQkI1REI5QTM3OUU4MEY2RjAzRDBEOThCMjc5M0EyMDMyMzAzNERFNEEwQkJCNDY3MkQ0OEY5MzYyOTYwRUYyMTM2MTUzRDAyRTdERjE0QzlDRTg0RjFGNjRDMTZFQjMwN0E1QkJCNTg2ODZDNjA5NTA4MkFBNDUwNTgzRTY0RUFDRDNFNkI1QkUwREZDQUNBOTEyNUYwMzUwNTdGRTE3QjVCREE2MUQ4OURGNUFCRDc3OTA2RjVFNUQ4NThDNzREQjJFMTc4QTNCMEU2MDk1REQ3NTUxOEQ0ODJEQzlENjEwODBBNjFEOUI3NjVEN0U5OEVCRTIzMENGMDE3Q0Q5MDIwODM5MkQzRTEwREU5NjRBNjgxMjFCNkM2NkQwOEM5MDJBOThFRDcxMTNBQUU1OUQxRTU1NTlCMDcxREU4MzEyNkI4QzI5NUM3ODBDQ0Q0QjBCNERFMzZFMzVDMDlBQTYzNDM1NUFFREUyRjg4MDk5ODcxOTI3N0U1RUY5QzdCOUNBRkZDOTBFMjc5QUFBMkJBRkNBNDRDMEE4MzUzN0Q2MDlFMkRBQTVENUQ3NzQ4NDhDOThERDI4NzExODg5NUMxQzNENjU3NDQ2NkY5MjYyREVDRTA3MjkyQUMxNTdDMURCNzBDQjcwMzk1OEE3RkU1NTM0NEUyNzM0MjJFNjlcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9KSkucGxheWxpc3Q7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gaHRtbC50cmFja3MubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNpbmdlciA9IGouYXIubWFwKG4gPT4gbi5uYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nZXI6IHNpbmdlciwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai50bnMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqLmFsLnBpY1VybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogai5pZCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWQ6IGoubXYgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGh0bWwuZGVzY3JpcHRpb24sICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ/Cfp7hcXHQnICsgaHRtbC5jcmVhdG9yLm5pY2tuYW1lICsgJ1xcblxcbvCfjrxcXHQnICsgaHRtbC50cmFja0NvdW50ICsgJ+mmlicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGh0bWwuY292ZXJJbWdVcmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogai5hbGJ1bSA/IGouc2luZ2VyICsgJyAtLSAnICsgai5hbGJ1bSA6IGouc2luZ2VyICsgJyAtLSAnICsgai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBqLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykubGF6eVJ1bGUoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnhpbmd6aGlnZS5jb20vQVBJL05ldEVhc2VfQ2xvdWRNdXNpY19uZXcvP2JyPTUmc29uZ2lkPScgKyBqLmlkKSkuZGF0YS5zcmM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9ICgnaHR0cHM6Ly9tdXNpYy4xNjMuY29tL3NvbmcvbWVkaWEvb3V0ZXIvdXJsP2lkPScgKyBqLmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gW2pzICsgJyNpc011c2ljPXRydWUjJ107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL211c2ljLjE2My5jb20vYXBpL3NvbmcvbHlyaWM/b3M9cGMmbHY9LTEma3Y9LTEmdHY9LTEmaWQ9JyArIGouaWQpKS5scmMubHlyaWM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx5cmljOiBscmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9veatjOabsicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkueGluZ3poaWdlLmNvbS9BUEkvTmV0RWFzZV9DbG91ZE11c2ljX25ldy8/YnI9NSZzb25naWQ9JyArIGouaWQpKS5kYXRhLnNyYzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gKCdodHRwczovL211c2ljLjE2My5jb20vc29uZy9tZWRpYS9vdXRlci91cmw/aWQ9JyArIGouaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd25sb2FkOi8vJyArIGpzb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6KeC55yLTVYnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnZwczAyLnRvcC9BUEkva2dfbXVzaWNfbXYucGhwP249MSZ0eXBlPWpzb24mbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWRlbzovLycgKyBqc29uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCBpZCkgICAgICAgICAgICAgICAgIH0sIGdlZGFuKSAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgLyrnvZHmmJPmjpLooYzmppzmrYzljZVf57uT5p2fKi8gICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZ2V0SXRlbSgna3dnZCcsICduZXcnKSA9PSAnbmV3JyA/ICfmnIDmlrDmrYzljZUnIDogJ+acgOeDreatjOWNlScsICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl8zX3JvdW5kX2ZpbGwnLCAgICAgICAgICAgICBwaWM6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL211c2ljLzgyLnN2ZycsICAgICAgICAgICAgIC8qZGVzYzpnZXRJdGVtKCdrd2dkJywgJ25ldycpID09ICduZXcnID8gJ+acgOaWsOatjOWNlScgOiAn5pyA54Ot5q2M5Y2VJywqLyAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgc2V0SXRlbSgna3dnZCcsIGdldEl0ZW0oJ2t3Z2QnLCAnbmV3JykgPT0gJ25ldycgPyAnaG90JyA6ICduZXcnKTsgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgIHRvYXN0KCflt7LliIfmjaInICsgKGdldEl0ZW0oJ2t3Z2QnLCAnbmV3JykgPT0gJ25ldycgPyAn5pyA5paw5q2M5Y2VJyA6ICfmnIDng63mrYzljZUnKSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgIH0pLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgZGVzYzogJ/CfkYnwn4+7IOatjOWQjeOAgeatjOaJi+OAgeamnOWNleWQjeensCcsICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAvKmlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v6K+36L6T5YWl5YWz6ZSu6K+N5pCc57SiXCI7Ki8gICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiAnaGlrZXI6Ly9sb2NhbE1lZGlhJzsgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3NzcHRfaW5wdXQnLCB0eHQpOyAvKumfs+S5kOaQnOe0ouW8leaTjl/lvIDlp4sqLyAgICAgICAgICAgICAgICAgcmV0dXJuIFwic2VsZWN0Oi8vXCIgKyBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wi5bCP5LiDXCIsIFwi5bCP6Iq4XCIsIFwi5bCP6I60XCJdLCAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFZpZXc6IHRydWUsICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+Wwj+S4gycpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodHh0KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/kuIPmkJzntKInKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5aXlhbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0geWl5YW4ubGVuZ3RoIC0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRGlzcGxheSA9IHlpeWFuW251bV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS55YW9odWQuY24vYXBpL3FxbXVzaWMvdjI/a2V5PWFVbHlrQTM1S2dtd1BVcGVoSktOYkZqbzZ2JnR5cGU9c28mcGFnZT0nICsgTVlfUEFHRSArICcmcGVyX3BhZ2U9MzAmd29yZD0nICsgdHh0KSkuZGF0YS5saXN0Lm1hcChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBqLmF1dGhvciwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5hbGJ1bS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGoubWlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5SOXFx0JyArIHR4dCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn8J+nuFxcdOWwj+S4g+mfs+S5kFxcblxcbvCfjqhcXHQnICsgRGlzcGxheS5yZXBsYWNlKC/vvIx844CCL2csICcgJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb25bMF0ucGljLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmZvckVhY2goaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBqLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLmxlYWZvbmUuY24vYXBpL3FxbXVzaWM/dHlwZT0xNCZpZD0nICsgai5pZCkpLmRhdGE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanMudXJsICsgJyNpc011c2ljPXRydWUjJ107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBscmMgPSBqcy5scmM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly94aWFvYXBpLmNuL0FQSS9tdl9zcS5waHA/bj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gW2pzb25bM10gfHwganNvblsyXSB8fCBqc29uWzFdIHx8IGpzb25bMF1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx5cmljOiBscmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9veatjOabsicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5sZWFmb25lLmNuL2FwaS9xcW11c2ljP3R5cGU9MTQmaWQ9JyArIGouaWQpKS5kYXRhLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsganNvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly94aWFvYXBpLmNuL0FQSS9tdl9zcS5waHA/bj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gW2pzb25bM10gfHwganNvblsyXSB8fCBqc29uWzFdIHx8IGpzb25bMF1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuY2VuZ3VpZ3VpLmNuL2FwaS9qdWhlL2FwaS5waHA/dHlwZT1rZ212Jm49MSZtc2c9JyArIGoudGl0bGUsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5kYXRhLnVybF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHR4dCkgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn5bCP6Iq4JykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjaW1tZXJzaXZlVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5bCP6Iq45pCc57SiJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeWl5YW4gPSBKU09OLnBhcnNlKGZldGNoKCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1heCA9IHlpeWFuLmxlbmd0aCAtIDE7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1pbiA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4gKyAxKSkgKyBtaW47ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERpc3BsYXkgPSB5aXlhbltudW1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL211c2ljLjE2My5jb20vYXBpL3NlYXJjaC9nZXQvd2ViP3R5cGU9MSZvZmZzZXQ9MCZsaW1pdD05MCZzPScgKyB0eHQpKS5yZXN1bHQuc29uZ3MubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2VyID0gai5hcnRpc3RzLm1hcChzID0+IHMubmFtZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBzaW5nZXJbMF0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6ICdodHRwczovL3dhbmdodW4udG9wL3FxbXVzaWMvd3ltdXNpYy5waHA/dHlwZT1waWMmaWQ9JyArIGouaWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5hbGJ1bS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGouaWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWQ6IGoubXZpZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UjlxcdCcgKyB0eHQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ/Cfp7hcXHTlsI/oirjpn7PkuZBcXG5cXG7wn46oXFx0JyArIERpc3BsYXkucmVwbGFjZSgv77yMfOOAgi9nLCAnICcpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uWzBdLnBpYywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGoucGljICsgJ0BSZWZlcmVyPScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBqLmFsYnVtID8gai5zaW5nZXIgKyAnIC0tICcgKyBqLmFsYnVtIDogai5zaW5nZXIgKyAnIC0tICcgKyBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnhpbmd6aGlnZS5jb20vQVBJL05ldEVhc2VfQ2xvdWRNdXNpY19uZXcvP2JyPTUmc29uZ2lkPScgKyBqLmlkKSkuZGF0YS5zcmM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSAoJ2h0dHBzOi8vbXVzaWMuMTYzLmNvbS9zb25nL21lZGlhL291dGVyL3VybD9pZD0nICsgai5pZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanMgKyAnI2lzTXVzaWM9dHJ1ZSMnXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL211c2ljLjE2My5jb20vYXBpL3NvbmcvbHlyaWM/b3M9cGMmbHY9LTEma3Y9LTEmdHY9LTEmaWQ9JyArIGouaWQpKS5scmMubHlyaWM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyaWM6IGxyYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L295q2M5puyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS54aW5nemhpZ2UuY29tL0FQSS9OZXRFYXNlX0Nsb3VkTXVzaWNfbmV3Lz9icj01JnNvbmdpZD0nICsgai5pZCkpLmRhdGEuc3JjOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gKCdodHRwczovL211c2ljLjE2My5jb20vc29uZy9tZWRpYS9vdXRlci91cmw/aWQ9JyArIGouaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkb3dubG9hZDovLycgKyBqc29uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ingueci01WJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdC5zcGxpdCgnICcpWzBdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS52cHMwMi50b3AvQVBJL2tnX211c2ljX212LnBocD9uPTEmdHlwZT1qc29uJm1zZz0nICsgai50aXRsZSkpLmRhdGEudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWRlbzovLycgKyBqc29uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHR4dCkgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodHh0KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/ojrTmkJzntKInKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5aXlhbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWF4ID0geWl5YW4ubGVuZ3RoIC0gMTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWluID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRGlzcGxheSA9IHlpeWFuW251bV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3NlYXJjaC5rdXdvLmNuL3Iucz9jbGllbnQ9a3QmcG49JyArIChNWV9QQUdFIC0gMSkgKyAnJnJuPTMwJnZpcHZlcj0xJmZ0PW11c2ljJmVuY29kaW5nPXV0ZjgmcmZvcm1hdD1qc29uJm1vYmk9MSZhbGw9JyArIHR4dCkpLmFic2xpc3QubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gKCdodHRwOi8vaW1nMS5rd2Nkbi5rdXdvLmNuL3N0YXIvYWxidW1jb3Zlci81MDAnICsgai53ZWJfYWxidW1waWNfc2hvcnQuc3BsaXQoJzEyMCcpWzFdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLlNPTkdOQU1FLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBqLkFSVElTVCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxidW06IGouQUxCVU0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWQ6IGouRENfVEFSR0VUSUQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWQ6IGoubXZwYXlpbmZvLnZpZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UjlxcdCcgKyB0eHQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb25bMF0ucGljLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfwn6e4XFx05bCP6I606Z+z5LmQXFxuXFxu8J+OqFxcdCcgKyBEaXNwbGF5LnJlcGxhY2UoL++8jHzjgIIvZywgJyAnKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLmxhenlSdWxlKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaGhscWlsb25nemh1LmNuL2FwaS9kZ19rdXdvbXVzaWMucGhwP249MSZ0eXBlPWpzb24mbXNnPScgKyBqLnRpdGxlKSkuZGF0YS5zcmM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBmZXRjaCgnaHR0cHM6Ly9hbnRpc2VydmVyLmt1d28uY24vYW50aS5zP3R5cGU9Y29udmVydF91cmwmZm9ybWF0PW1wMyZyaWQ9JyArIGoucmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBscmMgPSBKU09OLnBhcnNlKGZldGNoKFwiaHR0cHM6Ly9tLmt1d28uY24vbmV3aDUvc2luZ2xlcy9zb25naW5mb2FuZGxyYz9tdXNpY0lkPVwiICsgai5yaWQpKS5kYXRhLmxyY2xpc3QubWFwKGQgPT4ge+KAi+KAiyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHMgPSAoZC50aW1lICUgNjApLnRvRml4ZWQoMikucGFkU3RhcnQoNSwgJzAnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtID0gKChkLnRpbWUgLSBzKSAvIDYwKS50b0ZpeGVkKDApLnBhZFN0YXJ0KDIsICcwJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1snICsgbSArICc6JyArIHMgKyAnXScgKyBkLmxpbmVMeXJpY+KAiyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCdcXG4nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvovb3mrYzmm7InLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vd3d3LmhobHFpbG9uZ3podS5jbi9hcGkvZGdfa3V3b211c2ljLnBocD9uPTEmdHlwZT1qc29uJm1zZz0nICsgai50aXRsZSkpLmZsYWNfdXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gZmV0Y2goJ2h0dHBzOi8vYW50aXNlcnZlci5rdXdvLmNuL2FudGkucz90eXBlPWNvbnZlcnRfdXJsJmZvcm1hdD1tcDMmcmlkPScgKyBqLnJpZCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsganNvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmlkID09ICcwJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS52cHMwMi50b3AvQVBJL2tnX211c2ljX212LnBocD9uPTEmdHlwZT1qc29uJm1zZz0nICsgai50aXRsZSkpLmRhdGEudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGZldGNoKCdodHRwczovL2FueW1hdGNoLmt1d28uY24vbW9iaS5zP2Y9d2ViJnVzZXI9NmYxNzNjZjlhMmE5ZGE0YyZzb3VyY2U9a3dwbGF5ZXJfYXJfMTAuOC4yLjJfMTM4LmFwayZ0eXBlPWdldF91cmxfYnlfdmlkJnF1YWxpdHk9TVA0SFYmcDJwaWQ9MSZ2aWQ9JyArIGoudmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGh0bWwuc3BsaXQoJz0nKVszXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYiA9IGEuc3BsaXQoJz8nKVswXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gYjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0SXRlbSgnc3NwdF9pbnB1dCcsICcnKSwgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAnc2V0SXRlbShcInNzcHRfaW5wdXRcIixpbnB1dCknICAgICAgICAgICAgIH0gICAgICAgICB9KTsgLyrpn7PkuZDmkJzntKLlvJXmk45f57uT5p2fKi8gICAgIH0gLyrlm7rlrprnv7vpobUx57uT5p2fKi8gLyrphbfmiJHpn7PkuZDmrYzljZVf5byA5aeLKi8gICAgIGxldCBrd2dkID0gZ2V0SXRlbSgna3dnZCcsICduZXcnKTsgICAgIGxldCBodG1sID0gKCdodHRwOi8vd2FwaS5rdXdvLmNuL2FwaS9wYy9jbGFzc2lmeS9wbGF5bGlzdC9nZXRSY21QbGF5TGlzdD9sb2dpblVpZD0wJmxvZ2luU2lkPTAmYXBwVWlkPTc2MDM5NTc2JiZwbj0nICsgTVlfUEFHRSArICcmcm49MzYmb3JkZXI9JyArIGt3Z2QpOyAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKGh0bWwpKS5kYXRhOyAgICAganNvbi5kYXRhLm1hcChkYXRhID0+IHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZGF0YS5uYW1lLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzMnLCAgICAgICAgICAgICBwaWM6IGRhdGEuaW1nLCAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChkYXRhKSA9PiB7ICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+Wwj+iOtOatjOWNlScpOyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIGxldCBodG1sID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9tLmt1d28uY24vbmV3aDVhcHAvd2FwaS9hcGkvd3d3L3BsYXlsaXN0L3BsYXlMaXN0SW5mbz9waWQ9JyArIGRhdGEuaWQgKyAnJnJuPTMwJnVhPSZpcD0mcG49JyArIE1ZX1BBR0UpKS5kYXRhOyAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBodG1sLm11c2ljTGlzdC5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBqLmFydGlzdCwgICAgICAgICAgICAgICAgICAgICAgICAgYWxidW06IGouYWxidW0sICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMsICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBqLnJpZCwgICAgICAgICAgICAgICAgICAgICAgICAgdmlkOiBqLm12cGF5aW5mby52aWQsICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGouc29uZ1RpbWVNaW51dGVzICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBodG1sLm5hbWUsICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaHRtbC5pbWc3MDAgfHwgaHRtbC51UGljLCAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn8J+nuFxcdCcgKyBodG1sLnVzZXJOYW1lICsgJ1xcblxcbvCfjrxcXHQnICsgZGF0YS50b3RhbCArICfpppYnLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIGpzb24ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5oaGxxaWxvbmd6aHUuY24vYXBpL2RnX2t1d29tdXNpYy5waHA/bj0xJnR5cGU9anNvbiZtc2c9JyArIGoudGl0bGUpKS5mbGFjX3VybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBmZXRjaCgnaHR0cHM6Ly9hbnRpc2VydmVyLmt1d28uY24vYW50aS5zP3R5cGU9Y29udmVydF91cmwmZm9ybWF0PW1wMyZyaWQ9JyArIGouaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gSlNPTi5wYXJzZShmZXRjaChcImh0dHBzOi8vbS5rdXdvLmNuL25ld2g1L3NpbmdsZXMvc29uZ2luZm9hbmRscmM/bXVzaWNJZD1cIiArIGouaWQpKS5kYXRhLmxyY2xpc3QubWFwKGQgPT4ge+KAi+KAiyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcyA9IChkLnRpbWUgJSA2MCkudG9GaXhlZCgyKS5wYWRTdGFydCg1LCAnMCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbSA9ICgoZC50aW1lIC0gcykgLyA2MCkudG9GaXhlZCgwKS5wYWRTdGFydCgyLCAnMCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1snICsgbSArICc6JyArIHMgKyAnXScgKyBkLmxpbmVMeXJpY+KAiyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJ1xcbicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyaWM6IGxyYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L295q2M5puyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5oaGxxaWxvbmd6aHUuY24vYXBpL2RnX2t1d29tdXNpYy5waHA/bj0xJnR5cGU9anNvbiZtc2c9JyArIGoudGl0bGUpKS5mbGFjX3VybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBmZXRjaCgnaHR0cHM6Ly9hbnRpc2VydmVyLmt1d28uY24vYW50aS5zP3R5cGU9Y29udmVydF91cmwmZm9ybWF0PW1wMyZyaWQ9JyArIGouaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsganNvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGoudmlkID09ICcwJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB0LnNwbGl0KCcgJylbMF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkudnBzMDIudG9wL0FQSS9rZ19tdXNpY19tdi5waHA/bj0xJnR5cGU9anNvbiZtc2c9JyArIGoudGl0bGUpKS5kYXRhLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gZmV0Y2goJ2h0dHBzOi8vYW55bWF0Y2gua3V3by5jbi9tb2JpLnM/Zj13ZWImdXNlcj02ZjE3M2NmOWEyYTlkYTRjJnNvdXJjZT1rd3BsYXllcl9hcl8xMC44LjIuMl8xMzguYXBrJnR5cGU9Z2V0X3VybF9ieV92aWQmcXVhbGl0eT1NUDRIViZwMnBpZD0xJnZpZD0nICsgai5pZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGh0bWwuc3BsaXQoJz0nKVszXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiID0gYS5zcGxpdCgnPycpWzBdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWRlbzovLycgKyB1cmwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCBkYXRhKSwgICAgICAgICB9KTsgICAgIH0pOyAvKumFt+aIkemfs+S5kOatjOWNlV/nu5PmnZ8qLyAgICAgc2V0UmVzdWx0KGQpOyB9KeKAiyIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMTgucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuiZjueJmeebtOaSrSIsInRpdGxlIjoi6JmO54mZIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNmdWxsVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCBnaWQgPSBnZXRJdGVtKCfomY7niZknLCAnJyk7ICAgICBsZXQgaW1nID0gJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS85My5wbmcnOyAgICAgdmFyIGZlbmxlaSA9IFt7ICAgICAgICAgdGl0bGU6IFwi5pif56eAXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMTY2My1NUy5qcGdcIiwgICAgICAgICBpZDogXCIxNjYzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpopzlgLxcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yMTY4LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjIxNjhcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuWOn+WIm1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzY4NjEtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiNjg2MVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi6Z+z5LmQXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMzc5My1NUy5qcGdcIiwgICAgICAgICBpZDogXCIzNzkzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLkuIDotbfnnItcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yMTM1LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjIxMzVcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuS6jOasoeWFg1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzI2MzMtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjYzM1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5aix5LmQ5aSp5ZywXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMTAwMDIyLU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjEwMDAyMlwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5ZCD5Zad546p5LmQXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMTAwMDQ0LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjEwMDA0NFwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5Lqk5Y+LXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvNDA3OS1NUy5qcGdcIiwgICAgICAgICBpZDogXCI0MDc5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLmiLflpJZcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yMTY1LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjIxNjVcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuaXhea4uFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzY3OTEtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiNjc5MVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5L2T6IKyXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMjM1Ni1NUy5qcGdcIiwgICAgICAgICBpZDogXCIyMzU2XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLnp5HmioBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yNDA4LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjI0MDhcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIua0vuWvuVwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzc3ODUtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiNzc4NVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi6Iux6ZuE6IGU55ufXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMS1NUy5qcGdcIiwgICAgICAgICBpZDogXCIxXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLnjovogIXojaPogIBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yMzM2LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjIzMzZcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuWSjOW5s+eyvuiLsVwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzMyMDMtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMzIwM1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwiQ0bmiYvmuLhcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yNDEzLU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjI0MTNcIiAgICAgfV07ICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgdGl0bGU6ICfomY7niZnnm7Tmkq0nLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgIGRlc2M6ICfliIfmjaInLCAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgdXJsOiAkKGZlbmxlaSwgMywgJ+WIh+aNouWIhuexuycpLnNlbGVjdCgoZmVubGVpKSA9PiB7ICAgICAgICAgICAgICAgICBsZXQgaSA9IGZlbmxlaS5maW5kSW5kZXgodCA9PiB0LnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBmZW5sZWlbaV0uaWQ7ICAgICAgICAgICAgICAgICBzZXRJdGVtKCfomY7niZknLCB1cmwpOyAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICB9LCBmZW5sZWkpLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgIGRlc2M6ICfovpPlhaXkvaDmg7PmkJzntKLnmoQnLCAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlhbPplK7or43mkJzntKJcIjsgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh0eHQpID0+IHsgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aQnOe0oicgKyAn4oCcJyArIHR4dCArICfigJ0nKTsgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9zZWFyY2guY2RuLmh1eWEuY29tLz9tPVNlYXJjaCZkbz1nZXRTZWFyY2hDb250ZW50JnBsdD1tJnE9JyArIHR4dCArICcmdWlkPTAmYXBwPTExJnY9NCZ0eXA9LTUmc3RhcnQ9JyArIE1ZX1BBR0UgKyAnJnJvd3M9MicpKTsgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgICAgICAgICAgbGV0IGogPSBqc29uLnJlc3BvbnNlW1wiM1wiXS5kb2NzLmZvckVhY2goaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IGoucm9vbV9pZDsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouZ2FtZV9pbnRyb2R1Y3Rpb24sICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai5nYW1lTmFtZSArICfigKInICsgai5nYW1lX25pY2ssICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWc6IGouZ2FtZV9zY3JlZW5zaG90LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8yJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoaWQpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gWyd2aWRlbzovL2h0dHBzOi8vY2Zzcy5jYy9jZG4vaHkvJyArIGlkICsgJy5mbHYnLCAndmlkZW86Ly9odHRwczovL20uaHV5YS5jb20vJyArIGlkLCAndmlkZW86Ly9odHRwczovL2VwZy4xMTIxMTQueHl6L2h1eWEvJyArIGlkXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGlkKSwgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgfSwgdHh0KSAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgICAgIH0gICAgIHRyeSB7ICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5odXlhLmNvbS9jYWNoZS5waHA/bT1MaXZlTGlzdCZkbz1nZXRMaXZlTGlzdEJ5UGFnZSZ0YWdBbGw9MCZwYWdlPScgKyBNWV9QQUdFICsgJyZnYW1lSWQ9JyArIGdpZCkpLmRhdGEuZGF0YXM7ICAgICB9IGNhdGNoIHt9ICAgICBqc29uLm1hcChkYXRhID0+IHsgICAgICAgICB2YXIgaWQgPSBkYXRhLnByb2ZpbGVSb29tOyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBkYXRhLm5pY2ssICAgICAgICAgICAgIGRlc2M6IGRhdGEuaW50cm9kdWN0aW9uLCAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICBwaWNfdXJsOiBkYXRhLnNjcmVlbnNob3QsICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoaWQpID0+IHsgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBbJ3ZpZGVvOi8vaHR0cHM6Ly9jZnNzLmNjL2Nkbi9oeS8nICsgaWQgKyAnLmZsdicsICd2aWRlbzovL2h0dHBzOi8vbS5odXlhLmNvbS8nICsgaWQsICd2aWRlbzovL2h0dHBzOi8vZXBnLjExMjExNC54eXovaHV5YS8nICsgaWRdOyAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9LCBpZCksICAgICAgICAgfSk7ICAgICB9KTsgICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIyMS5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi55S16KeG55S15Y+wIiwidGl0bGUiOiLnlLXop4YiLCJ1cmwiOiJAanM6IHZhciBsaXZlID0gW3sgICAgJ25hbWUnOiAn8J+OlyDnlLXop4bpopHpgZMnLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9saXZlLmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn6qFIOi2hee6p+eUteinhicsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2xpdmVQcm8uanNvbid9LCB7ICAgICduYW1lJzogJ/CfkK8g6JmO54mZ5b2x6ZmiJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvaHl5eS5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+nsiDmmJ/pqbDnlLXlvbEnLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS96eGNkeS5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+TuyDnm7Tmkq3kuK3lm70nLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS96YnpnLmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn46ZIOe6ouatjOmfs+S5kCcsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2hneXkuanNvbid9LCB7ICAgICduYW1lJzogJ/Cfk6Eg55S15Y+w5bm/5pKtJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvZHRnYi5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+RmCDpn6nlm73lpbPlm6InLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9oZ250Lmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn5KDIOW5v+WcuuiInui5iCcsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2djd2QuanNvbid9LCB7ICAgICduYW1lJzogJ/Cfk4Ag5Yqo5oSf6Iie5puyJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvZGd3cS5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+QrCDmlpfpsbzlvbHpmaInLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9keXlxay5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+TuiDmgIDml6flvbHniYcnLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9oanlwLmpzb24nfV07dmFyIHQgPSBsaXZlLm1hcChsID0+IGwubmFtZSk7JCh0LCAyLCAn6K+36YCJ5oupJykuc2VsZWN0KChsaXZlKSA9PiB7ICAgIHZhciB0eHQgPSBpbnB1dDsgICAgbGV0IHQgPSBsaXZlLmZpbmRJbmRleChsID0+IGwubmFtZSA9PSB0eHQpOyAgICB2YXIgdSA9IGxpdmVbdF0udXJsOyAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh1LCB0eHQpID0+IHsgICAgICAgIHNldFBhZ2VUaXRsZSh0eHQpOyAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHUpKS5kYXRhOyAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXlhbPplK7or40nLCAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKGpzb24pID0+IHsgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHNlYXJjaChuYW1lKSB7ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzb24uZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZS50b0xvd2VyQ2FzZSgpKSk7ICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICBsZXQgcmVzdWx0cyA9IHNlYXJjaChpbnB1dCk7ICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPiAwKSB7ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHknKS5ydWxlKChyZXN1bHRzKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xOTUucG5nJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChyID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHIubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fMl9yb3VuZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChyKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiByLnVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVzdWx0cykgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ayoeacieaJvuWIsCcgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgfSwganNvbikgICAgICAgICAgICB9KTsgICAgICAgICAgICBqc29uLmZvckVhY2goYSA9PiB7ICAgICAgICAgICAgICAgIGxldCB1cmwgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9kdGdiLmpzb24nKTsgICAgICAgICAgICAgICAgbGV0IGltZyA9ICgnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIyMS5wbmcnKTsgICAgICAgICAgICAgICAgbGV0IGltZ3MgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yNTgucG5nJyk7ICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICB0aXRsZTogYS5uYW1lLCAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzJfcm91bmQnLCAgICAgICAgICAgICAgICAgICAgcGljOiB1ID09IHVybCA/IGltZ3MgOiBpbWcsICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGEpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYS51cmwgPT0gXCJcIikgcmV0dXJuICd0b2FzdDovL+S9oOWSi+S4jeaUvumTvuaOpeWYnu+8gSc7ICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGEudXJsOyAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgfSwgYSksICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgfSk7ICAgICAgICB9IGNhdGNoIHt9ICAgICAgICBzZXRSZXN1bHQoZCk7ICAgIH0sIHUsIHR4dCl9LCBsaXZlKTsiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIwNS5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5a6J5Y2T5aOB57q4VCIsImNvZGUiOiJ0cnIgPSBbe1xuICAgICd0aXRsZSc6ICfmnIDmlrAnLFxuICAgICdpZCc6ICcnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+e+juWlsycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDAnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+WKqOa8qycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDMnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+mjjuaZrycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDInXG59LCB7XG4gICAgJ3RpdGxlJzogJ+a4uOaIjycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDcnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+aWh+WtlycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS81MTA5ZTA0ZTQ4ZDViOTM2NGFlOWFjNDUnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+inhuiniScsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZmI0NzlmNzViYTFjNjU1NjEwMDAwMjcnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+aDheaEnycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZWYwYTM1YzA1Njk3OTU3NTYwMDAwMDAnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+iuvuiuoScsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZmI0N2ExOTViYTFjNjBjYTUwMDAyMjInXG59LCB7XG4gICAgJ3RpdGxlJzogJ+aYjuaYnycsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS81MTA5ZTA1MjQ4ZDViOTM2OGJiNTU5ZGMnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+eJqeivrScsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZmI0N2E0NjViYTFjNjU1NjEwMDAwMjgnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+eUt+S6uicsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDYnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+acuuaisCcsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDUnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+WfjuW4gicsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZmI0N2EzMDViYTFjNjBjYTUwMDAyMjMnXG59LCB7XG4gICAgJ3RpdGxlJzogJ+WKqOeJqScsXG4gICAgJ2lkJzogJy9jYXRlZ29yeS80ZTRkNjEwY2RmNzE0ZDI5NjYwMDAwMDEnXG59XTtcbnZhciB0aWkgPSBnZXRJdGVtKCd0aWQnLCAnJyk7XG52YXIgdGlkID0gdHJyLm1hcChpID0+IGkuaWQpO1xubm8gPSAnI2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJztcbnVybCA9ICdodHRwOi8vc2VydmljZS5waWNhc3NvLmFkZXNrLmNvbS92MS92ZXJ0aWNhbCcgKyB0aWkgKyAnL3ZlcnRpY2FsP2xpbWl0PTMwJnNraXA9ZnlwYWdlQC0xQCozMEAjYXV0b1BhZ2UjJyArIG5vO1xuW3tcbiAgICB0aXRsZTogJ+Wjgee6uCcsXG4gICAgY29sX3R5cGU6ICdpY29uX3JvdW5kXzQnLFxuICAgIGltZzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNjcucG5nJyxcbiAgICB1cmw6ICQodXJsKS5ydWxlKCgpID0+IHtcbiAgICAgICAgZCA9IEpTT04ucGFyc2UoZ2V0UmVzQ29kZSgpKS5yZXMudmVydGljYWwubWFwKGh0bWwgPT4gKHtcbiAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgIHVybDogaHRtbC5wcmV2aWV3ICsgJyMuanBnJyxcbiAgICAgICAgICAgIGltZzogaHRtbC5wcmV2aWV3LFxuICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJ1xuICAgICAgICB9KSk7XG4gICAgICAgIHNldFJlc3VsdChkKTtcbiAgICB9KSxcbiAgICBleHRyYToge1xuICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICB0aXRsZTogJ/CflITliIfmjaLliIbnsbsnLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKHRyciwgdGlkKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSB0cnIubWFwKHQgPT4gdC50aXRsZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgodHJyLCB0aWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gdHJyLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gdHJyW3RpdGxlXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGlkJywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2iJ1xuICAgICAgICAgICAgICAgIH0sIHRyciwgdGlkKVxuICAgICAgICAgICAgfSwgdHJyLCB0aWQpXG4gICAgICAgIH1dXG4gICAgfVxufV07In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLogZrlkIjnn63op4bpopHop6PmnpAiLCJ0aXRsZSI6Iuino+aekCIsInVybCI6IkBqczogJChbeyAgICAgdGl0bGU6ICfop4bpopHop6PmnpAnLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vcS8zNS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn5Zu+6ZuG6Kej5p6QJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvNS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn6Z+z6aKR6Kej5p6QJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvMTI1LnBuZycgfSwgeyAgICAgdGl0bGU6ICflhajmsJFL5q2MJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvMjAucG5nJyB9XSwgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB7ICAgICBpZiAoaW5wdXQgPT0gJ+inhumikeino+aekCcpIHsgICAgICAgICByZXR1cm4gJCgne3tjbGlwYm9hcmR9fScsICfmipbpn7Mv5b+r5omL562J6KeG6aKR5YiG5Lqr6ZO+5o6lJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+i+k+WFpeWIhuS6q+mTvuaOpVwiOyAgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNnYW1lVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHVybCkgPT4geyAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgIENyeXB0b1V0aWwgPSAkLnJlcXVpcmUoXCJoaWtlcjovL2Fzc2V0cy9jcnlwdG8tamF2YS5qc1wiKTsgICAgICAgICAgICAgICAgICAgICBzdHJfa2V5ID0gQ3J5cHRvVXRpbC5EYXRhLnBhcnNlVVRGOChcIkJINk14SFRHWDJjVVVHUmRXQWc1VnQyMGF3dWNRc2lRXCIpOyAgICAgICAgICAgICAgICAgICAgIHN0cl9pdiA9IENyeXB0b1V0aWwuRGF0YS5wYXJzZVVURjgoXCI3UlVLMFhRWUxETXFOV29iXCIpOyAgICAgICAgICAgICAgICAgICAgIGFlcyA9IHdvcmQgPT4gQ3J5cHRvVXRpbC5BRVMuZGVjcnlwdCh3b3JkLCBzdHJfa2V5LCB7ICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiQUVTL0NCQy9QS0NTNVBhZGRpbmdcIiwgICAgICAgICAgICAgICAgICAgICAgICAgaXY6IHN0cl9pdiAgICAgICAgICAgICAgICAgICAgIH0pLnRvU3RyaW5nKCk7ICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShKU09OLnBhcnNlKGFlcyhyZXF1ZXN0KFwiaHR0cHM6Ly9hbGxkb3duLm1hZ2ljdG9vbC5jbi9wcm8vcXN5QXBpLnBocD91cmw9XCIgKyB1cmwgKyBcIi8mdG9rZW49bEtLbG4yMzlXRU9qZndlTExBUDAySk5zXCIpKSkpLmRhdGE7ICAgICAgICAgICAgICAgICAgICAgdmFyIHNwID0geyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToganNvbi50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBqc29uLnZpZGVvID8ganNvbi51cmwgOiBqc29uLmRvd24sICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnRhbmdkb3V6LmNvbS9keS5waHA/cmV0dXJuPWpzb24mbGo9JyArIHVybCkpOyAgICAgICAgICAgICAgICAgICAgIHZhciBzcCA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICcnLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGpzb24udXJsLCAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBzcC50aXRsZS5yZXBsYWNlKC9bIF18I3wmfC9nLCAnJyk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmNjQwJywgICAgICAgICAgICAgICAgICAgICB1cmw6IHNwLnVybCwgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLCAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L296KeG6aKRJywgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLCAgICAgICAgICAgICAgICAgICAgIHVybDogJ2Rvd25sb2FkOi8vJyArIHNwLnVybCwgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGl0bGU6IHRpdGxlLGxpbmVWaXNpYmxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCB1cmwpICAgICAgICAgfSkgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+Wbvumbhuino+aekCcpIHsgICAgICAgICByZXR1cm4gJCgne3tjbGlwYm9hcmR9fScsICfmipbpn7Mv5b+r5omL5Zu+6ZuG5YiG5Lqr6ZO+5o6lJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+i+k+WFpeWIhuS6q+mTvuaOpVwiOyAgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJycpOyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5oaGxxaWxvbmd6aHUuY24vYXBpL3NwX2p4L3R1amkucGhwP3VybD0nICsgdXJsKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgICB2YXIgdGogPSB7ICAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljOiAnJywgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uLmltYWdlcywgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuYWhmaS5jbi9hcGkvcXN5aW1nP3VybD0nICsgdXJsKSk7ICAgICAgICAgICAgICAgICAgICAgdmFyIHRqID0geyAgICAgICAgICAgICAgICAgICAgICAgICBtdXNpYzogJycsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzoganNvbi5pbWFnZXMsICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICAgZGVzYzogJzAnLCAgICAgICAgICAgICAgICAgICAgIHVybDogdGoubXVzaWMsICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHRqLnBpYy5tYXAoaW1nID0+IGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJywgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICAgdXJsOiBpbWcgKyAnIy5qcGcnLCAgICAgICAgICAgICAgICAgfSkpOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCB1cmwpICAgICAgICAgfSkgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+mfs+mikeino+aekCcpIHsgICAgICAgICByZXR1cm4gJCgne3tjbGlwYm9hcmR9fScsICfmipbpn7Mv5b+r5omL562J6Z+z6KeG6aKR5YiG5Lqr6ZO+5o6lJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+i+k+WFpeWIhuS6q+mTvuaOpVwiOyAgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJycpOyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgQ3J5cHRvVXRpbCA9ICQucmVxdWlyZShcImhpa2VyOi8vYXNzZXRzL2NyeXB0by1qYXZhLmpzXCIpOyAgICAgICAgICAgICAgICAgICAgIHN0cl9rZXkgPSBDcnlwdG9VdGlsLkRhdGEucGFyc2VVVEY4KFwiQkg2TXhIVEdYMmNVVUdSZFdBZzVWdDIwYXd1Y1FzaVFcIik7ICAgICAgICAgICAgICAgICAgICAgc3RyX2l2ID0gQ3J5cHRvVXRpbC5EYXRhLnBhcnNlVVRGOChcIjdSVUswWFFZTERNcU5Xb2JcIik7ICAgICAgICAgICAgICAgICAgICAgYWVzID0gd29yZCA9PiBDcnlwdG9VdGlsLkFFUy5kZWNyeXB0KHdvcmQsIHN0cl9rZXksIHsgICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJBRVMvQ0JDL1BLQ1M1UGFkZGluZ1wiLCAgICAgICAgICAgICAgICAgICAgICAgICBpdjogc3RyX2l2ICAgICAgICAgICAgICAgICAgICAgfSkudG9TdHJpbmcoKTsgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKEpTT04ucGFyc2UoYWVzKHJlcXVlc3QoXCJodHRwczovL2FsbGRvd24ubWFnaWN0b29sLmNuL3Byby9xc3lBcGkucGhwP3VybD1cIiArIHVybCArIFwiLyZ0b2tlbj1sS0tsbjIzOVdFT2pmd2VMTEFQMDJKTnNcIikpKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgICB2YXIgeXAgPSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqc29uLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBtdXNpYzoganNvbi51cmwgPyBqc29uLmRvd24gOiBqc29uLnZpZGVvLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb24uY292ZXIgPyBqc29uLmNvdmVyIDoganNvbi5kb3dubG9hZF9pbWFnZSwgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkudGFuZ2RvdXouY29tL2R5LnBocD9yZXR1cm49anNvbiZsaj0nICsgdXJsKSk7ICAgICAgICAgICAgICAgICAgICAgdmFyIHlwID0geyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsICAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljOiBqc29uLnVybC5yZXBsYWNlKC9cXFxcL2csICcnKSwgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiAnJywgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0geXAudGl0bGUucmVwbGFjZSgvWyBdfCN8JnwvZywgJycpOyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJywgICAgICAgICAgICAgICAgICAgICBwaWM6IHlwLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLmxhenlSdWxlKCh5cCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoWDVXZWJWaWV3KCcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlwLm11c2ljICsgJyNpc011c2ljPXRydWUjJyAgICAgICAgICAgICAgICAgICAgIH0sIHlwKSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgICAgICAgICAgdXJsOiB5cC5tdXNpYywgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9vemfs+mikScsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdkb3dubG9hZDovLycgKyB5cC5tdXNpYywgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICB9LCB1cmwpICAgICAgICAgfSkgICAgIH0gZWxzZSB7ICAgICAgICAgcmV0dXJuICQoJ3t7Y2xpcGJvYXJkfX0nLCAn6K+36L6T5YWl5YWo5rCRS+atjOWIhuS6q+mTvuaOpScpLmlucHV0KCgpID0+IHsgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXliIbkuqvpk77mjqVcIjsgICAgICAgICAgICAgdmFyIHVybCA9IGlucHV0Lm1hdGNoKC8oaHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvKSgoXFx3fD18XFw/fFxcLnxcXC98JnwtKSspL2cpOyAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNnYW1lVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHVybCkgPT4geyAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkudW9tZy5jb20vYXBpL2dldC5rZz9zb25ndXJsPScgKyB1cmwpKS5kYXRhOyAgICAgICAgICAgICAgICAgICAgIHZhciBrZyA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToganNvbi5zb25nX25hbWUsICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjoganNvbi5rZ19uaWNrLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb24ucGljLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGpzb24ucGxheXVybCwgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL2FwaS5jbXZpcC5jbi9BUEkvcW1rZ3psangucGhwP3VybD0nICsgdXJsKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgICB2YXIga2cgPSB7ICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGpzb24uc29uZ19uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGpzb24uYXV0aG9yLmF2YXRhciwgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uLnBpYywgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBqc29uLm11c2ljbGluaywgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZToga2cubmFtZSArICfigKInICsga2cuYXV0aG9yLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICAgcGljOiBrZy5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoa2cpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGtnLnVybCArICcjaXNNdXNpYz10cnVlIyc74oCLICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gZmV0Y2goJ2h0dHBzOi8vYXBpLjUydm15LmNuL2FwaS9tdXNpYy9scmM/dG9rZW49NDMwZWRjMDNjODc4ZDZjMzU0NWI3MzMyM2RiMDZlZDImbj0xJm1zZz0nICsga2cubmFtZSArICcgJyArIGtnLmF1dGhvcik7ICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoJ+atjOivjeiOt+WPluWksei0pScpOyAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hYNVdlYlZpZXcoJycpOyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogW3VybF0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgfSwga2cpLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgICAgICAgICB1cmw6IGtnLnVybCwgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9vemfs+mikScsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdkb3dubG9hZDovLycgKyBrZy51cmwsICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVRpdGxlOiBrZy5uYW1lICsgJ+KAoicgKyBrZy5hdXRob3IsICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgIH0sIHVybCkgICAgICAgICB9KSAgICAgfSB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjUzLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmipbpsbznm7Tmkq0iLCJ0aXRsZSI6IuaKlumxvCIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIGxldCBkID0gW107ICAgICBsZXQgZmxfaWQgPSBnZXRJdGVtKCfmlpfpsbwnLCAnJyk7ICAgICBsZXQgaW1nID0gJ2h0dHBzOi8vYXBpLnhpbmFjLm5ldC9pY29uLz91cmw9aHR0cHM6Ly9tLmRvdXl1LmNvbSc7ICAgICB2YXIgZmVubGVpID0gW3sgICAgICAgICB0aXRsZTogXCLljp/liJtJUFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9jcy1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMWM0ZjliM2UwZGIyNDYxMDg3OWZhZjFlMDQxZDUzZDUuanBnXCIsICAgICAgICAgaWQ6IFwiaXBcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuS4gOi1t+eci1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyL2FmNjllZWIxOTQzYTk0NDRkMjM2MmE3ZjA2YzIyZGM2LnBuZ1wiLCAgICAgICAgIGlkOiBcInlxa1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5LqM5qyh5YWDXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMzQ2ZjQ4ZjQzNzk0NmNkMmVmMmEwMGJiMDMxNGU2ZjMuanBnXCIsICAgICAgICAgaWQ6IFwiZWN5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpn7PkuZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZHljYXRyL2dhbWVfY2F0ZS9mZTIxMTkzYzcyNTM3YmFkM2NkOTkxN2Q2N2U0YjAyYy5wbmdcIiwgICAgICAgICBpZDogXCJtdXNpY1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5oi35aSWXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2NzLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9nYW1lX2NhdGUvYjI0YjcxNmIyYTEzYmMwYjc1ODYzMmU1YjIwZTA4MzUucG5nXCIsICAgICAgICAgaWQ6IFwiSFdcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIue+jumjn1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyLzY5NTk0OWE1MWQyMjU0OGEyNjg4MDIzNWNiNmY5YzEzLnBuZ1wiLCAgICAgICAgIGlkOiBcIm1zXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlv4PliqjmtL7lr7lcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8xOWRhMWYyNGJjNTRjM2ZjNWI1ZGNhOWFmMzk5M2E4NS5wbmdcIiwgICAgICAgICBpZDogXCJ4ZHBkXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpn7PpgYfmgYvkurpcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9mYTU2YTI3MTMwNWJmZDg2NDIxZGVlODg1MWUwYTA3Ny5wbmdcIiwgICAgICAgICBpZDogXCJ5aW55dVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5pif56eAXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMTMwNTRiZDUwNjhiMDhkNzcxNmEyMDdlZmU2ZTRiMDEucG5nXCIsICAgICAgICAgaWQ6IFwieGluZ3hpdVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5b+D5YqoRk1cIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9kOGNkNGE5YmZkMDQyNWNiYTE3MzlhNjM5MmM0NjIxNS5wbmdcIiwgICAgICAgICBpZDogXCJkdHhzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlqLHkuZDmjqjojZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci82ZGVmNzIzNWRjNWUwMTA1NzVlYzMyNTQ0MjVjYzJiZi5wbmdcIiwgICAgICAgICBpZDogXCJ5bHRqXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpopzlgLxcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZHljYXRyL2dhbWVfY2F0ZS9kMTU0NmNmZDNmN2Y5ODU3MTlmODk0NDk2ZjJhN2IyZS5wbmdcIiwgICAgICAgICBpZDogXCJ5elwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5o6o6I2QXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2NzLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9nYW1lX2NhdGUvMDZkOGQ0ZDc5ZWQyZjQ0NGRkNmQ4OGUzNzRjN2NkNDIucG5nXCIsICAgICAgICAgaWQ6IFwiXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLnjovogIXojaPogIBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8wZDk2ZDYzZWU5NTUwNzI4YWNkODk5ZDY2ZWVlMzYyNS5wbmdcIiwgICAgICAgICBpZDogXCJ3enJ5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlkozlubPnsr7oi7FcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci84NTYwZWI0Y2JhOWU3MzRhMGQ3NDA4ZjZhOWI5ZWZiOC5wbmdcIiwgICAgICAgICBpZDogXCJocGp5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLoi7Hpm4TogZTnm59cIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8xZGUxZWE1MjE1YjUxM2NmNGY1YjNjMzI2ZjVmOTY1Ny5wbmdcIiwgICAgICAgICBpZDogXCJMT0xcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIueDremXqOa4uOaIj1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyL2U4ZDJmMmRlY2EyMDI1ZWMxMjg3NGQ2ZDY3OTI0ODlhLnBuZ1wiLCAgICAgICAgIGlkOiBcInJteXhcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIkNG5omL5ri4XCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvZmIyNmNjNzViNWQ4Nzc3ZjI4N2IyY2EwOTQ3ZjVkZjYucG5nXCIsICAgICAgICAgaWQ6IFwiQ0ZTWVwiICAgICB9XTsgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogJ+aWl+mxvOebtOaSrScsICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgZGVzYzogJ+WIh+aNoicsICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICB1cmw6ICQoZmVubGVpLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KChmZW5sZWkpID0+IHsgICAgICAgICAgICAgICAgIGxldCBpID0gZmVubGVpLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpOyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGZlbmxlaVtpXS5pZDsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+aWl+mxvCcsIHVybCk7ICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgIH0sIGZlbmxlaSksICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgZGVzYzogJ+i+k+WFpeS9oOaDs+aQnOe0oueahCcsICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gJ3RvYXN0Oi8v6K+36L6T5YWl5YWz6ZSu6K+N5pCc57SiJzsgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh0eHQpID0+IHsgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aQnOe0oicgKyAn4oCcJyArIHR4dCArICfigJ0nKTsgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuZG91eXUuY29tL2phcGkvc2VhcmNoL2FwaS9zZWFyY2hTaG93P2t3PScgKyB0eHQgKyAnJnBhZ2U9JyArIE1ZX1BBR0UgKyAnJnBhZ2VTaXplPTIwJykpLmRhdGE7ICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgICAgIGxldCBqcyA9IGpzb24ucmVsYXRlU2hvdy5mb3JFYWNoKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBqLnJpZDsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGoubmlja05hbWUgKyAn8J+UuScgKyBqLmhvdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLmNhdGVOYW1lICsgJ+KAoicgKyBqLnJvb21OYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiBqLnJvb21TcmMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gJ2h0dHA6Ly96enk3ODkueHl6L2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiID0gJ2h0dHA6Ly9tYW9tYW8ua2FuZGlhbnR2LmNuL2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBbJ3ZpZGVvOi8vJyArIGEsICd2aWRlbzovLycgKyBiXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGlkKSwgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgfSwgdHh0KSAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgICAgIH0gICAgIHRyeSB7ICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL20uZG91eXUuY29tL2FwaS9yb29tL2xpc3Q/bGltaXQ9MjAmcGFnZT0nICsgTVlfUEFHRSArICcmdHlwZT0nICsgZmxfaWQpKS5kYXRhOyAgICAgfSBjYXRjaCB7fSAgICAganNvbi5saXN0Lm1hcChkYXRhID0+IHsgICAgICAgICB2YXIgaWQgPSBkYXRhLnJpZDsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZGF0YS5yb29tTmFtZSwgICAgICAgICAgICAgZGVzYzogZGF0YS5uaWNrbmFtZSArICfwn5S5JyArIGRhdGEuaG4sICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgIHBpY191cmw6IGRhdGEucm9vbVNyYywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgbGV0IGE9ICdodHRwOi8venp5Nzg5Lnh5ei9kb3V5dTEucGhwP2lkPScgKyBpZDsgICAgICAgICAgICAgICAgIGxldCBiID0gJ2h0dHA6Ly9tYW9tYW8ua2FuZGlhbnR2LmNuL2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFsndmlkZW86Ly8nICsgYSwgJ3ZpZGVvOi8vJyArIGJdOyAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9LCBpZCksICAgICAgICAgfSk7ICAgICB9KTsgICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI2My5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5LiA5Liq5Zu+5paHIiwidGl0bGUiOiLlm77mlociLCJ1cmwiOiJAanM6ICQoW3sgICAgIHRpdGxlOiAn5LuK5pel54Ot5qacJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMTAucG5nJyB9LCB7ICAgICB0aXRsZTogJ+eMq+ecvOeUteW9sScsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE3MS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn56eS5oeC5paw6Ze7JywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn5pel5bi46IGK5aSpJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjUucG5nJyB9LCB7ICAgICB0aXRsZTogJ+S4gOS4quWbvuaWhycsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzQ4LnBuZycgfSwgeyAgICAgdGl0bGU6ICflvIDnnLzop4bpopEnLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNjEucG5nJyB9LCB7ICAgICB0aXRsZTogJ+WOhuWPsuS7iuWkqScsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMwMy5wbmcnIH0sIHsgICAgIHRpdGxlOiAn57uE5Lu25bGV56S6JywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjEzLnBuZycgfSwgeyAgICAgdGl0bGU6ICfnjKvnnIvnmb3lmarpn7MnLCAgICAgaWNvbjogJ2h0dHBzOi8vd3d3Lm1hb2thbi5jYy9mYXZpY29uLmljbycgfSwgeyAgICAgdGl0bGU6ICfkuoznu7TnoIHnlJ/miJAnLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vcS83MC5wbmcnIH0sIF0sIDIsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4geyAgICAgaWYgKGlucHV0ID09ICfku4rml6Xng63mppwnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IHVybCA9IFwiaHR0cHM6Ly9yZWJhbmcudG9kYXkvXCI7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJ4NV93ZWJ2aWV3X3NpbmdsZVwiLCAgICAgICAgICAgICAgICAgdXJsOiB1cmwsICAgICAgICAgICAgICAgICBkZXNjOiBcImZsb2F0JiYxMDAlXCIsICAgICAgICAgICAgICAgICB0aXRsZTogXCJcIiwgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgIHVybEludGVyY2VwdG9yOiAkLnRvU3RyaW5nKChteSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3RhcnRzV2l0aChteSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50b1N0cmluZygodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLm9wZW4oSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuivpuaDhVwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJoaWtlcjovL2VtcHR5XCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFJ1bGU6IFwianM6XCIgKyAkJCQudG9TdHJpbmcoKHUpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzID0gJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC50aXRsZSAmJiBkb2N1bWVudC50aXRsZS5sZW5ndGgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSAkJCQoKS5sYXp5UnVsZSgodCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKHQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBkb2N1bWVudC50aXRsZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucGFyc2VMYXp5UnVsZShyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5sb2coZS50b1N0cmluZygpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwieDVfd2Vidmlld19zaW5nbGVcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiBqcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiMTAwJSYmZmxvYXRcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdXJsKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGlucHV0KSAgICAgICAgICAgICAgICAgICAgIH0sIHVybCkgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn54yr55y855S15b2xJykgeyAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZnVsbFRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+eMq+ecvOeUteW9sScpOyAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICBsZXQgbXlfbGlzdCA9IGdldEl0ZW0oJ21hb3lhbicsICdtb3ZpZU9uSW5mb0xpc3QnKTsgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZjKCdodHRwczovL20ubWFveWFuLmNvbS9hamF4LycgKyBteV9saXN0ICsgJz9jaT0mdG9rZW49JmxpbWl0PTAnLCAxMikpLm1vdmllSWRzOyAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn54yr55y855S15b2xJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiBnZXRJdGVtKCdtYW95YW4nLCAnbW92aWVPbkluZm9MaXN0JykgPT0gJ21vdmllT25JbmZvTGlzdCcgPyAn5q2j5Zyo54Ot5pigJyA6ICfljbPlsIbkuIrmmKAnLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgICAgICAgICBwaWM6ICdodHRwczovL2Zhdmljb24ucXFzdXUuY24vaHR0cHM6Ly9tLm1hb3lhbi5jb20vJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdtYW95YW4nLCBnZXRJdGVtKCdtYW95YW4nLCAnbW92aWVPbkluZm9MaXN0JykgPT0gJ21vdmllT25JbmZvTGlzdCcgPyAnY29taW5nTGlzdCcgOiAnbW92aWVPbkluZm9MaXN0Jyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoJ+W3suWIh+aNoicgKyAoZ2V0SXRlbSgnbWFveWFuJywgJ21vdmllT25JbmZvTGlzdCcpID09ICdtb3ZpZU9uSW5mb0xpc3QnID8gJ+ato+WcqOeDreaYoCcgOiAn5Y2z5bCG5LiK5pigJykpOyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGxldCBuID0gTVlfUEFHRTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uLnNsaWNlKDAsIDYpOyAgICAgICAgICAgICB9IGVsc2UgaWYgKE1ZX1BBR0UgPT4gMikgeyAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uLnNsaWNlKG4gKiA2IC0gNiwgbiAqIDYpOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGRhdGEubWFwKGogPT4geyAgICAgICAgICAgICAgICAgbGV0IGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9tLm1hb3lhbi5jb20vYWpheC9kZXRhaWxtb3ZpZT9tb3ZpZUlkPScgKyBqKSk7ICAgICAgICAgICAgICAgICBsZXQgeHEgPSBqcy5kZXRhaWxNb3ZpZTsgICAgICAgICAgICAgICAgIGxldCBkZXNjID0gKHhxLmNhdCArICdcXG4nICsgeHEuc3RhciArICdcXG4nICsgeHEucHViRGVzYykucmVwbGFjZSgvdW5kZWZpbmVkL2csICcnKTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHhxLm5tICsgJ1xcblxcbvCflLknICsgeHEuZGlyLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGRlc2MsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpYycsICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogeHEuaW1nID8geHEuaW1nIDogeHEudmlkZW9JbWcsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IyNmdWxsVGhlbWUjJykucnVsZSgoeHEpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKHhxLm5tKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4cS5ubSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICflm77niYcnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiB4cS5pbWcgPyB4cS5pbWcgOiB4cS52aWRlb0ltZywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZ2FtZVRoZW1lIycpLnJ1bGUoKHhxKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhxLnBob3RvcyA9PSBudWxsKSByZXR1cm4gJ3RvYXN0Oi8v5pyo5pyJ5Zu+54mH5ZOm44CCJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhxLnBob3Rvcy5tYXAoaW1nID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHhxKSwgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2xpc3QmJjIwMCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHhxLnZpZGVvdXJsID8geHEudmQgOiAnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JpZ19ibGFua19ibG9jaycsICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gc3RvcmFnZTAuZ2V0SXRlbSgnbWFveWFuX3NlYXJjaCcsICdbXCLpnZLosYZcIiwgXCLogZrlvbFcIiwgXCLpo47lvbFcIiwgXCLkupHnm5jlkJsu566AXCJdJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbihsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF80JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL3NlYXJjaD9ydWxlPScgKyBsICsgJyZzPScgKyB4cS5ubSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+abtOaUueaQnOe0oicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGxpc3QsICfmg7PopoHmm7TmlLnnmoTmkJzntKLlsI/nqIvluo/lkI3np7AnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnNldEl0ZW0oJ21hb3lhbl9zZWFyY2gnLCBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGxpc3QpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmgaLlpI3pu5jorqQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnbWFveWFuX3NlYXJjaCcsIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmVfYmxhbmsnLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4cS52aWRlb05hbWUgPyB4cS52aWRlb05hbWUgKyAnXFxuXFxuJyArIHhxLmRyYSA6IHhxLmRyYSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCB4cSksICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn56eS5oeC5paw6Ze7JykgeyAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+enkuaHguaWsOmXuycpOyAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmYygnaHR0cDovL2V4Y2VycHQucnViYW9vLmNvbS90b29sbWFuL2dldE1pbmlOZXdzJywgOCkpLmRhdGE7ICAgICAgICAgICAgICAgICBsZXQgeXkgPSAnaHR0cHM6Ly95dWFueGlhcGkuY24vYXBpL3ZvaWNlLz9wZXI9MCZwaXQ9LTUmc3BkPTUuNSZ0ZXh0PeeOsOWcqOS4uuaCqOaSreaKpeaWsOmXuycgKyBqc29uLm5ld3M7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICcwJiZmbG9hdCcsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9jYXJkJywgICAgICAgICAgICAgICAgICAgICBpbWc6IGpzb24uaGVhZF9pbWFnZSwgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aXpeacn++8micgKyBqc29uLmRhdGUsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCh5eSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoWDVXZWJWaWV3KHl5KTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgIH0sIHl5KSAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqc29uLndlaXl1LCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIGpzb24ud2VpeXUsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIGpzb24ubmV3cy5tYXAoaXRlbSA9PiB7ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsb25nX3RleHQnLCAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbSwgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAnMTcnICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfml6XluLjogYrlpKknKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfml6XluLjogYrlpKnlrqQnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vbmljaGlqb3UuY24vJywgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfkuIDkuKrlm77mlocnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9tLnd1ZmF6aHVjZS5jb20vb25lJywgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnjKvnnIvnmb3lmarpn7MnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfnjKvnnIvnmb3lmarpn7MnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vd3d3Lm1hb2thbi5jYy8nLCAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLCAgICAgICAgICAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2UsICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSkgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+S6jOe7tOeggeeUn+aIkCcpIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfkuoznu7TnoIHnlJ/miJAnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgaWYgKCFmaWxlRXhpc3QoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL1FSLmpzb24nKSkgeyAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL1FSLmpzb24nLCAnW10nKTsgICAgICAgICAgICAgfSAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL1FSLmpzb24nKSk7ICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiAn55Sf5oiQJywgICAgICAgICAgICAgICAgIGRlc2M6ICflhoXlrrkrKC5856m65qC8fOaNouihjCnmoIfpopgnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dC5zcGxpdCgvXFxuP1xcbnxbXFwuXXxcXHQvKTsgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9ICdoaWtlcjovL2ZpbGVzL0ptL3BuZy9RUi8nICsgdGltZSArICcucG5nJzsgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gJ2h0dHBzOi8vYXBpLnNod2dpai5jb20vYXBpL3FyY29kZS9nZXQ/a2V5PUUwNVVreG9IZEpHUnBEbnBvOGcwZ3FpYlZSJnNpemU9MTAmbWFyZ2luPTImbGV2ZWw9MyZ0ZXh0PScgKyB0eHRbMF07ICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LqM57u056CB5Zu+54mHJywgdXJsKTsgICAgICAgICAgICAgICAgICAgICBzYXZlSW1hZ2UodXJsLCBmaWxlKTsgICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHR4dCA9PSBudWxsID8gdHh0IDogdHh0WzFdLCAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGZpbGUgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgIFFSID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9RUi5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgIFFSID0gUVIuY29uY2F0KGRhdGEpOyAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9RUi5qc29uJywgSlNPTi5zdHJpbmdpZnkoUVIpKTsgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBqc29uLm1hcChqID0+IHsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoudGl0bGUgfHwgJ+S4jeWPluS4quWQjeWtl+WQl++8nycsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18zX2NlbnRlcicsICAgICAgICAgICAgICAgICAgICAgcGljOiBnZXRJdGVtKCfkuoznu7TnoIHlm77niYcnKSB8fCBqLnBpYywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgICAgICAgICAgdXJsOiBcInNlbGVjdDovL1wiICsgSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCLmn6XnnItcIiwgXCLliKDpmaRcIl0sICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFZpZXc6IHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+afpeeciycpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UGF0aChqLnBpYykgKyAnIy5qcGcnICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFSID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9RUi5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbmRleFRvUmVtb3ZlID0gUVIuaW5kZXhPZihqLnBpYyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZWRFbGVtZW50cyA9IFFSLnNwbGljZShpbmRleFRvUmVtb3ZlLCAxKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvUVIuanNvbicsIEpTT04uc3RyaW5naWZ5KFFSKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRmlsZShqLnBpYyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liKDpmaTmiJDlip9+JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSkgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+W8gOecvOinhumikScpIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2Ujbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5byA55y86KeG6aKRJyk7ICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICBmdW5jdGlvbiBqc29uKHVybCkgeyAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2godXJsKSk7ICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBqc29uLml0ZW1MaXN0OyAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgaXRlbS5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4geyAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gXCJ2aWRlb1wiKSB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSBpdGVtLmRhdGEuY292ZXIuZmVlZC5yZXBsYWNlKCdhbGktYWxpLScsICdhbGktJykuc3BsaXQoJz8nKVswXTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLmRhdGEudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogaW1nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly8nICsgaXRlbS5kYXRhLnBsYXlVcmwsICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHB1dFZhcignbicsIGpzb24ubmV4dFBhZ2VVcmwpOyAgICAgICAgICAgICB9OyAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICBqc29uKCdodHRwOi8vYmFvYmFiLmthaXlhbmFwcC5jb20vYXBpL3Y0L3RhYnMvc2VsZWN0ZWQnKTsgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgIG5leHRwID0gZ2V0VmFyKCduJyk7ICAgICAgICAgICAgICAgICBqc29uKG5leHRwKTsgICAgICAgICAgICAgfSAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSkgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+WOhuWPsuS7iuWkqScpIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5Y6G5Y+y5LiK55qE5LuK5aSpJyk7ICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmMoJ2h0dHBzOi8vcXFseWttLmNuL2FwaS9oaXN0b3J5L2dldD9rZXk9NzlSOFcwMjRmd0VoUGFxYmtjY3B4TGFMaW0nLCA4KSk7ICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGltZyA9ICdodHRwczovL3FxbHlrbS5jbi9hcGkvYmluZy9nZXQ/a2V5PTc5UjhXMDI0ZndFaFBhcWJrY2NweExhTGltJnR5cGU9cmFuZCcgKyAnIycgKyBEYXRlLm5vdygpICsgJyMuanBnJzsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiAn5b+F6aG76K6k55yf5a+55b6F5Y6G5Y+y5LqL5a6eLOS7peato+inhuWQrOato+mdouWQkeacquadpeOAgicsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgZGVzYzogJ+WOhuWPsuaYr+S4gOmdouawuOS4jeikquiJsueahOmVnOWtkO+8jOWug+WxleeOsOedgOS6uuexu+aWh+aYjueahOi/m+eoi++8jOS5n+iusOW9leedgOS6uuexu+eahOe9quaBtuS4juaCsuWJp+OAgicgKyBqc29uLmRhdGUsICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgIHVybDogaW1nLCAgICAgICAgICAgICB9KTsgICAgICAgICAgICAganNvbi5kYXRhLm1hcCh1ID0+IGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogdS55ZWFyICsgJ+W5tDogJyArIHUudGl0bGUsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICBkZXNjOiAn54K55Ye75p+l55yL5Lq654mp6K+m5oOFJywgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNmdWxsVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5JykucnVsZSgodSkgPT4geyAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdS51cmwsICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgIH0sIHUpLCAgICAgICAgICAgICB9KSk7ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfnu4Tku7blsZXnpLonKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGltZyA9ICdoaWtlcjovL2ltYWdlcy9ob21lX2JnJzsgICAgICAgICAgICAgbGV0IGJhc2VFbGVtZW50cyA9IFsndGV4dF8xJywgJ3RleHRfY2VudGVyXzEnLCAndGV4dF8yJywgJ3RleHRfMycsICd0ZXh0XzQnLCAndGV4dF81JywgJ2ZsZXhfYnV0dG9uJywgJ3Njcm9sbF9idXR0b24nXTsgICAgICAgICAgICAgbGV0IHBpY0VsZW1lbnRzID0gWydwaWNfMV9mdWxsJywgJ3BpY18zJywgJ3BpY18zX3NxdWFyZSddOyAgICAgICAgICAgICBsZXQgaWNvbkVsZW1lbnRzID0gWyd0ZXh0X2ljb24nLCAnYXZhdGFyJywgJ2ljb25fMV9zZWFyY2gnLCAnbW92aWVfMScsICdtb3ZpZV8xX2xlZnRfcGljJywgJ21vdmllXzFfdmVydGljYWxfcGljJywgJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAnbW92aWVfMicsICdtb3ZpZV8zJywgJ21vdmllXzNfbWFycXVlZScsICdwaWNfMScsICdwaWNfMV9jYXJkJywgJ3BpY18yJywgJ3BpY18yX2NhcmQnLCAnaWNvbl8yJywgJ2ljb25fMl9yb3VuZCcsICdpY29uX3NtYWxsXzMnLCAnaWNvbl8zX3JvdW5kX2ZpbGwnLCAnaWNvbl80JywgJ2ljb25fNF9jYXJkJywgJ2ljb25fc21hbGxfNCcsICdpY29uX3JvdW5kXzQnLCAnaWNvbl9yb3VuZF9zbWFsbF80JywgJ2ljb25fNScsICdjYXJkX3BpY18yXzInLCAnY2FyZF9waWNfMl8yX2xlZnQnLCAnY2FyZF9waWNfMycsICdjYXJkX3BpY18zX2NlbnRlciddOyAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgICAgIGRlc2M6ICfor7TmmI7vvJrngrnlh7vljbPlpI3liLbmoLflvI8hJywgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdjb3B5Oi8vaW5wdXQnICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIGJhc2VFbGVtZW50cy5mb3JFYWNoKHcgPT4gZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiB3LCAgICAgICAgICAgICAgICAgY29sX3R5cGU6IHcsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIHcsICAgICAgICAgICAgIH0pKTsgICAgICAgICAgICAgcGljRWxlbWVudHMuZm9yRWFjaChwID0+IHsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHAsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly8nICsgcCwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogcCwgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIHAsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIGljb25FbGVtZW50cy5mb3JFYWNoKGkgPT4geyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaSwgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogaSwgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIGksICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhcmRfcGljXzEnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18xJywgICAgICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2NhcmRfcGljXzEnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2NhcmRfcGljXzInLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18yJywgICAgICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2NhcmRfcGljXzInLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly94NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8yJywgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly9sb25nX3RleHQnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ3JpY2hfdGV4dCcsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vcmljaF90ZXh0JywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdsaW5lJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnZmxleF9idXR0b24nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2xpbmUnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2xpbmVfYmxhbmsnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdmbGV4X2J1dHRvbicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vbGluZV9ibGFuaycsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZV9ibGFuaycsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdmbGV4X2J1dHRvbicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vYmxhbmtfYmxvY2snLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdmbGV4X2J1dHRvbicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2JpZ19iaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdmbGV4X2J1dHRvbicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vYmlnX2JpZ19ibGFua19ibG9jaycsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JpZ19ibGFua19ibG9jaycsICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSkgICAgIH0gfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIxMy5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLlqLHkuZDkuabnrb7nu4QiLCJtYXJrIjoi5byA5YWzIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5ZOU5ZOp6Iie6LmI6KeG6aKRIiwidGl0bGUiOiLlk5Tlk6kiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ0Lnq5noiJ7ouYgnKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgcmlkID0gZ2V0SXRlbSgncmlkJywgJzE5OScpOyAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiAn5ZOU5ZOp6Iie6LmIJywgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgcGljOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMzNi5wbmcnLCAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbeyAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6ICfml6XluLgnLCAgICAgICAgICAgICAgICAgICAgICdyaWQnOiAnMjEnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+mfs+S5kCcsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyOCcgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiAn546w5Zy6JywgICAgICAgICAgICAgICAgICAgICAncmlkJzogJzI5JyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6ICflroXoiJ4nLCAgICAgICAgICAgICAgICAgICAgICdyaWQnOiAnMjAnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+ihl+iInicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxOTgnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+aYjuaYnycsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxOTknICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+WbvemjjicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyMDAnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+e9kee6oicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyNTUnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+e7vOWQiCcsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxNTQnICAgICAgICAgICAgICAgICB9XTsgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IGxpc3QubWFwKGkgPT4gaS50aXRsZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aXRsZSwgMywgJ+ivt+mAieaLqeS4gOS4quWIhuexuycpLnNlbGVjdCgobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgIGxldCB1ID0gbGlzdC5maW5kSW5kZXgoaSA9PiBpLnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBsaXN0W3VdLnJpZDsgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdyaWQnLCBpZCk7ICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInICAgICAgICAgICAgICAgICB9LCBsaXN0KSAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+i+k+WFpUNvb2tpZV9zZXNzZGF0YScsICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmlsaSA9IGdldEl0ZW0oJ2JpbGlfaW5wdXQnLCAnJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGJpbGksICdDb29raWXkuK3nmoRzZXNzZGF0YVxcbui+k+WFpeWQjuaJjeWPr+ingueci+mrmOa4heinhumikScpLmlucHV0KCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gaW5wdXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdDb29raWVfc2Vzc2RhdGEnLCB0eHQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnYmlsaV9pbnB1dCcsIHR4dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Y+v5Lul6KeC55yL6auY5riF6KeG6aKR5ZWmJyAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgfSAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9KTsgICAgIH0gICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuYmlsaWJpbEkuY29tL3gvd2ViLWludGVyZmFjZS9uZXdsaXN0P3R5cGU9MCZwbj0nICsgTVlfUEFHRSArICcmcHM9MTAwJmpzb25wPWpzb25wJnJpZD0nICsgcmlkKSkuZGF0YTsgICAgIGpzb24uYXJjaGl2ZXMubWFwKGh0bWwgPT4geyAgICAgICAgIHZhciBidmlkID0gaHRtbC5idmlkOyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBodG1sLnRpdGxlLCAgICAgICAgICAgICBkZXNjOiBodG1sLnRuYW1lLCAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzNfbWFycXVlZScsICAgICAgICAgICAgIHBpY191cmw6IGh0bWwucGljICsgJ0BSZWZlcmVyPScsICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoYnZpZCkgPT4geyAgICAgICAgICAgICAgICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnBlYXJrdHJ1ZS5jbi9hcGkvYmlsaWJpbGkvcGFyc2UucGhwP2J2aWQ9JyArIGJ2aWQgKyAnJnNlc3NkYXRhPScgKyBnZXRJdGVtKCdDb29raWVfc2Vzc2RhdGEnKSkpLmRhdGEudmlkZW9zLm1hcChkYXRhID0+IGRhdGEudmlkZW91cmwpOyAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9LCBidmlkKSwgICAgICAgICB9KTsgICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzM2LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLkvJHpl7LmuLjmiI8iLCJ0aXRsZSI6Iua4uOaIjyIsInVybCI6IkBqczogJChbeyAgICAgdGl0bGU6ICfmuLjkvqDmuLjmiI8nLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS81OS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn57K+6YCJ5ri45oiPJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzAwLnBuZycgfSwgeyAgICAgdGl0bGU6ICfooZfmnLrmuLjmiI8nLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNTcucG5nJyB9XSwgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB74oCLICAgICBpZiAoaW5wdXQgPT0gJ+a4uOS+oOa4uOaIjycpIHvigIsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGlkID0gZ2V0SXRlbSgn5ri45L6gJywgJzQnKTsgICAgICAgICAgICAgdmFyIGh0bWwgPSAoJ2h0dHBzOi8vdS5hbGkyMTMubmV0Jyk7ICAgICAgICAgICAgIGxldCBwYWdlID0gTVlfUEFHRTsgICAgICAgICAgICAgbGV0IHVybCA9IGZldGNoKGh0bWwgKyAnL2xpc3QvJyArIHBhZ2UgKyAnXycgKyBpZCArICcuaHRtbCcpOzsgICAgICAgICAgICAgbGV0IGxpc3QgPSBwZGZhKHVybCwgJ2JvZHkmJi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNi5jb2wteHMtMTInKTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4uOS+oOWwj+a4uOaIjycsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICflpbPlrankuJPpopgnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzEnICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+S9k+iCsuernuaKgCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnMicgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5qih5ouf5ri45oiPJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6ICczJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfkvJHpl7Lnm4rmmbonLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzQnICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+inkuiJsuaJrua8lCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnNScgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn6aOe6KGM5bCE5Ye7JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6ICc2JyAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfmo4vniYzlqLHkuZAnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzcnICAgICAgICAgICAgICAgICAgICAgICAgIH1dOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGxpc3QubWFwKGxpc3QgPT4gbGlzdC5uYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMywgJ+ivt+mAieaLqeWIhuexuycpLnNlbGVjdCgobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBsaXN0LmZpbmRJbmRleChsaXN0ID0+IGxpc3QubmFtZSA9PSBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gbGlzdFtpXS5pZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+a4uOS+oCcsIHVybCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2iJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KSAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn6L6T5YWl5L2g5oOz5pCc57Si55qEJywgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKGh0bWwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlhbPplK7or43mkJzntKJcIjsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4dCA9IGlucHV0OyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaHR0cHM6Ly91LmFsaTIxMy5uZXQvc2VhcmNoLnBocD9rZXl3b3JkPScgKyB0eHQgKyAnI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKGh0bWwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHBkZmEoZ2V0UmVzQ29kZSgpLCAnLmNvbnRhaW5lci1mbHVpZCwxJiYuY29sLWxnLTMnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbGlzdCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmxpbmsmJlRleHQnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmhpdHMmJlRleHQnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWMgPSBwZGZoKGxpc3RbaV0sICdpbWcmJnNyYycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHBkZmgobGlzdFtpXSwgJy50cmFuc2Zvcm1iYXJsaW5rJiZhJiZocmVmJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBkZXNjLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGh0bWwgKyBwaWMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChodG1sICsgdXJsICsgJyNnYW1lVGhlbWUjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHBkKGdldFJlc0NvZGUoKSwgJ2JvZHkmJi5kdHBsYXkmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaHRtbCkgICAgICAgICAgICAgICAgICAgICB9LCBodG1sKSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbGlzdCkgeyAgICAgICAgICAgICAgICAgdGl0bGUgPSBwZGZoKGxpc3RbaV0sICcudHJhbnNmb3JtYmFybGluayYmVGV4dCcpOyAgICAgICAgICAgICAgICAgZGVzYyA9IHBkZmgobGlzdFtpXSwgJy50cmFuc2Zvcm1iYXJoaXRzJiZUZXh0Jyk7ICAgICAgICAgICAgICAgICBwaWMgPSBwZGZoKGxpc3RbaV0sICdpbWcmJnNyYycpOyAgICAgICAgICAgICAgICAgdXJsID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmxpbmsmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGRlc2MsICAgICAgICAgICAgICAgICAgICAgcGljOiBodG1sICsgcGljLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGh0bWwgKyB1cmwgKyAnI2dhbWVUaGVtZSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHBkKGdldFJlc0NvZGUoKSwgJ2JvZHkmJi5kdHBsYXkmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0gICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnsr7pgInmuLjmiI8nKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnknKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfnsr7pgInmuLjmiI8nKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGxpc3QgPSBbJ0ZD5ri45oiP5py6QGh0dHBzOi8veGlhb2JhcGkudG9wL2Z1bmN0aW9uL2ZjLycsICfkuIDkuKrpg73kuI3og73mrbtAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi8yL2luZGV4Lmh0bWwnLCAn5aSp5aSp5raI5raI5LmQQGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvMTcvaW5kZXguaHRtbCcsICfmmJ/nkIPpmLLlvqFAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi8yMS9pbmRleC5odG1sJywgJ+W8gOW/g+a2iOa2iOS5kEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzIzL2luZGV4Lmh0bWwnLCAnM0Tnhorlh7rmsqFAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi81Ni9pbmRleC5odG1sJywgJzNE5ou85Zu+QGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvNTcvaW5kZXguaHRtbCcsICfnroDnuqbmiZPlnLDpvKBAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi82Ny9pbmRleC5odG1sJywgJ+S4gOeslOi/nuePoEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzc0L2luZGV4Lmh0bWwnLCAn55av54uC5omT5LyB6bmFQGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvNTAvaW5kZXguaHRtbCcsICfnjJzmiJDor61AaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi83MS9pbmRleC5odG1sJywgJ+WBpeW6t+a2iOa2iOS5kEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzgwL2luZGV4Lmh0bWwnLCAn5p625a2Q6byTQGh0dHA6Ly9ndW96aGl2aXAuY29tL2p6ZycsICfllrXllrXmiYvpvJNAaHR0cHM6Ly9saW56aW11LmNvbS9NdXNpY0NhdCcsICfkuK3lm73osaHmo4tAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMvY2hpbmFjaGVzcy9pbmRleC5odG1sP2dhbWVfY29kZT0zMTMnLCAn5Lit5Zu96LGh5qOLMUBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzY1L2luZGV4Lmh0bWwnLCAn5L+E572X5pav5pa55Z2XQGh0dHBzOi8vZ2FtZS51cjEuZnVuL3RldHJpcy8nLCAn5Z2R54i55ri45oiPQGh0dHBzOi8vdS5hbGkyMTMubmV0L2dhbWVzL2tlbmdkaWU4L2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTk2NScsICflsLHmmK/ot5FAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMveGlhb2h1b3ppL2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTk5NycsICfkuozmiJjpo47kupFAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMvZXJ6aGFuL2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTg3NycsICfnu7TkuqzmiJjkuolAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzEvaW5kZXguaHRtbCcsICfpnZLom5nlkIPoi43onYdAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzYvaW5kZXguaHRtbCcsICflj4zkurrkupTlrZDmo4tAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzI5L2luZGV4Lmh0bWwnLCAn6aOe5py65aSn5oiYQGh0dHBzOi8veGlhb2JhcGkudG9wL2Z1bmN0aW9uL2dhbWUveXhtYi8zMS9pbmRleC5odG1sJywgJ+acgOW8uuecvOWKm0BodHRwczovL3hpYW9iYXBpLnRvcC9mdW5jdGlvbi9nYW1lL3l4bWIvMzYvaW5kZXguaHRtbCcsICfngYznr67mipXnkINAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzQ5L2luZGV4Lmh0bWwnLCAn5Yid6Z+z6Kej5Y6LQGh0dHBzOi8vdG9vbHdhLmNvbS9taWt1dGFwLycsICfonJjom5vnurjniYxAaHR0cHM6Ly9nYW1lLnVyMS5mdW4vcG9rZXIvJywgJ+mjnuacuuWkp+aImDIuMEBodHRwczovL2dhbWUudXIxLmZ1bi9wbGFuZS13YXJzLycsICfnp6/mnKjliIfliIfkuZBAaHR0cHM6Ly9nYW1lLnVyMS5mdW4vbWVuamEvJywgJ+WFlOWtkOW/q+i3kUBodHRwczovL2dhbWUudXIxLmZ1bi9ob3AvJywgJzNE6a2U5pa5QGh0dHBzOi8vZ2FtZS51cjEuZnVuL2N1YmUvJ107ICAgICAgICAgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMwMC5wbmcnOyAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgIGxldCBrID0gbGlzdFtpXS5zcGxpdCgvQC8pOyAgICAgICAgICAgICAgICAgaWYgKGsubGVuZ3RoIDwgMikgY29udGludWU7ICAgICAgICAgICAgICAgICB2YXIgdXJsID0ga1sxXTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtbMF0sICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzJfcm91bmQnLCAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGltZywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjI2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWE6IE1PQklMRV9VQSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgfSwgdXJsKSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfooZfmnLrmuLjmiI8nKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IHQgPSBnZXRJdGVtKCfooZfmnLrmuLjmiI8nLCAnRkMnKTsgICAgICAgICAgICAgdmFyIGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9zZXJ2aWNlLW05eWVnY245LTEzMTEyNDgwMjIuc2guYXBpZ3cudGVuY2VudGNzLmNvbS9yZWxlYXNlL2dhbWVzP3Q9JyArIHQgKyAnJnA9JyArIE1ZX1BBR0UpKTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ihl+acuua4uOaIjycsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfliIfmjaInLCAgICAgICAgICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoWyfooZfmnLonLCAnRkMnLCAnU0ZDJywgJ0dCQScsICdNRCcsICdINSddLCAzLCAn6K+36YCJ5oup5pON5L2cJykuc2VsZWN0KCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn6KGX5py65ri45oiPJywgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGpzLm1hcCh5ID0+IHsgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB5LnVybDsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHkubmFtZSwgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHkudHlwZSwgICAgICAgICAgICAgICAgICAgICBwaWM6IHkuaW1nLCAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNnYW1lVGhlbWUjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCB1cmwpLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSk7ICAgICB9IH0pIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuiEkeeti+aApei9rOW8ryIsInRpdGxlIjoi6Zeu562UIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgn6ISR562L5oCl6L2s5byvJyk7ICAgICBsZXQgZCA9IFtdOyAgICAgdHJ5IHsgICAgICAgICBsZXQganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5xcXN1dS5jbi9hcGkvZG0tbmFvd2FuP251bT0xMCZhcGlLZXk9NTg4MjBhN2M3ZTk5ZWY4Y2IxOTVjYjM5ZGIxYjdiNWMnKSkuZGF0YTsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgZGVzYzogJzAnLCAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2UsICAgICAgICAgICAgIH0gICAgICAgICB9KTsgICAgICAgICBqcy5saXN0Lm1hcChkYXRhID0+IHsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhLnF1ZXN0LCAgICAgICAgICAgICAgICAgZGVzYzogJ+KWtu+4jyDngrnlh7vmkq3mlL4nLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF8xXCIsICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGRhdGEpID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gKCdodHRwczovL3l1YW54aWFwaS5jbi9hcGkvdm9pY2UvP3Blcj0wJnBpdD0tNSZzcGQ9NS41JnRleHQ9JyArIGRhdGEucXVlc3QpOyAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hYNVdlYlZpZXcodXJsKTsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICB9LCBkYXRhKSwgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+etlOahiDogJyArIGRhdGEucmVzdWx0LCAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoZGF0YSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9ICgnaHR0cHM6Ly9hcGkuc2hlbmtlLmxvdmUvQVBJL290aGVyL3R0c195b3VkYW8ucGhwP21zZz0nICsgZGF0YS5yZXN1bHQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFg1V2ViVmlldyh1cmwpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBkYXRhKSAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICB9KTsgICAgIH0gY2F0Y2gge30gICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI1MS5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5p6B6Ie06Z2T5Li9IiwiY29kZSI6Ilt7XG4gICAgdGl0bGU6ICfpnZPkuL0nLFxuICAgIGNvbF90eXBlOiAnaWNvbl9yb3VuZF80JyxcbiAgICBwaWM6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjAyLnBuZycsXG4gICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBkID0gW107XG4gICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aegeiHtOmdk+S4vScpO1xuICAgICAgICAgICAgbGV0IOmTvuaOpSA9IGdldEl0ZW0oJ+aegeWuoicsICdodHRwczovL3AudHhxcS5wcm8vIy8nKTtcbiAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsXG4gICAgICAgICAgICAgICAgdXJsOiDpk77mjqUsXG4gICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrUnVsZXM6IFsnYmFpZHUuKi5wbmcnLCAnLmpwZyddLFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0UmVzdWx0KGQpO1xuICAgICAgICB9KVxuICAgIH0pLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGxvbmdDbGljazogW3tcbiAgICAgICAgICAgIHRpdGxlOiAn6ZqP5py65aeQ5aeQJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCfmnoHlrqInLCAnaHR0cDovLzExOS45MS4xOTYuMjQ3Ojc3NzgveGpqJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn5p6B5a6i576O5aWzJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCfmnoHlrqInLCAnaHR0cHM6Ly90Lnh4Z2Vlay5jb20vdG9vbHMvbW12b2QvbS5waHAnKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNoidcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfpmo/mnLrnvo7lpbMnLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+aegeWuoicsICdodHRwczovL2FwaS5jbm1jb20uY29tL2RzcC8nKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNoidcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn6L6T5YWl5pu05o2iJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgamsgPSBnZXRJdGVtKCdqa19pbnB1dCcsICcnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJChqaywgJ+aDs+imgeabtOaNoueahOefreinhumikeWcsOWdgCcpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR4dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmnoHlrqInLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdqa19pbnB1dCcsIHR4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2iJ1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ+m7mOiupOmdk+S4vScsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCfmnoHlrqInKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suaBouWkjem7mOiupCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1dLFxuICAgIH1cbn1dIn0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLnlLvmnb8iLCJ0aXRsZSI6IueUu+advyIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNnYW1lVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgIGxldCBkID0gW107ICAgICBkLnB1c2goeyAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgdXJsOiAnaHR0cDovL3Rvb2wubWtibG9nLmNuL3doaXRlYm9hcmQvJywgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlLCAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgIH0gICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjMyLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmmJ/luqfov5Dlir8iLCJ0aXRsZSI6IuaYn+W6pyIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgn5pif5bqn6L+Q5Yq/Jyk7ICAgICBsZXQgZCA9IFtdOyAgICAgdHJ5IHsgICAgICAgICBsZXQgbmFtZSA9IHN0b3JhZ2UwLmdldEl0ZW0oJ+aYn+W6pycsICdnZW1pbmknKTsgICAgICAgICBsZXQgaW1nID0gKCdodHRwczovL2FwaS52dmhhbi5jb20vYXBpL2JpbmcnICsgJyMnICsgbmV3IERhdGUoKS5nZXRUaW1lKCkpOyAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmYygnaHR0cHM6Ly9hcGkudnZoYW4uY29tL2FwaS9ob3Jvc2NvcGU/dGltZT10b2RheSZ0eXBlPScgKyBuYW1lLCA4KSkuZGF0YTsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZToganNvbi50aXRsZSwgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18xJywgICAgICAgICAgICAgZGVzYzogJzAnLCAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gW3sgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfnmb3nvorluqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICdhcmllcycgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfph5HniZvluqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICd0YXVydXMnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5Y+M5a2Q5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnZ2VtaW5pJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+W3qOifueW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2NhbmNlcicgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfni67lrZDluqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICdsZW8nICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5aSE5aWz5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAndmlyZ28nICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5aSp56ek5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnbGlicmEnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5aSp6J2O5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnc2NvcnBpbycgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICflsITmiYvluqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICdzYWdpdHRhcml1cycgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfprZTonY7luqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICdjYXByaWNvcm4nICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5rC055O25bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnYXF1YXJpdXMnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5Y+M6bG85bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAncGlzY2VzJyAgICAgICAgICAgICAgICAgfV07ICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGxpc3QubWFwKGxpc3QgPT4gbGlzdC5uYW1lKTsgICAgICAgICAgICAgICAgIHJldHVybiAkKG5hbWUsIDMsICfor7fpgInmi6knKS5zZWxlY3QoKGxpc3QpID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IGxpc3QuZmluZEluZGV4KGxpc3QgPT4gbGlzdC5uYW1lID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gbGlzdFtpXS5pZDsgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKCfmmJ/luqcnLCB1cmwpOyAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5pif5bqnJyAgICAgICAgICAgICAgICAgfSwgbGlzdCkgICAgICAgICAgICAgfSksICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfml7bpl7TvvJonICsganNvbi50aW1lICsgJ1xcbuWunO+8micgKyBqc29uLnRvZG8ueWkgKyAnXFxu5b+M77yaJyArIGpzb24udG9kby5qaSArICdcXG7lubjov5DmlbDlrZfvvJonICsganNvbi5sdWNreW51bWJlciArICdcXG7lubjov5DpopzoibLvvJonICsganNvbi5sdWNreWNvbG9yICsgJ1xcbumAn+mFjeaYn+W6p++8micgKyBqc29uLmx1Y2t5Y29uc3RlbGxhdGlvbiArICdcXG7nn63or4TvvJonICsganNvbi5zaG9ydGNvbW1lbnQsICAgICAgICAgICAgIGNvbF90eXBlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfnu7zlkIjov5Dlir/vvJonICsganNvbi5mb3J0dW5lLmFsbCArICcg4pmlJyArICdcXG7niLHmg4Xov5Dlir/vvJonICsganNvbi5mb3J0dW5lLmxvdmUgKyAnIOKZpScgKyAnXFxu5a2m5Lia5bel5L2c77yaJyArIGpzb24uZm9ydHVuZS53b3JrICsgJyDimaUnICsgJ1xcbui0ouWvjOi/kOWKv++8micgKyBqc29uLmZvcnR1bmUubW9uZXkgKyAnIOKZpScgKyAnXFxu5YGl5bq36L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZS5oZWFsdGggKyAnIOKZpScsICAgICAgICAgICAgIGNvbF90eXBlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfnu7zlkIjmjIfmlbDvvJonICsganNvbi5pbmRleC5hbGwgKyAnXFxu54ix5oOF5oyH5pWw77yaJyArIGpzb24uaW5kZXgubG92ZSArICdcXG7lrabkuJrlt6XkvZzvvJonICsganNvbi5pbmRleC53b3JrICsgJ1xcbui0ouWvjOaMh+aVsO+8micgKyBqc29uLmluZGV4Lm1vbmV5ICsgJ1xcbuWBpeW6t+aMh+aVsO+8micgKyBqc29uLmluZGV4LmhlYWx0aCwgICAgICAgICAgICAgY29sX3R5cGU6ICdsb25nX3RleHQnLCAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICB9LCB7ICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZScsICAgICAgICAgfSwgeyAgICAgICAgICAgICB0aXRsZTogJ+e7vOWQiOi/kOWKv++8micgKyBqc29uLmZvcnR1bmV0ZXh0LmFsbCArICdcXG5cXG7niLHmg4Xov5Dlir/vvJonICsganNvbi5mb3J0dW5ldGV4dC5sb3ZlICsgJ1xcblxcbuWtpuS4muW3peS9nO+8micgKyBqc29uLmZvcnR1bmV0ZXh0LndvcmsgKyAnXFxuXFxu6LSi5a+M6L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZXRleHQubW9uZXkgKyAnXFxuXFxu5YGl5bq36L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZXRleHQuaGVhbHRoLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2xvbmdfdGV4dCcsICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgIH0pOyAgICAgfSBjYXRjaCB7fSAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNjcucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IueOi+iAheivremfs+WMhSIsInRpdGxlIjoi6K+t6Z+zIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgc2V0UGFnZVRpdGxlKCfnjovogIXor63pn7MnKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgeXggPSBnZXRJdGVtKCfnjovogIXor63pn7MnLCAn6bKB54+tJyk7ICAgICB0cnkgeyAgICAgICAgIHRyeSB7ICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9mcmVlLndxd2xrai5jbi93cXdsYXBpL3d6aGVyb3l5LnBocD9oZXJvPScgKyB5eCkpOyAgICAgICAgIH0gY2F0Y2ggeyAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLmFoZmkuY24vYXBpL3d6cnl5eT9tc2c9JyArIHl4KSk7ICAgICAgICAgfSAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBqc29uLmhlcm8sICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18xJywgICAgICAgICAgICAgcGljOiBqc29uLmltZywgICAgICAgICAgICAgdXJsOiBqc29uLmltZywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXnjovogIXoi7Hpm4TlkI0nLCAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlhbPplK7or41cIjsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+eOi+iAheivremfsycsIGlucHV0KTsgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSc7ICAgICAgICAgICAgIH0pLCAgICAgICAgIH0pOyAgICAgICAgIGpzb24uZGF0YS5tYXAoeSA9PiB7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogeS5pZCA/IHkuaWQgKyAnLiAnICsgeS5saW5lcyA6IHkubGluZXMsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICBwaWM6IGpzb24uaW1nLCAgICAgICAgICAgICAgICAgdXJsOiB5LnZvaWNlLCAgICAgICAgICAgICB9KTsgICAgICAgICB9KTsgICAgIH0gY2F0Y2ggeyAgICAgICAgIHRvYXN0KCfmsqHmnInmib7liLDor6Xoi7Hpm4QnKTsgICAgICAgICBjbGVhckl0ZW0oJ+eOi+iAheivremfsycpOyAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICB9ICAgICBzZXRSZXN1bHQoZCk7IH0pIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS83My5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5LqR55+lIiwidGl0bGUiOiLkupHnn6UiLCJ1cmwiOiJAanM6IHZhciBtaW1hPWdldFZhcignbWltYV8xJywnJyk7dmFyIGV4cD1uZXcgRGF0ZSgpOyAgICAgICAgXHRcdGxldCBoPWV4cC5nZXRIb3VycygpO2xldCBtPWV4cC5nZXRNaW51dGVzKCk7bGV0IHM9ZXhwLmdldFNlY29uZHMoKTtsZXQgbWk9aCttO2lmKG1pbWE9PW1pKXtmYXN0R3JhbW1hcihcIjxUYWI+QFsn5LqR55+l5Lmm562+57uEJywn5L+d6Zmp566xJ11AWyfkv53pmannrrHlt7LooqvmiZPlvIAnLCg2MC1uZXcgRGF0ZSgpLmdldFNlY29uZHMoKSkrJ+enkuWQjuiHquWKqOS4iumUgSddXCIsb3JkZXIpfWVsc2V7JCgnJywgXCLkupHnn6Xlr4bnoIFcIikuY2xpY2tJbnB1dChtaSA9PiB7ICBwdXRWYXIoJ21pbWFfMScsaW5wdXQpOyAgaWYgKGlucHV0IT1taSkgeyAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/im5Qg5a+G56CB6ZSZ6K+vXCI7ICAgIH0gZWxzZSB7ICAgICByZXR1cm4gKChydWxlLCB0b2FzdCkgPT4geyAgICAgICAgICAgIGNvbnN0IExvY2FsZmlsZSA9IEhpa2VySG9tZS5nZXRMb2NhbGZpbGUoKTsgICAgICAgICAgICBjb25zdCBib29rTWFyayA9IEhpa2VySG9tZS5nZXRCb29rbWFya3NMaXN0KExvY2FsZmlsZS5nZXRJdGVtKFwiQm9va21hcmtzTGlzdFwiKSk7ICAgICAgICAgICAgZXZhbChcInZhciBbaCx0YWJdPVwiICsgcnVsZSArIFwiO3ZhciBbdF8xLHRfMl09XCIgKyAodG9hc3QgfHwgXCJbJycsJyddXCIpKTsgICAgICAgICAgICBsZXQgaW5kZXggPSBib29rTWFyay5nZXRJbmRleChoKTsgICAgICAgICAgICBsZXQganNvbiA9IGJvb2tNYXJrLmdldChpbmRleCk7ICAgICAgICAgICAgaWYgKGpzb24gPT09IHVuZGVmaW5lZCB8fCBqc29uLnBhdHRlcm4gIT09IDMpIHsgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly9cXHU2NzJhXFx1NWI5YVxcdTRlNDlcXHU4YmU1XFx1NGU2NlxcdTdiN2VcXHU3ZWM0XCI7ICAgICAgICAgICAgfSAgICAgICAgICAgIGlmIChqc29uLmZvbGRfc3RhdHVzKSB7ICAgICAgICAgICAgICAgIHZhciB0b2FzdCA9IHRfMiB8fCBcIlxcdTVkZjJcXHU2Mjk4XFx1NTNlMFwiOyAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgIHZhciB0b2FzdCA9IHRfMSB8fCBcIlxcdTVkZjJcXHU1YzU1XFx1NWYwMFwiOyAgICAgICAgICAgIH0gICAgICAgICAgICBqc29uLmZvbGRfc3RhdHVzID0gIWpzb24uZm9sZF9zdGF0dXM7ICAgICAgICAgICAgYm9va01hcmsubW9kaWZ5KGluZGV4LCBqc29uKTsgICAgICAgICAgICBsZXQgbGlzdCA9IGJvb2tNYXJrLmdldExpc3QoKTsgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSBsaXN0W2ldOyAgICAgICAgICAgICAgICBpZiAoaXRlbS5wYXR0ZXJuID09PSAzICYmIGl0ZW0ubmFtZSAhPT0gaCAmJiBpdGVtLm1hcmsgIT09IFwiXCIgJiYgaXRlbS5tYXJrID09PSB0YWIpIHsgICAgICAgICAgICAgICAgICAgIGl0ZW0uZm9sZF9zdGF0dXMgPSBqc29uLmZvbGRfc3RhdHVzID8gZmFsc2UgOiBmYWxzZTsgICAgICAgICAgICAgICAgICAgIGJvb2tNYXJrLm1vZGlmeShpLCBpdGVtKTsgICAgICAgICAgICAgICAgfSAgICAgICAgICAgIH0gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgaWYgKHRvYXN0ID09PSBcImhpa2VyOi8vZW1wdHlcIikgeyAgICAgICAgICAgICAgICByZXR1cm4gdG9hc3Q7ICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly9cIiArIHRvYXN0OyAgICAgICAgICAgIH0gICAgICAgIH0pKFwiWyfkupHnn6Xkuabnrb7nu4QnLCfkv53pmannrrEnXVwiLCBcIlsn5bey5omT5byA5L+d6Zmp566xJywn5YWz6Zet5L+d6Zmp566xJ11cIik7ICB9fSxtaSl9IiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xMDEucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifV0sImZvbGRfc3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjozfSx7Im1hcmsiOiLkv53pmannrrEiLCJsaXN0IjpbeyJ0aXRsZSI6IiIsInVybCI6IiIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6ImxpbmUiLCJuYW1lIjoi57q/Iiwic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowfSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuS6keefpeS/nemZqeeusSIsInRpdGxlIjoiPGJpZz7kupHnn6U8L2JpZz4iLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+S6keefpeS5puetvue7hCcsJ+S/nemZqeeusSddXCIsb3JkZXIpIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS82NS5wbmciLCJkZXNjIjoiIiwidHlwZSI6ImF2YXRhciJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi576O5Zu+IiwidGl0bGUiOiLnvo7lm74iLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+e+juWbvicpOyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCB1cmwgPSAoXCJodHRwOi8vc2UuY3NubWIuY29tL0FQSS9xbC5waHBcIiArICcjJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgp4oCLKTsgICAgICAgICAgICAgIGxldCBpbWcgPSB1cmwgKyAnIy5qcGcnOyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICB1cmw6IGltZywgICAgICAgICB9KTsgICAgICAgICAgc2V0UmVzdWx0KGQpOyB9KTsiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IumBh+ingSIsInRpdGxlIjoi6YGH6KeBIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMjZ2FtZVRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgbGV0IGQgPSBbXTsgICAgIHZhciB4amogPSBnZXRQYXRoKCdoaWtlcjovL2ZpbGVzL0ptL2ZpbGUveGpqLmh0bWwnKTsgICAgIGlmICghZmlsZUV4aXN0KHhqaikpIHsgICAgICAgICBjb25maXJtKHsgICAgICAgICAgICAgdGl0bGU6ICflr7zlhaUnLCAgICAgICAgICAgICBjb250ZW50OiAn5qOA5rWL5Yiw5L2g5rKh5pyJ5pys5Zyw5paH5Lu277yM5piv5ZCm5a+85YWlJywgICAgICAgICAgICAgY29uZmlybTogJC50b1N0cmluZygoeGpqKSA9PiB7ICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoeGpqLCBmZXRjaCgnaHR0cHM6Ly9yYXcuZ2l0bWlycm9yLmNvbS9qbWVuZzEyMy9maWxlcy9tYWluL3hqai5odG1sJykpOyAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICB9LCB4amopLCAgICAgICAgICAgICBjYW5jZWw6ICQudG9TdHJpbmcoKCkgPT4ge30pICAgICAgICAgfSk7ICAgICB9OyAgICAgZC5wdXNoKHsgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICB1cmw6IHhqaiwgICAgICAgICBkZXNjOiAnZmxvYXQmJjEwMCUnLCAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLCAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICB1YTogTU9CSUxFX1VBICAgICAgICAgfSAgICAgfSk7ICAgICBzZXRSZXN1bHQoZCk7IH0pOyIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjAyLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJTd2FnZ2Vy5Zu+54mHIiwidGl0bGUiOiLlm77niYciLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ1N3YWdnZXLlm77niYcnKTsgICAgIGxldCBkID0gW107ICAgICB2YXIgcCA9IChNWV9QQUdFIC0gMSk7ICAgICB2YXIgcyA9IGdldEl0ZW0oJ3NpemUnLCAnMTAnKTsgICAgIHZhciB0ID0gZ2V0SXRlbSgndHlwZScsICdjYXInKTsgICAgIHZhciBodG1sID0gKCdodHRwczovL2FwaS5hcGlvcGVuLnRvcC9hcGkvZ2V0SW1hZ2VzP3Rva2VuPWV5SjFhV1FpT2pFeU9EVXNJbWxrSWpveE1qZzFMQ0pqY21WaGRHVmtRWFFpT2lJeU1ESTBMVEEyTFRFeklERXdPalUwT2pFNUlpd2lkWEJrWVhSbFpFRjBJam9pTWpBeU5DMHdOaTB4TXlBeE1EbzFORG94T1NJc0ltUmxiR1YwWldSQmRDSTZiblZzYkN3aVlXTmpiM1Z1ZENJNklqRTQmcGFnZT0nICsgcCArICcmc2l6ZT0nICsgcyArICcmdHlwZT0nICsgdCk7ICAgICB0cnkgeyAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3dhZ2dlcuWbvueJhycsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgICAgIHBpYzogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vbW92aWUvMTkuc3ZnJywgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBbeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfliqjniaknLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdhbmltYWwnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfnvo7lpbMnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdiZWF1dHknICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmsb3ovaYnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdjYXInICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmvKvnlLsnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdjb21pYycgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICduJzogJ+mjn+eJqScsICAgICAgICAgICAgICAgICAgICAgICAgICd1JzogJ2Zvb2QnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmuLjmiI8nLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdnYW1lJyAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgJ24nOiAn55S15b2xJywgICAgICAgICAgICAgICAgICAgICAgICAgJ3UnOiAnbW92aWUnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfkurrniaknLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdwZXJzb24nICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmiYvmnLonLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdwaG9uZScgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICduJzogJ+mjjuaZrycsICAgICAgICAgICAgICAgICAgICAgICAgICd1JzogJ3NjZW5lcnknICAgICAgICAgICAgICAgICAgICAgfV07ICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0eXBlLm1hcChhID0+IGEubik7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodCwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgodHlwZSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHR5cGUuZmluZEluZGV4KGIgPT4gYi5uID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdHlwZVthXS51OyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0eXBlJywgaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICB9LCB0eXBlKSAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICforr7nva7mr4/pobXmmL7npLrmlbDph48nLCAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+avj+mhteaYvuekuuaVsOmHj++8jOm7mOiupDEwJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3NpemUnLCBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suiuvue9ruS4uicgKyBpbnB1dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgfSAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sKSkucmVzdWx0OyAgICAgICAgIGpzb24ubGlzdC5tYXAobCA9PiB7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogbC50aXRsZSwgICAgICAgICAgICAgICAgIHVybDogbC51cmwgKyAnIy5qcGcnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9jYXJkJywgICAgICAgICAgICAgICAgIHBpYzogbC51cmwgKyAnIy5qcGcnLCAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5re75Yqg5Yiw5Yqo5ryrJywgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2RvbmdtYW4uanNvbicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlRXhpc3QoZmlsZSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCAnW10nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2RvbmdtYW4vJyArIHRpbWUgKyAnLnBuZycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGwudXJsLCBpbWcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZ21hbiA9IEpTT04ucGFyc2UocmVxdWVzdChmaWxlKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25nbWFuID0gZG9uZ21hbi5jb25jYXQoaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsIEpTT04uc3RyaW5naWZ5KGRvbmdtYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mt7vliqDmiJDlip8nICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGwpICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoOWIsOe+juWlsycsICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9tZWludi5qc29uJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGVFeGlzdChmaWxlKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsICdbXScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvbWVpbnYvJyArIHRpbWUgKyAnLnBuZycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGwudXJsLCBpbWcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVpbnYgPSBKU09OLnBhcnNlKHJlcXVlc3QoZmlsZSkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVpbnYgPSBtZWludi5jb25jYXQoaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsIEpTT04uc3RyaW5naWZ5KG1laW52KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5re75Yqg5oiQ5YqfJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsKSAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqDliLDpo47mma8nLCAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvZmVuZ2ppbmcuanNvbicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlRXhpc3QoZmlsZSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCAnW10nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2ZlbmdqaW5nLycgKyB0aW1lICsgJy5wbmcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVJbWFnZShsLnVybCwgaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlbmdqaW5nID0gSlNPTi5wYXJzZShyZXF1ZXN0KGZpbGUpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlbmdqaW5nID0gZmVuZ2ppbmcuY29uY2F0KGltZyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCBKU09OLnN0cmluZ2lmeShmZW5namluZykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a3u+WKoOaIkOWKnycgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCkgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIChlKSB7fSAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiSHVhbmfnm5giLCJ0aXRsZSI6Iue9keebmCIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgnaHVhbmfnvZHnm5gnKTsgICAgIGxldCBkID0gW107ICAgICBkLnB1c2goeyAgICAgICAgIHRpdGxlOiAnSHVhbmfnvZHnm5gnLCAgICAgICAgIGRlc2M6ICfnmbvlvZUnLCAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICBwaWM6ICdodHRwczovL2EuaDFzdGF0aWMuY24vcGFuL0xvZ29odWFuZzExMTEuaWNvJywgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHknKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL3Bhbi5odWFuZzExMTEuY24vbG9naW5cIiwgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcIng1X3dlYnZpZXdfc2luZ2xlXCIsICAgICAgICAgICAgICAgICBkZXNjOiBcIjEwMCUmJmZsb2F0XCIsICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGxvY2F0aW9uLmhyZWY7ICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoXCJodHRwczovL3Bhbi5odWFuZzExMTEuY24vaG9tZT9wYXRoPSUyRlwiKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmJhLndyaXRlRmlsZShcImhpa2VyOi8vZmlsZXMvSm0vaHVhbmcudHh0XCIsIGZiYS5nZXRDb29raWUoXCJcIikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLlt7Lojrflj5bliLBjb29raWXvvIzov5Tlm57ljbPlj69cIik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEuYmFjaygpOyAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICAgICAgdWE6IE1PQklMRV9VQSwgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSksICAgICB9KTsgICAgIHRyeSB7ICAgICAgICAgdmFyIGh0bWwgPSAoJ2h0dHBzOi8vcGFuLmh1YW5nMTExMS5jbi9hcGkvdjMvZGlyZWN0b3J5JTJGTVYnKTsgICAgICAgICB2YXIgY2sgPSBmZXRjaCgnaGlrZXI6Ly9maWxlcy9KbS9odWFuZy50eHQnKTsgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgICAgICAgICBoZWFkZXJzOiB7ICAgICAgICAgICAgICAgICBcIkNvb2tpZVwiOiBjaywgICAgICAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCIsICAgICAgICAgICAgICAgICBcIlJlZmVyZXJcIjogXCJodHRwczovL3Bhbi5odWFuZzExMTEuY25cIiwgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudFwiOiBNT0JJTEVfVUEgICAgICAgICAgICAgfSwgICAgICAgICB9KSkuZGF0YS5vYmplY3RzOyAgICAgICAgIGV2YWwoJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KGpzb24pKTsgICAgICAgICBkYXRhLm1hcChsaXN0ID0+IHsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiBsaXN0Lm5hbWUsICAgICAgICAgICAgICAgICAvKmltZzogKCdodHRwczovL3Bhbi5odWFuZzExMTEuY24vYXBpL3YzL2ZpbGUvdGh1bWIvJyArIGxpc3QuaWQgKyAnQGhlYWRlcnM9e1wiUmVmZXJlclwiOlwiaHR0cHM6Ly9wYW4uaHVhbmcxMTExLmNuXCIsXCJVc2VyLUFnZW50XCI6TU9CSUxFX1VBLFwiQ29va2llXCI6JysgY2srJ30nKSwqLyAgICAgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly9odHRwczovL3Bhbi5odWFuZzExMTEuY24vYXBpL3YzL2ZpbGUvcHJldmlldy8nICsgbGlzdC5pZCwgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8yJywgICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIHsgICAgICAgICB0b2FzdCgn6I635Y+W5aSx6LSlJyk7ICAgICB9ICAgICBzZXRSZXN1bHQoZCk7IH0pIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmmJ/msrPnm7Tmkq0iLCJ0aXRsZSI6IuebtOaSrSIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZnVsbFRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgc2V0UGFnZVRpdGxlKCfmmJ/msrPnm7Tmkq0nKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgaWQgPSBnZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCAnbG92ZVBybycpOyAgICAgZC5wdXNoKHsgICAgICAgICB0aXRsZTogJ+aYn+ays+ebtOaSrScsICAgICAgICAgZGVzYzogZ2V0SXRlbSgn5pif5rKz55u05pKtJywgJ2xvdmVQcm8nKSA9PSAnbG92ZVBybycgPyAn4pGgJyA6ICfikaEnLCAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICBwaWM6ICdodHRwczovL2Zhdmljb24ucXFzdXUuY24vaHR0cHM6Ly9tLm1hb3lhbi5jb20vJywgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCBnZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCAnbG92ZVBybycpID09ICdsb3ZlUHJvJyA/ICdsb3ZlJyA6ICdsb3ZlUHJvJyk7ICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgdG9hc3QoJ+W3suWIh+aNoicgKyAoZ2V0SXRlbSgn5pif5rKz55u05pKtJywgJ2xvdmVQcm8nKSA9PSAnbG92ZVBybycgPyAn4pGgJyA6ICfikaEnKSk7ICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICB9KSwgICAgIH0pOyAgICAgdHJ5IHsgICAgICAgICBldmFsKCdhPScgKyBmZXRjaCgnaGlrZXI6Ly9maWxlcy9KbS9saXZlLycgKyBpZCArICcuanNvbicpKTsgICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24oYikgeyAgICAgICAgICAgICB2YXIgYyA9IGIuc3BsaXQoJ0AnKTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiBjWzBdLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgcGljOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIyMS5wbmcnLCAgICAgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly8nICsgY1sxXSwgICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIHt9ICAgICBzZXRSZXN1bHQoZCk7IH0pOyIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5a2m5Lmg6LWE5paZIiwidGl0bGUiOiLlrabkuaAiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+WtpuS5oOi1hOaWmScpOyAgICAgbGV0IHRpdGxlcyA9IFsnVEhYRkcwMycsJ+i2heaegeWTgei6q+adkOiInui5iOWtpumZouWtpuWnkOWls+elnicsJ+e+juWwkeWlsycsICfnlJ/nianlpbPmlZnluIjlkozlrabnlJ/nmoTnp4HmiL/mjojor74nLCfngavniIbnvZHnuqLpub/lsJHlpbPliafmg4XmvJTnu44nLCAn5r+A5oOFJywn6a2U6ay86Lqr5p2Q572R57qi6bm/5bCR5aWz5peg56CB6Zyy6IS45Yi25pyNJywn6buR5Lid576O6IW/5aWz56WeJywn5aSa5Lq654Gr5ou8Jywn5o6o6I2QLeajkuajkuWTkicsJ+Wwj+WnkOWnkCcsJ+engOiJsuWPr+mkkCcsJ+adqOW5gicsJ+aso+i1j+Wwj+WnkOWnkCcsJ+Wls+elnuWwj+Wwj+eahOaAp+i+heWvvCddOyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3ZpZS8yMi5zdmcnOyAgICAgdGl0bGVzLmZvckVhY2goZnVuY3Rpb24odCkgeyAgICAgICAgIGxldCB1cmwgPSBnZXRQYXRoKCdoaWtlcjovL2ZpbGVzL0ptL3ZpZGVvLycgKyB0ICsgJy5tcDQnKTsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogdCwgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly8nK3VybCwgICAgICAgICB9KTsgICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9XSwiZm9sZF9zdGF0dXMiOnRydWUsInBhdHRlcm4iOjMsIm5hbWUiOiLkupHnn6Xkuabnrb7nu4QifSx7Im5hbWUiOiLmtbfmiqXkuabnrb7nu4QiLCJtYXJrIjoi5rW35oql5byA5YWzIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiVGFi6Zi05b2xIiwidGl0bGUiOiIiLCJ1cmwiOiIiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJsaW5lIn0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmtbfmiqUiLCJ0aXRsZSI6Iua1t+aKpSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn5rW35oql5Lmm562+57uEJywn5rW35oql5byA5YWzJ11cIixvcmRlcikiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzM4LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiYXZhdGFyIn0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJUYWJf6aG65pCc5YWD57SgIiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWyfigJjigJjigJnigJk8Zm9udCBjb2xvcj0jMUFCMTZCPumhuuaQnDwvZm9udD4nLCfpobrmkJwnXVwiLFwiPFRhYj5AWyfpobrmkJwnXVwiLG9yZGVyKSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn6aG65pCcJywn5rW35oqlJ11cIixvcmRlcikiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzUifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IlRhYl/lpKnmsJTmtbfmiqUiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+5aSp5rCUPC9mb250PicsJ+WkqeawlCddXCIsXCI8VGFiPkBbJ+WkqeawlCddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyflpKnmsJQnLCfmtbfmiqUnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiVGFiX+ixhueTo+a1t+aKpSIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzFBQjE2Qj7osYbnk6M8L2ZvbnQ+Jywn6LGG55OjJ11cIixcIjxUYWI+QFsn6LGG55OjJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+ixhueToycsJ+a1t+aKpSddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF81In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJUYWJf6L2u5pKt5rW35oqlIiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWyfigJjigJjigJnigJk8Zm9udCBjb2xvcj0jMUFCMTZCPui9ruaSrTwvZm9udD4nLCfova7mkq0nXVwiLFwiPFRhYj5AWyfova7mkq0nXVwiLG9yZGVyKSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn6L2u5pKtJywn5rW35oqlJ11cIixvcmRlcikiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzUifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IlRhYl/op4bpopHmtbfmiqUiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+6KeG6aKRPC9mb250PicsJ+inhumikSddXCIsXCI8VGFiPkBbJ+inhumikSddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfop4bpopEnLCfmtbfmiqUnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNSJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLkuLvpopjlvIDlhbMiLCJtYXJrIjoiIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5byA5YWz6Zi05b2xIiwidGl0bGUiOiIiLCJ1cmwiOiIiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJsaW5lIn0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiIxIiwidGl0bGUiOiIiLCJ1cmwiOiIiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJiaWdfYmxhbmtfYmxvY2sifSx7InRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoiYmlnX2JsYW5rX2Jsb2NrIiwibmFtZSI6IjIiLCJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjB9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5rW35oqlX+W8gOWFsyIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzFBQjE2Qj7mtbfmiqU8L2ZvbnQ+Jywn5rW35oqlJ11cIixcIjxUYWI+QFsn5rW35oql5Lmm562+57uEJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+a1t+aKpeS5puetvue7hCcsJ+a1t+aKpeW8gOWFsyddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoic2Nyb2xsX2J1dHRvbiJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5LiA6KiAX+aXpeWOhuW8gOWFsyIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzFBQjE2Qj7kuIDoqIA8L2ZvbnQ+Jywn5LiA6KiAJ11cIixcIjxUYWI+QFsn5LiA6KiAJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+S4gOiogCcsJ+S4gOiogCddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoic2Nyb2xsX2J1dHRvbiJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5pS26JePX+eoi+W6j+W8gOWFsyIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzFBQjE2Qj7mlLbol488L2ZvbnQ+Jywn5pS26JePJ11cIixcIjxUYWI+QFsn5pS26JePJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+aUtuiXjycsJ+Wwj+a1t+aKpSddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoic2Nyb2xsX2J1dHRvbiJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5pu05pawUSIsImNvZGUiOiJsZXQg5Z+f5ZCNID0gJ2h0dHBzOi8vaGFpa3VvLmxhbnpvdWkuY29tLydcblxudmFyIGdldE5ld2VzdCA9IGZ1bmN0aW9uICh1cmwpIHtcbiAgICBsZXQgaHRtbCA9IHJlcXVlc3QodXJsKTtcbiAgICBldmFsKGh0bWwubWF0Y2goL3ZhciBwZ3M7KFtcXHNcXFNdKj8pZG9jdW1lbnQvKVsxXSk7XG4gICAgZXZhbCgndmFyIGJvZHkgPScgKyBodG1sLm1hdGNoKC9kYXRhIDooW1xcc1xcU10qP1xcfSkvKVsxXSk7XG4gICAgbGV0IGFyciA9IEpTT04ucGFyc2UocG9zdCh1cmwubWF0Y2goL2h0dHBzKjpcXC9cXC9bXlxcL10rXFwvLylbMF0gKyAnZmlsZW1vcmVhamF4LnBocCcsIHtcbiAgICAgICAgICAgICAgICBib2R5OiBib2R5XG4gICAgICAgICAgICB9KSkudGV4dDtcbiAgICB2YXIgbmV3QXJyID0gYXJyLmZpbHRlcihmdW5jdGlvbiAocCkge1xuICAgICAgICByZXR1cm4gcC5uYW1lX2FsbC5zdGFydHNXaXRoKFwi5rW36ZiU6KeG55WMX1wiKSAmJiBwLm5hbWVfYWxsLnNwbGl0KCdfJylbMl0ubWF0Y2goL1swLTldKy8pWzBdID4gZ2V0QXBwVmVyc2lvbigpO1xuICAgIH0pO1xuICAgIGlmIChuZXdBcnIubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgZGljdCA9IHt9O1xuICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpIGluIG5ld0Fycikge1xuICAgICAgICAgICAgb3B0aW9ucy5wdXNoKG5ld0FycltpXS5uYW1lX2FsbC5yZXBsYWNlKC/mtbfpmJTop4bnlYxfLywgJycpKTtcbiAgICAgICAgICAgIGRpY3RbbmV3QXJyW2ldLm5hbWVfYWxsXSA9IG5ld0FycltpXS5pZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJChvcHRpb25zLCAxKS5zZWxlY3QoKGQsIHVybCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkaWN0ID0gSlNPTi5wYXJzZShkKTtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsYXp5KGZpbGVVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoZmlsZVVybCkubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2RldmVsb3Blci5sYW56b3VnLmNvbS9maWxlLycgKyByZXF1ZXN0KGlucHV0KS5tYXRjaCgvJyhcXD8uKj8pJy8pWzFdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aEhlYWRlcnM6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmhlYWRlcnMubG9jYXRpb25bMF1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXp5KHVybC5tYXRjaCgvaHR0cHMqOlxcL1xcL1teXFwvXStcXC8vKVswXSArICd0cC8nICsgZGljdFsn5rW36ZiU6KeG55WMXycgKyBpbnB1dF0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KGRpY3QpLCB1cmwpO1xuICAgIH0gZWxzZVxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5rKh5pyJ5pu05paw55qE54mI5pysJ1xufVxubGV0IGcgPSBbXTtcbmcucHVzaCh7XG4gICAgdGl0bGU6ICfmm7TmlrAnLFxuICAgIHVybDogJCjln5/lkI0gKyBcInUvR29sZFJpdmVyXCIpLmxhenlSdWxlKChnZXROZXdlc3QpID0+IHtcblx0XHRyZXR1cm4gZ2V0TmV3ZXN0KGlucHV0KVxuXHR9LGdldE5ld2VzdCksXG4gICAgLyppbWc6ICdodHRwczovL2hpa2VyZmFucy5jb20vdHViaWFvL21vdmllLzc3LnN2ZycsKi9cbiAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nXG59KTtcbmdcbiJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5re75Yqg5Lmm562+IiwidGl0bGUiOiLmt7vliqAiLCJ1cmwiOiJAanM6JCgpLng1Y0tleSgnYWJiQm9va0AnICsgKFRoaXNfR3JvdXAgPyBUaGlzLm5hbWUgOiAnI+epuueZvee7hCMnKSArICdAJyArIChvcmRlcl9Hcm91cCA9PT0gdW5kZWZpbmVkID8gb3JkZXIgOiBvcmRlcl9Hcm91cCkpOyIsImljb24iOiJoaWtlcjovL2ltYWdlcy/mt7vliqAiLCJkZXNjIjoiIiwidHlwZSI6InNjcm9sbF9idXR0b24ifV0sImZvbGRfc3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLmtYvor5UiLCJ0aXRsZSI6Iua1i+ivlSIsInR5cGUiOiJ0ZXh0XzIifSx7Im5hbWUiOiLmtYvor5UxIiwidGl0bGUiOiLmtYvor5UxIiwidHlwZSI6InRleHRfMiJ9XSwiU2V0dGluZ0NvbmZpZyI6eyJteVlpWWFuIjoi5Lq655Sf5b6X5oSP6aG75bC95qyi77yM6I6r5L2/6YeR5qi956m65a+55pyI44CCfHzojqvmhIHliY3ot6/ml6Dnn6Xlt7HvvIzlpKnkuIvosIHkurrkuI3or4blkJvjgIIiLCJ0b3BQaWMiOiJoaWtlcjovL2ltYWdlcy9sb2dvIiwiYXZhdGFyUGljIjoiIiwiaGl0b2tvdG9Td2l0Y2giOnRydWUsImxvZ29UeXBlIjoicGljXzFfY2FyZCIsIm1heEhvbWVDb3VudCI6MTIsIm15VmFyaWFibGVzIjoiIn19