海阔视界，我的主页「新京梦主页」主题￥my_home_theme￥eyJEYXRlIjoiMjAyNS0wMy0zMCAxMDoxODowNCIsIk5hbWUiOiLmlrDkuqzmoqbkuLvpobUiLCJCb29rbWFya3NMaXN0IjpbeyJwYXR0ZXJuIjoyLCJuYW1lIjoi6aKE5aSE55CGIiwiY29kZSI6InZhciBjb2xsZWN0aW9uPUpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vY29sbGVjdGlvbicpKTtcbnZhciBjb2xQaWNVcmw9XCJoaWtlcjovL2ltYWdlcy9jYXJkX2JnXCI7XG5mb3IobGV0IGk9MDtpPGNvbGxlY3Rpb24ubGVuZ3RoO2krKyl7XG4gICAgICAgICAgICAgIGlmKGNvbGxlY3Rpb25baV0ucGljVXJsIT1udWxsKXsgICAgICAgICAgICAgICAgICAgICAgICBjb2xQaWNVcmw9Y29sbGVjdGlvbltpXS5waWNVcmw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuLyoqdHJ5e1xudmFyIGxvZ29QaWMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vYXBpLmJ0c3R1LmNuL3NqYnovYXBpLnBocD9seD1mZW5namluZyZmb3JtYXQ9aW1hZ2VzJl90dD0nK25ldyBEYXRlKCkuZ2V0VGltZSgpLHtyZWRpcmVjdDpmYWxzZSwgd2l0aEhlYWRlcnM6dHJ1ZSwgdGltZW91dDogMTAwMH0pKS5oZWFkZXJzLmxvY2F0aW9uWzBdO1xufWNhdGNoKGUpe30qL1xudmFyIGxvZ29QaWMgPSBcImhpa2VyOi8vaW1hZ2VzL2hvbWVfYmdcIjtcbltdXG5cbi8qXG4vL+acrOWcsOWbvueJh+maj+aculxuLy/nm7TmjqXlvJXnlKhmaWxlSW1n5Y2z5Y+vXG4vL2ZpbGXmm7TmlLnot6/lvoRcbmxldCBmaWxlID0gbmV3IGphdmEuaW8uRmlsZSgnL3N0b3JhZ2UvZW11bGF0ZWQvMC9QaWN0dXJlcy8nKTtcbmxldCBmaWxlTGlzdCA9IGZpbGUubGlzdEZpbGVzKCkuZmlsdGVyKGggPT4gaC5pc0ZpbGUoKSYmL1xcLihqcGd8anBlZ3xwbmd8Z2lmfHdlYnApLy50ZXN0KGgpKTtcbmxldCBpID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZmlsZUxpc3QubGVuZ3RoKTtcbnZhciBmaWxlSW1nID0gZmlsZUxpc3RbaV07Ki9cblxuIn0seyJzdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5rWL6K+VMTExIiwiY29kZSI6ImxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHJlcV8wOiB7XG4gICAgICAgIG1vZHVsZTogXCJ2a2V5LkdldFZrZXlTZXJ2ZXJcIixcbiAgICAgICAgbWV0aG9kOiBcIkNnaUdldFZrZXlcIixcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGd1aWQ6IFwiMFwiLFxuICAgICAgICAgICAgcGxhdGZvcm06IFwiMjBcIixcbiAgICAgICAgICAgIGZpbGVuYW1lOiBbXCJGMDAwMDAxTmdsalIwUlVoeTEwMDFOZ2xqUjBSVWh5MS5mbGFjXCJdLFxuICAgICAgICAgICAgc29uZ21pZDogW1wiMDAxTmdsalIwUlVoeTFcIl1cbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG5sZXQgdXJsID0gXCJodHRwczovL3UueS5xcS5jb20vY2dpLWJpbi9tdXNpY3UuZmNnXCI7XG5cbmxldCBoZWFkZXJzID0ge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgIENvb2tpZTogXCJxbV9rZXlzdD1RX0hfTF82M2szTkcyOW5ycXU5QTFRVFZUWk5ndEV4MUZCTzhFTTlaaGFrSmZIZUdOWmRhSkFlQXJmX09hRWZKSmZpdlhSRGh0NWF4c3VfMWVWX2IzaTFacHg2Wnc7IHVpbj01MTM1MzY2NDFcIlxufTtcblxudmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHVybCwge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgYm9keTogZGF0YSxcbiAgICBoZWFkZXJzOiBoZWFkZXJzXG59KSkucmVxXzAuZGF0YTtcblxudmFyIGluZm8gPSBqc29uLm1pZHVybGluZm87XG5pZiAoaW5mbyAmJiBpbmZvLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgdXJscyA9IGluZm9bMF0ucHVybDtcbiAgICBpZiAodXJscyAmJiB1cmxzICE9PSBcIlwiKSB7XG4gICAgICAgIHZhciBzaXAgPSBqc29uLnNpcDtcbiAgICAgICAgaWYgKHNpcCAmJiBzaXAubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIHVybCA9IHNpcFswXSArIHVybHM7XG4gICAgICAgIH1cbiAgICB9XG59XG5sb2coanNvbik7XG5sb2codXJsKTsifSx7InN0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjIsIm5hbWUiOiLlr7zlhaXlm77moIciLCJjb2RlIjoiLy/oh6rliqjlr7zlhaXvvIzml6DpnIDmiYvliqjmk43kvZzjgIJcbi8v5q2j5bi45pi+56S65Zu+5qCH5ZCO77yM5Y+v5Lul5YWz5o6J5pys5Lmm562+77yM5L2/5Li76aG15pu05rWB55WF44CCXG5sZXQgaWNvbnMgPSBbe1xuICAgICdodG1sJzogJ2h0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vbW9yZS8nLFxuICAgICdmaWxlJzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8nLFxuICAgICdpZCc6IFsnMS5wbmcnLCc1LnBuZycsJzcucG5nJywnMTAucG5nJywnMTYucG5nJywnMTgucG5nJywnMjUucG5nJywnMjcucG5nJywnMzUucG5nJywnMzYucG5nJywnMzcucG5nJywnMzgucG5nJywnNDQucG5nJywnNDcucG5nJywnNDgucG5nJywnNTkucG5nJywnNjUucG5nJywnNjcucG5nJywnNzMucG5nJywnOTMucG5nJywnMTAxLnBuZycsJzEzMC5wbmcnLCcxNDYucG5nJywnMTU3LnBuZycsJzE2MS5wbmcnLCcxNjcucG5nJywnMTcxLnBuZycsJzE4Mi5wbmcnLCcxOTUucG5nJywnMjAyLnBuZycsJzIwNS5wbmcnLCcyMTMucG5nJywnMjE1LnBuZycsJzIyMS5wbmcnLCcyMjcucG5nJywnMjMyLnBuZycsJzI1MS5wbmcnLCcyNTMucG5nJywnMjU4LnBuZycsJzI2My5wbmcnLCcyNzkucG5nJywnMjg0LnBuZycsJzI5NC5wbmcnLCczMDAucG5nJywnMzAzLnBuZycsJzMyNS5wbmcnLCczMzYucG5nJ11cbn0sIHtcbiAgICAnaHRtbCc6ICdodHRwOi8vMTIzLjU2LjEwNS4xNDUvdHViaWFvL3EvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvJyxcbiAgICAnaWQnOiBbJzUucG5nJywnMjAucG5nJywgJzM1LnBuZycsJzcwLnBuZycsJzEyNS5wbmcnXVxufSwge1xuICAgICdodG1sJzogJ2h0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vbXVzaWMvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL211c2ljLycsXG4gICAgJ2lkJzogWyc1MS5zdmcnLCc4Mi5zdmcnLCc4NS5zdmcnXVxufSwge1xuICAgICdodG1sJzogJ2h0dHA6Ly8xMjMuNTYuMTA1LjE0NS90dWJpYW8vbW92aWUvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vdmllLycsXG4gICAgJ2lkJzogWyc5LnN2ZycsJzIyLnN2ZyddXG59LCB7XG4gICAgJ2h0bWwnOiAnaHR0cDovLzEyMy41Ni4xMDUuMTQ1L3R1Ymlhby9tZXNzeS8nLFxuICAgICdmaWxlJzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvJyxcbiAgICAnaWQnOiBbJzEyMy5zdmcnLCcxMjQuc3ZnJ11cbn0sIHtcbiAgICAnaHRtbCc6ICdodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvJyxcbiAgICAnZmlsZSc6ICdoaWtlcjovL2ZpbGVzL0ptL3ZpbnVhLycsXG4gICAgJ2lkJzogWyd2S1k5OC5qcGVnJywndktrUWIuanBlZyddXG59XTtcblxubGV0IGljb249IGljb25zLmZsYXRNYXAoaCA9PiBoLmlkLm1hcChpZCA9PiAoe1xuICAgIHVybDogaC5odG1sICsgaWQsXG4gICAgZmlsZTogaC5maWxlICsgaWRcbn0pKSk7XG5cbmljb24uZm9yRWFjaChqID0+IHtcbiAgICBpZiAoIWZpbGVFeGlzdChqLmZpbGUpKSB7c2F2ZUltYWdlKGoudXJsLCBqLmZpbGUpO1xuICAgIH1cbn0pO1xuXG4ifSx7InN0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjIsIm5hbWUiOiLlvbHop4Zf5pCc57SiIiwiY29kZSI6ImxldCBybCA9IFtdO1xubGV0IHlzX3NzID0gZ2V0SXRlbSgneXNfc3MnLCAnJyk7XG5ybC5wdXNoKHtcbiAgICB0aXRsZTogJ+aQnOe0oicsXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXG4gICAgZGVzYzogJ+ivt+i+k+WFpeaQnOe0ouWFs+mUruivjScsXG4gICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpeWFs+mUruivjeaQnOe0oic7XG4gICAgICAgIGxldCB0eHQgPSBpbnB1dDtcbiAgICAgICAgc2V0SXRlbSgneXNfc3MnLCB0eHQpO1xuICAgICAgICB2YXIgaHRtbCA9ICgnaHR0cHM6Ly9hcGkubWlsb3JhcGFydC50b3AvYXBpL3NlYXJjaHZlZGlvLz9uYW1lPScgKyB0eHQgKyAnJmlkPScpO1xuICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKGh0bWwpKS5kYXRhO1xuICAgICAgICB2YXIgbiA9IGpzLm1hcCh0ID0+IHQubmFtZSk7XG4gICAgICAgIHJldHVybiAkKG4sIDEsICfor7fpgInmi6knKS5zZWxlY3QoKGpzLCBodG1sKSA9PiB7XG4gICAgICAgICAgICB2YXIgdHh0ID0gaW5wdXQ7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBqcy5maW5kSW5kZXgodCA9PiB0Lm5hbWUgPT0gaW5wdXQpO1xuICAgICAgICAgICAgdmFyIGlkID0ganNbaW5kZXhdLmlkO1xuICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHknKS5ydWxlKChodG1sLCBpZCwgdHh0KSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKHR4dCk7XG4gICAgICAgICAgICAgICAgdmFyIGQgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCArIGlkKSkuZGF0YTtcbiAgICAgICAgICAgICAgICBqc29uLm1hcChhID0+IGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhLm51bSxcbiAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzQnLFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGEudXJsLFxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICB9LCBodG1sLCBpZCwgdHh0KVxuICAgICAgICB9LCBqcywgaHRtbClcbiAgICB9KSxcbiAgICBleHRyYToge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldEl0ZW0oJ3lzX3NzJywgJycpLFxuICAgIH1cbn0pO1xucmwifSx7InBhdHRlcm4iOjIsIm5hbWUiOiLlhajmsJFr5q2MIiwiY29kZSI6ImxldCBrZyA9IFtdO1xua2cucHVzaCh7XG4gICAgdGl0bGU6XCLlhajmsJFL5q2MXCIsXG4gICAgZGVzYzogXCLovpPlhaXlhajmsJFL5q2M5YiG5Lqr6ZO+5o6lXCIsXG4gICAgdXJsOiAkKFwiXCIsXCLovpPlhaXlhajmsJFL5q2M5YiG5Lqr6ZO+5o6lXCIpLmlucHV0KCgpPT57XG4gICAgICAgIGlmIChpbnB1dCA9PSBcIlwiKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+i+k+WFpemTvuaOpeWQjuaSreaUvu+8gVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFwaSA9IFwiaHR0cHM6Ly94aGw5Ny5jbi90b29scy9xbWtnL2tnX2NoYW5nYmEucGhwXCJcbiAgICAgICAgICAgIHZhciBwbGF5ID0gSlNPTi5wYXJzZShwb3N0KGFwaSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJSZWZlcmVyXCI6IFwiaHR0cHM6Ly94aGw5Ny5jbi90b29scy9xbWtnL1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IGlucHV0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICBpZiAocGxheS5jb2RlID09IFwiMVwiKSB7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGxldCBmdD1maW5kSXRlbShNWV9SVUxFLnRpdGxlK1wia3BsYXlcIik7XG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbShNWV9SVUxFLnRpdGxlK1wia3BsYXlcIix7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhOk9iamVjdC5hc3NpZ24oe30sZnQuZXh0cmEse1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVRpdGxlOnBsYXkudGl0bGVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KSAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheS51cmw7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v6Kej5p6Q5aSx6LSl6K+36L6T5YWl5q2j56Gu6ZO+5o6l77yM5ZSx5ZCn6ZO+5o6l5YmN6L655LiN6IO95pyJ5paH5a2X5Lul5Y+K56m65qC877yBXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgIH0pLFxuICAgIGNvbF90eXBlOiBcImljb25fc21hbGxfNFwiLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UsXG4gICAgICAgIHBhZ2VUaXRsZTpcIuaSreaUvlwiLFxuICAgICAgICBpZDogTVlfUlVMRS50aXRsZSArIFwia3BsYXlcIlxuICAgIH1cbn0pXG5rZyIsInN0YXR1cyI6ZmFsc2V9LHsic3RhdHVzIjpmYWxzZSwicGF0dGVybiI6MiwibmFtZSI6Iumaj+acuuatjOabsiIsImNvZGUiOiJsZXQgZ3EgPSBbXVxuXG5mdW5jdGlvbiBzZXRIZWFkKHBpYywgdGV4dCwgZGVzYywgcGxheVVybCkge1xuICAgIHB1dE15VmFyKCd1cmwnLCBwbGF5VXJsKTtcbiAgICB1cGRhdGVJdGVtKFwic2ltcGxlUGxheWVyOnBpY1wiLCB7XG4gICAgICAgIHRpdGxlOiB0ZXh0IHx8ICfpmo/mnLrmrYzmm7InLFxuICAgICAgICBwaWNfdXJsOiBwaWMgfHwgXCJoaWtlcjovL2ltYWdlcy9ob21lX3BpYzRcIixcbiAgICAgICAgLy91cmw6IHBpYyB8fCBcImhpa2VyOi8vZW1wdHlcIlxuICAgIH0pO1xuXG59XG5ncS5wdXNoKHtcbiAgICB0aXRsZTogJ+maj+acuuatjOabsicsXG4gICAgcGljX3VybDogXCJodHRwczovL2hpa2VyZmFucy5jb20vdHViaWFvL21vcmUvMTI5LnBuZ1wiLFxuICAgIGNvbF90eXBlOiBcImljb25fcm91bmRfNFwiLFxuICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoc2V0SGVhZCkgPT4ge1xuICAgICAgICBsZXQgRyA9ICQucmVxdWlyZShcImh0dHBzOi8vaGlrZXJmYW5zLmNvbS93ZWlzeXIvanMvR2xvYmFsVmFyLmpzXCIpO1xuICAgICAgICBsZXQgYXVkaW9TaW5nbGUgPSBHLm1vZHVsZU15VmFyKFwiYXVkaW9TaW5nbGVcIiwgXCJodHRwczovL2dpdGNvZGUubmV0L2xpdXphb3l1ZS9oYWkvLS9yYXcvbWFzdGVyL2pkYmYuanNcIik7ICAgICAgICBcbiAgICAgICAgbGV0IG1vZGUgPSBnZXRJdGVtKFwibW9kZVwiLCBcIueDreatjOamnFwiKTtcbiAgICAgICAgbGV0IG1pZCA9IGdldEl0ZW0oXCJtaWRcIiwgXCJcIik7XG4gICAgICAgIGxldCBzb25nSW5mbyA9IHt9O1xuICAgICAgICBsZXQgaWQgPSBcIlwiO1xuICAgICAgICBsZXQgY3VybCA9IFwiXCI7ICAgICAgICBcbiAgICAgICAgZnVuY3Rpb24gcGxheUF1ZGlvKHVybCwgaW5mbykge1xuICAgICAgICAgICAgbGV0IGNpZCA9IGlkO1xuICAgICAgICAgICAgY3VybCA9IHVybDtcbiAgICAgICAgICAgYXVkaW9TaW5nbGUucGxheU5ldHdvcih1cmwsIHZvaWQgMCwgKCkgPT4ge1xuIGxvZyhpbmZvLm5hbWUpOyAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNldEhlYWQoaW5mby5waWN1cmwsIGluZm8ubmFtZSwgaW5mby5hcnRpc3RzbmFtZSwgdXJsKTtcbiAgICAgICAgICAgICAgICB0b2FzdChcIuato+WcqOaSreaUvu+8mlwiICsgaW5mby5uYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGdldFNvbmcoKSB7XG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gXCLoh6rlrprkuYnmrYzljZVJRFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF1ZGlvU2luZ2xlLmdldFJhbmRvbUxpc3RTb25nKG1pZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1NpbmdsZS5nZXRSYW5kb21Tb25nKG1vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICAgICAgXG4gICAgICAgIFxuICAgICAgICAgZnVuY3Rpb24gcGxheVZpcCgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaChcImh0dHBzOi8vYXBpLnhpbmd6aGlnZS5jb20vQVBJL05ldEVhc2VfQ2xvdWRNdXNpY19uZXcvP3NvbmdpZD1cIiArIGlkICsgXCImYnI9MlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHBsYXlBdWRpbyhqc29uLmRhdGEuc3JjLCBzb25nSW5mbyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBwbGF5KCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzb25nSW5mbyA9IGdldFNvbmcoKTtcbiAgICAgICAgICAgICAgICBpZCA9IHNvbmdJbmZvLmlkO1xuICAgICAgICAgICAgICAgIGF1ZGlvU2luZ2xlLmlkID0gc29uZ0luZm8uaWQ7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwibWlkXCIpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbShcIm1vZGVcIik7XG4gICAgICAgICAgICAgICAgdG9hc3QoZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwbGF5QXVkaW8oc29uZ0luZm8udXJsLCBzb25nSW5mbyk7XG4gICAgICAgIH1cbmlmICghYXVkaW9TaW5nbGUuaGFzUGxheWVyKCkpIHsgICAgICAgICBcbiAgIGF1ZGlvU2luZ2xlLnNldENvbXBsZXRpb25MaXN0ZW5lcigoKSA9PiB7XG5sb2coZ2V0SXRlbShcIuW+queOr1wiLCBcIjBcIikpO1xuICAgICAgICAgICAgaWYgKGdldEl0ZW0oXCLlvqrnjq9cIiwgXCIwXCIpID09IDApIHtcblxuICAgICAgICAgICAgICAgIHBsYXkoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGxheUF1ZGlvKGN1cmwsIHNvbmdJbmZvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGF1ZGlvU2luZ2xlLnNldEVycm9yTGlzdGVuZXIoKCkgPT4ge1xuICAgICAgICAgICAgLy90b2FzdChcIuaSreaUvuWksei0peato+WcqOmHjeaWsOmaj+aculwiKTtcbiAgICAgICAgICAgIGlmICghcGxheVZpcCgpKSB7XG4gICAgICAgICAgICAgICAgcGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGxheSgpO1xuICAgICAgICByZXR1cm4gXCJoaWtlcjovL2VtcHR5XCI7XG4gICAgIH1cbiAgICAgaWYgKGF1ZGlvU2luZ2xlLmhhc1BsYXllcigpKSB7ICAgICAgICAgICBhdWRpb1NpbmdsZS5zdGFydE9yUGF1c2UoKTtcbiAgICAgICAgaWYgKGF1ZGlvU2luZ2xlLmlzUGxheWluZygpKSB7ICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/mkq3mlL7lt7LlvIDlp4tcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+aSreaUvuW3suWBnOatolwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgXG4gICAgICAgICAgICBcbiAgICAgICBcbiAgICB9LCBzZXRIZWFkKSxcbiAgICBleHRyYToge1xuICAgICAgICBpZDogXCJzaW1wbGVQbGF5ZXI6cGljXCIsXG4gICAgICAgIGxvbmdDbGljazogW3tcbiAgICAgICAgICAgIHRpdGxlOiBcIuS4i+S4gOabslwiLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKHNldEhlYWQpID0+IHtcbiAgICAgICAgbGV0IEcgPSAkLnJlcXVpcmUoXCJodHRwczovL2hpa2VyZmFucy5jb20vd2Vpc3lyL2pzL0dsb2JhbFZhci5qc1wiKTtcbiAgICAgICAgbGV0IGF1ZGlvU2luZ2xlID0gRy5tb2R1bGVNeVZhcihcImF1ZGlvU2luZ2xlXCIsIFwiaHR0cHM6Ly9naXRjb2RlLm5ldC9saXV6YW95dWUvaGFpLy0vcmF3L21hc3Rlci9qZGJmLmpzXCIpOyAgICAgICAgXG4gICAgICAgIGxldCBtb2RlID0gZ2V0SXRlbShcIm1vZGVcIiwgXCLng63mrYzmppxcIik7XG4gICAgICAgIGxldCBtaWQgPSBnZXRJdGVtKFwibWlkXCIsIFwiXCIpO1xuICAgICAgICBsZXQgc29uZ0luZm8gPSB7fTtcbiAgICAgICAgbGV0IGlkID0gXCJcIjtcbiAgICAgICAgbGV0IGN1cmwgPSBcIlwiOyAgICAgICAgXG4gICAgICAgIGZ1bmN0aW9uIHBsYXlBdWRpbyh1cmwsIGluZm8pIHtcbiAgICAgICAgICAgIGxldCBjaWQgPSBpZDtcbiAgICAgICAgICAgIGN1cmwgPSB1cmw7XG4gICAgICAgICAgIGF1ZGlvU2luZ2xlLnBsYXlOZXR3b3IodXJsLCB2b2lkIDAsICgpID0+IHtcbiBsb2coaW5mby5uYW1lKTsgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZXRIZWFkKGluZm8ucGljdXJsLCBpbmZvLm5hbWUsIGluZm8uYXJ0aXN0c25hbWUsIHVybCk7XG4gICAgICAgICAgICAgICAgdG9hc3QoXCLmraPlnKjmkq3mlL7vvJpcIiArIGluZm8ubmFtZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRTb25nKCkge1xuICAgICAgICAgICAgaWYgKG1vZGUgPT09IFwi6Ieq5a6a5LmJ5q2M5Y2VSURcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdWRpb1NpbmdsZS5nZXRSYW5kb21MaXN0U29uZyhtaWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXVkaW9TaW5nbGUuZ2V0UmFuZG9tU29uZyhtb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAgICAgIFxuICAgICAgICBcbiAgICAgICAgIGZ1bmN0aW9uIHBsYXlWaXAoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goXCJodHRwczovL2FwaS54aW5nemhpZ2UuY29tL0FQSS9OZXRFYXNlX0Nsb3VkTXVzaWNfbmV3Lz9zb25naWQ9XCIgKyBpZCArIFwiJmJyPTJcIikpO1xuICAgICAgICAgICAgICAgICAgICBwbGF5QXVkaW8oanNvbi5kYXRhLnNyYywgc29uZ0luZm8pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc29uZ0luZm8gPSBnZXRTb25nKCk7XG4gICAgICAgICAgICAgICAgaWQgPSBzb25nSW5mby5pZDtcbiAgICAgICAgICAgICAgICBhdWRpb1NpbmdsZS5pZCA9IHNvbmdJbmZvLmlkO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbShcIm1pZFwiKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJtb2RlXCIpO1xuICAgICAgICAgICAgICAgIHRvYXN0KGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGxheUF1ZGlvKHNvbmdJbmZvLnVybCwgc29uZ0luZm8pO1xuICAgICAgICB9XG5hdWRpb1NpbmdsZS5zZXRDb21wbGV0aW9uTGlzdGVuZXIoKCkgPT4geyAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmIChnZXRJdGVtKFwi5b6q546vXCIsIFwiMFwiKSA9PSAwKSB7XG5cbiAgICAgICAgICAgICAgICBwbGF5KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBsYXlBdWRpbyhjdXJsLCBzb25nSW5mbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhdWRpb1NpbmdsZS5zZXRFcnJvckxpc3RlbmVyKCgpID0+IHtcbiAgICAgICAgICAgIC8vdG9hc3QoXCLmkq3mlL7lpLHotKXmraPlnKjph43mlrDpmo/mnLpcIik7XG4gICAgICAgICAgICBpZiAoIXBsYXlWaXAoKSkge1xuICAgICAgICAgICAgICAgIHBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHBsYXkoKTtcbiAgICAgICAgcmV0dXJuIFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICAgICAgICAgfSwgc2V0SGVhZClcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6IFwi5LiL6L29XCIsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdkb3dubG9hZDovLycgKyBnZXRNeVZhcigndXJsJywgJycpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwi5q2M5Y2VXCIsXG4gICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFtcIueDreatjOamnFwiLCBcIuaWsOatjOamnFwiLCBcIumjmeWNh+amnFwiLCBcIuaKlumfs+amnFwiLCBcIueUtemfs+amnFwiLCBcIuiHquWumuS5ieatjOWNlUlEXCJdO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGxpc3QsIDEsICfpgInmi6nmrYzljZUnLCBnZXRJdGVtKCdpJywgJy0xJykpLnNlbGVjdCgobGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBsaXN0LmluZGV4T2YoaW5wdXQpICsgJyc7ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdpJywgaSk7XG4gICAgICAgICAgIFxuICAgICAgICBpZiAoaW5wdXQgPT09IFwi6Ieq5a6a5LmJ5q2M5Y2VSURcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKGdldEl0ZW0oXCJtaWRcIiwgXCJcIikpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/kuI3og73kuLrnqbpcIjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc05hTihOdW1iZXIoaW5wdXQpKSkgcmV0dXJuIFwidG9hc3Q6Ly9pZOS4uuW6lOe6r+aVsOWtl1wiO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwibWlkXCIsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcIm1vZGVcIiwgXCLoh6rlrprkuYnmrYzljZVJRFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/orr7nva7lrozmiJDliIfmjaLkuIvkuIDpppbljbPlj69cIjtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbShcIm1vZGVcIiwgaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/orr7nva7lrozmiJDliIfmjaLkuIvkuIDpppbljbPlj69cIjtcbiAgICAgICAgICAgICAgICAgICAgfSwgbGlzdClcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBnZXRJdGVtKCflvqrnjq8nLCAnMCcpICA9PSBcIjBcIiA/IFwi6ZqP5py65pKt5pS+XCIgOiBcIuWNleabsuW+queOr1wiLFxuICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdldEl0ZW0oJ+W+queOrycsICcwJykgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5b6q546vJywgJzEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCfljZXmm7Llvqrnjq8nKVxuICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5b6q546vJywgJzAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KCfpmo/mnLrmkq3mlL4nKTtcbn0gICAgICAgICAgICAgICAgICAgIFxufSlcbn1dXG4gICAgfVxufSk7XG5ncVxuIn0seyJuYW1lIjoi6aG65pCcIiwibWFyayI6Iua1t+aKpSIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IumhuuaQnOWFg+e0oCIsImNvZGUiOiJyZXF1aXJlKCdodHRwczovL2hpa2VyZmFucy5jb20vd2Vpc3lyL+mhuuaQnF9pbnRvLmpzJyk7XG7pobrmkJwoMjUwKSAvL+e7meS4quaMh+WumumrmOW6piJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLlpKnmsJQiLCJtYXJrIjoi5rW35oqlIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjoyLCJuYW1lIjoi5aSp5rCU5pKt5oqlIiwiY29kZSI6ImxldCB0cSA9IFtdO1xuXG5BcnJheS5wcm90b3R5cGUubGFzdCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzW3RoaXMubGVuZ3RoIC0gMV07XG59O1xuXG5mdW5jdGlvbiBnZXRDaXR5KCkge1xuICAgIGxldCB1cmwgPSBcImh0dHBzOi8vd3d3Lmlwc2h1ZGkuY29tL1wiO1xuICAgIGxldCBpcCA9IHBkZmgoZmV0Y2godXJsKSwgXCJpbnB1dFtuYW1lPWlwXSYmdmFsdWVcIik7XG4gICAgLy9sb2coaXApXG4gICAgbGV0IGNpdHkgPSBwZGZoKGZldGNoKHVybCArIGlwKSwgXCJ0YWJsZSYmdHI6aGFzKDptYXRjaGVzKOW9kuWxnuWcsCkpJiZ0ZCwxJiZzcGFuJiZUZXh0XCIpO1xuICAgIC8vbG9nKGNpdHkpXG4gICAgcmV0dXJuIGNpdHkuc3BsaXQoXCIgXCIpLmxhc3QoKTtcbn1cblxuZnVuY3Rpb24gemVybyhzKSB7XG4gICAgcmV0dXJuIHMgPCAxMCA/ICcwJyArIHMgOiBzO1xufTtcbmxldCBteWRhdGUgPSBuZXcgRGF0ZSgpO1xubGV0IHllYXIgPSBteWRhdGUuZ2V0RnVsbFllYXIoKTsgLy/lubRcbmxldCBtb250aCA9IG15ZGF0ZS5nZXRNb250aCgpICsgMTsgLy/mnIhcbmxldCBkYXRlID0gbXlkYXRlLmdldERhdGUoKTsgLy/ml6Vcbi8qbGV0IGhvdXIgPSBteWRhdGUuZ2V0SG91cnMoKTsvL+aXtlxubGV0IG1pbnV0ZSA9IG15ZGF0ZS5nZXRNaW51dGVzKCk7Ly/liIZcbmxldCBzZWNvbmQgPSBteWRhdGUuZ2V0U2Vjb25kcygpOy8v56eSKi9cbmxldCBkYXkgPSBuZXcgQXJyYXkoXCLmmJ/mnJ/ml6VcIiwgXCLmmJ/mnJ/kuIBcIiwgXCLmmJ/mnJ/kuoxcIiwgXCLmmJ/mnJ/kuIlcIiwgXCLmmJ/mnJ/lm5tcIiwgXCLmmJ/mnJ/kupRcIiwgXCLmmJ/mnJ/lha1cIilbbXlkYXRlLmdldERheSgpXTtcblxuLy/ml6XljoZcbnZhciBybCA9ICgnaGlrZXI6Ly9maWxlcy9KbS9maWxlL+aXpeWOhi5qcycpO1xudHJ5IHtcbiAgICB2YXIgY2RfZmlsZSA9ICQucmVxdWlyZShybCkuZGF0ZTtcbn0gY2F0Y2ggKGUpIHtcbiAgICBsZXQgaHRtbCA9IGZldGNoKCdodHRwczovL3Jhdy5naXRtaXJyb3IuY29tL2ptZW5nMTIzL2ZpbGVzL21haW4v5pel5Y6GLmpzJyk7ICAgIFxuICAgIHNhdmVGaWxlKHJsLCBodG1sKTtcbiAgICAgICAgdmFyIGNkX2ZpbGUgPSAkLnJlcXVpcmUocmwpLmRhdGU7XG59XG5sZXQgY2QgPSBjZF9maWxlO1xubGV0IGNpdHlpZCA9IGdldEl0ZW0oXCJjaXR5X2lkXCIsIFwiXCIpO1xuaWYgKGNpdHlpZCA9PSBcIlwiKSB7XG4gICAgY2xlYXJJdGVtKCflnLDljLonKVxufVxudmFyIOS9jee9riA9IFwiXCIgfHwgZ2V0SXRlbSgn5Zyw5Yy6JywgJycpO1xuaWYgKCHkvY3nva4pIHtcbiAgICDkvY3nva4gPSBnZXRDaXR5KCkucmVwbGFjZShcIuW4glwiLCBcIlwiKTtcbiAgICBzZXRJdGVtKFwi5Zyw5Yy6XCIsIOS9jee9rik7XG59XG5cbmxldCBJRCA9IGdldEl0ZW0oJ+aSreaKpeWRmCcsICcyJyk7XG5cbmxldCDmloflrZflpKnmsJQgPSBnZXRJdGVtKCflvIDlhbMnLCAn5byA5ZCvJyk7XG52YXIgdHFfaW1nID0gZ2V0SXRlbShcInRxX2ltZ1wiLCBcIlwiKTtcbi8v5Zu+54mHXG52YXIgZ2lmID0gKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9naWYuanNvbicpO1xuaWYgKCFmaWxlRXhpc3QoZ2lmKSkge1xuICAgIHNhdmVGaWxlKGdpZiwgJ1tcImh0dHBzOi8vaW1nLnZpbnVhLmNuL2ltYWdlcy96VXpDeS5naWZcIixcImh0dHBzOi8vaW1nLnZpbnVhLmNuL2ltYWdlcy96VWFhaS5naWZcIixcImh0dHBzOi8vaW1nLnZpbnVhLmNuL2ltYWdlcy96VXZ1MS5naWZcIixcImh0dHBzOi8vaW1nLnZpbnVhLmNuL2ltYWdlcy9hTGh1Mi5naWZcIl0nKTtcbn1cbmxldCBmX2lkID0gZ2V0SXRlbSgnSnNfamsnLCAnZG9uZ21hbicpO1xudmFyIGRpemhpID0gZ2V0SXRlbSgnZGknLCAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGZfaWQgKyAnLmpzb24nKTtcbmlmICghZmlsZUV4aXN0KGRpemhpKSkge1xuICAgIHNhdmVGaWxlKGRpemhpLCAnW10nKTtcbn1cbmV2YWwoJ2xpc3Q9JyArIGZldGNoKGRpemhpKSk7XG52YXIgUGljID0gZ2V0SXRlbSgnUGljJywgJ2xpc3QnKTtcbmxldCBpbWdsaXN0ID0gbGlzdDtcbmxldCBtYXggPSBpbWdsaXN0Lmxlbmd0aCAtIDE7XG5sZXQgbWluID0gMDtcbmxldCBudW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xudmFyIHNob3dJbWcgPSBpbWdsaXN0W251bV07XG52YXIgaW1hZ2UgPSBnZXRJdGVtKCdmcycsICdpbWcnKTtcbnZhciBodG1sID0gZ2V0SXRlbSgnaHRtbCcsICdodHRwczovL2ltZy44ODQ1LnRvcC9sb2NhbC5waHAnKTtcbi8vbG9nKGltZ2xpc3QpXG5cbnZhciB1cmwgPSBcIlwiO1xuaWYgKHRxX2ltZyA9PSBcIlwiKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGltYWdlID09ICdpbWcnKSB7XG4gICAgICAgICAgICB1cmwgPSAoaHRtbCArICcjJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZSA9PSAndXJsJykge1xuICAgICAgICAgICAgdXJsID0gZmV0Y2goaHRtbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXRoID0gXCIuZGF0YS5pbWdcIjtcbiAgICAgICAgICAgIGlmIChodG1sLmluY2x1ZGVzKFwiQEBcIikpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGh0bWwuc3BsaXQoXCJAQFwiKTtcbiAgICAgICAgICAgICAgICBodG1sID0gdGVtcFswXTtcbiAgICAgICAgICAgICAgICBwYXRoID0gdGVtcFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vbG9nKHBhdGgpXG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sKSk7XG4gICAgICAgICAgICBldmFsKFwidXJsPWpzb25cIiArIHBhdGgpO1xuICAgICAgICAgICAgaWYgKHVybC5zdGFydHNXaXRoKFwiLy9cIikpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBcImh0dHBzOlwiICsgdXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9sb2codXJsKVxuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBsb2coZS5tZXNzYWdlKVxuICAgICAgICBsb2coXCLmiqXplJlcIilcbiAgICAgICAgY2xlYXJJdGVtKFwiZnNcIik7XG4gICAgICAgIGNsZWFySXRlbShcImh0bWxcIik7XG4gICAgfVxufVxubGV0IGltZ3MgPSBnZXRJdGVtKCdpbWcnLCB1cmwgKyAnIy5qcGcnKTtcbnZhciBpbWcgPSAoUGljID09ICdsaXN0JykgPyBpbWdzIDogKHNob3dJbWcgPT0gbnVsbCA/IGltZ3MgOiBzaG93SW1nKTtcblxudmFyIHdwYXRoID0gXCJoaWtlcjovL2ZpbGVzL2NhY2hlL3dlYXRoZXIuanNvblwiO1xudmFyIHVwZGF0YSA9IHtcbiAgICDlpKk6IDAsXG4gICAg5pe2OiAxLFxuICAgIOWIhjogMCxcbn1cbnZhciB1cGRhdGF0aW1lID0gKHVwZGF0YS7lpKkgKiA4NjQwMDAwMCkgKyAodXBkYXRhLuaXtiAqIDM2MDAwMDApICsgKHVwZGF0YS7liIYgKiA2MDAwMCk7XG5cbnZhciBjb25kID0gZmFsc2U7XG5sZXQgd3Bqc29uID0gcmVhZEZpbGUod3BhdGgpO1xuaWYgKHdwanNvbiAhPSBcIlwiKSB7XG4gICAgd3Bqc29uID0gSlNPTi5wYXJzZSh3cGpzb24pO1xuICAgIGlmIChuZXcgRGF0ZSgpLmdldFRpbWUoKSA+IHdwanNvbltcIm5leHRVcGRhdGVUaW1lXCJdKSB7XG4gICAgICAgIGNvbmQgPSB0cnVlO1xuICAgIH1cbiAgICAvKmlmKOS9jee9riE9d3Bqc29uWydjaXR5J10pe1xuICAgICBjb25kPXRydWU7XG4gICAgfSovXG59XG4vL2xvZyjkvY3nva4pXG5cbmZ1bmN0aW9uIGNvbG9yVGl0bGUodGl0bGUsIGNvbG9ycykge1xuICAgIHZhciBkZWYgPSB7XG4gICAgICAgIGZjOiAnI2ZmZmZmZicsXG4gICAgICAgIGJjOiAnIzNGOEVEMCcsXG4gICAgfVxuICAgIGNvbG9ycyA9IE9iamVjdC5hc3NpZ24oZGVmLCBjb2xvcnMpO1xuICAgIHJldHVybiAnPGZvbnQgY29sb3I9XCInICsgY29sb3JzLmZjICsgJ1wiPjxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogJyArIGNvbG9ycy5iYyArICdcIj4nICsgdGl0bGUgKyAnPC9zcGFuPjwvZm9udD4nXG59XG5cbmZ1bmN0aW9uIGRhdGVGb3JtYXQodGltZSkge1xuICAgIGxldCB0ZXh0ID0gJ3l5eXktTU0tZGQgSEg6bW06c3MnO1xuICAgIHJldHVybiAkLmRhdGVGb3JtYXQodGltZSwgdGV4dClcbn1cblxuZnVuY3Rpb24gcmVwZWF0U3RyaW5nKHN0ciwgbnVtKSB7XG4gICAgcmV0dXJuIHN0ci5yZXBlYXQobnVtKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVdpdGhQYXR0ZXJucyh0ZXh0LCBwYXR0ZXJuTGlzdCwgcmVwbGFjZW1lbnRMaXN0KSB7XG4gICAgbGV0IHJlcGxhY2VkVGV4dCA9IHRleHQ7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXR0ZXJuTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGF0dGVybiA9IHBhdHRlcm5MaXN0W2ldO1xuICAgICAgICBpZiAocGF0dGVybi5pbmNsdWRlcyhcIjo6XCIpKSB7XG4gICAgICAgICAgICB2YXIgdGVtcCA9IHBhdHRlcm4uc3BsaXQoXCI6OlwiKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiA9IG5ldyBSZWdFeHAodGVtcFswXSwgdGVtcFsxXSk7XG4gICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICBwYXR0ZXJuID0gbmV3IFJlZ0V4cCh0ZW1wWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSByZXBsYWNlbWVudExpc3RbaV07XG4gICAgICAgIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7IC8vIOWmguaenOWIl+ihqOmhueaYr+ato+WImeihqOi+vuW8j1xuICAgICAgICAgICAgLy9sb2coXCLmraPliJlcIilcbiAgICAgICAgICAgIHJlcGxhY2VkVGV4dCA9IHJlcGxhY2VkVGV4dC5yZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2VtZW50KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHsgLy8g5aaC5p6c5YiX6KGo6aG55piv5paH5pys5a2X56ym5LiyXG4gICAgICAgICAgICB2YXIgcmVnZXhQYXR0ZXJuID0gcGF0dGVybjtcbiAgICAgICAgICAgIHJlcGxhY2VkVGV4dCA9IHJlcGxhY2VkVGV4dC5yZXBsYWNlKHJlZ2V4UGF0dGVybiwgcmVwbGFjZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXBsYWNlZFRleHQ7XG59XG5cblxudmFyIHRxX3NpbXBsZSA9IGdldEl0ZW0oXCJ0cV9zaW1wbGVcIiwgXCIwXCIpID09IFwiMFwiID8gZmFsc2UgOiB0cnVlO1xuXG5mdW5jdGlvbiBnZXRxaW1hZ2UoKSB7XG4gICAgdmFyIGltZyA9IFwiXCI7XG4gICAgaWYgKHRxX3NpbXBsZSkge1xuICAgICAgICB2YXIgdGh0bWwgPSBmZXRjaChcImh0dHBzOi8vdGlhbnFpLm1vamkuY29tL1wiICsgKGNpdHlpZCAhPSBcIlwiID8gXCJhcGkvcmVkaXJlY3QvXCIgKyBjaXR5aWQgOiBcIlwiKSwge30pXG4gICAgICAgIC8vbG9nKHRodG1sKVxuICAgICAgICBpbWcgPSBwZGZoKHRodG1sLCBcIi53ZWFfd2VhdGhlciYmaW1nJiZzcmNcIik7XG4gICAgfVxuICAgIHJldHVybiBpbWc7XG59XG5cblxuaWYgKGNpdHlpZCA9PSBcIlwiKSB7XG4gICAgdmFyIGl0ZW0gPSBKU09OLnBhcnNlKHBvc3QoXCJodHRwczovL3NzY2guYXBpLm1vamkuY29tL2NpdHltYW5hZ2UvanNvbi9oNS9zZWFyY2hDaXR5XCIsIHtcbiAgICAgICAgYm9keToge1xuICAgICAgICAgICAga2V5V29yZDog5L2N572uLFxuICAgICAgICB9XG4gICAgfSkpLmNpdHlfbGlzdFswXTtcbiAgICAvL2xvZyhpdGVtKVxuICAgIC8vc2V0SXRlbShcImNpdHlcIixpdGVtLm5hbWUpO1xuICAgIGNpdHlpZCA9IGl0ZW0uY2l0eUlkO1xuICAgIHNldEl0ZW0oXCJjaXR5X2lkXCIsIFN0cmluZyhpdGVtLmNpdHlJZCkpO1xufVxuaWYgKHdwanNvbi5jaXR5aWQgPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uZCA9IHRydWU7XG59XG5pZiAod3Bqc29uLmNpdHlpZCAhPSBjaXR5aWQpIHtcbiAgICBjb25kID0gdHJ1ZTtcbn1cblxuLy9sb2coY2l0eWlkKVxuaWYgKHdwanNvbiA9PSBcIlwiIHx8IGNvbmQpIHtcbiAgICAvL2xvZyhcIuWkqeawlOe8k+WtmOe8k+WtmCDlvZPliY1cIiArIEpTT04uc3RyaW5naWZ5KHVwZGF0YSkgKyAn5pu05paw5LiA5qyhLCcgKyBkYXRlRm9ybWF0KChuZXcgRGF0ZSgpLmdldFRpbWUoKSArIHVwZGF0YXRpbWUpKSk7XG4gICAgLy93cGpzb249SlNPTi5wYXJzZShmZXRjaChcImh0dHA6Ly9hdXRvZGV2Lm9wZW5zcGVlY2guY24vY3NwL2FwaS92Mi4xL3dlYXRoZXI/b3BlbklkPWFpdWljdXMmY2xpZW50VHlwZT1hbmRyb2lkJnNpZ249YW5kcm9pZCZjaXR5PVwiK+S9jee9ritcIiZuZWVkTW9yZURhdGE9dHJ1ZSZwYWdlTm89MSZwYWdlU2l6ZT0xXCIpKS5kYXRhLmxpc3RbMF07XG4gICAgdmFyIGggPSBmZXRjaChcImh0dHBzOi8vbS5tb2ppLmNvbS9cIiArIChjaXR5aWQgIT0gXCJcIiA/IFwiYXBpL3JlZGlyZWN0L1wiICsgY2l0eWlkIDogXCJcIiksIHt9KTtcblxuICAgIHRyeSB7XG4gICAgICAgIHZhciB3YXJ0ZXh0ID0gW107XG4gICAgICAgIHZhciB3YXJuaW5nID0gcGRmYShoLCBcIi5pbmZvX2FxaSYmbGk6bm90KDpoYXMoW2FsdD1hcWldKSlcIikubWFwKHggPT4gcGRmaCh4LCBcIlRleHRcIikpLm1hcCgoeCkgPT4ge1xuICAgICAgICAgICAgdmFyIHRleHQgPSB4LnNwbGl0KFwiIFwiKVswXTtcbiAgICAgICAgICAgIHZhciBjb2xvciA9IHguc3BsaXQoXCIgXCIpWzFdLnJlcGxhY2UoXCLoibJcIiwgXCJcIik7XG4gICAgICAgICAgICBzd2l0Y2ggKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIuiTnVwiOlxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiIzREN0VGOFwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwi6buEXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yID0gXCIjRkZFRDJEXCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCLmqZlcIjpcbiAgICAgICAgICAgICAgICAgICAgY29sb3IgPSBcIiNGNzhFMUJcIjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIue6olwiOlxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiI0Y1NEI0NlwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBjb2xvciA9IFwiI0ZGRkZGRlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2FydGV4dC5wdXNoKHgpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yVGl0bGUodGV4dCwge1xuICAgICAgICAgICAgICAgIGJjOiBjb2xvclxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgICAgIHdwanNvbiA9IHtcbiAgICAgICAgICAgIGNpdHlpZDogY2l0eWlkLFxuICAgICAgICAgICAgaW1nOiBnZXRxaW1hZ2UoKSxcbiAgICAgICAgICAgIGNpdHk6IHBkZmgoaCwgXCIuY2l0eSYmVGV4dFwiKSxcbiAgICAgICAgICAgIHdlYXRoZXI6IHBkZmgoaCwgXCIjaW5mb193ZWEmJlRleHRcIiksXG4gICAgICAgICAgICB0ZW1wOiBwZGZoKGgsIFwiLmluZm9fYWJvdXQmJmVtJiZUZXh0XCIpLFxuICAgICAgICAgICAgYWlyUXVhbGl0eTogcGRmaChoLCBcIi5pbmZvX2FxaSYmbGk6aGFzKFthbHQ9YXFpXSkmJlRleHRcIiksXG4gICAgICAgICAgICB3aW5kOiBwZGZoKGgsIFwiLmluZm9fYWJvdXQmJnAmJlRleHRcIiksXG4gICAgICAgICAgICB3YXJuaW5nOiB3YXJuaW5nLFxuICAgICAgICAgICAgd2FydGV4dDogd2FydGV4dCxcbiAgICAgICAgfVxuICAgICAgICAvL2xvZyhcIuato+W4uFwiKVxuICAgIH0gY2F0Y2gge31cblxuICAgIHdwanNvbltcIm5leHRVcGRhdGVUaW1lXCJdID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdXBkYXRhdGltZSkudG9TdHJpbmcoKTtcbiAgICB3cGpzb25bXCJuZXh0VXBkYXRlVGV4dFwiXSA9IGRhdGVGb3JtYXQoKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgdXBkYXRhdGltZSkpO1xuICAgIHdyaXRlRmlsZSh3cGF0aCwgSlNPTi5zdHJpbmdpZnkod3Bqc29uKSk7XG59XG5pZiAoKCF3cGpzb24uaGFzT3duUHJvcGVydHkoXCJpbWdcIikgfHwgd3Bqc29uW1wiaW1nXCJdID09IFwiXCIpICYmIHRxX2ltZyA9PSBcInNpbXBsZVwiKSB7XG4gICAgd3Bqc29uLmltZyA9IGdldHFpbWFnZSgpO1xuICAgIHdyaXRlRmlsZSh3cGF0aCwgSlNPTi5zdHJpbmdpZnkod3Bqc29uKSk7XG59XG5cbi8vbG9nKHdwanNvbilcblxubGV0IHdhcmxpbmUgPSBnZXRJdGVtKFwid2FybGluZVwiLCBcIjc6MFwiKTtcbnZhciDpopzoibIgPSBnZXRJdGVtKCfmloflrZcnLCAnI2ZkMjY4YScpO1xuXG52YXIgd2VhdGhlciA9IHtcbiAgICBjaXR5OiB3cGpzb24uY2l0eSxcbiAgICBjb25kOiB3cGpzb24ud2VhdGhlcixcbiAgICB0bXA6IHdwanNvbi50ZW1wLFxuICAgIGFpcnF1YWxpdHk6IHdwanNvbi5haXJRdWFsaXR5LFxuICAgIHdpbmQ6IHdwanNvbi53aW5kLFxuICAgIHdhcm5pbmc6IHdwanNvbi53YXJuaW5nLmxlbmd0aCA/IFwi5b2T5YmN6aKE6K2mOiBcIi5mb250Y29sb3Io6aKc6ImyKSArIHdwanNvbi53YXJuaW5nLmpvaW4oXCIgXCIpICsgXCJcIiA6IFwiXCIsXG4gICAgd2FydGV4dDogd3Bqc29uLndhcnRleHQubGVuZ3RoID8gXCLlvZPliY3pooToraY6IFwiICsgd3Bqc29uLndhcnRleHQuam9pbihcIiBcIikgOiBcIlwiLFxufVxuXG53YXJsaW5lID0gd2FybGluZS5zcGxpdChcIjpcIik7XG5cbnZhciBmcnVpdCA9IFtcIuWcsOWMulwiLCBcIuWkqeawlFwiLCBcIua4qeW6plwiLCBcIkFRSVwiLCBcIuaXpeacn1wiLCBcIuWGnOWOhlwiLCBcIumjjuWQkVwiLCBcIumihOitplwiXTtcbnZhciB0cV9zaG93cyA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9zaG93c1wiLCBmcnVpdC5tYXAoKCkgPT4gXCIxXCIpKTtcblxuXG52YXIgdHFfcmUgPSBzdG9yYWdlMC5nZXRJdGVtKFwidHFfcmVcIiwgW10pO1xuXG5sZXQgdGl0bGVzID0gW1xuICAgICc8Zm9udCBjb2xvcj0nICsg6aKc6ImyICsgJz4nICsgd2VhdGhlci5jaXR5ICsgJzwvZm9udD4nLFxuICAgICc8c21hbGw+PGZvbnQgY29sb3I9JyArIOminOiJsiArICc+5LuK5pel5aSp5rCUOiAoJyArIHdlYXRoZXIuY29uZCArICcpPC9mb250PicsXG4gICAgJzxmb250IGNvbG9yPScgKyDpopzoibIgKyAnPua4qeW6pjogKCcgKyB3ZWF0aGVyLnRtcCArICfihIMpPC9mb250PicsICc8Zm9udCBjb2xvcj0nICsg6aKc6ImyICsgJz7nqbrmsJTotKjph486ICgnICsgd2VhdGhlci5haXJxdWFsaXR5ICsgJyk8L2ZvbnQ+JyxcbiAgICAnPGZvbnQgY29sb3I9JyArIOminOiJsiArICc+5pel5pyfOiAnICsgeWVhciArICflubQnICsgemVybyhtb250aCkgKyAn5pyIJyArIHplcm8oZGF0ZSkgKyAn5pelPC9mb250PicsXG4gICAgJzxmb250IGNvbG9yPScgKyDpopzoibIgKyAnPuWGnOWOhjogJyArIGNkICsgJ1xcdCAnICsgZGF5ICsgJzwvZm9udD4nLFxuICAgICc8Zm9udCBjb2xvcj0nICsg6aKc6ImyICsgJz7po47lkJE6ICcgKyB3ZWF0aGVyLndpbmQgKyAnPC9mb250PjxzbWFsbD4nLFxuXTtcblxuXG5sZXQgd2FybmluZyA9IHJlcGVhdFN0cmluZyhcIlxcdFwiLCB3YXJsaW5lWzFdKSArIHdlYXRoZXIud2FybmluZztcblxudmFyIHRxX3RpdGxlcyA9IE9iamVjdC5hc3NpZ24oW10sIHRpdGxlcylcbmlmICh3ZWF0aGVyLndhcm5pbmcgIT0gXCJcIikge1xuICAgIHRxX3RpdGxlcy5wdXNoKHdlYXRoZXIud2FybmluZylcbn1cbnN0b3JhZ2UwLnB1dE15VmFyKFwidHFfdGl0bGVzXCIsIHRxX3RpdGxlcyk7XG5cbmlmIChPYmplY3Qua2V5cyh0cV9yZSkubGVuZ3RoID4gMCkge1xuICAgIGZ1bmN0aW9uIHRyZXBsYWNlQUxMKHRpdGxlLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKHBhcmFtcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgfVxuICAgICAgICB0aXRsZSA9IHJlcGxhY2VXaXRoUGF0dGVybnModGl0bGUsIHBhcmFtc1tcInJlZ2V4XCJdLCBwYXJhbXNbXCJyZXBsYWNlXCJdKTtcbiAgICAgICAgcmV0dXJuIHRpdGxlO1xuICAgIH1cbiAgICBmcnVpdC5maWx0ZXIoeCA9PiB4ICE9IFwi6aKE6K2mXCIpLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgICAgdGl0bGVzW2ldID0gdHJlcGxhY2VBTEwodGl0bGVzW2ldLCB0cV9yZVt4XSlcbiAgICB9KVxuICAgIHdhcm5pbmcgPSB0cmVwbGFjZUFMTCh3YXJuaW5nLCB0cV9yZVtcIumihOitplwiXSlcbn1cblxudGl0bGVzID0gdGl0bGVzLm1hcChmdW5jdGlvbihlbGVtZW50LCBpbmRleCkge1xuICAgIHJldHVybiB0cV9zaG93c1tpbmRleF0gPT0gXCIxXCIgPyB0aXRsZXNbaW5kZXhdIDogXCJcIjtcbn0pO1xuXG5cbmlmICh3YXJuaW5nICE9IFwiXCIgJiYgdHFfc2hvd3NbN10gPT0gXCIxXCIpIHtcbiAgICB2YXIgbGUgPSB0aXRsZXMuZmlsdGVyKHggPT4geCAhPSBcIlwiKS5sZW5ndGg7XG4gICAgLy9sb2cobGUpXG4gICAgaWYgKHdhcmxpbmVbMF0gPT0gXCI3XCIpIHtcbiAgICAgICAgaWYgKGxlID09IHdhcmxpbmVbMF0pIHtcbiAgICAgICAgICAgIHRpdGxlc1tsZV0gPSB3YXJuaW5nICsgJzwvc21hbGw+JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRpdGxlc1t3YXJsaW5lWzBdXSA9IHdhcm5pbmc7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgc3MgPSBcIlwiO1xuICAgICAgICBsZXQgZW4gPSBcIlwiO1xuICAgICAgICBpZiAod2FybGluZVswXSA9PSBcIjZcIiAmJiB0cV9zaG93c1s2XSA9PSBcIjFcIikge1xuICAgICAgICAgICAgW3NzLCBlbmRdID0gW1wiXCIsIFwiPC9zbWFsbD5cIl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpdGxlcy5sZW5ndGggPCB3YXJsaW5lWzBdKSB7XG4gICAgICAgICAgICB0aXRsZXNbdGl0bGVzLmxlbmd0aF0gPSB3YXJuaW5nO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGl0bGVzW3dhcmxpbmVbMF1dID0gKHRpdGxlc1t3YXJsaW5lWzBdXSAhPSB1bmRlZmluZWQgPyB0aXRsZXNbd2FybGluZVswXV0gOiBcIlwiKSArIHNzICsgd2FybmluZyArIGVuO1xuICAgICAgICB9XG4gICAgfVxufVxuLy9sb2codGl0bGVzLmpvaW4oXCJcXG5cIikpXG4vL2xvZyh3ZWF0aGVyKVxuXG52YXIgdGl0bGUgPSAn4oCc4oCc4oCd4oCdJyArIHRpdGxlcy5maWx0ZXIoeCA9PiB4ICE9IFwiXCIpLmpvaW4oXCJcXG5cIik7XG4vL2xvZyh0aXRsZXMpXG5cbnZhciBvbmx5X3g1ID0gZ2V0SXRlbShcIm9ubHl4NVwiLCBcIjBcIikgPT0gXCIwXCIgPyB0cnVlIDogZmFsc2U7XG5cbmZ1bmN0aW9uIGxhenlSKHdlYXRoZXIsIG1vZGUpIHtcbiAgICB2YXIgdHh0ID0gKHdlYXRoZXIuY2l0eSArICfvvIzku4rlpKknICsgd2VhdGhlci5jb25kICsgJ++8jOa4qeW6picgKyB3ZWF0aGVyLnRtcCArICfvvIznqbrmsJTotKjph48nICsgd2VhdGhlci5haXJxdWFsaXR5ICsgJ++8jCcgKyB3ZWF0aGVyLndpbmQucmVwbGFjZSgvJS8sIFwiXCIpKSArICfvvIwnICsgd2VhdGhlci53YXJ0ZXh0O1xuICAgIC8vbG9nKHR4dClcbiAgICBmdW5jdGlvbiBwbGF5QXVkaW8odXJsKSB7XG4gICAgICAgIGNvbnN0IE1lZGlhUGxheWVyID0gYW5kcm9pZC5tZWRpYS5NZWRpYVBsYXllcjtcbiAgICAgICAgbGV0IG1lZGlhUGxheWVyID0gbmV3IE1lZGlhUGxheWVyKCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZWRpYVBsYXllci5zZXREYXRhU291cmNlKHVybCk7XG4gICAgICAgICAgICBtZWRpYVBsYXllci5wcmVwYXJlQXN5bmMoKTtcbiAgICAgICAgICAgIG1lZGlhUGxheWVyLnNldE9uUHJlcGFyZWRMaXN0ZW5lcihuZXcgTWVkaWFQbGF5ZXIuT25QcmVwYXJlZExpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICBvblByZXBhcmVkKG1wKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lZGlhUGxheWVyLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgbWVkaWFQbGF5ZXIuc2V0T25Db21wbGV0aW9uTGlzdGVuZXIobmV3IE1lZGlhUGxheWVyLk9uQ29tcGxldGlvbkxpc3RlbmVyKHtcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRpb24obXApIHtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFQbGF5ZXIucmVsZWFzZSgpO1xuICAgICAgICAgICAgICAgICAgICBtZWRpYVBsYXllciA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBtZWRpYVBsYXllci5yZWxlYXNlKCk7XG4gICAgICAgICAgICBtZWRpYVBsYXllciA9IG51bGw7XG4gICAgICAgICAgICBsb2coZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvL+ebtOaOpeaSreaUvue9kee7nOinhumikemTvuaOpe+8jOacieWPr+iDveaSreaUvuWksei0pei/mOayoeaciee8k+WtmO+8jOi/mOaYr+S4i+i9veS4gOS4i+avlOi+g+eos+WmpVxuICAgIGZ1bmN0aW9uIHBsYXlOZXR3b3JBdWRpbyh1cmwpIHtcbiAgICAgICAgbGV0IHBhdGggPSBcImhpa2VyOi8vZmlsZXMvX2NhY2hlL1wiICsgbWQ1KHVybCk7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWlyZURvd25sb2FkKHVybCwgcGF0aCk7XG4gICAgICAgICAgICBwbGF5QXVkaW8oZ2V0UGF0aChwYXRoKS5zbGljZSg3KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL3pzX3R0cy5waHA/dHlwZT14dW5mZWkmaWQ9JyArIGdldEl0ZW0oJ+aSreaKpeWRmCcpICsgJyZtc2c9JyArIHR4dCkpLnR0cztcbiAgICBsZXQgZCA9IFtdO1xuICAgIGQucHVzaCh7XG4gICAgICAgIHRpdGxlOiB0eHQsXG4gICAgICAgIGNvbF90eXBlOiAncmljaF90ZXh0JyxcbiAgICB9KVxuICAgIGQucHVzaCh7XG4gICAgICAgIGNvbF90eXBlOiBcIng1X3dlYnZpZXdfc2luZ2xlXCIsXG4gICAgICAgIGRlc2M6IFwiMFwiLFxuICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBmYmEubG9nKFwiYWFcIilcbiAgICAgICAgICAgICAgICBsZXQgYXVkaW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhdWRpb1tjb250cm9sc11bYXV0b3BsYXldW25hbWU9XCJtZWRpYVwiXScpO1xuICAgICAgICAgICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfpn7PpopHmkq3mlL7lrozmiJAnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSAkJCQoKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlZnJlc2hQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLnBhcnNlTGF6eVJ1bGUocik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfSlcblxuICAgIGlmIChtb2RlID09IFwibGF6eVwiKSB7XG4gICAgICAgIC8vbG9nKHVybClcbiAgICAgICAgbGV0IHtcbiAgICAgICAgICAgIEdNXG4gICAgICAgIH0gPSAkLnJlcXVpcmUoXCJodHRwczovL3Jhdy5naXRtaXJyb3IuY29tL2ptZW5nMTIzL2ZpbGVzL21haW4vR2xvYmFsVmFyVjMuanNcIilcbiAgICAgICAgbGV0IGF1ZGlvU2luZ2xlID0gR00uZGVmaW5lTW9kdWxlKFwiYXVkaW9TaW5nbGVcIiwgXCJhdWRpbz9ydWxlPeeugOaYk+aSreaUvuWZqFwiKTtcbiAgICAgICAgaWYgKCFhdWRpb1NpbmdsZS5oYXNQbGF5ZXIoKSB8fCBhdWRpb1NpbmdsZS5nZXRMb2NhbFVybCh1cmwpICE9PSBhdWRpb1NpbmdsZS5nZXRDdXJyZW50VXJsKCkpIHtcbiAgICAgICAgICAgIGF1ZGlvU2luZ2xlLnBsYXlOZXR3b3IodXJsKTtcbiAgICAgICAgICAgIC8vcmV0dXJuIFwidG9hc3Q6Ly/lvIDlp4vmkq3mlL5cIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXVkaW9TaW5nbGUuaGFzUGxheWVyKCkpIHtcbiAgICAgICAgICAgIC8vYXVkaW9TaW5nbGUuc3RhcnRPclBhdXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5q2j5Zyo5pKt5pS+JztcbiAgICAgICAgfVxuICAgICAgICAvL3BsYXlOZXR3b3JBdWRpbyh1cmwpO1xuXG4gICAgICAgIC8vcmV0dXJuICd0b2FzdDovL+ato+WcqOaSreaKpeWkqeawlCdcbiAgICAgICAgcmV0dXJuICd0b2FzdDovLycgKyB0eHQ7XG4gICAgfVxuICAgIHJldHVybiBzZXRSZXN1bHQoZClcbn1cbnVybCA9ICQoJ2hpa2VyOi8vZW1wdHkjbm9Mb2FkaW5nIycpLmxhenlSdWxlKGxhenlSLCB3ZWF0aGVyLCBcImxhenlcIik7XG5cbnZhciB0cV9jb2wgPSBnZXRJdGVtKFwidHFfY29sXCIsIFwiY2FyZF9waWNfMVwiKTtcbi8vbG9nKHRxX2NvbClcbmlmICh0cV9pbWcgIT0gXCJcIikge1xuICAgIGlmICh0cV9pbWcuaW5jbHVkZXMoXCJAQFwiKSkge1xuICAgICAgICB2YXIgdGVtcCA9IHRxX2ltZy5zcGxpdChcIkBAXCIpO1xuICAgICAgICB0aCA9IGZldGNoKHRlbXBbMF0pO1xuICAgICAgICB0cV9pbWcgPSBwZGZoKHRoLCB0ZW1wWzFdKTtcbiAgICB9XG4gICAgaW1nID0gdHFfaW1nO1xufVxuXG5pZiAoW1widGV4dF9pY29uXCIsIFwiYXZhdGFyXCJdLmluY2x1ZGVzKHRxX2NvbCkpIHtcbiAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UoJ+KAnOKAnOKAneKAnScsIFwiXCIpO1xufVxuaWYgKHRxX3NpbXBsZSAmJiB3cGpzb25bXCJpbWdcIl0pIHtcbiAgICBpbWcgPSB3cGpzb25bXCJpbWdcIl07XG59XG5cbnRxLnB1c2goe1xuICAgIGNvbF90eXBlOiB0cV9jb2wsXG4gICAgdGl0bGU6IOaWh+Wtl+WkqeawlCA9PSAn5byA5ZCvJyA/IHRpdGxlIDogJycsXG4gICAgZGVzYzogdHFfY29sLmluY2x1ZGVzKFwiY2FyZFwiKSA/IFwiMFwiIDogXCJcIixcbiAgICBpbWc6IGltZyxcbiAgICB1cmw6IHVybCxcbiAgICBleHRyYToge1xuICAgICAgICAvL25ld1dpbmRvdzp0cnVlLFxuICAgICAgICBpZDogXCLkuLvpobXlhYPntKAj5aSp5rCU5pKt5oqlXCIsXG4gICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgcGFnZVRpdGxlOiAn5aSp5rCU5pKt5oqlJyxcbiAgICAgICAgbG9uZ0NsaWNrOiBbe1xuICAgICAgICAgICAgdGl0bGU6ICfwn5SW5paH5a2XOlxcdCcgKyAoZ2V0SXRlbSgn5byA5YWzJywgJ+W8gOWQrycpID09ICflvIDlkK8nID8gJ+W8gCcgOiAn5YWzJyksXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbSgn5byA5YWzJywgZ2V0SXRlbSgn5byA5YWzJywgJ+W8gOWQrycpID09ICflvIDlkK8nID8gJ+WFs+mXrScgOiAn5byA5ZCvJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvYXN0KCflpKnmsJTmloflrZflt7InICsgKGdldEl0ZW0oJ+W8gOWFsycsICflvIDlkK8nKSA9PSAn5byA5ZCvJyA/ICfmiZPlvIAnIDogJ+WFs+mXrScpKTtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ/CflITliIfmjaInLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKFsn5aSp5rCU5L2N572uJywgJ+WkqeawlOaSreaKpScsICflm77niYfmjqXlj6MnLCAn5paH5a2X6aKc6ImyJywgJ+acrOWcsOmaj+acuicsIFwi6aKE6K2m5omA5Zyo6KGMXCIsIFwi5oyJ6ZKu5qC35byPXCIsIFwi6YCJ5oup5pi+56S6XCIsIFwi5p6B566A5qih5byPOlwiICsgKGdldEl0ZW0oXCJ0cV9zaW1wbGVcIiwgXCIwXCIpID09IFwiMFwiID8gXCLlhbNcIiA6IFwi5byAXCIpLCBcIuaWh+acrOabv+aNolwiLCBcIumHjee9ruiuvuWumlwiXSwgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlrZXJQb3AgPSAkLnJlcXVpcmUoXCJodHRwczovL3Jhdy5naXRtaXJyb3IuY29tL2ptZW5nMTIzL2ZpbGVzL21haW4vaGlrZXJQb3AuanNcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn5aSp5rCU5L2N572uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfmg7PopoHmm7TmjaLnmoTlnLDljLrkvY3nva7vvIznqbrliJnmjInlrprkvY0nKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXRJdGVtKCflnLDljLonLCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcImNpdHlfaWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+aMieWumuS9jSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXR5bGlzdCA9IEpTT04ucGFyc2UocG9zdChcImh0dHBzOi8vc3NjaC5hcGkubW9qaS5jb20vY2l0eW1hbmFnZS9qc29uL2g1L3NlYXJjaENpdHlcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlXb3JkOiBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5jaXR5X2xpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coY2l0eWxpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9IGNpdHlsaXN0Lm1hcCh4ID0+IHgubmFtZSArIFwiLFwiICsgeC5wbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3dTZWxlY3RPcHRpb25zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwi6K+356Gu5a6aXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogc2VsZWN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoY2l0eWxpc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9nKGNpdHlsaXN0W01ZX0lOREVYXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwiY2l0eV9pZFwiLCBTdHJpbmcoY2l0eWxpc3RbTVlfSU5ERVhdLmNpdHlJZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouWcsOWdgOS4uicgKyBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgY2l0eWxpc3QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaLlnLDlnYDkuLonICsgaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+WkqeawlOaSreaKpScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IFtcIuS4g+WTpSDnlLflo7BcIiwgXCLlrZDmmbQg5aWz5aOwXCIsIFwi5LiA6I+yIOWls+WjsFwiLCBcIuWwj+mcsiDlpbPlo7BcIiwgXCLlsI/puY8g55S35aOwXCIsIFwi5bCP5pawIOeUt+WjsFwiLCBcIuWwj+mbqiDlpbPlo7BcIiwgXCLotoXlk6Ug55S35aOwXCIsIFwi5bCP5aqbIOWls+WjsFwiLCBcIuWPtuWtkCDlpbPlo7BcIiwgXCLljYPpm6og5aWz5aOwXCIsIFwi5bCP5b+gIOeUt+WjsFwiLCBcIuS4h+WPlCDnlLflo7BcIiwgXCLomavomasg5aWz5aOwXCIsIFwi5qWg5qWgIOeUt+erpVwiLCBcIuaZk+eShyDlpbPlo7BcIiwgXCLoirPoirMg5aWz56ulXCIsIFwi5ZiJ5ZiJIOWls+WjsFwiLCBcIuWwj+WAqSDlpbPlo7BcIiwgXCLoi7Hmlocg5aWz5aOwXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gW1wiMVwiLCBcIjJcIiwgXCIzXCIsIFwiNFwiLCBcIjVcIiwgXCI2XCIsIFwiN1wiLCBcIjhcIiwgXCI5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCIsIFwiMTNcIiwgXCIxNFwiLCBcIjE1XCIsIFwiMTZcIiwgXCIxN1wiLCBcIjE4XCIsIFwiMTlcIiwgXCIyMFwiXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0aXRsZS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkW2luZGV4XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbGlzdC5tYXAobGlzdCA9PiBsaXN0Lm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgobGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvID0gbGlzdC5maW5kSW5kZXgobGlzdCA9PiBsaXN0Lm5hbWUgPT0gaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBsaXN0W29dLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+aSreaKpeWRmCcsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmm7TmjaLmkq3miqXlkZgnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+WbvueJh+aOpeWPoycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKFsn5Zu+54mHJywgJ2pzb24nLCAndXJsJ10sIDMsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn5Zu+54mHJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdF9qcGcgPSBnZXRJdGVtKCd0X2pwZycsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodF9qcGcsICfmg7PopoHmm7TmjaLnmoTlm77niYfmjqXlj6PlnLDlnYDvvIxcXG7mlK/mjIHnvZHnu5xhcGnlkozmnKzlnLDlm77niYcnKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+S4jeiDveS4uuepulwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnZnMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnUGljJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdodG1sJywgdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RfanBnJywgdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmm7TmjaLmjqXlj6MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ2pzb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0X2pzb24gPSBnZXRJdGVtKCd0X2pzb24nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHRfanNvbiwgJ+aDs+imgeabtOaNoueahGpzb27lm77niYfmjqXlj6PlnLDlnYBcXG7pu5jorqTmlbDmja7kuLpkYXRhLmltZ1xcbuaVsOaNruS4jeWQjOWPryDmjqXlj6NAQOaVsOaNricpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gaW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnZnMnLCAnanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2h0bWwnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndF9qc29uJywgdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmm7TmjaLmjqXlj6MnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0X3VybCA9IGdldEl0ZW0oJ3RfdXJsJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0X3VybCwgJ+aDs+imgeabtOaNoueahOWbvueJh+aOpeWPo+WcsOWdgO+8jGZldGNoKHVybCnojrflj5bnmoTlm77niYfkuLp1cmzpk77mjqXjgIInKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+S4jeiDveS4uuepulwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IGlucHV0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2ZzJywgJ3VybCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2h0bWwnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndF91cmwnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouaOpeWPoyc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfmloflrZfpopzoibInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeXMgPSBnZXRJdGVtKCd5c19pbnB1dCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKHlzLCAn5oOz6KaB5pu05o2i55qE6aKc6Imy5Luj56CBXFxu5L6L5aaC77yaI2ZkMjY4YScpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+S4jeiDveS4uuepulwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmloflrZcnLCB0eHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3lzX2lucHV0JywgdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouaWh+Wtl+minOiJsic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfmnKzlnLDpmo/mnLonKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBbXCLliqjmvKtcIiwgXCLnvo7lpbNcIiwgXCLpo47mma9cIiwgXCLmsb3ovaZcIiwgXCLliqjlm75cIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBbXCJkb25nbWFuXCIsIFwibWVpbnZcIiwgXCJmZW5namluZ1wiLCBcInFpY2hlXCIsIFwiZ2lmXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0aXRsZS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkW2luZGV4XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbGlzdC5tYXAoaiA9PiBqLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMiwgJ+Kdl++4j+WIhue7hOaXoOWbvueJh+WImem7mOiupCcpLnNlbGVjdCgobGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ID0gbGlzdC5maW5kSW5kZXgoaiA9PiBqLm5hbWUgPT0gaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGxpc3RbdF0uaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHEgPSBnZXRJdGVtKCdQaWMnKSA9PSAnZ2lmJyA/ICdnaWYnIDogJ3NqJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZiA9IGdldEl0ZW0oJ0pzX2prJykgPT0gJ2dpZicgPyAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvZ2lmLmpzb24nIDogJ2hpa2VyOi8vZmlsZXMvSm0vcG5nLycgKyBpZCArICcuanNvbic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnUGljJywgcSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnZGknLCBmKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdKc19qaycsIGlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNoumaj+acuicgKyBpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgbGlzdClcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcIumihOitpuaJgOWcqOihjFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChnZXRJdGVtKFwid2FybGluZVwiLCBcIjc6MFwiKSwgJ+mihOitpuaJgOWcqOihjOm7mOiupDc6MCDlkI7pnaLmmK9cXFxcdCcpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaW5lID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5jbHVkZXMoXCI6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0gaW5wdXQuc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IHRlbXBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSB0ZW1wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IDc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gTnVtYmVyKGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA+IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gNztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGxpbmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHQgKyBcIjpcIiArIGxpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnd2FybGluZScsIFN0cmluZyhyZXN1bHQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/miYDlnKjooYxcIiArIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQuaW5jbHVkZXMoXCJ4NeaooeW8j1wiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9ubHlfeDUgPSBnZXRJdGVtKFwib25seXg1XCIsIFwiMFwiKSA9PSBcIjBcIiA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJvbmx5eDVcIiwgb25seV94NSA/IFwiMVwiIDogXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09IFwi5oyJ6ZKu5qC35byPXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpa2VyUG9wLmlucHV0VHdvUm93KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZUhpbnQ6IFwi5qC35byPIOm7mOiupGNhcmRfcGljXzFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZURlZmF1bHQ6IGdldEl0ZW0oXCJ0cV9jb2xcIiwgXCJjYXJkX3BpY18xXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybEhpbnQ6IFwi5Zu+54mHIOepuuS9v+eUqOaOpeWPo+WbvueJh1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybERlZmF1bHQ6IGdldEl0ZW0oXCJ0cV9pbWdcIiwgXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9BdXRvU29mdDogdHJ1ZSwgLy/kuI3oh6rliqjmiZPlvIDovpPlhaXms5VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLmjInpkq7moLflvI9cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2hpZGVDYW5jZWw6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybShzMSwgczIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcInRxX2NvbFwiLCBzMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJ0cV9pbWdcIiwgczIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5qC35byPXCIgKyBzMSArIFwiIOWbvueJh1wiICsgczI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8v5L2g5Y+W5raI5LqGXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcIumAieaLqeaYvuekulwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2hlY2tlZE5hbWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcnVpdCA9IFtcIuWcsOWMulwiLCBcIuWkqeawlFwiLCBcIua4qeW6plwiLCBcIuaXpeacn1wiLCBcIuWGnOWOhlwiLCBcIkFRSVwiLCBcIumjjuWQkVwiLCBcIumihOitplwiXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cV9zaG93cyA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9zaG93c1wiLCBmcnVpdC5tYXAoKCkgPT4gXCIxXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRxX3Nob3dzID0gdHFfc2hvd3MucmVkdWNlKGZ1bmN0aW9uKGFjYywgZWxlbWVudCwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudCA9PT0gXCIxXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjLnB1c2goaW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2codHFfc2hvd3MpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGhpa2VyUG9wLm11bHRpQ2hvaWNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCLpgInmi6npnIDopoHmmL7npLrnmoTlhoXlrrlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBmcnVpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkSW5kZXhzOiB0cV9zaG93cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNob2ljZShpLCBpc0NoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2coaSArIFwiOlwiICsgaXNDaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0VGl0bGU6IFwi56Gu6K6kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRDbGljayhvcHRpb25zLCBjaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0KFwi5L2g6YCJ5LqG77yaXCIgKyBvcHRpb25zLmZpbHRlcigodiwgaSkgPT4gY2hlY2tlZFtpXSkuam9pbihcIixcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm1hcCgoeCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrZWRbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkTmFtZS5wdXNoKFwiMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZE5hbWUucHVzaChcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9nKGNoZWNrZWROYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfc2hvd3NcIiwgY2hlY2tlZE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0VGl0bGU6IFwi5YWo6YCJXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdENsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdChcIuWFqOmAiVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbShcInRxX3Nob3dzXCIsIGZydWl0Lm1hcCgoKSA9PiBcIjFcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJUaXRsZTogXCLlj5bmtohcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0LmluY2x1ZGVzKFwi5p6B566A5qih5byPXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2ltcGxlID0gZ2V0SXRlbShcInRxX3NpbXBsZVwiLCBcIjBcIikgPT0gXCIwXCIgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcInRxX3NpbXBsZVwiLCBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKFwidHFfaW1nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX3Nob3dzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBzdG9yYWdlMC5nZXRJdGVtKFwidHFfcmVcIiwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvYmpbXCLmuKnluqZcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbShcInRxX3JlXCIsIG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpbXBsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhbGxfY29scyA9IFsnJ10uY29uY2F0KGdldENvbFR5cGVzKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbF9jb2xzID0gYWxsX2NvbHMuZmlsdGVyKHggPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLyh0ZXh0X3xmbGV4fGF2YXRhcnxjYXJkfGljb24pLiovLnRlc3QoeCkgJiYgeCAhPSBcImljb25fMV9zZWFyY2hcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoYWxsX2NvbHMsIDIsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwidHFfaW1nXCIsIFwic2ltcGxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKFwidHFfc2ltcGxlXCIsIFwiMVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbShcInRxX2NvbFwiLCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvYmogPSBzdG9yYWdlMC5nZXRJdGVtKFwidHFfcmVcIiwge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbXCLmuKnluqZcIl0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlZ2V4XCI6IFtcIua4qeW6pjogXFxcXCgoLio/KVxcXFwpOjpnXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXBsYWNlXCI6IFtcIiQxXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBbXCLmuKnluqY6IFxcXFwoKC4qPylcXFxcKTo6Z3x8JDFcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKFwidHFfcmVcIiwgb2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbShcInRxX3Nob3dzXCIsIFtcIjBcIiwgXCIwXCIsIFwiMVwiLCBcIjBcIiwgXCIwXCIsIFwiMFwiLCBcIjBcIiwgXCIwXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+W3slwiICsgKHNpbXBsZSA/IFwi5YWz6ZetXCIgOiBcIuW8gOWQr1wiKSArIFwi5p6B566A5qih5byPXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gXCLmlofmnKzmm7/mjaJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoXCJoaWtlcjovL2VtcHR5XCIpLnJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRxX3RpdGxlcyA9IHN0b3JhZ2UwLmdldE15VmFyKFwidHFfdGl0bGVzXCIsIFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbXCLlnLDljLpcIiwgXCLlpKnmsJRcIiwgXCLmuKnluqZcIiwgXCJBUUlcIiwgXCLml6XmnJ9cIiwgXCLlhpzljoZcIiwgXCLpo47lkJFcIiwgXCLpooToraZcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciB0cV9yZT1zdG9yYWdlMC5nZXRJdGVtKFwidHFfcmVcIixsaXN0Lm1hcCgoKT0+e30pKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ialtpdGVtXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHN0b3JhZ2UwLmdldEl0ZW0oXCJ0cV9yZVwiLCBvYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iaiA9IHN0b3JhZ2UwLmdldE15VmFyKFwidHFfcmVcIiwgb2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmZvckVhY2goeCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghb2JqLmhhc093blByb3BlcnR5KHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbeF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZXMgPSB0cV90aXRsZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB0cmVwbGFjZUFMTCh0aXRsZSwgcGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGl0bGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSByZXBsYWNlV2l0aFBhdHRlcm5zKHRpdGxlLCBwYXJhbXNbXCJyZWdleFwiXSwgcGFyYW1zW1wicmVwbGFjZVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aXRsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5maWx0ZXIoeCA9PiB4ICE9IFwi6aKE6K2mXCIpLmZvckVhY2goKHgsIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGVzW2ldID0gdHJlcGxhY2VBTEwodGl0bGVzW2ldLCBvYmpbeF0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZXNbN10gPSB0cmVwbGFjZUFMTCh0aXRsZXNbN10sIG9ialtcIumihOitplwiXSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnScgKyB0aXRsZXMuam9pbihcIlxcblwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJzAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbWc6IFwiaHR0cDovL3BpYy5xcWJpemhpLmNvbS9hbGxpbWcvMjAyMzEwLzEzMzU5emg5OGJob3NzN3Fhc2sxX3ZpZXcuanBnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaCgoZSwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBcIuafpeaJvnx85pu/5o2i5YaF5a65IOS4gOihjOS4gOS4qiA6OmfmraPliJlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcImlucHV0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKG9iaiwgZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGlucHV0LnNwbGl0KC9bXFxyXFxuXS8pLmZpbHRlcih4ID0+IHggIT0gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2codmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2VdW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcGxhY2VsaXN0ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IGl0ZW0uc3BsaXQoXCJ8fFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhsaXN0LnB1c2gocGFydHNbMF0gfHwgaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VsaXN0LnB1c2gocGFydHNbMV0gfHwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2VdW1wicmVnZXhcIl0gPSByZWdleGxpc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW2VdW1wicmVwbGFjZVwiXSA9IHJlcGxhY2VsaXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKFwidHFfcmVcIiwgb2JqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvYmosIGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dGFyZWFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IG9ialtlXVtcInZhbHVlXCJdLmpvaW4oXCJcXHJcXG5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuKAnOKAnOKAneKAnVwiICsgXCI8c21hbGw+5riF56m6XCIuZm9udGNvbG9yKFwiZ3JleVwiKSArIFwiPC9zbWFsbD5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwidGV4dF9jZW50ZXJfMVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoXCIjbm9Mb2FkaW5nI1wiKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9yZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoXCJ0cV9yZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJoaWtlcjovL2VtcHR5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnTxzbWFsbD7noa7orqQ8L3NtYWxsPicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKFwiI25vTG9hZGluZyNcIikubGF6eVJ1bGUoKG9iaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJNeVZhcihcInRxX3JlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbShcInRxX3JlXCIsIG9iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJoaWtlcjovL2VtcHR5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIG9iaiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaW5lVmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNtYWxsPuWPlua2iDwvc21hbGw+JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoXCIjbm9Mb2FkaW5nI1wiKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhck15VmFyKFwidHFfcmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiByZXBsYWNlV2l0aFBhdHRlcm5zKHRleHQsIHBhdHRlcm5MaXN0LCByZXBsYWNlbWVudExpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcGxhY2VkVGV4dCA9IHRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGF0dGVybkxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gcGF0dGVybkxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5pbmNsdWRlcyhcIjo6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBwYXR0ZXJuLnNwbGl0KFwiOjpcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiA9IG5ldyBSZWdFeHAodGVtcFswXSwgdGVtcFsxXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKHRlbXBbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXBsYWNlbWVudCA9IHJlcGxhY2VtZW50TGlzdFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXR0ZXJuIGluc3RhbmNlb2YgUmVnRXhwKSB7IC8vIOWmguaenOWIl+ihqOmhueaYr+ato+WImeihqOi+vuW8j1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9nKFwi5q2j5YiZXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UocGF0dGVybiwgcmVwbGFjZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGF0dGVybiA9PT0gJ3N0cmluZycpIHsgLy8g5aaC5p6c5YiX6KGo6aG55piv5paH5pys5a2X56ym5LiyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2V4UGF0dGVybiA9IHBhdHRlcm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWRUZXh0ID0gcmVwbGFjZWRUZXh0LnJlcGxhY2UocmVnZXhQYXR0ZXJuLCByZXBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2VkVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09IFwi6YeN572u6K6+5a6aXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcIndhcmxpbmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9jb2xcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9pbWdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9zaW1wbGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oXCJ0cV9zaG93c1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbShcInRxX3JlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiaGlrZXI6Ly9lbXB0eVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+WvOa3u+WKoCcsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoaW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gW1wi5Yqo5ryrXCIsIFwi576O5aWzXCIsIFwi6aOO5pmvXCIsIFwi5rG96L2mXCIsIFwi5Yqo5Zu+XCJdO1xuICAgICAgICAgICAgICAgIGxldCBpZCA9IFtcImRvbmdtYW5cIiwgXCJtZWludlwiLCBcImZlbmdqaW5nXCIsIFwicWljaGVcIiwgXCJnaWZcIl07XG4gICAgICAgICAgICAgICAgdmFyIGxpc3QgPSB0aXRsZS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkW2luZGV4XVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gbGlzdC5tYXAoaiA9PiBqLm5hbWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAkKG5hbWUsIDIsICfmt7vliqDliLAnKS5zZWxlY3QoKGltZywgbGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGxpc3QuZmluZEluZGV4KGogPT4gai5uYW1lID09IGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gbGlzdFthXS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGlucHV0ID09PSAn5Yqo5Zu+JyA/ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvZ2lmLycgKyB0aW1lICsgJy5naWYnKSA6ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGlkICsgJy8nICsgdGltZSArICcucG5nJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBqc29uUGF0aCA9ICdoaWtlcjovL2ZpbGVzL0ptL3BuZy8nICsgaWQgKyAnLmpzb24nO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IEpTT04ucGFyc2UocmVxdWVzdChqc29uUGF0aCkpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS5jb25jYXQodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoanNvblBhdGgsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGltZywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnSnNfamsnLCBpZCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmt7vliqDliLAnICsgaW5wdXQgKyAn5YiG57uEJztcbiAgICAgICAgICAgICAgICB9LCBpbWcsIGxpc3QpXG4gICAgICAgICAgICB9LCBpbWcpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+TjOmUgeWumicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoaW1nLCBzaG93SW1nKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3dJbWcpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnaW1nJywgc2hvd0ltZyk7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnUGljJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LplIHlrponXG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9jYWNoZS5wbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGltZywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnaW1nJywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdQaWMnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3sumUgeWumidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCBpbWcsIHNob3dJbWcpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+UgOmaj+acuicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdodG1sJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdpbWcnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ2ZzJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCdkaScpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnUGljJyk7XG4gICAgICAgICAgICAgICAgZGVsZXRlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvY2FjaGUucG5nJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LmgaLlpI3pmo/mnLonXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ+Kdju+4j+WIoOmZpCcsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoc2hvd0ltZykgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nLycgKyBnZXRJdGVtKCdKc19qaycpICsgJy5qc29uJyk7XG4gICAgICAgICAgICAgICAgUGljID0gSlNPTi5wYXJzZShyZXF1ZXN0KHVybCkpO1xuICAgICAgICAgICAgICAgIGxldCBpbmRleFRvUmVtb3ZlID0gUGljLmluZGV4T2Yoc2hvd0ltZyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlbW92ZWRFbGVtZW50cyA9IFBpYy5zcGxpY2UoaW5kZXhUb1JlbW92ZSwgMSk7XG4gICAgICAgICAgICAgICAgc2F2ZUZpbGUodXJsLCBKU09OLnN0cmluZ2lmeShQaWMpKTtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWxlKHNob3dJbWcpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5YqffidcbiAgICAgICAgICAgIH0sIHNob3dJbWcpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+boeeuoeeQhicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+maj+acuuWbvueJh+euoeeQhicpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJ2hpa2VyOi8vZmlsZXMvSm0vcG5nLycgKyBnZXRJdGVtKCdKc19qaycpICsgJy5qc29uJztcblxuICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn6K+36L6T5YWl5Zu+54mH6ZO+5o6lL+acrOWcsOWbvueJh+i3r+W+hCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKHVybCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v6K+36L6T5YWl5Zu+54mH6ZO+5o6lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBuZ19saXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KHVybCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuZ19saXN0ID0gcG5nX2xpc3QuY29uY2F0KGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSh1cmwsIEpTT04uc3RyaW5naWZ5KHBuZ19saXN0KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mt7vliqDmiJDlip8nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdXJsKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gW1wi5Yqo5ryrXCIsIFwi576O5aWzXCIsIFwi6aOO5pmvXCIsIFwi5rG96L2mXCIsIFwi5Yqo5Zu+XCJdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBbXCJkb25nbWFuXCIsIFwibWVpbnZcIiwgXCJmZW5namluZ1wiLCBcInFpY2hlXCIsIFwiZ2lmXCJdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHRpdGxlLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogaWRbaW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGlzdC5tYXAoaiA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBnZXRJdGVtKCdKc19qaycpID09IGouaWQgPyAn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9I2ZkMjY4YT4nICsgai5uYW1lICsgJzwvZm9udD4nIDogai5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGouaWQgKyAnLmpzb24nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGVFeGlzdCh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSh1cmwsICdbXScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ0pzX2prJywgai5pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KZu++4j+mHjee9ricsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSAnaGlrZXI6Ly9maWxlcy9KbS9wbmcvJyArIGouaWQgKyAnLmpzb24nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUZpbGUodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lph43nva4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgailcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGljID0gSlNPTi5wYXJzZShyZXF1ZXN0KHVybCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBpYyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBQaWMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBQaWNbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmRleC50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfmn6XnnIsnLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6knKS5zZWxlY3QoKHVybCwgaW5kZXgsIGltZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+e8lui+kScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGltZywgJ+aDs+imgeabtOaNoueahOWbvueJh+mTvuaOpScpLmlucHV0KCh1cmwsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGljID0gSlNPTi5wYXJzZShyZXF1ZXN0KHVybCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBpY1tpbmRleF0gPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSh1cmwsIEpTT04uc3RyaW5naWZ5KFBpYykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5pu05pS55oiQ5YqffidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHVybCwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+afpeeciycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqcGcgPSBnZXRQYXRoKGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganBnICsgJyMuanBnJ1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWMgPSBKU09OLnBhcnNlKHJlcXVlc3QodXJsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQaWMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKHVybCwgSlNPTi5zdHJpbmdpZnkoUGljKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlKGltZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5YqffidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHVybCwgaW5kZXgsIGltZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1dLFxuICAgIH1cbn0pXG50cSJ9XSwiZm9sZF9zdGF0dXMiOnRydWUsInBhdHRlcm4iOjN9LHsibmFtZSI6IuixhueToyIsIm1hcmsiOiLmtbfmiqUiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjIsIm5hbWUiOiLosYbnk6PmtbfmiqV4NeaUuSIsImNvZGUiOiJsZXQgZGJhcnIgPSBbXTtcbnZhciByID0gJC5yZXF1aXJlKFwiaHR0cHM6Ly9naXRlZS5jb20vemV0YWxwaGEvaGlrZXJ2aWV3L3Jhdy9tYXN0ZXIvZ2xvYmFsL2pzL3g1dWkuanNcIiwgdW5kZWZpbmVkLCAyNClcbnZhciBzZXRwYWdlID0gJC50b1N0cmluZygoKSA9PiB7XG4gICAgdmFyIGRib2JqID0ge1xuICAgICAgICB0eXBlOiB7XG4gICAgICAgICAgICB0aXRsZTogJ+exu+WeiycsXG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgICBcIjBcIjogXCLnlLXlvbFcIixcbiAgICAgICAgICAgICAgICBcIjFcIjogXCLnlLXop4bliadcIixcbiAgICAgICAgICAgICAgICBcIjJcIjogXCLliqjmvKtcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICd0ZXh0XzEnLFxuICAgICAgICAgICAgdGlwczogJycsXG4gICAgICAgICAgICB2YWx1ZTogXCIwXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50cmllczoge1xuICAgICAgICAgICAgdGl0bGU6ICfljLrln58nLFxuICAgICAgICAgICAgc2VsZWN0OiBbXCJcIiwgXCLkuK3lm73lpKfpmYZcIiwgXCLkuK3lm73pppnmuK9cIiwgXCLkuK3lm73lj7Dmub5cIiwgXCLml6XmnKxcIiwgXCLpn6nlm71cIiwgXCLnvo7lm71cIl0sXG4gICAgICAgICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgICAgICAgdGlwczogJycsXG4gICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgfSxcbiAgICAgICAgeWVhcjoge1xuICAgICAgICAgICAgdGl0bGU6ICflubTku70nLFxuICAgICAgICAgICAgZGVzYzogJ+i+k+WFpeW5tOS7veavlOWmgjIwMjAsMjAyMScsXG4gICAgICAgICAgICB0eXBlOiAnaW5wdXQnLFxuICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHRpdGxlOiAn5o6S5bqPJyxcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICAgIFwiVFwiOiBcIuaMieeDreW6puaOkuW6j1wiLFxuICAgICAgICAgICAgICAgIFwiUlwiOiBcIuaMieaXtumXtOaOkuW6j1wiLFxuICAgICAgICAgICAgICAgIFwiU1wiOiBcIuaMieivhOWIhuaOkuW6j1wiLFxuICAgICAgICAgICAgICAgIFwiVVwiOiBcIuaMiei/keacn+eDremXqFwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGlwczogJ+m7mOiupOi/keacn+eDremXqCcsXG4gICAgICAgICAgICB0eXBlOiAndGV4dF8xJyxcbiAgICAgICAgICAgIHZhbHVlOiBcIlVcIixcbiAgICAgICAgfVxuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKGRib2JqKS5mb3JFYWNoKHggPT4ge1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3RmdW5jKHNlbGVjdHMsIGtleSwgb2JqKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSBcIuWFqOmDqFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0SXRlbShcImRiX1wiICsga2V5LCBpbnB1dCk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiBcImhpa2VyOi8vZW1wdHlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmoudHlwZSA9PSBcImlucHV0XCIpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RzLnVuc2hpZnQoaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRiID0gZ2V0SXRlbShcImRiX1wiICsga2V5LCBvYmoudmFsdWUpO1xuICAgICAgICAgICAgc2VsZWN0cyA9IHNlbGVjdHMubWFwKChpdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdC5zcGxpdChcIjpcIilbMV0gPT09IGRiID8gJ+Keoe+4jycgKyBpdCA6IGl0O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiAkKHNlbGVjdHMsIDEsIG9iai50aXBzKVxuICAgICAgICAgICAgICAgIC5zZWxlY3QoKGspID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKFwi4p6h77iPXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaW5jbHVkZXMoXCI6XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9IGlucHV0LnNwbGl0KFwiOlwiKVsxXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gXCLlhajpg6hcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxvZyhpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oXCJkYl9cIiArIGssIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknO1xuICAgICAgICAgICAgICAgIH0sIGtleSlcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGVmID0gZ2V0SXRlbShcImRiX1wiICsgeCwgZGJvYmpbeF0udmFsdWUpO1xuICAgICAgICAvL2xvZyhkZWYpXG4gICAgICAgIHZhciBzZWxlY3QgPSBbXTtcbiAgICAgICAgaWYgKGRib2JqW3hdLnNlbGVjdCkge1xuICAgICAgICAgICAgaWYgKGRib2JqW3hdLnNlbGVjdC5jb25zdHJ1Y3RvciA9PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3QgPSBPYmplY3QuZW50cmllcyhkYm9ialt4XS5zZWxlY3QpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB2YWx1ZSsnOicra2V5KTtcblxuICAgICAgICAgICAgICAgIGRlZiA9IGRib2JqW3hdLnNlbGVjdFtkZWZdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRib2JqW3hdLnNlbGVjdC5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdCA9IGRib2JqW3hdLnNlbGVjdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmID09IFwiXCIpIHtcbiAgICAgICAgICAgIGRlZiA9IFwi5YWo6YOoXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWYgPSBkZWY7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRpdGxlID0gZGJvYmpbeF0udGl0bGU7XG4gICAgICAgIGxldCB1cmwgPSBcImhpa2VyOi8vZW1wdHlcIjtcbiAgICAgICAgaWYgKGRib2JqW3hdLnR5cGUuaW5jbHVkZXMoXCJ0ZXh0XCIpKSB7XG4gICAgICAgICAgICB1cmwgPSAkKFwiI25vTG9hZGluZyNcIikubGF6eVJ1bGUoc2VsZWN0ZnVuYywgc2VsZWN0LCB4LCBkYm9ialt4XSk7XG4gICAgICAgICAgICB0aXRsZSA9IGRib2JqW3hdLnRpdGxlICsgJzonICsgZGVmO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkYm9ialt4XS50eXBlID09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgdXJsID0gJC50b1N0cmluZyhzZWxlY3RmdW5jLCBzZWxlY3QsIHgsIGRib2JqW3hdKTtcbiAgICAgICAgICAgIHRpdGxlID0gZGJvYmpbeF0udGl0bGU7XG4gICAgICAgIH1cblxuICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgZGVzYzogZGJvYmpbeF0uZGVzYyxcbiAgICAgICAgICAgIGNvbF90eXBlOiBkYm9ialt4XS50eXBlLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGRlZixcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLypkLnB1c2goe1xuICAgICAgICB0aXRsZTogJ+iuvue9ricsXG4gICAgICAgIGltZzogJ2h0dHBzOi8vaTIuMTAwMDI0Lnh5ei8yMDIzLzA0LzI2L3UwNHV4bi53ZWJwJyxcbiAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLFxuICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2Uvc2V0dGluZ1BhZ2U/cnVsZT3pnZLosYYnXG4gICAgfSkqL1xufSlcblxuXG5sZXQgZGJfZGljdCA9IHtcbiAgICBcImNvdW50cmllc1wiOiBnZXRJdGVtKFwiZGJfY291bnRyaWVzXCIsIFwiXCIpLFxuICAgIFwic29ydFwiOiBnZXRJdGVtKFwiZGJfc29ydFwiLCBcIlVcIiksXG4gICAgXCJ5ZWFyX3JhbmdlXCI6IGdldEl0ZW0oXCJkYl95ZWFyXCIsIFwiXCIpLFxufVxuXG5mdW5jdGlvbiBjb21wYXJlT2JqZWN0cyhvYmoxLCBvYmoyKSB7XG4gICAgdmFyIGtleXMxID0gT2JqZWN0LmtleXMob2JqMSkuc29ydCgpO1xuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpLnNvcnQoKTtcbiAgICB2YXIgaW5kZXggPSBrZXlzMS5pbmRleE9mKCd0aW1lJyk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgICBrZXlzMS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBpbmRleCA9IGtleXMyLmluZGV4T2YoJ3RpbWUnKTtcbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIGtleXMyLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGlmIChrZXlzMS5sZW5ndGggIT09IGtleXMyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5czEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMxW2ldO1xuICAgICAgICBpZiAob2JqMVtrZXldICE9PSBvYmoyW2tleV0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxubGV0IGRiX3R5cGVzID0gW1wibW92aWVcIiwgXCJ0dlwiLCBcInR2XCJdO1xubGV0IGRiX3RwID0gW1wi55S15b2xXCIsIFwi55S16KeG5YmnXCIsIFwi5Yqo5ryrXCJdO1xubGV0IG51bXM9WzAsMjAsNDAsNjAsODAsMTAwXTtcblxubGV0IERPVUJBTl9VUkwgPSAnaHR0cHM6Ly9tb3ZpZS5kb3ViYW4uY29tL2ovbmV3X3NlYXJjaF9zdWJqZWN0cz9yYW5nZT0wLDEwJnN0YXJ0PTAmdGFncz0nICsgZGJfdHBbZ2V0SXRlbShcImRiX3R5cGVcIiwgXCIwXCIpXSArICcmJyArIE9iamVjdC5rZXlzKGRiX2RpY3QpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4ga2V5ICsgXCI9XCIgKyBkYl9kaWN0W2tleV1cbn0pLmpvaW4oXCImXCIpO1xuXG4vL2xvZyhET1VCQU5fVVJMKVxuXG5kYl9kaWN0Wyd0YWdzJ10gPSBnZXRJdGVtKFwiZGJfdHlwZVwiLCBcIjBcIik7XG5kYl9kaWN0Wyd0aW1lJ10gPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgKyA4NjQwMDAwMCkudG9TdHJpbmcoKTtcblxubGV0IHBhdGhfZGF0YSA9IFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9cIiArIE1ZX1JVTEUudGl0bGUgKyBcImRkb3ViYW5fZGF0YS50eHRcIjtcbmxldCBwYXRoX2RhdGUgPSBcImhpa2VyOi8vZmlsZXMvY2FjaGUvXCIgKyBNWV9SVUxFLnRpdGxlICsgXCJkZG91YmFuX2RhdGUudHh0XCI7XG5sZXQgcmVzdWx0ID0gW107XG5sZXQgZGJfZGF0YSA9IHJlYWRGaWxlKHBhdGhfZGF0YSk7XG5sZXQgZGJfZGF0ZSA9IHJlYWRGaWxlKHBhdGhfZGF0ZSk7XG5pZiAoZGJfZGF0ZSAhPSBcIlwiKSB7XG4gICAgZGJfZGF0ZSA9IEpTT04ucGFyc2UoZGJfZGF0ZSlcbn1cbmxldCBub3dfZGF0ZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xubGV0IGRiX3JlID0gZmFsc2U7XG4vL2xvZyhub3dfZGF0ZT5kYl9kYXRlLnRpbWUpXG5pZiAobm93X2RhdGUgPiBkYl9kYXRlLnRpbWUpIHtcbiAgICBkYl9yZSA9IHRydWU7XG59XG5pZiAoIWNvbXBhcmVPYmplY3RzKGRiX2RpY3QsIGRiX2RhdGUpKSB7XG4gICAgZGJfcmUgPSB0cnVlO1xufVxuaWYgKGRiX2RhdGEgPT0gXCJcIiB8fCBkYl9yZSkge1xuICAgIC8vbG9nKCdkb3dubG9hZCcpXG4gICAgZGJfZGF0YSA9IGZldGNoKERPVUJBTl9VUkwpO1xuICAgIHdyaXRlRmlsZShwYXRoX2RhdGEsIGRiX2RhdGEpO1xuICAgIHdyaXRlRmlsZShwYXRoX2RhdGUsIEpTT04uc3RyaW5naWZ5KGRiX2RpY3QpKTtcbiAgICBkYl9kYXRhID0gSlNPTi5wYXJzZShkYl9kYXRhKTtcbn0gZWxzZSB7XG4gICAgZGJfZGF0YSA9IEpTT04ucGFyc2UoZGJfZGF0YSk7XG59XG5cblxuaWYgKGRiX2RhdGEuaGFzT3duUHJvcGVydHkoXCJkYXRhXCIpKSB7XG4gICAgcmVzdWx0ID0gZGJfZGF0YS5kYXRhLm1hcCh4ID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiB4LnRpdGxlLFxuICAgICAgICAgICAgaW1nOiB4LmNvdmVyLFxuICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL1NkZXRhaWwjbm9IaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSM/cnVsZT3pnZLosYYmaWQ9JyArIHguaWQgKyAnJnR5cGU9JyArIGRiX3R5cGVzW2RiX2RpY3RbXCJ0YWdzXCJdXSxcbiAgICAgICAgfVxuICAgIH0pXG59XG5pZiAocmVzdWx0Lmxlbmd0aCA9PSAwKSB7XG4gICAgZGJhcnIucHVzaCh7XG4gICAgICAgIHRpdGxlOiAn5b2T5YmN6YCJ5oup5peg57uT5p6cJyxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJyxcbiAgICAgICAgdXJsOiAkKFwiI25vTG9hZGluZyNcIikubGF6eVJ1bGUoKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJJdGVtKFwiZGJfdHlwZVwiKTtcbiAgICAgICAgICAgIGNsZWFySXRlbShcImRiX2NvdW50cmllc1wiKTtcbiAgICAgICAgICAgIGNsZWFySXRlbShcImRiX3llYXJcIik7XG4gICAgICAgICAgICBjbGVhckl0ZW0oXCJkYl9zb3J0XCIpO1xuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSc7XG4gICAgICAgIH0pXG4gICAgfSlcbn1cblxuci5zaG93KGRiYXJyLCByZXN1bHQsIHtcbiAgICB0aXRsZTogJ+mdkuixhicsXG4gICAgdXJsOiBcInt1cmx9XCIsXG4gICAgcGFyYW1zOntcbiAgICAgIHBhZ2VzOmZhbHNlXG4gICAgfSxcbiAgICBtYXJrOiBcIlwiLFxufSwge1xuICAgIHg1cGx1c1J1bGU6IHNldHBhZ2VcbiAgICAvL3g1dWk6ICdmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9Eb3dubG9hZC93ZWIvaGlrZXJ2aWV3L2dsb2JhbC9qcy94NXVpLmpzJyxcbiAgICAvL3g1ZjogXCJmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9Eb3dubG9hZC93ZWIvaGlrZXJ2aWV3L2dsb2JhbC9odG1sL1NsaWRlWC5odG1sXCIsXG59KVxuXG5kYmFycjsifV0sImZvbGRfc3RhdHVzIjpmYWxzZSwicGF0dGVybiI6M30seyJuYW1lIjoi6L2u5pKtIiwibWFyayI6Iua1t+aKpSIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6Iui9ruaSreWFg+e0oCIsImNvZGUiOiJsZXQgZCA9IFtdO1xucmMoJ2h0dHBzOi8vZ2l0bGFiLmNvbS9saXV6YW95dWUvbC8tL3Jhdy9tYWluLyVFOCVCRCVBRSVFNiU5MiVBRC5qcycsIDI0KTtcbmJhbm5lcihkLCBhcnIsIDMwMDAsICdzMScpIn1dLCJmb2xkX3N0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjN9LHsibmFtZSI6IuinhumikSIsIm1hcmsiOiLmtbfmiqUiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjIsIm5hbWUiOiLop4bpopHmtbfmiqUiLCJjb2RlIjoicHV0VmFyKCflsI/nqIvluo/lkI0nLCBNWV9SVUxFLnRpdGxlKTtcblxucHV0VmFyKE1ZX1JVTEUudGl0bGUgKyAn6KeG6aKR6auY5bqmJywgJzE2OCcpO1xucHV0VmFyKE1ZX1JVTEUudGl0bGUgKyAn6KeG6aKR5a695bqmJywgJzkzJScpO1xuLy/mnIDlpKcxMDAlXG5wdXRWYXIoTVlfUlVMRS50aXRsZSArIFwi6KeG6aKR5ZyG6KeSXCIsICcxNScpOy8vMOaYr+ebtOinklxudmFyIOacrOWcsCA9IGdldFBhdGgoJ2hpa2VyOi8vZmlsZXMveXVhbi92aWRlb0Nhcm91c2VsLmh0bWwnKTtcbmlmICghZmlsZUV4aXN0KOacrOWcsCkpIHtcbiAgICBjb25maXJtKHtcbiAgICAgICAgdGl0bGU6ICflr7zlhaUnLFxuICAgICAgICBjb250ZW50OiAn5qOA5rWL5Yiw5L2g5rKh5pyJ5pys5Zyw5paH5Lu277yM5piv5ZCm5a+85YWlJyxcbiAgICAgICAgY29uZmlybTogJC50b1N0cmluZygo5pys5ZywKSA9PiB7XG4gICAgICAgICAgICB3cml0ZUZpbGUo5pys5ZywLCBmZXRjaCgnaHR0cHM6Ly9naXRsYWIuY29tL2xpdXphb3l1ZS9sLy0vcmF3L21haW4vdmlkZW9DYXJvdXNlbC5odG1sJykpO1xuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICB9LCDmnKzlnLApLFxuICAgICAgICBjYW5jZWw6ICQudG9TdHJpbmcoKCkgPT4ge30pXG4gICAgfSk7XG59O1xuW3tcbiAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLFxuICAgICAgICAgICAgdXJsOiDmnKzlnLAsXG4gICAgICAgICAgICBkZXNjOiAnbGlzdCYmJyArIGdldFZhcihNWV9SVUxFLnRpdGxlICsgJ+inhumikemrmOW6picsICd2aWRlbycpLFxuICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSwgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlXG4gICAgICAgICAgfVxufV0ifV0sImZvbGRfc3RhdHVzIjpmYWxzZSwicGF0dGVybiI6M30seyJuYW1lIjoi5LiA6KiAIiwibWFyayI6IuS4gOiogCIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuS4gOiogF/ml6XljoYiLCJjb2RlIjoiZnVuY3Rpb24gemVybyhzKSB7XG4gICAgcmV0dXJuIHMgPCAxMCA/ICcwJyArIHMgOiBzO1xufTtcbmxldCBteWRhdGUgPSBuZXcgRGF0ZSgpO1xubGV0IHllYXIgPSBteWRhdGUuZ2V0RnVsbFllYXIoKTsgLy/lubRcbmxldCBtb250aCA9IG15ZGF0ZS5nZXRNb250aCgpICsgMTsgLy/mnIhcbmxldCBkYXRlID0gbXlkYXRlLmdldERhdGUoKTsgLy/ml6Vcbi8qbGV0IGhvdXIgPSBteWRhdGUuZ2V0SG91cnMoKTsvL+aXtlxubGV0IG1pbnV0ZSA9IG15ZGF0ZS5nZXRNaW51dGVzKCk7Ly/liIZcbmxldCBzZWNvbmQgPSBteWRhdGUuZ2V0U2Vjb25kcygpOy8v56eSKi9cbmxldCBkYXkgPSBuZXcgQXJyYXkoXCLmmJ/mnJ/ml6VcIiwgXCLmmJ/mnJ/kuIBcIiwgXCLmmJ/mnJ/kuoxcIiwgXCLmmJ/mnJ/kuIlcIiwgXCLmmJ/mnJ/lm5tcIiwgXCLmmJ/mnJ/kupRcIiwgXCLmmJ/mnJ/lha1cIilbbXlkYXRlLmdldERheSgpXTtcblxuLy/ml6XljoZcbnZhciBybCA9ICgnaGlrZXI6Ly9maWxlcy9KbS9maWxlL+aXpeWOhi5qcycpO1xudHJ5IHtcbiAgICB2YXIgY2RfZmlsZSA9ICQucmVxdWlyZShybCkuZGF0ZTtcbn0gY2F0Y2ggKGUpIHtcbiAgICBsZXQgaHRtbCA9IGZldGNoKCdodHRwczovL3Jhdy5naXRtaXJyb3IuY29tL2ptZW5nMTIzL2ZpbGVzL21haW4v5pel5Y6GLmpzJyk7XG4gICAgc2F2ZUZpbGUocmwsIGh0bWwpOyAgICBcbiAgICB2YXIgY2RfZmlsZSA9ICQucmVxdWlyZShybCkuZGF0ZTtcbn1cbmxldCBjZCA9IGNkX2ZpbGU7XG5sZXQg5pi+56S6ID0gZ2V0SXRlbSgndGl0bGUnLCAn5pel5Y6GJyk7XG5sZXQgZ2V0UmFuZG9tQ29sb3IgPSBmdW5jdGlvbigpIHvCoMKgwqBcbiAgICByZXR1cm4gJyMnICsgKCcwMDAwMCcgKyAoTWF0aC5yYW5kb20oKSAqIDB4MTAwMDAwMCA8PCAwKS50b1N0cmluZygxNikpLnNsaWNlKC02KTvCoMKgXG59wqDCoFxudmFyIOaXpeWOhiA9ICgn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9JyArIGdldFJhbmRvbUNvbG9yKCkgKyAnPuKPsO+4j1xcdCcgKyB5ZWFyICsgJ+W5tCcgKyB6ZXJvKG1vbnRoKSArICfmnIgnICsgemVybyhkYXRlKSArICfml6UgJyArIGNkICsgJyAgJyArIGRheSArICc8L2ZvbnQ+Jyk7XG5cbnRyeSB7XG4gICAgdmFyIGRpemhpID0gKCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKTtcbiAgICBpZiAoIWZpbGVFeGlzdChkaXpoaSkpIHtcbiAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicsICdbXCLnlo/lvbHmqKrmlpzmsLTmuIXmtYXvvIzmmpfpppnmta7liqjmnIjpu4TmmI/jgIJcIixcIuWSjOmjjue7huWKqOW4mOW4t+aalu+8jOa4hemcsuW+ruWHneaeleewn+WHieOAglwiLFwi5qKo6Iqx5ruh6Zmi6aOY6aaZ6Zuq77yM6auY5qW85aSc6Z2Z6aOO562d5ZK944CCXCIsXCLojbvoirHnp4vvvIzmvYfmuZjlpJzvvIzmqZjmtLLkvbPmma/lpoLlsY/nlLvjgIJcIixcIuaal+afs+iQp+iQp++8jOmjnuaYn+WGieWGie+8jOWknOS5heefpeeni+S/oeOAglwiLFwi57qi6KGj5YWl5qGo77yM6Z2S54Gv5pGH5rWq77yM5b6u5YeJ5oSP5oCd44CCXCJdJyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdldEl0ZW0oJ+S4gOiogCcsIGRpemhpKTtcbiAgICBpZiAodXJsID09PSBkaXpoaSkge1xuICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2godXJsKSk7XG4gICAgICAgIGxldCBtYXggPSBqc29uLmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaW4gPSAwO1xuICAgICAgICBsZXQgbnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcbiAgICAgICAgdmFyIERpc3BsYXkgPSBqc29uW251bV07XG4gICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IGdlc2hpID0gZ2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgdmFyIERpc3BsYXkgPSBnZXNoaSA9PSAnanNvbicgPyBKU09OLnBhcnNlKGZldGNoKHVybCwge1xuICAgICAgICAgICAgdGltZW91dDogMTAwMFxuICAgICAgICB9KSkuZGF0YS5jb250ZW50IDogZmV0Y2godXJsLCB7XG4gICAgICAgICAgICB0aW1lb3V0OiAxMDAwXG4gICAgICAgIH0pO1xuXG4gICAgfVxuICAgIHZhciDkuIDoqIAgPSAoJ+KAnOKAnOKAneKAnTxmb250IGNvbG9yPScgKyBnZXRSYW5kb21Db2xvcigpICsgJz7wn46AXFx0JyArIGdldEl0ZW0oJ3lpeWFuJywgRGlzcGxheSkgKyAnPC9mb250PicpO1xufSBjYXRjaCAoZSkge1xuICAgIHZhciDkuIDoqIAgPSAoJ+KAnOKAnOKAneKAnTxmb250IGNvbG9yPScgKyBnZXRSYW5kb21Db2xvcigpICsgJz7inZfvuI9cXHQnICsgZ2V0SXRlbSgneWl5YW4nLCAn6I635Y+W5pWw5o2u5aSx6LSl77yM6K+35Yi35paw6YeN6K+V5oiW5pu05o2i5o6l5Y+j44CCJykgKyAnPC9mb250PicpO1xufVxuXG52YXIgeXNfc3MgPSBnZXRJdGVtKCd5c19zcycsICcnKTtcblt7XG4gICAgdGl0bGU6IOaYvuekuiA9PSAn5pel5Y6GJyA/IOaXpeWOhiA6IOS4gOiogCxcbiAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgdXJsOiAnY29weTovLycgKyBEaXNwbGF5LFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSxcbiAgICAgICAgbG9uZ0NsaWNrOiBbe1xuICAgICAgICAgICAgdGl0bGU6ICfwn5Oy5pi+56S6OlxcdCcgKyAoZ2V0SXRlbSgndGl0bGUnLCAn5pel5Y6GJykgPT0gJ+aXpeWOhicgPyAn5pel5Y6GJyA6ICfkuIDoqIAnKSxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsIGdldEl0ZW0oJ3RpdGxlJywgJ+aXpeWOhicpID09ICfml6XljoYnID8gJ+S4gOiogCcgOiAn5pel5Y6GJyk7XG4gICAgICAgICAgICAgICAgY2xlYXJJdGVtKCfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvYXN0KCflt7LliIfmjaLoh7MnICsgKGdldEl0ZW0oJ3RpdGxlJywgJ+aXpeWOhicpID09ICfml6XljoYnID8gJ+aXpeWOhicgOiAn5LiA6KiAJykpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn8J+TneS4gOiogCcsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoWyfpgKDlkZcnLCAn5pys5ZywJywgJ+aOpeWPoycsICfor5for40nLCAn5oOF6K+dJywgJ+mqmuivnScsICflrovor40nLCAn6bih5rGkJywgJ+WPpOexjSddLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ID09ICfpgKDlkZcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgTCA9IGdldEl0ZW0oJ0wnLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChMLCAn5YaZ5LiA5Y+l6Ieq5bex5Zac5qyi55qE5Y+l5a2Q5ZCn44CCJykuaW5wdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnTCcsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd5aXlhbicsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouS4gOiogCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+aOpeWPoycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKFsndGV4dOagvOW8jycsICdqc29u5qC85byPJ10sIDIsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAndGV4dOagvOW8jycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFQgPSBnZXRJdGVtKCdUJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJChULCAn5oOz5pu05o2i55qE5LiA6KiA5o6l5Y+j5Zyw5Z2AXFxudGV4dOaWh+Wtl+agvOW8j+OAglxcblxcbuazqOaEj++8muWmgumBh+S4u+mhteWKoOi9veWNoemhv++8jOivt+abtOaNouS4gOiogOaOpeWPo++8jOaIluiAheaBouWkjem7mOiupO+8jOaIluiAheiHquW3seadpeS4gOWPpe+8jOWGjeiAheWIh+aNouaXpeWOhuaYvuekuuOAgicpLmlucHV0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdUJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgaW5wdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmoLzlvI8nLCAndHh0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5pu05o2i5LiA6KiAJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ2pzb27moLzlvI8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBKID0gZ2V0SXRlbSgnSicsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoSiwgJ+aDs+abtOaNoueahOS4gOiogOaOpeWPo+WcsOWdgFxcbumAgueUqOS6jmpzb27mlbDmja7kuLpkYXRhLmNvbnRlbnRcXG5cXG7ms6jmhI/vvJrlpoLpgYfkuLvpobXliqDovb3ljaHpob/vvIzor7fmm7TmjaLkuIDoqIDmjqXlj6PvvIzmiJbogIXmgaLlpI3pu5jorqTvvIzmiJbogIXoh6rlt7HmnaXkuIDlj6XvvIzlho3ogIXliIfmjaLml6XljobmmL7npLrjgIInKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+S4jeiDveS4uuepulwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnSicsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsIGlucHV0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCfmoLzlvI8nLCAnanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNouS4gOiogCdcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+ivl+ivjScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsICdodHRwczovL3YyLmppbnJpc2hpY2kuY29tL29uZS5qc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+agvOW8jycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5LiA6KiA5Y+k6K+X6K+NJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfmg4Xor50nKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vYXBpLnZ2aGFuLmNvbS9hcGkvdGV4dC9sb3ZlP3R5cGU9anNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouS4gOiogOaDheivnSdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn6aqa6K+dJykge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsICdodHRwczovL2FwaS52dmhhbi5jb20vYXBpL3RleHQvc2V4eT90eXBlPWpzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5qC85byPJywgJ2pzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaLkuIDoqIDpqpror50nXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+Wui+ivjScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsICdodHRwczovL2FwaS5xcXN1dS5jbi9hcGkvZG0tem1zYycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgndGl0bGUnLCAn5LiA6KiAJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfmoLzlvI8nLCAnanNvbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouS4gOiogOacgOe+juWui+ivjSdcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn6bih5rGkJykge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsICdodHRwczovL2FwaS5xcXN1dS5jbi9hcGkvZG0tZGp0YW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+agvOW8jycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5LiA6KiA5q+S6bih5rGkJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICflj6TnsY0nKSB7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5LiA6KiAJywgJ2h0dHBzOi8vYXBpLnFxc3V1LmNuL2FwaS9kbS1nam1qJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aXRsZScsICfkuIDoqIAnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+agvOW8jycsICdqc29uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ3lpeWFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i5LiA6KiA5Y+k57GN5ZCN5Y+lJ1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+S4gOiogCcsICdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3RpdGxlJywgJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJJdGVtKCd5aXlhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouacrOWcsOmaj+acuuS4gOiogCdcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ/CflLDnrqHnkIYnLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmnKzlnLDkuIDoqIDnrqHnkIYnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4p6VJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfor7fovpPlhaXlj6XlrZDvvIzlpJrkuKror7fmjaLooYzpmpTlvIDjgIJcXG4o5Y+l5a2Q5pyr5bC+5Li65Y+l5Y+344CC5Lit6Iux5paH6Zeu5Y+377yfP+S8muiHquWKqOa3u+WKoOaNouihjOespiknLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiAndG9hc3Q6Ly/ovpPlhaXkuLrnqbonO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0eHQgPSBpbnB1dC5yZXBsYWNlKC/jgIJ877yffFxcPy9nLCBcIuOAglxcblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRfbmFtZSA9IHR4dC5zcGxpdCgvXFxuP1xcbi8pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBpbnB1dF9uYW1lLmZpbHRlcihwYXJ0ID0+IHBhcnQudHJpbSgpLmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5aXlhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpeWFuID0geWl5YW4uY29uY2F0KG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nLCBKU09OLnN0cmluZ2lmeSh5aXlhbikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+a3u+WKoOaIkOWKn35cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KclO+4j+aTjeS9nOWujOeCueaIkScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlpeWFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHlpeWFuLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmRleCArICcuJyArIGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChbJ+e8lui+kScsICfnp7vkvY0nLCAn5Yig6ZmkJ10sIDMsICfor7fpgInmi6nmk43kvZwnKS5zZWxlY3QoKGluZGV4LCBpdGVtKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoaXRlbSwgJ+ivt+i+k+WFpeaDs+abtOaNoueahOWPpeWtkCcpLmlucHV0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5aXlhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzaG93ID0gaW5wdXQuc3BsaXQoJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpeWFuW2luZGV4XSA9IHNob3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicsIEpTT04uc3RyaW5naWZ5KHlpeWFuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mm7TmlLnmiJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnp7vkvY0nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+ivt+i+k+WFpeimgeenu+WKqOWIsOWTquS4quW6j+WPt+WJjemdoicpLmlucHV0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5aXlhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS95aXlhbi5qc29uJykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0geWl5YW5baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpeWFuLnNwbGljZShpbnB1dCwgMCwgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0IDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWl5YW4uc3BsaWNlKGluZGV4ICsgMSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeWl5YW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicsIEpTT04uc3RyaW5naWZ5KHlpeWFuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/np7vkvY3miJDlip9+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHlpeWFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aXlhbi5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veWl5YW4uanNvbicsIEpTT04uc3RyaW5naWZ5KHlpeWFuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCwgaXRlbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn4pm777iP6YeN572uJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ+S4gOiogCcpO1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgneWl5YW4nKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ0wnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ1QnKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ0onKTtcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ+agvOW8jycpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBkZWxldGVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3lpeWFuLmpzb24nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5oGi5aSN6buY6K6kJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfV0sXG4gICAgfVxufV0ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuWIhuWJsue6vyIsInRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoibGluZV9ibGFuayJ9XSwiZm9sZF9zdGF0dXMiOnRydWUsInBhdHRlcm4iOjN9LHsibmFtZSI6IuaQnOe0oiIsIm1hcmsiOiIiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLljoblj7LorrDlvZUiLCJ0aXRsZSI6IuWOhuWPsiIsInVybCI6Imhpa2VyOi8vaGlzdG9yeSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNS5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfc21hbGxfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5oiR55qE5Lmm562+IiwidGl0bGUiOiLkuabnrb4iLCJ1cmwiOiJoaWtlcjovL2Jvb2ttYXJrIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNi5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfc21hbGxfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5oiR55qE5LiL6L29IiwidGl0bGUiOiLkuIvovb0iLCJ1cmwiOiJoaWtlcjovL2Rvd25sb2FkIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zNS5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfc21hbGxfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5Li76aG16K6+572uIiwidGl0bGUiOiLorr7nva4iLCJ1cmwiOiJAanM6bGV0IHRpdGxlPVt7dGl0bGU6XCLkuLvpobXorr7nva5cIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzQ3LnBuZ1wiLHVybDpgJHtzZXR0aW5nfWB9LHt0aXRsZTpcIuabtOWkmuiuvue9rlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNDQucG5nXCIsdXJsOlwiaGlrZXI6Ly9zZXR0aW5nTW9yZVwifSx7dGl0bGU6XCLmlofku7bnrqHnkIZcIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzM3LnBuZ1wiLHVybDpcImhpa2VyOi8vZXhwbG9yZVwifSx7dGl0bGU6XCLpgZPplb/ku5PlupNcIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE4Mi5wbmdcIix1cmw6XCJoaWtlcjovL2hvbWVA6YGT6ZW/5LuT5bqTUHJvXCJ9LHt0aXRsZTpcIui1hOa6kOeuoeeQhlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzYucG5nXCIsdXJsOlwiaGlrZXI6Ly9ob21lQOacrOWcsOi1hOa6kOeuoeeQhlwifSx7dGl0bGU6XCLlpYflppnlt6XlhbdcIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI3LnBuZ1wiLHVybDpcImhpa2VyOi8vdG9vbHNcIn0se3RpdGxlOlwi5omL5Yqo5aSH5Lu9XCIsaWNvbjpcImhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yNzkucG5nXCIsdXJsOlwiaGlrZXI6Ly93ZWJkYXZcIn0se3RpdGxlOlwi572R5Z2A6L+H5rukXCIsaWNvbjpcImhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yOTQucG5nXCIsdXJsOlwiaGlrZXI6Ly9hZFVybFwifSx7dGl0bGU6XCLnvZHpobXmj5Lku7ZcIixpY29uOlwiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI4NC5wbmdcIix1cmw6XCJoaWtlcjovL2pzXCJ9LHt0aXRsZTpcIuWFg+e0oOaLpuaIqlwiLGljb246XCJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzI1LnBuZ1wiLHVybDpcImhpa2VyOi8vYWRSdWxlXCJ9XTskKHRpdGxlLDIsXCLmm7TlpJrlip/og71cIikuc2VsZWN0KCh0aXRsZSk9PntsZXQgaT10aXRsZS5maW5kSW5kZXgodD0+dC50aXRsZT09aW5wdXQpO2xldCB1cmw9dGl0bGVbaV0udXJsO3JldHVybiB1cmx9LHRpdGxlKSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNDQucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kX3NtYWxsXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuiHquWumuS5iV/mkJzntKIiLCJjb2RlIjoibGV0IHNvID0gW107XG5pZiAoIWZpbGVFeGlzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKSB7XG4gICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nLCAnW3tcIm5hbWVcIjpcIueZvuW6plwiLFwidXJsXCI6XCJodHRwczovL20uYmFpZHUuY29tL3M/d29yZD1cIn0se1wibmFtZVwiOlwi546p5YG2XCIsXCJ1cmxcIjpcImhpa2VyOi8vc2VhcmNoP3J1bGU9546p5YG25ZOl5ZOlJnM9XCJ9LHtcIm5hbWVcIjpcIuiBmuW9sVwiLFwidXJsXCI6XCJoaWtlcjovL3NlYXJjaD9ydWxlPeiBmuW9sSZzPVwifSx7XCJuYW1lXCI6XCLlvbHop4ZcIixcInVybFwiOlwiaGlrZXI6Ly9zZWFyY2g/c2ltcGxlPWZhbHNlJnJ1bGU95Lq65Lq66KeG6aKRQVBQJnM9XCJ9LHtcIm5hbWVcIjpcIuefreWJp1wiLFwidXJsXCI6XCJoaWtlcjovL3NlYXJjaD9zaW1wbGU9ZmFsc2UmcnVsZT3msrPpqazliaflnLpBUFAmcz1cIn0se1wibmFtZVwiOlwi6Z+z5LmQXCIsXCJ1cmxcIjpcImhpa2VyOi8vc2VhcmNoP3NpbXBsZT1mYWxzZSZydWxlPeatjOivjemAgumFjSZzPVwifSx7XCJuYW1lXCI6XCLku5PlupNcIixcInVybFwiOlwiaGlrZXI6Ly9zZWFyY2g/cnVsZT3pgZPplb/ku5PlupNQcm8mcz1cIn0se1wibmFtZVwiOlwi5pCc54uXXCIsXCJ1cmxcIjpcImh0dHBzOi8vbS5zb2dvdS5jb20vd2ViL3NlYXJjaExpc3QuanNwP3NfZnJvbT1wY3NlYXJjaCZrZXl3b3JkPVwifSx7XCJuYW1lXCI6XCIzNjBcIixcInVybFwiOlwiaHR0cHM6Ly9tLnNvLmNvbS9zP2llPXV0Zi04JmZyPW5vbmUmc3NpZD0mcT1cIn0se1wibmFtZVwiOlwi5b+F5bqUXCIsXCJ1cmxcIjpcImh0dHBzOi8vY24uYmluZy5jb20vc2VhcmNoP3E9XCJ9LHtcIm5hbWVcIjpcIuWkuOWFi1wiLFwidXJsXCI6XCJodHRwczovL3F1YXJrLnNtLmNuL3M/cT1cIn1dJyk7XG59XG5cbnZhciBzZWFyY2hfdXJsID0gZ2V0SXRlbSgnc2VhcmNoX3VybCcsICdodHRwczovL20uYmFpZHUuY29tL3M/d29yZD0nKTtcbmxldCBzZWFyY2hfaW5wdXQgPSBnZXRJdGVtKCdzZWFyY2hfaW5wdXQnLCAnJyk7XG5sZXQgc2VhcmNoX2NvbG9yID0gZ2V0SXRlbSgnc2VhcmNoX2NvbG9yJywgJ+eZvuW6picpO1xudmFyIHNlYXJjaF9saXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJykpO1xuc28ucHVzaCh7XG4gICAgdGl0bGU6ICfmkJzntKInLFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxuICAgIGRlc2M6ICfovpPlhaXkvaDmg7PmkJzntKLnmoQnLFxuICAgIHVybDogJC50b1N0cmluZygoc2VhcmNoX3VybCkgPT4ge1xuICAgICAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgICAgICBzdGFydFFSU2NhblBhZ2UoKTtcbiAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldEl0ZW0oJ3NlYXJjaF9pbnB1dCcsIGlucHV0KTtcbiAgICAgICAgICAgIHZhciB1cmwgPSBzZWFyY2hfdXJsICsgaW5wdXQ7XG4gICAgICAgICAgICByZXR1cm4gdXJsXG4gICAgICAgIH1cbiAgICB9LCBzZWFyY2hfdXJsKSxcbiAgICBleHRyYToge1xuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldEl0ZW0oJ3NlYXJjaF9pbnB1dCcsICcnKSxcbiAgICAgICAgb25DaGFuZ2U6ICdzZXRJdGVtKFwic2VhcmNoX2lucHV0XCIsaW5wdXQpJ1xuICAgIH1cbn0pO1xuc28ucHVzaCh7XG4gICAgdGl0bGU6ICfwn5GJJyxcbiAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxuICAgIHVybDogXCJzZWxlY3Q6Ly9cIiArIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgXCLnrqHnkIZcIixcbiAgICAgICAgICAgIFwi6YeN572uXCJcbiAgICAgICAgXSxcbiAgICAgICAgYXR0YWNoVmlldzogdHJ1ZSxcbiAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlucHV0ID09IFwi566h55CGXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5pCc57Si566h55CGJyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107XG4gICAgICAgICAgICAgICAgICAgIGQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ekuuS+izog55m+5bqmQGh0dHBzOi8vbS5iYWlkdS5jb20vcz93b3JkPScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8v5ZCN56ewQOaQnOe0oumTvuaOpScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KelScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5ZCN56ewQOaQnOe0oumTvuaOpScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuICd0b2FzdDovL+i+k+WFpeS4uuepuic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBpbnB1dC5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaF9uYW1lID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBuYW1lWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IG5hbWVbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2ggPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoID0gc2VhcmNoLmNvbmNhdChzZWFyY2hfbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nLCBKU09OLnN0cmluZ2lmeShzZWFyY2gpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/mt7vliqDmiJDlip9+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfinJTvuI/mk43kvZzlrozngrnmiJEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFjayh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgc2VhcmNoLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBpbmRleCArICcuJyArIGl0ZW0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogaXRlbS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpdGVtLnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoWyfnvJbovpEnLCAn56e75L2NJywgJ+WIoOmZpCddLCAzLCAn6K+36YCJ5oup5pON5L2cJykuc2VsZWN0KChpbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+e8lui+kScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGl0ZW0ubmFtZSArICdAJyArIGl0ZW0udXJsLCAn5ZCN56ewQOaQnOe0oumTvuaOpScpLmlucHV0KChpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2ggPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNob3cgPSBpbnB1dC5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaFtpbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHNob3dbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogc2hvd1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nLCBKU09OLnN0cmluZ2lmeShzZWFyY2gpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+abtOaUueaIkOWKn34nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+enu+S9jScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCcnLCAn6K+36L6T5YWl6KaB56e75Yqo5Yiw5ZOq5Liq5bqP5Y+35YmN6Z2iJykuaW5wdXQoKGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNlYXJjaCA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcCA9IHNlYXJjaFtpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLnNwbGljZShpbnB1dCwgMCwgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0IDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoLnNwbGljZShpbmRleCArIDEsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaC5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicsIEpTT04uc3RyaW5naWZ5KHNlYXJjaCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v56e75L2N5oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWFyY2ggPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vc2VhcmNoLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2guc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3NlYXJjaC5qc29uJywgSlNPTi5zdHJpbmdpZnkoc2VhcmNoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCwgaXRlbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9zZWFyY2guanNvbicpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5oGi5aSN6buY6K6kJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pLFxufSk7XG5zZWFyY2hfbGlzdC5tYXAocyA9PiB7XG4gICAgc28ucHVzaCh7XG4gICAgICAgIHRpdGxlOiBzZWFyY2hfY29sb3IgPT0gcy5uYW1lID8gJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSNmZDI2OGE+JyArIHMubmFtZSArICc8L2ZvbnQ+JyA6IHMubmFtZSxcbiAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcbiAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChzKSA9PiB7XG4gICAgICAgICAgICBzZXRJdGVtKCdzZWFyY2hfdXJsJywgcy51cmwpO1xuICAgICAgICAgICAgc2V0SXRlbSgnc2VhcmNoX2NvbG9yJywgcy5uYW1lKVxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5J1xuICAgICAgICB9LCBzKSxcbiAgICB9KTtcbn0pO1xuc28ifV0sImZvbGRfc3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLmlLbol48iLCJtYXJrIjoi5bCP5rW35oqlIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5oiR55qE5pS26JePIiwidGl0bGUiOiIiLCJ1cmwiOiJoaWtlcjovL2NvbGxlY3Rpb24iLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS92aW51YS92S2tRYi5qcGVnIiwiZGVzYyI6IkBqczon5pS26JePKCcrY29sbGVjdGlvbi5sZW5ndGgrJyknIiwidHlwZSI6Im1vdmllXzIifSx7InN0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjAsIm5hbWUiOiLmiJHnmoTlsI/nqIvluo8iLCJ0aXRsZSI6IiIsInVybCI6Imhpa2VyOi8vaG9tZSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL3ZpbnVhL3ZLWTk4LmpwZWciLCJkZXNjIjoiQGpzOifnqIvluo8oJytnZXRSdWxlQ291bnQoKSsnKSciLCJ0eXBlIjoibW92aWVfMiJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5oiR55qE5bCP56iL5bqP5by556qX5YiG57uE5bim5Zu+5qCHIiwidGl0bGUiOiIiLCJ1cmwiOiJAanM6IHZhciBodG1sID0gSlNPTi5wYXJzZShyZXF1ZXN0KFwiaGlrZXI6Ly9ob21lXCIpKTsgdmFyIGdyb3VwbGlzdCA9IFtdOyB2YXIgYXBwbGV0bGlzdCA9IFtdOyBmb3IgKGkgPSAwOyBpIDwgaHRtbC5sZW5ndGg7IGkrKykgeyAgICAgZ3JvdXBsaXN0LnB1c2goaHRtbFtpXS5ncm91cCk7IH0gZ3JvdXBsaXN0ID0gQXJyYXkuZnJvbShuZXcgU2V0KGdyb3VwbGlzdCkpOyBmb3IgKGkgPSAwOyBpIDwgZ3JvdXBsaXN0Lmxlbmd0aDsgaSsrKSB7ICAgICBncm91cG5hbWUgPSBncm91cGxpc3RbaV07ICAgICBhcHBsZXRsaXN0W2ldID0gW107ICAgICBodG1sLmZvckVhY2goZWxlbWVudCA9PiB7ICAgICAgICAgaWYgKGVsZW1lbnQuZ3JvdXAgPT0gZ3JvdXBuYW1lKSB7ICAgICAgICAgICAgIGFwcGxldGxpc3RbaV0ucHVzaCh7ICAgICAgICAgICAgICAgICAndGl0bGUnOiBlbGVtZW50LnRpdGxlLCAgICAgICAgICAgICAgICAgJ2ljb24nOiBlbGVtZW50Lmljb24gICAgICAgICAgICAgfSk7ICAgICAgICAgfSAgICAgfSk7ICAgICB2YXIgYXBwbGlzdCA9IGFwcGxldGxpc3RbaV07ICAgICB1cmwgPSAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChhcHBsaXN0KSA9PiB7ICAgICAgICAgcmV0dXJuICQoYXBwbGlzdCwgMiwgJ+mAieaLqeWwj+eoi+W6jycpLnNlbGVjdCgoKSA9PiB7ICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9ob21lQCcgKyBpbnB1dCAgICAgICAgIH0pICAgICB9LCBhcHBsaXN0KTsgICAgIGdyb3VwbGlzdFtpXSA9IHsgICAgICAgICAnbmFtZSc6IGdyb3VwbmFtZSwgICAgICAgICAndXJsJzogdXJsLCAgICAgfTsgfSB2YXIgbGlzdCA9IGdyb3VwbGlzdC5tYXAoZ3JvdXAgPT4gZ3JvdXAubmFtZSk7ICQobGlzdCwgMywgJ+mAieaLqeWIhue7hCcpLnNlbGVjdCgoZ3JvdXBsaXN0KSA9PiB7ICAgICBsZXQgZnogPSBncm91cGxpc3QuZmluZEluZGV4KGdyb3VwID0+IGdyb3VwLm5hbWUgPT0gaW5wdXQpOyAgICAgcmV0dXJuIGdyb3VwbGlzdFtmel0udXJsOyB9LCBncm91cGxpc3QpIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vdmludWEvdktZOTguanBlZyIsImRlc2MiOiJAanM6J+eoi+W6jygnK2dldFJ1bGVDb3VudCgpKycpJyIsInR5cGUiOiJtb3ZpZV8yIn0seyJzdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5oiR55qE5bCP56iL5bqP5YWo6YOoIiwidGl0bGUiOiIiLCJ1cmwiOiJAanM6IHZhciBodG1sID0gSlNPTi5wYXJzZShyZXF1ZXN0KFwiaGlrZXI6Ly9ob21lXCIpKTsgdmFyIGFwcGxldGxpc3QgPSBbXTsgaHRtbC5mb3JFYWNoKGVsZW1lbnQgPT4geyAgICAgYXBwbGV0bGlzdC5wdXNoKHsgICAgICAgICAndGl0bGUnOiBlbGVtZW50LnRpdGxlLCAgICAgICAgICdpY29uJzogZWxlbWVudC5pY29uICAgICB9KTsgfSk7IHZhciBhcHBsaXN0ID0gYXBwbGV0bGlzdDsgdXJsID0gJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoYXBwbGlzdCkgPT4geyAgICAgcmV0dXJuICQoYXBwbGlzdCwgMywgJ+aIkeeahOWwj+eoi+W6jyjlhajpg6gpJykuc2VsZWN0KCgpID0+IHsgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vaG9tZUAnICsgaW5wdXQgICAgIH0pIH0sIGFwcGxpc3QpOyIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL3ZpbnVhL3ZLWTk4LmpwZWciLCJkZXNjIjoiQGpzOifnqIvluo8oJytnZXRSdWxlQ291bnQoKSsnKSciLCJ0eXBlIjoibW92aWVfMiJ9XSwiZm9sZF9zdGF0dXMiOnRydWUsInBhdHRlcm4iOjN9LHsibmFtZSI6IuWbm+agh+mimCIsIm1hcmsiOiIiLCJsaXN0IjpbeyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmnIDov5EiLCJ0aXRsZSI6IuacgOi/kSIsInVybCI6IkBqczogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICB2YXIgcnVsZXMgPSBnZXRMYXN0UnVsZXMoMTYpLm1hcChyID0+IHsgICAgICAgICByZXR1cm4geyAgICAgICAgICAgICB0aXRsZTogci50aXRsZSwgICAgICAgICAgICAgaWNvbjogci5pY29uICAgICAgICAgfTsgICAgICAgICB9KTsgICAgIHJldHVybiAkKHJ1bGVzLCAyLCAn5pyA6L+R5L2/55SoJykuc2VsZWN0KCgpID0+IHsgICAgICAgICByZXR1cm4gXCJoaWtlcjovL2hvbWVAXCIgKyBpbnB1dCAgICAgfSkgfSkiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuW4uOeUqCIsImNvZGUiOiJpZiAoIWZpbGVFeGlzdCgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nKSkge1xuICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicsICdbe1widGl0bGVcIjpcIumVv+aMieW4uOeUqOa3u+WKoFwiLFwiaWNvblwiOlwiaGlrZXI6Ly9pbWFnZXMvaG9tZV9iZ1wifV0nKTtcbn1cbmxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcblt7XG4gICAgdGl0bGU6ICfluLjnlKgnLFxuICAgIGNvbF90eXBlOiAndGV4dF80JyxcbiAgICB1cmw6ICQocHJvZ3JhbSwgMiwgJ+W4uOeUqOWwj+eoi+W6jycpLnNlbGVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpbnB1dCA9PSAn6ZW/5oyJ5bi455So5re75YqgJykge1xuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mVv+aMieW4uOeUqOeuoeeQhua3u+WKoCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9ob21lQCcgKyBpbnB1dDtcbiAgICAgICAgfVxuICAgIH0pLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGxvbmdDbGljazogW3tcbiAgICAgICAgICAgIHRpdGxlOiAn8J+VuSDluLjnlKjlsI/nqIvluo/nrqHnkIYnLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/nqIvluo/nrqHnkIYnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn56S65L6LOiDogZrlvbFAaHR0cHM6Ly9hcGkueGluYWMubmV0L2ljb24vP3VybD1odHRwczovL2dpdGh1Yi5jb20nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL+iBmuW9sUBodHRwczovL2FwaS54aW5hYy5uZXQvaWNvbi8/dXJsPWh0dHBzOi8vZ2l0aHViLmNvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KelScsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn56iL5bqP5ZCN56ewQOWbvueJh+mTvuaOpScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuICd0b2FzdDovL+i+k+WFpeS4uuepuic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBpbnB1dC5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtX25hbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBuYW1lWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBuYW1lWzFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3JhbSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbSA9IHByb2dyYW0uY29uY2F0KHByb2dyYW1fbmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJywgSlNPTi5zdHJpbmdpZnkocHJvZ3JhbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0b2FzdDovL+a3u+WKoOaIkOWKn35cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dGFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CfkYkg5LuO5pyA6L+R5re75YqgJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJ1bGVzID0gZ2V0TGFzdFJ1bGVzKDUwKS5tYXAociA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogci50aXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IHIuaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQocnVsZXMsIDIsICfngrnlh7vmt7vliqAnKS5zZWxlY3QoKHJ1bGVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gcnVsZXMuZmluZEluZGV4KHIgPT4gci50aXRsZSA9PSBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiID0gcnVsZXNbYV0uaWNvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbSA9IHByb2dyYW0uY29uY2F0KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nLCBKU09OLnN0cmluZ2lmeShwcm9ncmFtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidG9hc3Q6Ly/mt7vliqDmiJDlip9+XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcnVsZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfinJTvuI/mk43kvZzlrozngrnmiJEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JpZ19ibGFua19ibG9jaycsXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZScsXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JsYW5rX2Jsb2NrJyxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwcm9ncmFtID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaW5kZXggKyAnLicgKyBpdGVtLnRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl8yX3JvdW5kJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGl0ZW0uaWNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoWyfnvJbovpEnLCAn56e75L2NJywgJ+WIoOmZpCddLCAzLCAn6K+36YCJ5oup5pON5L2cJykuc2VsZWN0KChpbmRleCwgaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+e8lui+kScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGl0ZW0udGl0bGUgKyAnQCcgKyBpdGVtLmljb24sICfor7fovpPlhaXmg7Pmm7TmjaLnmoTlsI/nqIvluo/lkI0nKS5pbnB1dCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3JhbSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNob3cgPSBpbnB1dC5zcGxpdCgnQCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyYW1baW5kZXhdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogc2hvd1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogc2hvd1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0vcHJvZ3JhbS5qc29uJywgSlNPTi5zdHJpbmdpZnkocHJvZ3JhbSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5pu05pS55oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn56e75L2NJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfor7fovpPlhaXopoHnp7vliqjliLDlk6rkuKrluo/lj7fliY3pnaInKS5pbnB1dCgoaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3JhbSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXAgPSBwcm9ncmFtW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNwbGljZShpbnB1dCwgMCwgdGVtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0IDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3JhbS5zcGxpY2UoaW5kZXggKyAxLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3Byb2dyYW0uanNvbicsIEpTT04uc3RyaW5naWZ5KHByb2dyYW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+enu+S9jeaIkOWKn34nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgcHJvZ3JhbSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmFtLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9wcm9ncmFtLmpzb24nLCBKU09OLnN0cmluZ2lmeShwcm9ncmFtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5Yqffic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCwgaXRlbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7XG4gICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgfSlcbiAgICAgICAgfV0sXG4gICAgfVxufV0ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuaXpeW4uCIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsnIOKAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+5pel5bi4PC9mb250PicsJ+aXpeW4uCddXCIsXCI8VGFiPkBbJ+aXpeW4uOS5puetvue7hCddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfml6XluLjkuabnrb7nu4QnLCflvIDlhbMnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5aix5LmQIiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWycg4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9IzJlYjdmZT7lqLHkuZA8L2ZvbnQ+Jywn5aix5LmQJ11cIixcIjxUYWI+QFsn5aix5LmQ5Lmm562+57uEJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+WoseS5kOS5puetvue7hCcsJ+W8gOWFsyddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In1dLCJmb2xkX3N0YXR1cyI6dHJ1ZSwicGF0dGVybiI6M30seyJuYW1lIjoi5pel5bi45Lmm562+57uEIiwibWFyayI6IuW8gOWFsyIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IumbheWQrCIsInRpdGxlIjoi6ZuF5ZCsIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJycpOyAgICAgbGV0IGQgPSBbXTsgICAgIGQucHVzaCh7ICAgICAgICAgdGl0bGU6ICfllpzpqazmi4npm4UnLCAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICBwaWM6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjU4LnBuZycsICAgICAgICAgZGVzYzogJ+euoeeQhicsICAgICAgICAgdXJsOiBcInNlbGVjdDovL1wiICsgSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICBvcHRpb25zOiBbXCLnrqHnkIZcIiwgXCLpu5jorqRcIl0sICAgICAgICAgICAgIGF0dGFjaFZpZXc6IHRydWUsICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn566h55CGJykgeyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmlbDmja7nrqHnkIYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5re75YqgJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+WQjeensEBpZEDlm77niYfpk77mjqVA5Li75pKt5ZCN56ewJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fmoLnmja7mj5DnpLrovpPlhaXlhoXlrrlcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeG1seSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seSA9IHhtbHkuY29uY2F0KGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nLCBKU09OLnN0cmluZ2lmeSh4bWx5KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mt7vliqDmiJDlip8nICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDIgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4bWx5ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDsgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4bWx5Lmxlbmd0aDsgaSsrKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHhtbHlbaV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbGlzdCA9IGl0ZW0uc3BsaXQoJ0AnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGluZGV4ICsgJy4nICsgbGlzdFswXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzMnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogbGlzdFsyXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoWyfnvJbovpEnLCAn56e75L2NJywgJ+WIoOmZpCddLCAzLCAn6K+36YCJ5oup5pON5L2cJykuc2VsZWN0KChpbmRleCwgaXRlbSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+e8lui+kScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGl0ZW0sICfmg7PopoHmm7TmjaLnmoTlhoXlrrlcXG7lkI3np7AtaWQt5Zu+54mH6ZO+5o6lLeS4u+aSreWQjeensCcpLmlucHV0KChpbmRleCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB4bWx5ID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5W2luZGV4XSA9IGlucHV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL3htbHkuanNvbicsIEpTT04uc3RyaW5naWZ5KHhtbHkpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+abtOaUueaIkOWKn34nICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn56e75L2NJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfopoHnp7vliqjliLDlk6rkuKrluo/lj7fliY3pnaIv5ZCO6Z2iJykuaW5wdXQoKGluZGV4KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHhtbHkgPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0geG1seVtpbmRleF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seS5zcGxpY2UoaW5wdXQsIDAsIHRlbXApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA8IGluZGV4KSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbHkuc3BsaWNlKGluZGV4ICsgMSwgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seS5zcGxpY2UoaW5kZXgsIDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nLCBKU09OLnN0cmluZ2lmeSh4bWx5KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/np7vkvY3miJDlip9+JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgeG1seSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4bWx5LnNwbGljZShpbmRleCwgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nLCBKU09OLnN0cmluZ2lmeSh4bWx5KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5YqfficgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4LCBpdGVtKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXgrKzsgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgZGVsZXRlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKTsgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suaBouWkjem7mOiupCcgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSkgICAgICAgICB9KSwgICAgIH0pOyAgICAgZC5wdXNoKHsgICAgICAgICB0aXRsZTogJ+aQnOe0oicsICAgICAgICAgZGVzYzogJ+i+k+WFpeS9oOaDs+aQnOe0oueahCcsICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlhbPplK7or41cIjsgICAgICAgICAgICAgdmFyIHR4dCA9IGlucHV0OyAgICAgICAgICAgICBzZXRJdGVtKCfpm4XlkKwnLCB0eHQpOyAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSMjZnlwYWdlI2Z1bGxUaGVtZSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL3NlYXJjaC54aW1hbGF5YS5jb20vZnJvbnQvdjE/ZGV2aWNlPWFuZHJvaWQmY29uZGl0aW9uPXJlbGF0aW9uJmNvcmU9YWxidW0mc3BlbGxjaGVja2VyPXRydWUma3c9JyArIHR4dCArICcmcGFnZT0nICsgTVlfUEFHRSArICcmcm93cz02MCcpKS5yZXNwb25zZS5kb2NzOyAgICAgICAgICAgICAgICAganNvbi5tYXAobCA9PiB7ICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9IGwuY292ZXJfcGF0aC5zcGxpdCgnIScpWzBdOyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljJywgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSNGQTcyOTg+JyArIGwuaW50cm8gKyAnPC9mb250PicsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjaW1tZXJzaXZlVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKGwsIGltZykgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKGwudGl0bGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlID0gZ2V0VmFyKCd4bWx5X3BhZ2UnLCAnMScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzYyA9IGdldFZhcign5o6S5bqPJywgJ3RydWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL21vYmlsZS54aW1hbGF5YS5jb20vbW9iaWxlL290aGVycy9jYS9hbGJ1bS90cmFjay8nICsgbC5pZCArICcvJyArIGFzYyArICcvJyArIHBhZ2UgKyAnLzYwP2FsYnVtSWQ9JyArIGwuaWQgKyAnJnBhZ2VTaXplPTYwJmlzQXNjPScgKyBhc2MgKyAnJnBvc2l0aW9uPTEmZGV2aWNlPWFuZHJvaWQnKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gTWF0aC5jZWlsKGpzb24uYWxidW0udHJhY2tzIC8gNjApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJycsICfpnIDopoHnv7vpobXnmoTmlbDlrZfvvIzmr4/pobU2MOOAglxcblxcbuWFse+8micgKyBqc29uLmFsYnVtLnRyYWNrcyArICfmnaHoioLnm67vvIwnICsgcGFnZSArICcvJyArIHRvdGFsICsgJ+mhteOAgicpLmlucHV0KCh0b3RhbCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/or7fovpPlhaXpobXnoIEnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA+IHRvdGFsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpeato+W4uOmhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ3htbHlfcGFnZScsIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdG90YWwpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Li75pKtOiAnICsgbC5uaWNrbmFtZSArICdcXHRcXHToioLnm64oJyArIGpzb24uYWxidW0udHJhY2tzICsgJyknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogYXNjID09ICd0cnVlJyA/ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21lc3N5LzEyMy5zdmcnIDogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTI0LnN2ZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGFzYyA9PSAndHJ1ZScgPyAnPGZvbnQgY29sb3I9I0ZBNzI5OD7mnIDmlrA8L2ZvbnQ+JyA6ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PumhuuW6jzwvZm9udD4nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFZhcign5o6S5bqPJywgJ3RydWUnKSA9PSAnZmFsc2UnKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJWYXIoJ+aOkuW6jycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ+aOkuW6jycsICdmYWxzZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnRyYWNrcy5saXN0LmZvckVhY2goKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGoucGxheVVybDY0ICsgJyNpc011c2ljPXRydWUjJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGwsIGltZyksICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqDliLDpppbpobUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChsLCBpbWcpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpbmsgPSAobC50aXRsZSArICdAJyArIGwuaWQgKyAnQCcgKyBpbWcgKyAnQCcgKyBsLm5pY2tuYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeG1seSA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhtbHkgPSB4bWx5LmNvbmNhdChsaW5rKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJywgSlNPTi5zdHJpbmdpZnkoeG1seSkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrKHRydWUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5re75Yqg5oiQ5YqfJyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGwsIGltZykgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgfSwgdHh0KSAgICAgICAgIH0pLCAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0SXRlbSgn6ZuF5ZCsJywgJycpLCAgICAgICAgICAgICBvbkNoYW5nZTogJ3NldEl0ZW0oXCLpm4XlkKxcIixpbnB1dCknLCAgICAgICAgIH0gICAgIH0pOyAgICAgbGV0IHhtbHlfdGl0bGUgPSBbJ+acieWjsOS5picsICfpn7PkuZAnLCAn55u45aOw6K+E5LmmJywgJ+W5v+aSreWJpycsICflqLHkuZAnLCAn5b2x6KeGJywgJ+WEv+erpScsICfljoblj7InLCAn5ZWG5Lia6LSi57uPJywgJ+S6uuaWhycsICfmlZnogrLln7norq0nLCAnSVTnp5HmioAnLCAn5aSW6K+tJywgJ+WktOadoScsICfkuozmrKHlhYMnLCAn5oiP5puyJywgJ+aXhea4uCcsICflgaXlurflhbvnlJ8nLCAn5pe25bCa55Sf5rS7J107ICAgICB2YXIgeG1seV9pZCA9IFsneW91c2hlbmdzaHUnLCAneWlueXVlJywgJ3hpYW5nc2hlbmcnLCAnZ3Vhbmdib2p2JywgJ3l1bGUnLCAneWluZ3NoaScsICdlcnRvbmcnLCAnbGlzaGknLCAnc2hhbmd5ZScsICdyZW53ZW4nLCAnamlhb3l1JywgJ2tlamknLCAnd2FpeXUnLCAndG91dGlhbycsICdlcmNpeXVhbicsICd4aXF1JywgJ2x2eW91JywgJ2ppYW5rYW5nJywgJ3NoaXNoYW5nJ107ICAgICBsZXQgeG1seV9mbCA9IHhtbHlfdGl0bGUubWFwKChpdGVtLCBpbmRleCkgPT4geyAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgIG5hbWU6IGl0ZW0sICAgICAgICAgICAgIGlkOiB4bWx5X2lkW2luZGV4XSAgICAgICAgIH07ICAgICB9KTsgICAgIHhtbHlfZmwubWFwKGogPT4geyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBqLm5hbWUsICAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNmdWxsVGhlbWUjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChqKSA9PiB7ICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL20ueGltYWxheWEuY29tL20tcmV2aXNpb24vcGFnZS9yYW5rL3F1ZXJ5UmFuaz9jbHVzdGVyQ29kZT1yaXNlJnBhZ2U9MSZjYXRlZ29yeUNvZGU9JyArIGouaWQpKS5kYXRhOyAgICAgICAgICAgICAgICAganNvbi5yYW5rTW9kdWxlSW5mb0xpc3QubWFwKGwgPT4geyAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAnaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS8nICsgbC5hbGJ1bUluZm8uY292ZXI7ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGwuYWxidW1JbmZvLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljJywgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogbC5hbGJ1bUluZm8uc2hvcnRJbnRybyA/ICfigJjigJjigJnigJk8Zm9udCBjb2xvcj0jRkE3Mjk4PicgKyBsLmFsYnVtSW5mby5zaG9ydEludHJvICsgJzwvZm9udD4nIDogJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSNGQTcyOTg+JyArIGwuYWxidW1JbmZvLnNhbGVQb2ludCArICc8L2ZvbnQ+JywgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgobCwgaW1nKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUobC5hbGJ1bUluZm8udGl0bGUpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwYWdlID0gZ2V0VmFyKCd4bWx5X3BhZ2UnLCAnMScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzYyA9IGdldFZhcign5o6S5bqPJywgJ3RydWUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL21vYmlsZS54aW1hbGF5YS5jb20vbW9iaWxlL290aGVycy9jYS9hbGJ1bS90cmFjay8nICsgbC5pZCArICcvJyArIGFzYyArICcvJyArIHBhZ2UgKyAnLzYwP2FsYnVtSWQ9JyArIGwuaWQgKyAnJnBhZ2VTaXplPTYwJmlzQXNjPScgKyBhc2MgKyAnJnBvc2l0aW9uPTEmZGV2aWNlPWFuZHJvaWQnKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsID0gTWF0aC5jZWlsKGpzb24uYWxidW0udHJhY2tzIC8gNjApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJycsICfpnIDopoHnv7vpobXnmoTmlbDlrZfvvIzmr4/pobU2MOOAglxcblxcbuWFse+8micgKyBqc29uLmFsYnVtLnRyYWNrcyArICfmnaHoioLnm67vvIwnICsgcGFnZSArICcvJyArIHRvdGFsICsgJ+mhteOAgicpLmlucHV0KCh0b3RhbCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/or7fovpPlhaXpobXnoIEnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA+IHRvdGFsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpeato+W4uOmhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ3htbHlfcGFnZScsIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdG90YWwpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Li75pKtOiAnICsganNvbi5hbGJ1bS5uaWNrbmFtZSArICdcXHRcXHToioLnm64oJyArIGpzb24uYWxidW0udHJhY2tzICsgJyknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogYXNjID09ICd0cnVlJyA/ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21lc3N5LzEyMy5zdmcnIDogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTI0LnN2ZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGFzYyA9PSAndHJ1ZScgPyAnPGZvbnQgY29sb3I9I0ZBNzI5OD7mnIDmlrA8L2ZvbnQ+JyA6ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PumhuuW6jzwvZm9udD4nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFZhcign5o6S5bqPJywgJ3RydWUnKSA9PSAnZmFsc2UnKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJWYXIoJ+aOkuW6jycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ+aOkuW6jycsICdmYWxzZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLnRyYWNrcy5saXN0LmZvckVhY2goKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGoucGxheVVybDY0ICsgJyNpc011c2ljPXRydWUjJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGwsIGltZyksICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgfSwgaiksICAgICAgICAgfSk7ICAgICB9KTsgICAgIGlmIChmaWxlRXhpc3QoJ2hpa2VyOi8vZmlsZXMvSm0veG1seS5qc29uJykgPT0gZmFsc2UpIHsgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nLCAnW1wiMTDliIbpkp/mlrDpl7vml6nppJBANjg1ODkzNTdAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy8wZjM0LWF1ZGlvZnJlZWhpZ2hxcHMvOUQvNjcvR0t3UklSd0dlSFNiQUFGNWxBRm9UQ1hpLmpwZWdA5Zac6ams5aS05p2hXCIsIFwi57uZ5L2g5q2M5LiA5puyQDM2NDE3OEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzLzU5MmMtYXVkaW9mcmVlaGlnaHFwcy8zRi8zOS9HS3dSSURvSTR4Y3BBQTdXX0FKZTMzVVMuanBlZ0DlvKDnvopcIiwgXCLpn7PkuZDkvJjlk4FAMjY1MDAwOUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNDAvTTBCLzQyLzlBL3dLZ0pWRnFqdWZEd0otMjdBQUV0WXp5MlN3czAxNy5qcGdA5Li75pKt5Y+25a2QXCIsIFwi55Sf5rS75p2C5b+XQDM2NjMwNjA2QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA3NS9NMDYvODMvMEUvd0tnTzAxNlJRNGV3aXgtTUFDYXAxX2JfSktjMjA3LmpwZ0BNYWtlVm9pY2VcIiwgXCLpnZ7luLjmupzkvbPmnJ9854iG56yR5ZCQ5qe95qyi5LmQ6Kej5Y6LQDI0OTAyMEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwMzAvTTBCL0JFLzExL3dLZ0pYbG5TWmx6aG92NnJBQUd5UnRIUEpCZzI1NC5qcGdA5L2z5pyfXCIsIFwi5q615a2Q5p2l5LqGQDIwMzM1NUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNS9NMDMvQTYvRDgvd0tnRHRsUjFNRF9UMURRSEFBTnFaRHlrNDhzNzIwLmpwZ0Dph4fph4dcIiwgXCLkuIDljYPpm7bkuIDnrJHvvZznnaHnnYDpg73og73nrJHphpLnmoTmrrXlrZBAMjM3NDIyNjlAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDYwL00wNi80MC84My93S2dMYjF6a0hJZWdscjZWQUIteDA2S2hXSk05MTcuanBnQOmlvOW5skdBTlwiLCBcIuS4nOWMl+iusueskeivnUAzNTU1ODcwQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA0NC9NMDAvQUYvQkMvd0tnS2pGc3dMcnZCaVRDQ0FBaFBFRDB6aTNRNzg2LmpwZ0DpmL/lk4jkuJzljJdcIiwgXCLlppnlrofov57mnLHilILotqPpl7vlkJDmp70g54iG56yR5pyJ5paZ77yBQDI3MDUzNUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNzYvTTA5LzA2L0I0L3dLZ08zbDVHUnZlQnk5UGZBQVJFTy1qdFdGMDA0Ny5qcGdA5pyx5a6HXCIsIFwi5LuK5pma6ISx5Y+j56eAQDQ3MzU0MjJAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy9hYTYzLWF1ZGlvZnJlZWhpZ2hxcHMvOUEvOTQvQ01Db09TUUR5NF9YQUFDUGhnQjRfQmlOLmpwZ0Dku4rmmZrohLHlj6Pnp4BcIiwgXCLmgLvmnInov5nmoLfnmoTmrYzlj6rmg7PkuIDkuKrkurrlkKxAMzU5NTg0MUBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNTQvTTAzL0JFLzg5L3dLZ0xjbHcxeTJQakVORDhBQUdOMlNLUFBOTTM5MS5qcGdA54Gw5aeR5aiY6Z+z5LmQXCIsIFwi5oC75pyJ5LiA6aaW5q2M5Lio5Lya6K6p5L2g5Y2V5puy5b6q546v5Yiw5oOz5ZOtQDQ1NTI1MTkyQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vc3RvcmFnZXMvMTczZC1hdWRpb2ZyZWVoaWdocXBzLzFEL0FDL0dLd1JJSkVHRGdfSUFBT1BZUUV0UDd2aS5qcGVnQOeDn+iKsei/t+S6uuecvFwiLCBcIumfs+S5kOiusOS6i+acrHzkuIDpppbmrYzkuIDkuKrmlYXkuotANDcyMTAwMzBAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy85MjNhLWF1ZGlvZnJlZWhpZ2hxcHMvOUUvOEYvR0t3UklVRUhqRHpHQUFHR0RBSG8wOU1NLmpwZ0Dmn6DmqqzpppnppplGTVwiLCBcIumCo+S6m+WlveWQrOeahOWls+eUn+e/u+WUsUAzMTc1MTUyMkBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNjkvTTA1L0NGL0Q5L3dLZ01iMTMzS01DQ1FtaVNBQURxSlVLR2ZORTM3NS5qcGdA6Iqx5bCP5bCP6Iy1XCIsIFwi5r2u5rWB6Z+z5LmQQDE5NTIxMzY1QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA0OS9NMDcvMDcvQUQvd0tnS2wxdjM5a2FRUmlPSEFBRnBYT0drN0prNTAxLnBuZ0DlsI/mnb7mjqjojZBcIiwgXCLpgqPkupvkuIDlkKzlsLHmhJ/liqjnmoTnu4/lhbjnlLXlvbHlkI3mm7JAMzkxNjM3MjVAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDgzL00wMi9FRi84RC93S2c1SFY4TlVmN0E4eXozQUFUaHc4TGh1Wlk2MjEuanBnQOWPtuS6keW3neeahOeRnum4o+mfs+S5kOWPsFwiLCBcIuaZmuWuieWmiOWmiOedoeWJjeaVheS6i0AyNjA3NDRAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDU4L00wNi8wOC85Qi93S2dMZ2x6VHlUamlPeTBvQUFjT1R2MTZvaGc4MTUuanBnQOaZmuWuieWmiOWmiFwiLCBcIuawkemXtOivoeaVheS6i0AyOTUzNTc1MEBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNjkvTTA4L0IyL0U1L3dLZ01lVjNnbFNUUVBOTWRBQ3l0MV9rX2xESTgxMy5qcGdA6Zi/5rWp6K+05LqL5YS/XCIsIFwi5Y+k562d5ZCN5puy5qyj6LWP5Y+k562d57uP5YW45ZCN5puyQDE2NzkyODU0QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA0Ni9NMDQvQUEvQjgvd0tnS2xsdHFpaUxBemp5SkFBRExaTXk2dlpJMTM2LmpwZ0DllpzpqazmnaXllaZcIiwgXCLnu4/lhbjlj6TkuZAt5Y+k55C05Y2B5aSn5ZCN5puyQDYzMTcyNjVAaHR0cHM6Ly9pbWcyLmJhaWR1LmNvbS9pdC91PTEzMzM4MDc5MDAsMjk0ODYzMDMzMSZmbT0yNTMmZm10PWF1dG8mYXBwPTEzOCZmPUpQRUdAeGlleGlleGlleGllXCIsIFwi44CQ5LiW55WM5LiK5pyA576O55qE6ZKi55C05puy44CR5YKs55yg6Z+z5LmQQDQwNTA2MzlAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDEzL00wMC80MC9GNi93S2dEWFZjS0NnX0M2bUlsQUFVRHJ2MWZPTmsxNDUucG5nQOiLpeS8vOaZtOWkqee7jemSp1wiLCBcIuOAiuWknOiJsumSoueQtOabsuOAi0AyOTE3MThAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy9iM2QyLWF1ZGlvZnJlZWhpZ2hxcHMvOTEvOEUvR01Db09TQUZxdUcyQUFVNHp3RUtOb2haLnBuZ0DlpJzoibLpkqLnkLTmm7LotbXmtbfmtItcIiwgXCI45YiG6ZKf77yMM0Tnjq/looPlh4/ljovlhqXmg7N86Z+z5LmQ55aX5oSIQDI4MjQ2NTcyQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA2NS9NMDIvNkQvM0Uvd0tnTWFsMWxfQ3JEZDYyakFBSVZzanlsSlRzNTA2LmpwZ0DogLPnlYxfRWFybWVyc2lvblwiLCBcIui/t+S6uueRvi3ovabovb3lirLniIZESueUtemfs+iInuabskA1ODk5NTA3QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA4Ni9NMDUvQzMvMTYvd0tnNUpsOElaaHV6X2E5a0FBR2Zzb3hTN0I4ODc2LmpwZ0BESui/t+S6uueRvlwiLCBcIuawkeiwo+eyvumAiSB8IOWUseWwveS6uumXtOeZvuaAgUAzMTM4MDk2MkBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNjgvTTAyL0IzL0E5L3dLZ01ibDNncnRTek1FR1dBQUE0YkgtWm5TbzkxMy5qcGdA6Iqx5bCP5bCP6Iy1XCIsIFwi57uP5YW455WZ5aOw5py6QDI5MDk5NkBodHRwczovL2ltYWdldjIueG1jZG4uY29tL2dyb3VwNTAvTTA4L0ZBL0QyL3dLZ0tuVnZyOXZIem1jMlhBQVV1LVdtX1JTZzM1OS5qcGdA5Li75pKt5bCPRFwiLCBcIuiuqeS9oOW+queOr+eZvumBjeS7peS4iueahOe7j+WFuOiLseaWh+atjEA0ODY2MzYxQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXA3Ny9NMDcvNTUvNkMvd0tnTzFWNk54RVNobHhWSEFBQUpXMlpoc004NTE2LmpwZ0DkuIDngrnmipLmg4Xpn7PkuZDpopHpgZNcIiwgXCIxMDAw6aaW5ZCs5LiN6IW755qE5aW95q2M5Lio5LyY6LSo5q2M5Y2VQDMyNTE5ODI0QGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vc3RvcmFnZXMvNzgyNC1hdWRpb2ZyZWVoaWdocXBzLzhFLzEwL0dLd1JJTUFGbHlEOEFBSE5KZ0VGQm9aYS5qcGVnQOmZiOiHu+iHu1wiLCBcIuWwj+S4g+eahOengeaIv+atjEAyMzc3NzFAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy9hNzQwLWF1ZGlvZnJlZWhpZ2hxcHMvNTgvMjAvR01Db09SOEhncmx6QUFPOXRRSGw3YlZzLmpwZWdA5bCP5LiDXCIsIFwi5LiW55WM5LiK5pyA5aW95ZCs55qE57qv6Z+z5LmQQDExNjU5ODczQGh0dHBzOi8vaW1hZ2V2Mi54bWNkbi5jb20vZ3JvdXAzNS9NMDMvOEIvNUMvd0tnSm5Gb1Q0QXFEWnpfRUFBQ19BYVJwanZBNDk3LmpwZ0DlraRf6Zu2XCIsIFwi57uP5YW46LGr5Ymn5ZCN5a625ZCN5q61MTAwMOmmlkA1MzQwMzg3NkBodHRwczovL2ltYWdldjIueG1jZG4uY29tL3N0b3JhZ2VzLzgzYzctYXVkaW9mcmVlaGlnaHFwcy82OC9GNS9DS3dSSVc0Rkp3ZzZBQUV0RVFEbkV3aGEuanBnQOaIj+absuS8oOaJv+S6ulwiLCBcIum7hOaiheaIj+e7j+WFuOWQjeWutuWQjeautTEwMDDpppZANTM4MzE2NDRAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9zdG9yYWdlcy9mZTQ2LWF1ZGlvZnJlZWhpZ2hxcHMvQkYvN0UvR0t3UklEb0Z1LVZXQUFJR05BRU9RVWFkLmpwZWdA5oiP5puy5Lyg5om/5Lq6XCIsIFwi5Zu957K55Lqs5YmnQDI4MjI0NzlAaHR0cHM6Ly9pbWFnZXYyLnhtY2RuLmNvbS9ncm91cDU2L00wNy8wMi9EQy93S2dMZ0Z5T0NTT0JnS2FxQUFLVkdCTDBTcWs4OTQuanBnQOW8mOeEtlwiXScpOyAgICAgfSAgICAgdmFyIHhtbHkgPSBldmFsKEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS94bWx5Lmpzb24nKSkpOyAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4bWx5Lmxlbmd0aDsgaSsrKSB7ICAgICAgICAgdmFyIGsgPSB4bWx5W2ldLnNwbGl0KCdAJyk7ICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgdGl0bGU6IGtbMF0sICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMycsICAgICAgICAgICAgIHBpYzoga1syXSwgICAgICAgICAgICAgdXJsOiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSMnKS5ydWxlKChrKSA9PiB7ICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgbGV0IHBhZ2UgPSBnZXRWYXIoJ3htbHlfcGFnZScsICcxJyk7ICAgICAgICAgICAgICAgICB2YXIgYXNjID0gZ2V0VmFyKCfmjpLluo8nLCAndHJ1ZScpOyAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vbW9iaWxlLnhpbWFsYXlhLmNvbS9tb2JpbGUvb3RoZXJzL2NhL2FsYnVtL3RyYWNrLycgKyBrWzFdICsgJy8nICsgYXNjICsgJy8nICsgcGFnZSArICcvNjA/YWxidW1JZD0nICsga1sxXSArICcmcGFnZVNpemU9NjAmaXNBc2M9JyArIGFzYyArICcmcG9zaXRpb249MSZkZXZpY2U9YW5kcm9pZCcpKTsgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSBNYXRoLmNlaWwoanNvbi5hbGJ1bS50cmFja3MgLyA2MCk7ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9mdWxsJywgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBrWzJdLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJycsICfpnIDopoHnv7vpobXnmoTmlbDlrZfvvIzmr4/pobU2MOOAglxcblxcbuWFse+8micgKyBqc29uLmFsYnVtLnRyYWNrcyArICfmnaHoioLnm67vvIwnICsgcGFnZSArICcvJyArIHRvdGFsICsgJ+mhteOAgicpLmlucHV0KCh0b3RhbCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/or7fovpPlhaXpobXnoIEnOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA+IHRvdGFsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+ivt+i+k+WFpeato+W4uOmhteeggSc7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ3htbHlfcGFnZScsIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdG90YWwpLCAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Li75pKtOiAnICsga1szXSArICdcXHRcXHToioLnm64oJyArIGpzb24uYWxidW0udHJhY2tzICsgJyknLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogYXNjID09ICd0cnVlJyA/ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21lc3N5LzEyMy5zdmcnIDogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbWVzc3kvMTI0LnN2ZycsICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGFzYyA9PSAndHJ1ZScgPyAnPGZvbnQgY29sb3I9I0ZBNzI5OD7mnIDmlrA8L2ZvbnQ+JyA6ICc8Zm9udCBjb2xvcj0jRkE3Mjk4PumhuuW6jzwvZm9udD4nLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFZhcign5o6S5bqPJywgJ3RydWUnKSA9PSAnZmFsc2UnKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJWYXIoJ+aOkuW6jycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ+aOkuW6jycsICdmYWxzZScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbGluZScsICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICBqc29uLnRyYWNrcy5saXN0LmZvckVhY2goKGopID0+IHsgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBrWzJdLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogai5wbGF5VXJsNjQgKyAnI2lzTXVzaWM9dHJ1ZSMnLCAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgfSwgaykgICAgICAgICB9KTsgICAgIH0gICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzcucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kX3NtYWxsXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6Iumfs+S5kOatjOWNlSIsInRpdGxlIjoi6Z+z5LmQIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNnYW1lVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgc2V0UGFnZVRpdGxlKCflkKzngrnpn7PkuZAnKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgZmlsZV9zaWduID0gJ2hpa2VyOi8vZmlsZXMvSm0vZmlsZS9zaWduLmpzJzsgICAgIGxldCBzaWduID0gYGZ1bmN0aW9uIHNpZ24ocGFyYW1zKSB7ICAgICAgZnVuY3Rpb24gbWlkZGxlKGxzKSB7ICAgICAgICAgbGV0IHJlc051bSA9IFtdOyAgICAgICAgICBmdW5jdGlvbiB0ZXN0KGEsIGIsIGMpIHsgICAgICAgICAgICAgbGV0IHIyNSA9IGEgPj4gMjsgICAgICAgICAgICAgaWYgKGIgIT09IHVuZGVmaW5lZCAmJiBjICE9PSB1bmRlZmluZWQpIHsgICAgICAgICAgICAgICAgIGxldCByMjYgPSBhICYgMzsgICAgICAgICAgICAgICAgIGxldCByMjZfMiA9IHIyNiA8PCA0OyAgICAgICAgICAgICAgICAgbGV0IHIyNl8zID0gYiA+PiA0OyAgICAgICAgICAgICAgICAgbGV0IHIyNl80ID0gcjI2XzIgfCByMjZfMzsgICAgICAgICAgICAgICAgIGxldCByMjcgPSBiICYgMTU7ICAgICAgICAgICAgICAgICBsZXQgcjI3XzIgPSByMjcgPDwgMjsgICAgICAgICAgICAgICAgIGxldCByMjdfMyA9IHIyN18yIHwgKGMgPj4gNik7ICAgICAgICAgICAgICAgICBsZXQgcjI4ID0gYyAmIDYzOyAgICAgICAgICAgICAgICAgcmVzTnVtLnB1c2gocjI1KTsgICAgICAgICAgICAgICAgIHJlc051bS5wdXNoKHIyNl80KTsgICAgICAgICAgICAgICAgIHJlc051bS5wdXNoKHIyN18zKTsgICAgICAgICAgICAgICAgIHJlc051bS5wdXNoKHIyOCk7ICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICBsZXQgcjEwID0gYSA+PiAyOyAgICAgICAgICAgICAgICAgbGV0IHIxMSA9IGEgJiAzOyAgICAgICAgICAgICAgICAgbGV0IHIxMV8yID0gcjExIDw8IDQ7ICAgICAgICAgICAgICAgICByZXNOdW0ucHVzaChyMTApOyAgICAgICAgICAgICAgICAgcmVzTnVtLnB1c2gocjExXzIpOyAgICAgICAgICAgICB9ICAgICAgICAgfSAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbHMubGVuZ3RoOyBpICs9IDMpIHsgICAgICAgICAgICAgaWYgKGxzW2ldICE9PSB1bmRlZmluZWQgJiYgbHNbaSArIDFdICE9PSB1bmRlZmluZWQgJiYgbHNbaSArIDJdICE9PSB1bmRlZmluZWQpIHsgICAgICAgICAgICAgICAgIHRlc3QobHNbaV0sIGxzW2kgKyAxXSwgbHNbaSArIDJdKSAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgdGVzdChsc1tpXSwgdW5kZWZpbmVkLCB1bmRlZmluZWQpICAgICAgICAgICAgIH0gICAgICAgICB9ICAgICAgICAgbGV0IHJlcyA9IFtdOyAgICAgICAgIHJlc051bS5mb3JFYWNoKChpdGVtKSA9PiB7ICAgICAgICAgICAgIGxldCB6ZCA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSc7ICAgICAgICAgICAgIHJlcy5wdXNoKHpkW2l0ZW1dKSAgICAgICAgIH0pOyAgICAgICAgIHJlcyA9IHJlcy5qb2luKCcnKTsgICAgICAgICByZXR1cm4gcmVzOyAgICAgfSAgICAgIGZ1bmN0aW9uIGhlYWQobWQ1U3RyKSB7ICAgICAgICAgbGV0IHJlcyA9IFtdOyAgICAgICAgIFsyMSwgNCwgOSwgMjYsIDE2LCAyMCwgMjcsIDMwXS5tYXAoeCA9PiB7ICAgICAgICAgICAgIHJlcy5wdXNoKG1kNVN0clt4XSk7ICAgICAgICAgfSk7ICAgICAgICAgcmV0dXJuIHJlcy5qb2luKCcnKTsgICAgIH0gICAgICBmdW5jdGlvbiB0YWlsKG1kNVN0cikgeyAgICAgICAgIGxldCByZXMgPSBbXTsgICAgICAgICBbMTgsIDExLCAzLCAyLCAxLCA3LCA2LCAyNV0ubWFwKHggPT4geyAgICAgICAgICAgICByZXMucHVzaChtZDVTdHJbeF0pOyAgICAgICAgIH0pOyAgICAgICAgIHJldHVybiByZXMuam9pbignJyk7ICAgICB9ICAgICAgZnVuY3Rpb24gZ2V0THMobWQ1U3RyKSB7ICAgICAgICAgbGV0IHpkID0geyAgICAgICAgICAgICBcIjBcIjogMCwgICAgICAgICAgICAgXCIxXCI6IDEsICAgICAgICAgICAgIFwiMlwiOiAyLCAgICAgICAgICAgICBcIjNcIjogMywgICAgICAgICAgICAgXCI0XCI6IDQsICAgICAgICAgICAgIFwiNVwiOiA1LCAgICAgICAgICAgICBcIjZcIjogNiwgICAgICAgICAgICAgXCI3XCI6IDcsICAgICAgICAgICAgIFwiOFwiOiA4LCAgICAgICAgICAgICBcIjlcIjogOSwgICAgICAgICAgICAgXCJBXCI6IDEwLCAgICAgICAgICAgICBcIkJcIjogMTEsICAgICAgICAgICAgIFwiQ1wiOiAxMiwgICAgICAgICAgICAgXCJEXCI6IDEzLCAgICAgICAgICAgICBcIkVcIjogMTQsICAgICAgICAgICAgIFwiRlwiOiAxNSAgICAgICAgIH07ICAgICAgICAgbGV0IG9sID0gWzIxMiwgNDUsIDgwLCA2OCwgMTk1LCAxNjMsIDE2MywgMjAzLCAxNTcsIDIyMCwgMjU0LCA5MSwgMjA0LCA3OSwgMTA0LCA2XTsgICAgICAgICBsZXQgcmVzID0gW107ICAgICAgICAgbGV0IGogPSAwOyAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWQ1U3RyLmxlbmd0aDsgaSArPSAyKSB7ICAgICAgICAgICAgIGxldCBvbmUgPSB6ZFttZDVTdHJbaV1dOyAgICAgICAgICAgICBsZXQgdHdvID0gemRbbWQ1U3RyW2kgKyAxXV07ICAgICAgICAgICAgIGxldCByID0gb25lICogMTYgXiB0d287ICAgICAgICAgICAgIHJlcy5wdXNoKHIgXiBvbFtqXSk7ICAgICAgICAgICAgIGogKz0gMTsgICAgICAgICB9ICAgICAgICAgcmV0dXJuIHJlczsgICAgIH0gICAgIGxldCBtZDVTdHIgPSBtZDUocGFyYW1zKS50b1VwcGVyQ2FzZSgpOyAgICAgbGV0IGggPSBoZWFkKG1kNVN0cik7ICAgICBsZXQgZSA9IHRhaWwobWQ1U3RyKTsgICAgIGxldCBscyA9IGdldExzKG1kNVN0cik7ICAgICBsZXQgbSA9IG1pZGRsZShscyk7ICAgICBsZXQgcmVzID0gKCd6emInICsgaCArIG0gKyBlKS50b0xvd2VyQ2FzZSgpOyAgICAgbGV0IHIgPSBSZWdFeHAoL1tcXFxcLytdL2cpOyAgICAgcmVzID0gcmVzLnJlcGxhY2UociwgJycpOyAgICAgcmV0dXJuIHJlczsgfWA7ICAgICBpZiAoIWZpbGVFeGlzdChmaWxlX3NpZ24pKSB7ICAgICAgICAgc2F2ZUZpbGUoZmlsZV9zaWduLCBzaWduKTsgICAgIH0gICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxiaWc+PGZvbnQgY29sb3I9XCIjMUFCMTZCXCI+5ZCs54K56Z+z5LmQPC9mb250PjwvYmlnPjxzbWFsbD48c21hbGw+IOatjOWNlTwvc21hbGw+PC9zbWFsbD4nLCAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbXVzaWMvODUuc3ZnJywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgICAgICAgICAgICAgIGlmICghZmlsZUV4aXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSkgeyAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCAnW3tcInRpdGxlXCI6XCLng63mkJzmrYzmm7JcIixcImljb25cIjpcImh0dHA6Ly9xcGljLnkucXEuY29tL211c2ljX2NvdmVyL2hLRnJpYk1od0g0Q2x3TldKeGljdUN4anV3SWtiWlBxNEhWVDBRZ3hzZGI4SldRWFhDMlRGc3VRLzYwMD9uPTFcIixcImlkXCI6NzUzMjY3MDUzOH0se1widGl0bGVcIjpcIuaKlumfs+eDremXqFwiLFwiaWNvblwiOlwiaHR0cDovL3FwaWMueS5xcS5jb20vbXVzaWNfY292ZXIvV3B2ZEpYZm43OThpYkQ0Z2NmancwTlN1QmtGVEpZcFk1UU9ldjNFeGNCUWlhbVJjb2JrcE43N2cvNjAwP249MVwiLFwiaWRcIjo3NjMwMzAzNDc0fV0nKTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIGxldCBnZWRhbiA9IEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJykpOyAgICAgICAgICAgICAgICAgcmV0dXJuICQoZ2VkYW4sIDIsICflsI/kuIPmrYzljZUnKS5zZWxlY3QoKGdlZGFuKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBnZWRhbi5maW5kSW5kZXgodCA9PiB0LnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBnZWRhblthXS5pZDsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoaWQpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/kuIPmrYzljZUnKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnaGlrZXI6Ly9maWxlcy9KbS9maWxlL3NpZ24uanMnKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcV8xXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vZHVsZVwiOiBcIm11c2ljLnNyZkRpc3NJbmZvLmFpRGlzc0luZm9cIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1ldGhvZFwiOiBcInVuaWZvcm1fZ2V0X0Rpc3NpbmZvXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGlzc3RpZFwiOiBOdW1iZXIoaWQpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInVzZXJpbmZvXCI6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGFnXCI6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3JkZXJsaXN0XCI6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic29uZ19iZWdpblwiOiAwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNvbmdfbnVtXCI6IDEwMDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25seXNvbmdsaXN0XCI6IDAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZW5jX2hvc3RfdWluXCI6IFwiXCIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganMgPSBKU09OLnBhcnNlKHBvc3QoYnVpbGRVcmwoJ2h0dHBzOi8vdS55LnFxLmNvbS9jZ2ktYmluL211c2ljcy5mY2cnLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiBEYXRlLm5vdygpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbjogc2lnbihib2R5KSAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSAgICAgICAgICAgICAgICAgICAgICAgICB9KSkucmVxXzEuZGF0YTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBqcy5zb25nbGlzdC5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdlcjogai5zaW5nZXJbMF0ubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5hbGJ1bS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogXCJodHRwczovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDJSNTAweDUwME0wMDBcIiArIGouYWxidW0ubWlkICsgXCIuanBnXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGoubWlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqcy5kaXJpbmZvLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfwn6e4XFx0JyArIGpzLmRpcmluZm8uaG9zdF9uaWNrICsgJ1xcblxcbvCfjrxcXHQnICsganMuZGlyaW5mby5zb25nbnVtICsgJ+mmlicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzLmRpcmluZm8ucGljdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcnLCAn5puy5ZCN5oiW5q2M5omLJykuaW5wdXQoKGpzb24pID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzZWFyY2goYXJyYXksIG5hbWUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5LmZpbHRlcihpdGVtID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnRpdGxlLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobmFtZS50b0xvd2VyQ2FzZSgpKSB8fCBpdGVtLnNpbmdlci50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG5hbWUudG9Mb3dlckNhc2UoKSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSBzZWFyY2goanNvbiwgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHknKS5ydWxlKChyZXN1bHRzKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aQnOe0oue7k+aenCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMuZm9yRWFjaChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBqLmFsYnVtID8gai5zaW5nZXIgKyAnIC0tICcgKyBqLmFsYnVtIDogai5zaW5nZXIgKyAnIC0tICcgKyBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGoucGljLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7ICAgICByZXFfMDogeyAgICAgICAgIG1vZHVsZTogXCJ2a2V5LkdldFZrZXlTZXJ2ZXJcIiwgICAgICAgICBtZXRob2Q6IFwiQ2dpR2V0VmtleVwiLCAgICAgICAgIHBhcmFtOiB7ICAgICAgICAgICAgIGd1aWQ6IFwiMFwiLCAgICAgICAgICAgICBwbGF0Zm9ybTogXCIyMFwiLCAgICAgICAgICAgICBmaWxlbmFtZTogW1wiRjAwMFwiK2ouaWQrai5pZCtcIi5mbGFjXCJdLCAgICAgICAgICAgICBzb25nbWlkOiBbai5pZF0gICAgICAgICB9ICAgICB9IH0pOyAgICAgICAgICAgICAgbGV0IGh0bWwgPSBcImh0dHBzOi8vdS55LnFxLmNvbS9jZ2ktYmluL211c2ljdS5mY2dcIjsgIGxldCBoZWFkZXJzID0geyAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsICAgICBDb29raWU6IFwicW1fa2V5c3Q9UV9IX0xfNjNrM05HMjlucnF1OUExUVRWVFpOZ3RFeDFGQk84RU05Wmhha0pmSGVHTlpkYUpBZUFyZl9PYUVmSkpmaXZYUkRodDVheHN1XzFlVl9iM2kxWnB4Nlp3OyB1aW49NTEzNTM2NjQxXCIgfTsgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sLCB7ICAgICBtZXRob2Q6IFwiUE9TVFwiLCAgICAgYm9keTogZGF0YSwgICAgIGhlYWRlcnM6IGhlYWRlcnMgfSkpLnJlcV8wLmRhdGE7ICB2YXIgaW5mbyA9IGpzb24ubWlkdXJsaW5mbzsgaWYgKGluZm8gJiYgaW5mby5sZW5ndGggPiAwKSB7ICAgICB2YXIgdSA9IGluZm9bMF0ucHVybDsgICAgIGlmICh1ICYmIHUgIT09IFwiXCIpIHsgICAgICAgICBsZXQgc2lwID0ganNvbi5zaXA7ICAgICAgICAgaWYgKHNpcCAmJiBzaXAubGVuZ3RoID4gMCkgeyAgICAgICAgICAgICB2YXIganMgPSBzaXBbMF0gKyB1OyAgICAgICAgIH0gICAgIH0gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJ2hpa2VyOi8vZmlsZXMvSm0vZmlsZS9zaWduLmpzJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImN2XCI6IDQ3NDc0NzQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImN0XCI6IDI0LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXRcIjogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImluQ2hhcnNldFwiOiBcInV0Zi04XCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm91dENoYXJzZXRcIjogXCJ1dGYtOFwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RpY2VcIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGxhdGZvcm1cIjogXCJ5cXEuanNvblwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJuZWVkTmV3Q29kZVwiOiAxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aW5cIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ190a19uZXdfMjAyMDAzMDNcIjogNTM4MSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ190a1wiOiA1MzgxICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxXzFcIjogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJtb2R1bGVcIjogXCJtdXNpYy5tdXNpY2hhbGxTb25nLlBsYXlMeXJpY0luZm9cIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiR2V0UGxheUx5cmljSW5mb1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwYXJhbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzb25nTUlEXCI6IGouaWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBseXJpYyA9IEpTT04ucGFyc2UocG9zdChidWlsZFVybCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWNzLmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzogRGF0ZS5ub3coKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbjogc2lnbihib2R5KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkucmVxXzEuZGF0YS5seXJpYzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gYmFzZTY0RGVjb2RlKGx5cmljKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly94aWFvYXBpLmNuL0FQSS9tdl9zcS5waHA/bj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gW2pzb25bM10gfHwganNvblsyXSB8fCBqc29uWzFdIHx8IGpzb25bMF1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyaWM6IGxyYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZXN1bHRzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/msqHmnInmib7liLAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwganNvbiksICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5Og5aSN5Yi25Zu+54mH6ZO+5o6lJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGpzKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NvcHk6Ly8nICsganMuZGlyaW5mby5waWN1cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGpzKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBqLmFsYnVtID8gai5zaW5nZXIgKyAnIC0tICcgKyBqLmFsYnVtIDogai5zaW5nZXIgKyAnIC0tICcgKyBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGoucGljICsgJ0BSZWZlcmVyPScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7ICAgICByZXFfMDogeyAgICAgICAgIG1vZHVsZTogXCJ2a2V5LkdldFZrZXlTZXJ2ZXJcIiwgICAgICAgICBtZXRob2Q6IFwiQ2dpR2V0VmtleVwiLCAgICAgICAgIHBhcmFtOiB7ICAgICAgICAgICAgIGd1aWQ6IFwiMFwiLCAgICAgICAgICAgICBwbGF0Zm9ybTogXCIyMFwiLCAgICAgICAgICAgICBmaWxlbmFtZTogW1wiRjAwMFwiK2ouaWQrai5pZCtcIi5mbGFjXCJdLCAgICAgICAgICAgICBzb25nbWlkOiBbai5pZF0gICAgICAgICB9ICAgICB9IH0pOyAgICAgICAgICAgICAgbGV0IGh0bWwgPSBcImh0dHBzOi8vdS55LnFxLmNvbS9jZ2ktYmluL211c2ljdS5mY2dcIjsgIGxldCBoZWFkZXJzID0geyAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsICAgICBDb29raWU6IFwicW1fa2V5c3Q9UV9IX0xfNjNrM05HMjlucnF1OUExUVRWVFpOZ3RFeDFGQk84RU05Wmhha0pmSGVHTlpkYUpBZUFyZl9PYUVmSkpmaXZYUkRodDVheHN1XzFlVl9iM2kxWnB4Nlp3OyB1aW49NTEzNTM2NjQxXCIgfTsgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sLCB7ICAgICBtZXRob2Q6IFwiUE9TVFwiLCAgICAgYm9keTogZGF0YSwgICAgIGhlYWRlcnM6IGhlYWRlcnMgfSkpLnJlcV8wLmRhdGE7ICB2YXIgaW5mbyA9IGpzb24ubWlkdXJsaW5mbzsgaWYgKGluZm8gJiYgaW5mby5sZW5ndGggPiAwKSB7ICAgICB2YXIgdSA9IGluZm9bMF0ucHVybDsgICAgIGlmICh1ICYmIHUgIT09IFwiXCIpIHsgICAgICAgICBsZXQgc2lwID0ganNvbi5zaXA7ICAgICAgICAgaWYgKHNpcCAmJiBzaXAubGVuZ3RoID4gMCkgeyAgICAgICAgICAgICB2YXIganMgPSBzaXBbMF0gKyB1OyAgICAgICAgIH0gICAgIH0gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnaGlrZXI6Ly9maWxlcy9KbS9maWxlL3NpZ24uanMnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY3ZcIjogNDc0NzQ3NCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjdFwiOiAyNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXRcIjogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5DaGFyc2V0XCI6IFwidXRmLThcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvdXRDaGFyc2V0XCI6IFwidXRmLThcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RpY2VcIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGF0Zm9ybVwiOiBcInlxcS5qc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmVlZE5ld0NvZGVcIjogMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aW5cIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnX3RrX25ld18yMDIwMDMwM1wiOiA1MzgxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdfdGtcIjogNTM4MSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXFfMVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibW9kdWxlXCI6IFwibXVzaWMubXVzaWNoYWxsU29uZy5QbGF5THlyaWNJbmZvXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiR2V0UGxheUx5cmljSW5mb1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic29uZ01JRFwiOiBqLmlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBseXJpYyA9IEpTT04ucGFyc2UocG9zdChidWlsZFVybCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWNzLmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiBEYXRlLm5vdygpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ246IHNpZ24oYm9keSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnJlcV8xLmRhdGEubHlyaWM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gYmFzZTY0RGVjb2RlKGx5cmljKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL212X3NxLnBocD9uPTEmbXNnPScgKyBqLnRpdGxlLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanNvblszXSB8fCBqc29uWzJdIHx8IGpzb25bMV0gfHwganNvblswXV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx5cmljOiBscmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9veatjOabsicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgcmVxXzA6IHsgICAgICAgICBtb2R1bGU6IFwidmtleS5HZXRWa2V5U2VydmVyXCIsICAgICAgICAgbWV0aG9kOiBcIkNnaUdldFZrZXlcIiwgICAgICAgICBwYXJhbTogeyAgICAgICAgICAgICBndWlkOiBcIjBcIiwgICAgICAgICAgICAgcGxhdGZvcm06IFwiMjBcIiwgICAgICAgICAgICAgZmlsZW5hbWU6IFtcIkYwMDBcIitqLmlkK2ouaWQrXCIuZmxhY1wiXSwgICAgICAgICAgICAgc29uZ21pZDogW2ouaWRdICAgICAgICAgfSAgICAgfSB9KTsgICAgICAgICAgICAgIGxldCBodG1sID0gXCJodHRwczovL3UueS5xcS5jb20vY2dpLWJpbi9tdXNpY3UuZmNnXCI7ICBsZXQgaGVhZGVycyA9IHsgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCAgICAgQ29va2llOiBcInFtX2tleXN0PVFfSF9MXzYzazNORzI5bnJxdTlBMVFUVlRaTmd0RXgxRkJPOEVNOVpoYWtKZkhlR05aZGFKQWVBcmZfT2FFZkpKZml2WFJEaHQ1YXhzdV8xZVZfYjNpMVpweDZadzsgdWluPTUxMzUzNjY0MVwiIH07ICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgbWV0aG9kOiBcIlBPU1RcIiwgICAgIGJvZHk6IGRhdGEsICAgICBoZWFkZXJzOiBoZWFkZXJzIH0pKS5yZXFfMC5kYXRhOyAgdmFyIGluZm8gPSBqc29uLm1pZHVybGluZm87IGlmIChpbmZvICYmIGluZm8ubGVuZ3RoID4gMCkgeyAgICAgdmFyIHUgPSBpbmZvWzBdLnB1cmw7ICAgICBpZiAodSAmJiB1ICE9PSBcIlwiKSB7ICAgICAgICAgbGV0IHNpcCA9IGpzb24uc2lwOyAgICAgICAgIGlmIChzaXAgJiYgc2lwLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgdmFyIHVybCA9IHNpcFswXSArIHU7ICAgICAgICAgfSAgICAgfSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd25sb2FkOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly94aWFvYXBpLmNuL0FQSS9tdl9zcS5waHA/bj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gW2pzb25bM10gfHwganNvblsyXSB8fCBqc29uWzFdIHx8IGpzb25bMF1dOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5jZW5ndWlndWkuY24vYXBpL2p1aGUvYXBpLnBocD90eXBlPWtnbXYmbj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkuZGF0YS51cmxdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgIH0sIGlkKSAgICAgICAgICAgICAgICAgfSwgZ2VkYW4pICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgbGluZVZpc2libGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+SniDojrflj5bmrYzljZUnLCAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJycsICfinZfvuI/mrYzljZXlpoLmnpzmnInmlrDlop7vvIzliJnpnIDopoHph43mlrDojrflj5ZcXG5cXG5RUei0puWPt+iOt+WPluatjOWNlScpLmlucHV0KCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuY2VuZ3VpZ3VpLmNuL2FwaS9tdXNpYy9xcS91c2VyX2xpc3QucGhwP3FxPScgKyBpbnB1dCkpLm15cGxheWxpc3QubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLm5hbWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGoucGljLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogai5pZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbiA9IGdlZGFuLmNvbmNhdChqc29uKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCBKU09OLnN0cmluZ2lmeShnZWRhbikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3sua3u+WKoCcgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UsCDmrYzljZXnrqHnkIYnLCAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+atjOWNleeuoeeQhicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmj5Dlj5ZpZCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWIhuS6q+WQjuWkjeWItueahOmTvuaOpScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/kuI3og73kuLrnqbpcIjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHR4dCA9IGlucHV0OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdTEgPSB0eHQuc3BsaXQoJyYnKVs0XTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlkID0gdTEuc3BsaXQoJz0nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3B5KGlkWzFdKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWkjeWIticgKyBpZFsxXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5re75YqgJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5pi+56S65ZCN56ewQOWbvueJh+mTvuaOpUBRUemfs+S5kGlkJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+agueaNruaPkOekuui+k+WFpeWGheWuuVwiOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ2VkYW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vZ2VkYW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBpbnB1dC5zcGxpdCgnQCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG5bMF0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBuWzFdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG5bMl0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4gPSBnZWRhbi5jb25jYXQoZGF0YSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCBKU09OLnN0cmluZ2lmeShnZWRhbikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lmt7vliqAnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHRhcmVhJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5q2M5Y2V5Zu+54mH6ZO+5o6l5Y+v5Lul5Zyo5q2M5Y2V5LqM57qn5rW35oql6ZW/5oyJ5aSN5Yi277yM5omA5Lul5Y+v5Lul5YWI5re75Yqg5q2M5Y2V5YaN57yW6L6R5re75Yqg5q2M5Y2V5Zu+54mH77yM5oiW6ICF6Ieq5bex6YCJ5LiA5byg5Zu+5L2c5Li65bCB6Z2i44CCJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ2VkYW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vZ2VkYW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDA7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBqLnRpdGxlICsgJ0AnICsgai5pY29uICsgJ0AnICsgai5pZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaW5kZXggKyAnLicgKyBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzMnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGouaWNvbiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKFsn57yW6L6RJywgJ+enu+S9jScsICfliKDpmaQnXSwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgoaW5kZXgsIGl0ZW0pID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSAn57yW6L6RJykgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGl0ZW0sICfmg7PopoHmm7TmjaLnmoTmrYzljZXlkI0s5q2M5Y2VaWQs5Zu+54mH6ZO+5o6lICcpLmlucHV0KChpbmRleCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ2VkYW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vZ2VkYW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBpbnB1dC5zcGxpdCgnQCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbltpbmRleF0gPSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogblswXSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IG5bMV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogblsyXSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZSgnaGlrZXI6Ly9maWxlcy9KbS9nZWRhbi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZ2VkYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5pu05pS55oiQ5YqfficgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBpbmRleCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+enu+S9jScpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+imgeenu+WKqOWIsOWTquS4quW6j+WPt+WJjemdoi/lkI7pnaInKS5pbnB1dCgoaW5kZXgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGdlZGFuID0gSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gZ2VkYW5baW5kZXhdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbi5zcGxpY2UoaW5wdXQsIDAsIHRlbXApOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPCBpbmRleCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VkYW4uc3BsaWNlKGluZGV4ICsgMSwgMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbi5zcGxpY2UoaW5kZXgsIDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCBKU09OLnN0cmluZ2lmeShnZWRhbikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/np7vkvY3miJDlip9+JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZ2VkYW4gPSBKU09OLnBhcnNlKHJlcXVlc3QoJ2hpa2VyOi8vZmlsZXMvSm0vZ2VkYW4uanNvbicpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZWRhbi5zcGxpY2UoaW5kZXgsIDEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nLCBKU09OLnN0cmluZ2lmeShnZWRhbikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yig6Zmk5oiQ5YqfficgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaW5kZXgsIGl0ZW0pLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4Kys7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4pm777iPIOaBouWkjem7mOiupCcsICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVGaWxlKCdoaWtlcjovL2ZpbGVzL0ptL2dlZGFuLmpzb24nKTsgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5oGi5aSN6buY6K6kJyAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgfSAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfigJjigJjigJnigJnlsI/kuIM8c21hbGw+IOamnOWNlTwvc21hbGw+JywgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzNfcm91bmRfZmlsbCcsICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbXVzaWMvODUuc3ZnJywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgICAgICAgICAgICAgIGxldCBnZWRhbiA9IFt7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDBpc2lZdDJiazIzZC5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYyLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLpo5nljYfmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAyTktVelIwSXRoNmouanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAyNiwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi54Ot5q2M5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMTQ5RHZkMmQ2RGZMLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMjcsICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIuaWsOatjOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDBUaTdzTDFBRlRLUS5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDQsICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIua1geihjOaMh+aVsOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDJESklpTjFtZmlqQS5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDUyLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLohb7orq/pn7PkuZDkurrljp/liJvmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAwemdKbUI0M3M3WDguanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2NywgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi5ZCs5q2M6K+G5puy5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMUtaOVpmMlNvN2U1LmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNSwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi5YaF5Zyw5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMDNBQ2ttM3JxdjRWLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNTksICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIummmea4r+WcsOWMuuamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDNxaE9iWDM5bmFqcC5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYxLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLlj7Dmub7lnLDljLrmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDA0TE1ac1oxWEFJWnIuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAzLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLmrKfnvo7mppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAzNEE2N0szRUZ4TDMuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAxNiwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi6Z+p5Zu95qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMllZZmRlMFpBREpFLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMTcsICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIuaXpeacrOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDFoeTVVUzJ3bUdsbS5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDEyNiwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiSk9PWOacrOWcsOeDreaSreamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDNWYklDVTI5SGJYSy5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDEzMCwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi6aaZ5rivVFZC5Yqy5q2M6YeR5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwNEVqRklyME9STWxTLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMTI3LCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLlj7Dmub5LS0JPWOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDF2SU1jaDJYZ1pQTC5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDU4LCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLor7TllLHmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAyRlpNVU8yMU5FbkEuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA1NywgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi55S16Z+z5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwNFg3MEJ3MHc3WDduLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNzMsICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIua4uOaIj+mfs+S5kOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDNoa04wMDBlWmpOZC5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDcyLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLliqjmvKvpn7PkuZDmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAwTkZtaU8zV1Q0OWguanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAyOSwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi5b2x6KeG6YeR5puy5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMzFQTFdJMWhiSXJuLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogNjQsICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIue7vOiJuuaWsOatjOamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDBZejUzUDNhYkNlYy5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDY1LCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLlm73po47ng63mrYzmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAxYkl4VDIwSUJtbW8uanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAzNiwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiS+atjOmHkeabsuamnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDA5ZFlMbzQ1elRtYi5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDYwLCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLmipbpn7Png63mrYzmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAwSXl0YzYwT3hsVUIuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiA2MywgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwiREroiJ7mm7LmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAzcERaeXc0VHBzODUuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAyOCwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi572R57uc5q2M5puy5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMURObnhVMnNPamxGLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMTA4LCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLnvo7lm73lhazlkYrniYzmppxcIiAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgIFwiaWNvblwiOiBcImh0dHA6Ly95Lmd0aW1nLmNuL211c2ljL3Bob3RvX25ldy9UMDAzUjUwMHg1MDBNMDAwMDAyOFJROFcwZ2xkOFYuanBnXCIsICAgICAgICAgICAgICAgICAgICAgXCJpZFwiOiAxMjksICAgICAgICAgICAgICAgICAgICAgXCJ0aXRsZVwiOiBcIumfqeWbvU1lbG9u5qacXCIgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICBcImljb25cIjogXCJodHRwOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwM1I1MDB4NTAwTTAwMDAwMTJUUXdUMTFKelJrLmpwZ1wiLCAgICAgICAgICAgICAgICAgICAgIFwiaWRcIjogMTA3LCAgICAgICAgICAgICAgICAgICAgIFwidGl0bGVcIjogXCLoi7Hlm71VS+amnFwiICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgXCJpY29uXCI6IFwiaHR0cDovL3kuZ3RpbWcuY24vbXVzaWMvcGhvdG9fbmV3L1QwMDNSNTAweDUwME0wMDAwMDBleEt5bTFXUmltdi5qcGdcIiwgICAgICAgICAgICAgICAgICAgICBcImlkXCI6IDEwNSwgICAgICAgICAgICAgICAgICAgICBcInRpdGxlXCI6IFwi5pel5pys5YWs5L+h5qacXCIgICAgICAgICAgICAgICAgIH1dOyAgICAgICAgICAgICAgICAgcmV0dXJuICQoZ2VkYW4sIDIsICflsI/kuIPmjpLooYzmppwnKS5zZWxlY3QoKGdlZGFuKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBnZWRhbi5maW5kSW5kZXgodCA9PiB0LnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBnZWRhblthXS5pZDsgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjaW1tZXJzaXZlVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKGlkKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5bCP5LiD5qac5Y2VJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmUoJ2hpa2VyOi8vZmlsZXMvSm0vZmlsZS9zaWduLmpzJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXFfMVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlOiBcIm11c2ljVG9wbGlzdC5Ub3BsaXN0SW5mb1NlcnZlclwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogXCJHZXREZXRhaWxcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRvcElkXCI6IGlkLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9mZnNldFwiOiAoTVlfUEFHRSAtIDEpICogNjAsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtXCI6IDYwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBlcmlvZFwiOiBcIlwiICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqcyA9IEpTT04ucGFyc2UocG9zdChidWlsZFVybCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWNzLmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IERhdGUubm93KCksICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduOiBzaWduKGJvZHkpICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5ICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5yZXFfMS5kYXRhOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IGpzLnNvbmdJbmZvTGlzdC5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpbmdlcjogai5zaW5nZXJbMF0ubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5hbGJ1bS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5hbGJ1bS5taWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGoubWlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGludHJvID0ganMuZGF0YS5pbnRyby5yZXBsYWNlKC88YnJcXHMqXFwvPz4vZ2ksICcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaW50cm8sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn8J+nuFxcdCcgKyBqcy5kYXRhLnRpdGxlU2hhcmUgKyAnXFxuXFxu8J+OvFxcdCcgKyBqcy5kYXRhLnRvdGFsTnVtICsgJ+mmlicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqcy5kYXRhLmZyb250UGljVXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBqLmFsYnVtID8gai5zaW5nZXIgKyAnIC0tICcgKyBqLmFsYnVtIDogai5zaW5nZXIgKyAnIC0tICcgKyBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGoucGljICsgJ0BSZWZlcmVyPScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7ICAgICByZXFfMDogeyAgICAgICAgIG1vZHVsZTogXCJ2a2V5LkdldFZrZXlTZXJ2ZXJcIiwgICAgICAgICBtZXRob2Q6IFwiQ2dpR2V0VmtleVwiLCAgICAgICAgIHBhcmFtOiB7ICAgICAgICAgICAgIGd1aWQ6IFwiMFwiLCAgICAgICAgICAgICBwbGF0Zm9ybTogXCIyMFwiLCAgICAgICAgICAgICBmaWxlbmFtZTogW1wiRjAwMFwiK2ouaWQrai5pZCtcIi5mbGFjXCJdLCAgICAgICAgICAgICBzb25nbWlkOiBbai5pZF0gICAgICAgICB9ICAgICB9IH0pOyAgICAgICAgICAgICAgbGV0IGh0bWwgPSBcImh0dHBzOi8vdS55LnFxLmNvbS9jZ2ktYmluL211c2ljdS5mY2dcIjsgIGxldCBoZWFkZXJzID0geyAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsICAgICBDb29raWU6IFwicW1fa2V5c3Q9UV9IX0xfNjNrM05HMjlucnF1OUExUVRWVFpOZ3RFeDFGQk84RU05Wmhha0pmSGVHTlpkYUpBZUFyZl9PYUVmSkpmaXZYUkRodDVheHN1XzFlVl9iM2kxWnB4Nlp3OyB1aW49NTEzNTM2NjQxXCIgfTsgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sLCB7ICAgICBtZXRob2Q6IFwiUE9TVFwiLCAgICAgYm9keTogZGF0YSwgICAgIGhlYWRlcnM6IGhlYWRlcnMgfSkpLnJlcV8wLmRhdGE7ICB2YXIgaW5mbyA9IGpzb24ubWlkdXJsaW5mbzsgaWYgKGluZm8gJiYgaW5mby5sZW5ndGggPiAwKSB7ICAgICB2YXIgdSA9IGluZm9bMF0ucHVybDsgICAgIGlmICh1ICYmIHUgIT09IFwiXCIpIHsgICAgICAgICBsZXQgc2lwID0ganNvbi5zaXA7ICAgICAgICAgaWYgKHNpcCAmJiBzaXAubGVuZ3RoID4gMCkgeyAgICAgICAgICAgICB2YXIganMgPSBzaXBbMF0gKyB1OyAgICAgICAgIH0gICAgIH0gfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZSgnaGlrZXI6Ly9maWxlcy9KbS9maWxlL3NpZ24uanMnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY3ZcIjogNDc0NzQ3NCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjdFwiOiAyNCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXRcIjogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW5DaGFyc2V0XCI6IFwidXRmLThcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvdXRDaGFyc2V0XCI6IFwidXRmLThcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RpY2VcIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJwbGF0Zm9ybVwiOiBcInlxcS5qc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibmVlZE5ld0NvZGVcIjogMSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aW5cIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnX3RrX25ld18yMDIwMDMwM1wiOiA1MzgxLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdfdGtcIjogNTM4MSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXFfMVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibW9kdWxlXCI6IFwibXVzaWMubXVzaWNoYWxsU29uZy5QbGF5THlyaWNJbmZvXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiR2V0UGxheUx5cmljSW5mb1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic29uZ01JRFwiOiBqLmlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBseXJpYyA9IEpTT04ucGFyc2UocG9zdChidWlsZFVybCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWNzLmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfOiBEYXRlLm5vdygpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpZ246IHNpZ24oYm9keSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnJlcV8xLmRhdGEubHlyaWM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gYmFzZTY0RGVjb2RlKGx5cmljKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL212X3NxLnBocD9uPTEmbXNnPScgKyBqLnRpdGxlLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMjAwMCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanNvblszXSB8fCBqc29uWzJdIHx8IGpzb25bMV0gfHwganNvblswXV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGx5cmljOiBscmMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9veatjOabsicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgcmVxXzA6IHsgICAgICAgICBtb2R1bGU6IFwidmtleS5HZXRWa2V5U2VydmVyXCIsICAgICAgICAgbWV0aG9kOiBcIkNnaUdldFZrZXlcIiwgICAgICAgICBwYXJhbTogeyAgICAgICAgICAgICBndWlkOiBcIjBcIiwgICAgICAgICAgICAgcGxhdGZvcm06IFwiMjBcIiwgICAgICAgICAgICAgZmlsZW5hbWU6IFtcIkYwMDBcIitqLmlkK2ouaWQrXCIuZmxhY1wiXSwgICAgICAgICAgICAgc29uZ21pZDogW2ouaWRdICAgICAgICAgfSAgICAgfSB9KTsgICAgICAgICAgICAgIGxldCBodG1sID0gXCJodHRwczovL3UueS5xcS5jb20vY2dpLWJpbi9tdXNpY3UuZmNnXCI7ICBsZXQgaGVhZGVycyA9IHsgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCAgICAgQ29va2llOiBcInFtX2tleXN0PVFfSF9MXzYzazNORzI5bnJxdTlBMVFUVlRaTmd0RXgxRkJPOEVNOVpoYWtKZkhlR05aZGFKQWVBcmZfT2FFZkpKZml2WFJEaHQ1YXhzdV8xZVZfYjNpMVpweDZadzsgdWluPTUxMzUzNjY0MVwiIH07ICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgbWV0aG9kOiBcIlBPU1RcIiwgICAgIGJvZHk6IGRhdGEsICAgICBoZWFkZXJzOiBoZWFkZXJzIH0pKS5yZXFfMC5kYXRhOyAgdmFyIGluZm8gPSBqc29uLm1pZHVybGluZm87IGlmIChpbmZvICYmIGluZm8ubGVuZ3RoID4gMCkgeyAgICAgdmFyIHUgPSBpbmZvWzBdLnB1cmw7ICAgICBpZiAodSAmJiB1ICE9PSBcIlwiKSB7ICAgICAgICAgbGV0IHNpcCA9IGpzb24uc2lwOyAgICAgICAgIGlmIChzaXAgJiYgc2lwLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgdmFyIHVybCA9IHNpcFswXSArIHU7ICAgICAgICAgfSAgICAgfSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkb3dubG9hZDovLycgKyB1cmwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6KeC55yLTVYnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8veGlhb2FwaS5jbi9BUEkvbXZfc3EucGhwP249MSZtc2c9JyArIGoudGl0bGUsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqc29uWzNdIHx8IGpzb25bMl0gfHwganNvblsxXSB8fCBqc29uWzBdXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuY2VuZ3VpZ3VpLmNuL2FwaS9qdWhlL2FwaS5waHA/dHlwZT1rZ212Jm49MSZtc2c9JyArIGoudGl0bGUsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmRhdGEudXJsXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd2aWRlbzovLycgKyB1cmwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgIH0sIGlkKSAgICAgICAgICAgICAgICAgfSwgZ2VkYW4pICAgICAgICAgICAgIH0pLCAgICAgICAgIH0pOyAvKue9keaYk+aOkuihjOamnOatjOWNlV/lvIDlp4sqLyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZ5bCP6Iq4PHNtYWxsPiDmppzljZU8L3NtYWxsPicsICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl8zX3JvdW5kX2ZpbGwnLCAgICAgICAgICAgICBwaWM6ICdoaWtlcjovL2ZpbGVzL0ptL2xtL211c2ljLzUxLnN2ZycsICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICBsZXQgZ2VkYW4gPSBKU09OLnBhcnNlKGZjKCdodHRwOi8vbXVzaWMuMTYzLmNvbS9hcGkvdG9wbGlzdCcsIDI0KSkubGlzdC5tYXAobCA9PiB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGwubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogbC5jb3ZlckltZ1VybCwgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGwuaWQgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJChnZWRhbiwgMiwgJ+Wwj+iKuOaOkuihjOamnCcpLnNlbGVjdCgoZ2VkYW4pID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgYSA9IGdlZGFuLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgIGxldCBpZCA9IGdlZGFuW2FdLmlkOyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+Wwj+iKuOatjOWNlScpOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHA6Ly9tdXNpYy4xNjMuY29tL2FwaS92Ni9wbGF5bGlzdC9kZXRhaWw/bj0xMDAwJmlkPScgKyBpZCwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudFwiOiBcIk1vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMTAyLjAuMC4wIFNhZmFyaS81MzcuMzZcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvb2tpZVwiOiBcIm9zPXBjOyBNVVNJQ19VPTAwMTczOTk3RTU3REMxNjExMkQyRTE1NzlGNTU1NDQ0ODEyRTUxMzNGMTZDMzQyMTNEOUJCNUUzRUNFQzgxODg0NURGOEEzMzZBM0I5RDQ5NUVFMTgyRjMwMDFBRkVBRjlFOTcxNTkxQ0NFREM0NzEzODQyRjMyOTZBMUU3OURGQjc4MTdBOEM3QkI4MTU0RkYxNTQ4MzY0OEYxODREMEU3MkQ3RDI2QTU2NUU0NDUwNzM4MDgyNDkwMkMyMTUyQ0MwQkI1REI5QTM3OUU4MEY2RjAzRDBEOThCMjc5M0EyMDMyMzAzNERFNEEwQkJCNDY3MkQ0OEY5MzYyOTYwRUYyMTM2MTUzRDAyRTdERjE0QzlDRTg0RjFGNjRDMTZFQjMwN0E1QkJCNTg2ODZDNjA5NTA4MkFBNDUwNTgzRTY0RUFDRDNFNkI1QkUwREZDQUNBOTEyNUYwMzUwNTdGRTE3QjVCREE2MUQ4OURGNUFCRDc3OTA2RjVFNUQ4NThDNzREQjJFMTc4QTNCMEU2MDk1REQ3NTUxOEQ0ODJEQzlENjEwODBBNjFEOUI3NjVEN0U5OEVCRTIzMENGMDE3Q0Q5MDIwODM5MkQzRTEwREU5NjRBNjgxMjFCNkM2NkQwOEM5MDJBOThFRDcxMTNBQUU1OUQxRTU1NTlCMDcxREU4MzEyNkI4QzI5NUM3ODBDQ0Q0QjBCNERFMzZFMzVDMDlBQTYzNDM1NUFFREUyRjg4MDk5ODcxOTI3N0U1RUY5QzdCOUNBRkZDOTBFMjc5QUFBMkJBRkNBNDRDMEE4MzUzN0Q2MDlFMkRBQTVENUQ3NzQ4NDhDOThERDI4NzExODg5NUMxQzNENjU3NDQ2NkY5MjYyREVDRTA3MjkyQUMxNTdDMURCNzBDQjcwMzk1OEE3RkU1NTM0NEUyNzM0MjJFNjlcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9KSkucGxheWxpc3Q7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gaHRtbC50cmFja3MubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNpbmdlciA9IGouYXIubWFwKG4gPT4gbi5uYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nZXI6IHNpbmdlciwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai50bnMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqLmFsLnBpY1VybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogai5pZCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWQ6IGoubXYgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGh0bWwuZGVzY3JpcHRpb24sICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ/Cfp7hcXHQnICsgaHRtbC5jcmVhdG9yLm5pY2tuYW1lICsgJ1xcblxcbvCfjrxcXHQnICsgaHRtbC50cmFja0NvdW50ICsgJ+mmlicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGh0bWwuY292ZXJJbWdVcmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogai5hbGJ1bSA/IGouc2luZ2VyICsgJyAtLSAnICsgai5hbGJ1bSA6IGouc2luZ2VyICsgJyAtLSAnICsgai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBqLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykubGF6eVJ1bGUoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vd3d3LmhobHFpbG9uZ3podS5jbi9hcGkvZGdfd3l5bXVzaWMucGhwP2JyPTcmbj0xJm51bT0mdHlwZT1qc29uJmlkPScgKyBqLmlkKSkubXVzaWNfdXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSAoJ2h0dHBzOi8vbXVzaWMuMTYzLmNvbS9zb25nL21lZGlhL291dGVyL3VybD9pZD0nICsgai5pZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxyYyA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHA6Ly9tdXNpYy4xNjMuY29tL2FwaS9zb25nL2x5cmljP29zPXBjJmx2PS0xJmt2PS0xJnR2PS0xJmlkPScgKyBqLmlkKSkubHJjLmx5cmljOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaiksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiBbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvovb3mrYzmm7InLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaGhscWlsb25nemh1LmNuL2FwaS9kZ193eXltdXNpYy5waHA/YnI9NyZuPTEmbnVtPSZ0eXBlPWpzb24maWQ9JyArIGouaWQpKS5tdXNpY191cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gKCdodHRwczovL211c2ljLjE2My5jb20vc29uZy9tZWRpYS9vdXRlci91cmw/aWQ9JyArIGouaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd25sb2FkOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqLnZpZCA9PSAnMCcpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLmNlbmd1aWd1aS5jbi9hcGkvanVoZS9hcGkucGhwP3R5cGU9a2dtdiZuPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICdodHRwczovL2h1Yi5vbm1pY3Jvc29mdC5jbi9wdWJsaWMvdmlkZW8vbmNtP3Jhdz10cnVlJnZpZD0nICsgai52aWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndmlkZW86Ly8nICsgdXJsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCBpZCkgICAgICAgICAgICAgICAgIH0sIGdlZGFuKSAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgLyrnvZHmmJPmjpLooYzmppzmrYzljZVf57uT5p2fKi8gICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZ2V0SXRlbSgna3dnZCcsICduZXcnKSA9PSAnbmV3JyA/ICfigJjigJjigJnigJnlsI/ojrQ8c21hbGw+IOacgOaWsDwvc21hbGw+JyA6ICfigJjigJjigJnigJnlsI/ojrQ8c21hbGw+IOacgOeDrTwvc21hbGw+JywgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzNfcm91bmRfZmlsbCcsICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbXVzaWMvODIuc3ZnJywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpID0+IHsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ2t3Z2QnLCBnZXRJdGVtKCdrd2dkJywgJ25ldycpID09ICduZXcnID8gJ2hvdCcgOiAnbmV3Jyk7ICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICB0b2FzdCgn5bey5YiH5o2iJyArIChnZXRJdGVtKCdrd2dkJywgJ25ldycpID09ICduZXcnID8gJ+acgOaWsOatjOWNlScgOiAn5pyA54Ot5q2M5Y2VJykpOyAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICB9KSwgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgIGRlc2M6ICfwn5GJ8J+PuyDmrYzlkI3jgIHmrYzmiYvjgIHmppzljZXlkI3np7AnLCAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAvKmlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v6K+36L6T5YWl5YWz6ZSu6K+N5pCc57SiXCI7Ki8gICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiAnaGlrZXI6Ly9sb2NhbE1lZGlhJzsgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3NzcHRfaW5wdXQnLCB0eHQpOyAvKumfs+S5kOaQnOe0ouW8leaTjl/lvIDlp4sqLyAgICAgICAgICAgICAgICAgcmV0dXJuIFwic2VsZWN0Oi8vXCIgKyBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wi5bCP5LiDXCIsIFwi5bCP6Iq4XCIsIFwi5bCP6I60XCJdLCAgICAgICAgICAgICAgICAgICAgIGF0dGFjaFZpZXc6IHRydWUsICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPT0gJ+Wwj+S4gycpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodHh0KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/kuIPmkJzntKInKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWN1LmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjdFwiOiAxOSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImN2XCI6IDE4NDUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGVcIjogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiRG9TZWFyY2hGb3JRUU11c2ljRGVza3RvcFwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibW9kdWxlXCI6IFwibXVzaWMuc2VhcmNoLlNlYXJjaENnaVNlcnZpY2VcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhcmFtXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJxdWVyeVwiOiB0eHQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibnVtX3Blcl9wYWdlXCI6IDMwLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBhZ2VfbnVtXCI6IE1ZX1BBR0UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkuZGF0ZS5kYXRhLmJvZHkuc29uZy5saXN0Lm1hcChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBqLnNpbmdlclswXS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBcImh0dHBzOi8veS5ndGltZy5jbi9tdXNpYy9waG90b19uZXcvVDAwMlIzMDB4MzAwTTAwMFwiICsgai5hbGJ1bS5taWQgKyBcIi5qcGdcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsYnVtOiBqLmFsYnVtLm5hbWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogai5taWQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ/CflI5cXHQnICsgdHh0LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfwn6e4XFx05ZCs54K56Z+z5LmQXFxuXFxu8J+OqFxcdOawuOi/nOebuOS/oee+juWlveeahOS6i+aDheWNs+WwhuWPkeeUn++8gScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb25bMF0ucGljLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uLmZvckVhY2goaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBqLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgcmVxXzA6IHsgICAgICAgICBtb2R1bGU6IFwidmtleS5HZXRWa2V5U2VydmVyXCIsICAgICAgICAgbWV0aG9kOiBcIkNnaUdldFZrZXlcIiwgICAgICAgICBwYXJhbTogeyAgICAgICAgICAgICBndWlkOiBcIjBcIiwgICAgICAgICAgICAgcGxhdGZvcm06IFwiMjBcIiwgICAgICAgICAgICAgZmlsZW5hbWU6IFtcIkYwMDBcIitqLmlkK2ouaWQrXCIuZmxhY1wiXSwgICAgICAgICAgICAgc29uZ21pZDogW2ouaWRdICAgICAgICAgfSAgICAgfSB9KTsgICAgICAgICAgICAgIGxldCBodG1sID0gXCJodHRwczovL3UueS5xcS5jb20vY2dpLWJpbi9tdXNpY3UuZmNnXCI7ICBsZXQgaGVhZGVycyA9IHsgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCAgICAgQ29va2llOiBcInFtX2tleXN0PVFfSF9MXzYzazNORzI5bnJxdTlBMVFUVlRaTmd0RXgxRkJPOEVNOVpoYWtKZkhlR05aZGFKQWVBcmZfT2FFZkpKZml2WFJEaHQ1YXhzdV8xZVZfYjNpMVpweDZadzsgdWluPTUxMzUzNjY0MVwiIH07ICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgbWV0aG9kOiBcIlBPU1RcIiwgICAgIGJvZHk6IGRhdGEsICAgICBoZWFkZXJzOiBoZWFkZXJzIH0pKS5yZXFfMC5kYXRhOyAgdmFyIGluZm8gPSBqc29uLm1pZHVybGluZm87IGlmIChpbmZvICYmIGluZm8ubGVuZ3RoID4gMCkgeyAgICAgdmFyIHUgPSBpbmZvWzBdLnB1cmw7ICAgICBpZiAodSAmJiB1ICE9PSBcIlwiKSB7ICAgICAgICAgbGV0IHNpcCA9IGpzb24uc2lwOyAgICAgICAgIGlmIChzaXAgJiYgc2lwLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgdmFyIGpzID0gc2lwWzBdICsgdTsgICAgICAgICB9ICAgICB9IH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlKCdoaWtlcjovL2ZpbGVzL0ptL2ZpbGUvc2lnbi5qcycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYm9keSA9IEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY29tbVwiOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjdlwiOiA0NzQ3NDc0LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY3RcIjogMjQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmb3JtYXRcIjogXCJqc29uXCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbkNoYXJzZXRcIjogXCJ1dGYtOFwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib3V0Q2hhcnNldFwiOiBcInV0Zi04XCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJub3RpY2VcIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBsYXRmb3JtXCI6IFwieXFxLmpzb25cIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm5lZWROZXdDb2RlXCI6IDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aW5cIjogMCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImdfdGtfbmV3XzIwMjAwMzAzXCI6IDUzODEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnX3RrXCI6IDUzODEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInJlcV8xXCI6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm1vZHVsZVwiOiBcIm11c2ljLm11c2ljaGFsbFNvbmcuUGxheUx5cmljSW5mb1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibWV0aG9kXCI6IFwiR2V0UGxheUx5cmljSW5mb1wiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicGFyYW1cIjogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNvbmdNSURcIjogai5pZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBseXJpYyA9IEpTT04ucGFyc2UocG9zdChidWlsZFVybCgnaHR0cHM6Ly91LnkucXEuY29tL2NnaS1iaW4vbXVzaWNzLmZjZycsIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF86IERhdGUubm93KCksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaWduOiBzaWduKGJvZHkpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBib2R5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5yZXFfMS5kYXRhLmx5cmljOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gYmFzZTY0RGVjb2RlKGx5cmljKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL212X3NxLnBocD9uPTEmbXNnPScgKyBqLnRpdGxlLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanNvblszXSB8fCBqc29uWzJdIHx8IGpzb25bMV0gfHwganNvblswXV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyaWM6IGxyYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L295q2M5puyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyAgICAgcmVxXzA6IHsgICAgICAgICBtb2R1bGU6IFwidmtleS5HZXRWa2V5U2VydmVyXCIsICAgICAgICAgbWV0aG9kOiBcIkNnaUdldFZrZXlcIiwgICAgICAgICBwYXJhbTogeyAgICAgICAgICAgICBndWlkOiBcIjBcIiwgICAgICAgICAgICAgcGxhdGZvcm06IFwiMjBcIiwgICAgICAgICAgICAgZmlsZW5hbWU6IFtcIkYwMDBcIitqLmlkK2ouaWQrXCIuZmxhY1wiXSwgICAgICAgICAgICAgc29uZ21pZDogW2ouaWRdICAgICAgICAgfSAgICAgfSB9KTsgICAgICAgICAgICAgIGxldCBodG1sID0gXCJodHRwczovL3UueS5xcS5jb20vY2dpLWJpbi9tdXNpY3UuZmNnXCI7ICBsZXQgaGVhZGVycyA9IHsgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLCAgICAgQ29va2llOiBcInFtX2tleXN0PVFfSF9MXzYzazNORzI5bnJxdTlBMVFUVlRaTmd0RXgxRkJPOEVNOVpoYWtKZkhlR05aZGFKQWVBcmZfT2FFZkpKZml2WFJEaHQ1YXhzdV8xZVZfYjNpMVpweDZadzsgdWluPTUxMzUzNjY0MVwiIH07ICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgbWV0aG9kOiBcIlBPU1RcIiwgICAgIGJvZHk6IGRhdGEsICAgICBoZWFkZXJzOiBoZWFkZXJzIH0pKS5yZXFfMC5kYXRhOyAgdmFyIGluZm8gPSBqc29uLm1pZHVybGluZm87IGlmIChpbmZvICYmIGluZm8ubGVuZ3RoID4gMCkgeyAgICAgdmFyIHUgPSBpbmZvWzBdLnB1cmw7ICAgICBpZiAodSAmJiB1ICE9PSBcIlwiKSB7ICAgICAgICAgbGV0IHNpcCA9IGpzb24uc2lwOyAgICAgICAgIGlmIChzaXAgJiYgc2lwLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgdmFyIHVybCA9IHNpcFswXSArIHU7ICAgICAgICAgfSAgICAgfSB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsgdXJsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ingueci01WJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3hpYW9hcGkuY24vQVBJL212X3NxLnBocD9uPTEmbXNnPScgKyBqLnRpdGxlLCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSkudXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBbanNvblszXSB8fCBqc29uWzJdIHx8IGpzb25bMV0gfHwganNvblswXV07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5jZW5ndWlndWkuY24vYXBpL2p1aGUvYXBpLnBocD90eXBlPWtnbXYmbj0xJm1zZz0nICsgai50aXRsZSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiAyMDAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLmRhdGEudXJsXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaikgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHh0KSAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICflsI/oirgnKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNpbW1lcnNpdmVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodHh0KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCflsI/oirjmkJzntKInKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cDovL211c2ljLjE2My5jb20vYXBpL3NlYXJjaC9nZXQvd2ViP3R5cGU9MSZvZmZzZXQ9MCZsaW1pdD05MCZzPScgKyB0eHQpKS5yZXN1bHQuc29uZ3MubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2luZ2VyID0gai5hcnRpc3RzLm1hcChzID0+IHMubmFtZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBzaW5nZXJbMF0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6ICdodHRwczovL3dhbmdodW4udG9wL3FxbXVzaWMvd3ltdXNpYy5waHA/dHlwZT1waWMmaWQ9JyArIGouaWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5hbGJ1bS5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGouaWQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWQ6IGoubXZpZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn8J+UjlxcdCcgKyB0eHQsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ/Cfp7hcXHTlkKzngrnpn7PkuZBcXG5cXG7wn46oXFx05rC46L+c55u45L+h576O5aW955qE5LqL5oOF5Y2z5bCG5Y+R55Sf77yBJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzoganNvblswXS5waWMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb24ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWNfdXJsOiBqLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogai5hbGJ1bSA/IGouc2luZ2VyICsgJyAtLSAnICsgai5hbGJ1bSA6IGouc2luZ2VyICsgJyAtLSAnICsgai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykubGF6eVJ1bGUoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5oaGxxaWxvbmd6aHUuY24vYXBpL2RnX3d5eW11c2ljLnBocD9icj03Jm49MSZudW09JnR5cGU9anNvbiZpZD0nICsgai5pZCkpLm11c2ljX3VybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqcyA9ICgnaHR0cHM6Ly9tdXNpYy4xNjMuY29tL3NvbmcvbWVkaWEvb3V0ZXIvdXJsP2lkPScgKyBqLmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IFtqcyArICcjaXNNdXNpYz10cnVlIyddOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBscmMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwOi8vbXVzaWMuMTYzLmNvbS9hcGkvc29uZy9seXJpYz9vcz1wYyZsdj0tMSZrdj0tMSZ0dj0tMSZpZD0nICsgai5pZCkpLmxyYy5seXJpYzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0VGl0bGU6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvovb3mrYzmm7InLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaGhscWlsb25nemh1LmNuL2FwaS9kZ193eXltdXNpYy5waHA/YnI9NyZuPTEmbnVtPSZ0eXBlPWpzb24maWQ9JyArIGouaWQpKS5tdXNpY191cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICgnaHR0cHM6Ly9tdXNpYy4xNjMuY29tL3NvbmcvbWVkaWEvb3V0ZXIvdXJsP2lkPScgKyBqLmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnZG93bmxvYWQ6Ly8nICsgdXJsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ingueci01WJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqLnZpZCA9PSAnMCcpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuY2VuZ3VpZ3VpLmNuL2FwaS9qdWhlL2FwaS5waHA/dHlwZT1rZ212Jm49MSZtc2c9JyArIGoudGl0bGUpKS5kYXRhLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICdodHRwczovL2h1Yi5vbm1pY3Jvc29mdC5jbi9wdWJsaWMvdmlkZW8vbmNtP3Jhdz10cnVlJnZpZD0nICsgai52aWQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjaW1tZXJzaXZlVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5bCP6I605pCc57SiJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vc2VhcmNoLmt1d28uY24vci5zP2NsaWVudD1rdCZwbj0nICsgKE1ZX1BBR0UgLSAxKSArICcmcm49MzAmdmlwdmVyPTEmZnQ9bXVzaWMmZW5jb2Rpbmc9dXRmOCZyZm9ybWF0PWpzb24mbW9iaT0xJmFsbD0nICsgdHh0KSkuYWJzbGlzdC5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpbWcgPSAoJ2h0dHA6Ly9pbWcxLmt3Y2RuLmt1d28uY24vc3Rhci9hbGJ1bWNvdmVyLzUwMCcgKyBqLndlYl9hbGJ1bXBpY19zaG9ydC5zcGxpdCgnMTIwJylbMV0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGouU09OR05BTUUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaW5nZXI6IGouQVJUSVNULCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGJ1bTogai5BTEJVTSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZDogai5EQ19UQVJHRVRJRCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZDogai5tdnBheWluZm8udmlkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfwn5SOXFx0JyArIHR4dCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzoganNvblswXS5waWMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ/Cfp7hcXHTlkKzngrnpn7PkuZBcXG5cXG7wn46oXFx05rC46L+c55u45L+h576O5aW955qE5LqL5oOF5Y2z5bCG5Y+R55Sf77yBJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbi5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogai50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLmxhenlSdWxlKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaGhscWlsb25nemh1LmNuL2FwaS9kZ19rdXdvbXVzaWMucGhwP249MSZ0eXBlPWpzb24mbXNnPScgKyBqLnRpdGxlKSkuZmxhY191cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL29pYXBpLm5ldC9BUEkvS3V3by8/bj0xJmJyPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBbanMgKyAnI2lzTXVzaWM9dHJ1ZSMnXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbHJjID0gSlNPTi5wYXJzZShmZXRjaChcImh0dHBzOi8vbS5rdXdvLmNuL25ld2g1L3NpbmdsZXMvc29uZ2luZm9hbmRscmM/bXVzaWNJZD1cIiArIGoucmlkKSkuZGF0YS5scmNsaXN0Lm1hcChkID0+IHvigIvigIsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gKGQudGltZSAlIDYwKS50b0ZpeGVkKDIpLnBhZFN0YXJ0KDUsICcwJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbSA9ICgoZC50aW1lIC0gcykgLyA2MCkudG9GaXhlZCgwKS5wYWRTdGFydCgyLCAnMCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdbJyArIG0gKyAnOicgKyBzICsgJ10nICsgZC5saW5lTHlyaWPigIsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignXFxuJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbHlyaWM6IGxyYyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L295q2M5puyJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGopID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vd3d3LmhobHFpbG9uZ3podS5jbi9hcGkvZGdfa3V3b211c2ljLnBocD9uPTEmdHlwZT1qc29uJm1zZz0nICsgai50aXRsZSkpLmZsYWNfdXJsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL29pYXBpLm5ldC9BUEkvS3V3by8/bj0xJmJyPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2Rvd25sb2FkOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfop4LnnItNVicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoai52aWQgPT0gJzAnKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnN1eWFudy5jbi9hcGkva2dfbXYucGhwP249MSZtc2c9JyArIGoudGl0bGUpKS5kYXRhLnVybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGh0bWwgPSBmZXRjaCgnaHR0cHM6Ly9hbnltYXRjaC5rdXdvLmNuL21vYmkucz9mPXdlYiZ1c2VyPTZmMTczY2Y5YTJhOWRhNGMmc291cmNlPWt3cGxheWVyX2FyXzEwLjguMi4yXzEzOC5hcGsmdHlwZT1nZXRfdXJsX2J5X3ZpZCZxdWFsaXR5PU1QNEhWJnAycGlkPTEmdmlkPScgKyBqLnZpZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGEgPSBodG1sLnNwbGl0KCc9JylbM107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBhLnNwbGl0KCc/JylbMF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0SXRlbSgnc3NwdF9pbnB1dCcsICcnKSwgICAgICAgICAgICAgICAgIG9uQ2hhbmdlOiAnc2V0SXRlbShcInNzcHRfaW5wdXRcIixpbnB1dCknICAgICAgICAgICAgIH0gICAgICAgICB9KTsgLyrpn7PkuZDmkJzntKLlvJXmk45f57uT5p2fKi8gICAgIH0gLyrlm7rlrprnv7vpobUx57uT5p2fKi8gLyrphbfmiJHpn7PkuZDmrYzljZVf5byA5aeLKi8gICAgIGxldCBrd2dkID0gZ2V0SXRlbSgna3dnZCcsICduZXcnKTsgICAgIGxldCBodG1sID0gKCdodHRwOi8vd2FwaS5rdXdvLmNuL2FwaS9wYy9jbGFzc2lmeS9wbGF5bGlzdC9nZXRSY21QbGF5TGlzdD9sb2dpblVpZD0wJmxvZ2luU2lkPTAmYXBwVWlkPTc2MDM5NTc2JiZwbj0nICsgTVlfUEFHRSArICcmcm49MzYmb3JkZXI9JyArIGt3Z2QpOyAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZldGNoKGh0bWwpKS5kYXRhOyAgICAganNvbi5kYXRhLm1hcChkYXRhID0+IHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZGF0YS5uYW1lLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzMnLCAgICAgICAgICAgICBwaWM6IGRhdGEuaW1nLCAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2ltbWVyc2l2ZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKChkYXRhKSA9PiB7ICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+Wwj+iOtOatjOWNlScpOyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIGxldCBodG1sID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9tLmt1d28uY24vbmV3aDVhcHAvd2FwaS9hcGkvd3d3L3BsYXlsaXN0L3BsYXlMaXN0SW5mbz9waWQ9JyArIGRhdGEuaWQgKyAnJnJuPTMwJnVhPSZpcD0mcG49JyArIE1ZX1BBR0UpKS5kYXRhOyAgICAgICAgICAgICAgICAgbGV0IGpzb24gPSBodG1sLm11c2ljTGlzdC5tYXAoaiA9PiB7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGoubmFtZSwgICAgICAgICAgICAgICAgICAgICAgICAgc2luZ2VyOiBqLmFydGlzdCwgICAgICAgICAgICAgICAgICAgICAgICAgYWxidW06IGouYWxidW0sICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMsICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBqLnJpZCwgICAgICAgICAgICAgICAgICAgICAgICAgdmlkOiBqLm12cGF5aW5mby52aWQsICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWU6IGouc29uZ1RpbWVNaW51dGVzICAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBodG1sLm5hbWUsICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogaHRtbC5pbWc3MDAgfHwgaHRtbC51UGljLCAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn8J+nuFxcdCcgKyBodG1sLnVzZXJOYW1lICsgJ1xcblxcbvCfjrxcXHQnICsgZGF0YS50b3RhbCArICfpppYnLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgIGpzb24ubWFwKGogPT4geyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGouYWxidW0gPyBqLnNpbmdlciArICcgLS0gJyArIGouYWxidW0gOiBqLnNpbmdlciArICcgLS0gJyArIGoudGl0bGUsICAgICAgICAgICAgICAgICAgICAgICAgIHBpYzogai5waWMgKyAnQFJlZmVyZXI9JywgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoaikgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3d3dy5oaGxxaWxvbmd6aHUuY24vYXBpL2RnX2t1d29tdXNpYy5waHA/bj0xJnR5cGU9anNvbiZtc2c9JyArIGoudGl0bGUpKS5mbGFjX3VybDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIganMgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL29pYXBpLm5ldC9BUEkvS3V3by8/bj0xJmJyPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gW2pzICsgJyNpc011c2ljPXRydWUjJ107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBscmMgPSBKU09OLnBhcnNlKGZldGNoKFwiaHR0cHM6Ly9tLmt1d28uY24vbmV3aDUvc2luZ2xlcy9zb25naW5mb2FuZGxyYz9tdXNpY0lkPVwiICsgai5pZCkpLmRhdGEubHJjbGlzdC5tYXAoZCA9PiB74oCL4oCLICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzID0gKGQudGltZSAlIDYwKS50b0ZpeGVkKDIpLnBhZFN0YXJ0KDUsICcwJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtID0gKChkLnRpbWUgLSBzKSAvIDYwKS50b0ZpeGVkKDApLnBhZFN0YXJ0KDIsICcwJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnWycgKyBtICsgJzonICsgcyArICddJyArIGQubGluZUx5cmlj4oCLICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuam9pbignXFxuJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSwgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfkuIvovb3mrYzmm7InLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuaGhscWlsb25nemh1LmNuL2FwaS9kZ19rdXdvbXVzaWMucGhwP249MSZ0eXBlPWpzb24mbXNnPScgKyBqLnRpdGxlKSkuZmxhY191cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL29pYXBpLm5ldC9BUEkvS3V3by8/bj0xJmJyPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdkb3dubG9hZDovLycgKyB1cmwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBqKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6KeC55yLTVYnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChqKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqLnZpZCA9PSAnMCcpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5zdXlhbncuY24vYXBpL2tnX212LnBocD9uPTEmbXNnPScgKyBqLnRpdGxlKSkuZGF0YS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbCA9IGZldGNoKCdodHRwczovL2FueW1hdGNoLmt1d28uY24vbW9iaS5zP2Y9d2ViJnVzZXI9NmYxNzNjZjlhMmE5ZGE0YyZzb3VyY2U9a3dwbGF5ZXJfYXJfMTAuOC4yLjJfMTM4LmFwayZ0eXBlPWdldF91cmxfYnlfdmlkJnF1YWxpdHk9TVA0SFYmcDJwaWQ9MSZ2aWQ9JyArIGoudmlkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gaHRtbC5zcGxpdCgnPScpWzNdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGIgPSBhLnNwbGl0KCc/JylbMF07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gYjsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIHVybCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGopICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgIH0sIGRhdGEpLCAgICAgICAgIH0pOyAgICAgfSk7IC8q6YW35oiR6Z+z5LmQ5q2M5Y2VX+e7k+adnyovICAgICBzZXRSZXN1bHQoZCk7IH0p4oCLIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xOC5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfc21hbGxfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi6JmO54mZ55u05pKtIiwidGl0bGUiOiLomY7niZkiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBsZXQgZCA9IFtdOyAgICAgbGV0IGdpZCA9IGdldEl0ZW0oJ+iZjueJmScsICcnKTsgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzkzLnBuZyc7ICAgICB2YXIgZmVubGVpID0gW3sgICAgICAgICB0aXRsZTogXCLmmJ/np4BcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8xNjYzLU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjE2NjNcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuminOWAvFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzIxNjgtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjE2OFwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5Y6f5YibXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvNjg2MS1NUy5qcGdcIiwgICAgICAgICBpZDogXCI2ODYxXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpn7PkuZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8zNzkzLU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjM3OTNcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuS4gOi1t+eci1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzIxMzUtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjEzNVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5LqM5qyh5YWDXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMjYzMy1NUy5qcGdcIiwgICAgICAgICBpZDogXCIyNjMzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlqLHkuZDlpKnlnLBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8xMDAwMjItTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMTAwMDIyXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlkIPllp3njqnkuZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8xMDAwNDQtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMTAwMDQ0XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLkuqTlj4tcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS80MDc5LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjQwNzlcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuaIt+WkllwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzIxNjUtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjE2NVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5peF5ri4XCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvNjc5MS1NUy5qcGdcIiwgICAgICAgICBpZDogXCI2NzkxXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLkvZPogrJcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8yMzU2LU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjIzNTZcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuenkeaKgFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzI0MDgtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjQwOFwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5rS+5a+5XCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvNzc4NS1NUy5qcGdcIiwgICAgICAgICBpZDogXCI3Nzg1XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLoi7Hpm4TogZTnm59cIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vaHV5YWltZy5tc3N0YXRpYy5jb20vY2RuaW1hZ2UvZ2FtZS8xLU1TLmpwZ1wiLCAgICAgICAgIGlkOiBcIjFcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIueOi+iAheiNo+iAgFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzIzMzYtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjMzNlwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5ZKM5bmz57K+6IuxXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2h1eWFpbWcubXNzdGF0aWMuY29tL2NkbmltYWdlL2dhbWUvMzIwMy1NUy5qcGdcIiwgICAgICAgICBpZDogXCIzMjAzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCJDRuaJi+a4uFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9odXlhaW1nLm1zc3RhdGljLmNvbS9jZG5pbWFnZS9nYW1lLzI0MTMtTVMuanBnXCIsICAgICAgICAgaWQ6IFwiMjQxM1wiICAgICB9XTsgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogJ+iZjueJmeebtOaSrScsICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgZGVzYzogJ+WIh+aNoicsICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICB1cmw6ICQoZmVubGVpLCAzLCAn5YiH5o2i5YiG57G7Jykuc2VsZWN0KChmZW5sZWkpID0+IHsgICAgICAgICAgICAgICAgIGxldCBpID0gZmVubGVpLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpOyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGZlbmxlaVtpXS5pZDsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+iZjueJmScsIHVybCk7ICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgIH0sIGZlbmxlaSksICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgZGVzYzogJ+i+k+WFpeS9oOaDs+aQnOe0oueahCcsICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gXCJ0b2FzdDovL+ivt+i+k+WFpeWFs+mUruivjeaQnOe0olwiOyAgICAgICAgICAgICAgICAgdmFyIHR4dCA9IGlucHV0OyAgICAgICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHR4dCkgPT4geyAgICAgICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn5pCc57SiJyArICfigJwnICsgdHh0ICsgJ+KAnScpOyAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3NlYXJjaC5jZG4uaHV5YS5jb20vP209U2VhcmNoJmRvPWdldFNlYXJjaENvbnRlbnQmcGx0PW0mcT0nICsgdHh0ICsgJyZ1aWQ9MCZhcHA9MTEmdj00JnR5cD0tNSZzdGFydD0nICsgTVlfUEFHRSArICcmcm93cz0yJykpOyAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgICAgICAgICBsZXQgaiA9IGpzb24ucmVzcG9uc2VbXCIzXCJdLmRvY3MuZm9yRWFjaChqID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gai5yb29tX2lkOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogai5nYW1lX2ludHJvZHVjdGlvbiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLmdhbWVOYW1lICsgJ+KAoicgKyBqLmdhbWVfbmljaywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZzogai5nYW1lX3NjcmVlbnNob3QsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBbJ3ZpZGVvOi8vaHR0cHM6Ly9jZnNzLmNjL2Nkbi9oeS8nICsgaWQgKyAnLmZsdicsICd2aWRlbzovL2h0dHBzOi8vbS5odXlhLmNvbS8nICsgaWQsICd2aWRlbzovL2h0dHBzOi8vZXBnLjExMjExNC54eXovaHV5YS8nICsgaWRdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaWQpLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICB9LCB0eHQpICAgICAgICAgICAgIH0pLCAgICAgICAgIH0pOyAgICAgfSAgICAgdHJ5IHsgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vd3d3Lmh1eWEuY29tL2NhY2hlLnBocD9tPUxpdmVMaXN0JmRvPWdldExpdmVMaXN0QnlQYWdlJnRhZ0FsbD0wJnBhZ2U9JyArIE1ZX1BBR0UgKyAnJmdhbWVJZD0nICsgZ2lkKSkuZGF0YS5kYXRhczsgICAgIH0gY2F0Y2gge30gICAgIGpzb24ubWFwKGRhdGEgPT4geyAgICAgICAgIHZhciBpZCA9IGRhdGEucHJvZmlsZVJvb207ICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgdGl0bGU6IGRhdGEubmljaywgICAgICAgICAgICAgZGVzYzogZGF0YS5pbnRyb2R1Y3Rpb24sICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgIHBpY191cmw6IGRhdGEuc2NyZWVuc2hvdCwgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFsndmlkZW86Ly9odHRwczovL2Nmc3MuY2MvY2RuL2h5LycgKyBpZCArICcuZmx2JywgJ3ZpZGVvOi8vaHR0cHM6Ly9tLmh1eWEuY29tLycgKyBpZCwgJ3ZpZGVvOi8vaHR0cHM6Ly9lcGcuMTEyMTE0Lnh5ei9odXlhLycgKyBpZF07ICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgIHVybHM6IHVybCwgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgIH0sIGlkKSwgICAgICAgICB9KTsgICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjIxLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF9zbWFsbF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLnlLXop4bnlLXlj7AiLCJ0aXRsZSI6IueUteinhiIsInVybCI6IkBqczogdmFyIGxpdmUgPSBbeyAgICAnbmFtZSc6ICfwn46XIOeUteinhumikemBkycsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2xpdmUuanNvbid9LCB7ICAgICduYW1lJzogJ/CfqoUg6LaF57qn55S16KeGJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvbGl2ZVByby5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+QryDomY7niZnlvbHpmaInLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9oeXl5Lmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn6eyIOaYn+mpsOeUteW9sScsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL3p4Y2R5Lmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn5O7IOebtOaSreS4reWbvScsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL3piemcuanNvbid9LCB7ICAgICduYW1lJzogJ/Cfjpkg57qi5q2M6Z+z5LmQJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvaGd5eS5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+ToSDnlLXlj7Dlub/mkq0nLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9kdGdiLmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn5GYIOmfqeWbveWls+WboicsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2hnbnQuanNvbid9LCB7ICAgICduYW1lJzogJ/CfkoMg5bm/5Zy66Iie6LmIJywgICAgJ3VybCc6ICdoaWtlcjovL2ZpbGVzL0ptL2xpdmUvZ2N3ZC5qc29uJ30sIHsgICAgJ25hbWUnOiAn8J+TgCDliqjmhJ/oiJ7mm7InLCAgICAndXJsJzogJ2hpa2VyOi8vZmlsZXMvSm0vbGl2ZS9kZ3dxLmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn5CsIOaWl+mxvOW9semZoicsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2R5eXFrLmpzb24nfSwgeyAgICAnbmFtZSc6ICfwn5O6IOaAgOaXp+W9seeJhycsICAgICd1cmwnOiAnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2hqeXAuanNvbid9XTt2YXIgdCA9IGxpdmUubWFwKGwgPT4gbC5uYW1lKTskKHQsIDIsICfor7fpgInmi6knKS5zZWxlY3QoKGxpdmUpID0+IHsgICAgdmFyIHR4dCA9IGlucHV0OyAgICBsZXQgdCA9IGxpdmUuZmluZEluZGV4KGwgPT4gbC5uYW1lID09IHR4dCk7ICAgIHZhciB1ID0gbGl2ZVt0XS51cmw7ICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKHUsIHR4dCkgPT4geyAgICAgICAgc2V0UGFnZVRpdGxlKHR4dCk7ICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2godSkpLmRhdGE7ICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLCAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgICAgZGVzYzogJ+ivt+i+k+WFpeWFs+mUruivjScsICAgICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoanNvbikgPT4geyAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc2VhcmNoKG5hbWUpIHsgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganNvbi5maWx0ZXIoaXRlbSA9PiBpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuYW1lLnRvTG93ZXJDYXNlKCkpKTsgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIGxldCByZXN1bHRzID0gc2VhcmNoKGlucHV0KTsgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA+IDApIHsgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eScpLnJ1bGUoKHJlc3VsdHMpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGltZyA9ICgnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE5NS5wbmcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5mb3JFYWNoKHIgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogci5uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl8yX3JvdW5kJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKHIpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IHIudXJsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHIpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaGVyaXRUaXRsZTogZmFsc2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICB9LCByZXN1bHRzKSAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5rKh5pyJ5om+5YiwJyAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9LCBqc29uKSAgICAgICAgICAgIH0pOyAgICAgICAgICAgIGpzb24uZm9yRWFjaChhID0+IHsgICAgICAgICAgICAgICAgbGV0IHVybCA9ICgnaGlrZXI6Ly9maWxlcy9KbS9saXZlL2R0Z2IuanNvbicpOyAgICAgICAgICAgICAgICBsZXQgaW1nID0gKCdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjIxLnBuZycpOyAgICAgICAgICAgICAgICBsZXQgaW1ncyA9ICgnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI1OC5wbmcnKTsgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhLm5hbWUsICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fMl9yb3VuZCcsICAgICAgICAgICAgICAgICAgICBwaWM6IHUgPT0gdXJsID8gaW1ncyA6IGltZywgICAgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoYSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnVybCA9PSBcIlwiKSByZXR1cm4gJ3RvYXN0Oi8v5L2g5ZKL5LiN5pS+6ZO+5o6l5Zie77yBJzsgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gYS51cmw7ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsczogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICB9LCBhKSwgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdFRpdGxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICB9KTsgICAgICAgIH0gY2F0Y2gge30gICAgICAgIHNldFJlc3VsdChkKTsgICAgfSwgdSwgdHh0KX0sIGxpdmUpOyIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjA1LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF9zbWFsbF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjIsIm5hbWUiOiLlronljZPlo4HnurhUIiwiY29kZSI6InRyciA9IFt7XG4gICAgJ3RpdGxlJzogJ+acgOaWsCcsXG4gICAgJ2lkJzogJydcbn0sIHtcbiAgICAndGl0bGUnOiAn576O5aWzJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwMCdcbn0sIHtcbiAgICAndGl0bGUnOiAn5Yqo5ryrJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwMydcbn0sIHtcbiAgICAndGl0bGUnOiAn6aOO5pmvJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwMidcbn0sIHtcbiAgICAndGl0bGUnOiAn5ri45oiPJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwNydcbn0sIHtcbiAgICAndGl0bGUnOiAn5paH5a2XJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzUxMDllMDRlNDhkNWI5MzY0YWU5YWM0NSdcbn0sIHtcbiAgICAndGl0bGUnOiAn6KeG6KeJJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRmYjQ3OWY3NWJhMWM2NTU2MTAwMDAyNydcbn0sIHtcbiAgICAndGl0bGUnOiAn5oOF5oSfJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlZjBhMzVjMDU2OTc5NTc1NjAwMDAwMCdcbn0sIHtcbiAgICAndGl0bGUnOiAn6K6+6K6hJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRmYjQ3YTE5NWJhMWM2MGNhNTAwMDIyMidcbn0sIHtcbiAgICAndGl0bGUnOiAn5piO5pifJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzUxMDllMDUyNDhkNWI5MzY4YmI1NTlkYydcbn0sIHtcbiAgICAndGl0bGUnOiAn54mp6K+tJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRmYjQ3YTQ2NWJhMWM2NTU2MTAwMDAyOCdcbn0sIHtcbiAgICAndGl0bGUnOiAn55S35Lq6JyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwNidcbn0sIHtcbiAgICAndGl0bGUnOiAn5py65qKwJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwNSdcbn0sIHtcbiAgICAndGl0bGUnOiAn5Z+O5biCJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRmYjQ3YTMwNWJhMWM2MGNhNTAwMDIyMydcbn0sIHtcbiAgICAndGl0bGUnOiAn5Yqo54mpJyxcbiAgICAnaWQnOiAnL2NhdGVnb3J5LzRlNGQ2MTBjZGY3MTRkMjk2NjAwMDAwMSdcbn1dO1xudmFyIHRpaSA9IGdldEl0ZW0oJ3RpZCcsICcnKTtcbnZhciB0aWQgPSB0cnIubWFwKGkgPT4gaS5pZCk7XG5ubyA9ICcjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnO1xudXJsID0gJ2h0dHA6Ly9zZXJ2aWNlLnBpY2Fzc28uYWRlc2suY29tL3YxL3ZlcnRpY2FsJyArIHRpaSArICcvdmVydGljYWw/bGltaXQ9MzAmc2tpcD1meXBhZ2VALTFAKjMwQCNhdXRvUGFnZSMnICsgbm87XG5be1xuICAgIHRpdGxlOiAn5aOB57q4JyxcbiAgICBjb2xfdHlwZTogJ2ljb25fcm91bmRfc21hbGxfNCcsXG4gICAgaW1nOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE2Ny5wbmcnLFxuICAgIHVybDogJCh1cmwpLnJ1bGUoKCkgPT4ge1xuICAgICAgICBkID0gSlNPTi5wYXJzZShnZXRSZXNDb2RlKCkpLnJlcy52ZXJ0aWNhbC5tYXAoaHRtbCA9PiAoe1xuICAgICAgICAgICAgdGl0bGU6ICcnLFxuICAgICAgICAgICAgdXJsOiBodG1sLnByZXZpZXcgKyAnIy5qcGcnLFxuICAgICAgICAgICAgaW1nOiBodG1sLnByZXZpZXcsXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3BpY18xX2Z1bGwnXG4gICAgICAgIH0pKTtcbiAgICAgICAgc2V0UmVzdWx0KGQpO1xuICAgIH0pLFxuICAgIGV4dHJhOiB7XG4gICAgICAgIGxvbmdDbGljazogW3tcbiAgICAgICAgICAgIHRpdGxlOiAn8J+UhOWIh+aNouWIhuexuycsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygodHJyLCB0aWQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IHRyci5tYXAodCA9PiB0LnRpdGxlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJChuYW1lLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KCh0cnIsIHRpZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSB0cnIuZmluZEluZGV4KHQgPT4gdC50aXRsZSA9PSBpbnB1dCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB0cnJbdGl0bGVdLmlkO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0aWQnLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInXG4gICAgICAgICAgICAgICAgfSwgdHJyLCB0aWQpXG4gICAgICAgICAgICB9LCB0cnIsIHRpZClcbiAgICAgICAgfV1cbiAgICB9XG59XTsifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuiBmuWQiOefreinhumikeino+aekCIsInRpdGxlIjoi6Kej5p6QIiwidXJsIjoiQGpzOiAkKFt7ICAgIHRpdGxlOiAn6KeG6aKR6Kej5p6QJywgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vcS8zNS5wbmcnfSwgeyAgICB0aXRsZTogJ+Wbvumbhuino+aekCcsICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvNS5wbmcnfSwgeyAgICB0aXRsZTogJ+mfs+mikeino+aekCcsICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvMTI1LnBuZyd9LCB7ICAgIHRpdGxlOiAn5YWo5rCRS+atjCcsICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL3EvMjAucG5nJ31dLCAyLCAn6K+36YCJ5oupJykuc2VsZWN0KCgpID0+IHsgICAgaWYgKGlucHV0ID09ICfop4bpopHop6PmnpAnKSB7ICAgICAgICByZXR1cm4gJCgne3tjbGlwYm9hcmR9fScsICfmipbpn7Mv5b+r5omL562J6KeG6aKR5YiG5Lqr6ZO+5o6lJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v6K+36L6T5YWl5YiG5Lqr6ZO+5o6lXCI7ICAgICAgICAgICAgdmFyIHVybCA9IGlucHV0Lm1hdGNoKC8oaHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvKSgoXFx3fD18XFw/fFxcLnxcXC98JnwtKSspL2cpOyAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgnJyk7ICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICBDcnlwdG9VdGlsID0gJC5yZXF1aXJlKFwiaGlrZXI6Ly9hc3NldHMvY3J5cHRvLWphdmEuanNcIik7ICAgICAgICAgICAgICAgICAgICBzdHJfa2V5ID0gQ3J5cHRvVXRpbC5EYXRhLnBhcnNlVVRGOChcIkJINk14SFRHWDJjVVVHUmRXQWc1VnQyMGF3dWNRc2lRXCIpOyAgICAgICAgICAgICAgICAgICAgc3RyX2l2ID0gQ3J5cHRvVXRpbC5EYXRhLnBhcnNlVVRGOChcIjdSVUswWFFZTERNcU5Xb2JcIik7ICAgICAgICAgICAgICAgICAgICBhZXMgPSB3b3JkID0+IENyeXB0b1V0aWwuQUVTLmRlY3J5cHQod29yZCwgc3RyX2tleSwgeyAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IFwiQUVTL0NCQy9QS0NTNVBhZGRpbmdcIiwgICAgICAgICAgICAgICAgICAgICAgICBpdjogc3RyX2l2ICAgICAgICAgICAgICAgICAgICB9KS50b1N0cmluZygpOyAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKEpTT04ucGFyc2UoYWVzKHJlcXVlc3QoXCJodHRwczovL2FsbGRvd24ubWFnaWN0b29sLmNuL3Byby9xc3lBcGkucGhwP3VybD1cIiArIHVybCArIFwiLyZ0b2tlbj1sS0tsbjIzOVdFT2pmd2VMTEFQMDJKTnNcIikpKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgIHZhciBzcCA9IHsgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToganNvbi50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGpzb24udmlkZW8gPyBqc29uLnVybCA6IGpzb24uZG93biwgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly92ZGRzLm1heWlzb3NvLmNvbS9hcGkvdjIvMkVERTU3MTI5ODE1NTQ2OUU5NDVBREM5QkU4QkQ4MEMxMDBEMTkvNTMvP3VybD0nICsgdXJsKSkuZGF0YTsgICAgICAgICAgICAgICAgICAgIHZhciBzcCA9IHsgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToganNvbi50aXRsZSwgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGpzb24udmlkZW8gPyBqc29uLnVybCA6IGpzb24uZG93biwgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gc3AudGl0bGUucmVwbGFjZSgvWyBdfCN8JnwvZywgJycpOyAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICBkZXNjOiAnZmxvYXQmJjY0MCcsICAgICAgICAgICAgICAgICAgICB1cmw6IHNwLnVybCwgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLCAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9veinhumikScsICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLCAgICAgICAgICAgICAgICAgICAgdXJsOiAnZG93bmxvYWQ6Ly8nICsgc3AudXJsLCAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICBwYWdlVGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgIH0sIHVybCkgICAgICAgIH0pICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+Wbvumbhuino+aekCcpIHsgICAgICAgIHJldHVybiAkKCd7e2NsaXBib2FyZH19JywgJ+aKlumfsy/lv6vmiYvlm77pm4bliIbkuqvpk77mjqUnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXliIbkuqvpk77mjqVcIjsgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh1cmwpID0+IHsgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgaWYgKC9kb3V5aW4vLnRlc3QodXJsKSkgeyAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3ZpcC5hcGloei5jbi9hcGkvZnVuL2RvdXlpbi5waHA/aWQ9MTAwMDE3Mjcma2V5PWMzZGQ3Y2YzYTZmYzAzMDZiYTZkOGE4NzBlZTUwMGI0JnVybD0nICsgdXJsKSk7ICAgICAgICAgICAgICAgICAgICB2YXIgdGogPSB7ICAgICAgICAgICAgICAgICAgICAgICAgbXVzaWM6IGpzb24ueXZpZGVvLCAgICAgICAgICAgICAgICAgICAgICAgIHBpYzoganNvbi5pbWFnZXMsICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL3h1bmh1aXNpLnN0b3JlL0FQSS9BbmFseXNpcy9rdWFpc2hvdS5waHA/bXNnPScgKyB1cmwpKTsvKnZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly92ZGRzLm1heWlzb3NvLmNvbS9hcGkvdjIvMkVERTU3MTI5ODE1NTQ2OUU5NDVBREM5QkU4QkQ4MEMxMDBEMTkvNTMvP3VybD0nICsgdXJsKSkuZGF0YTsqLyAgICAgICAgICAgICAgICAgICAgdmFyIHRqID0geyAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljOiBqc29uLmF1ZGlvVXJsfHwnJywgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGpzb24uaW1hZ2VzLCAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgICAgICAgICB1cmw6IHRqLm11c2ljLCAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgdGoucGljLm1hcChpbWcgPT4gZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICBwaWM6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICB1cmw6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgIH0pKTsgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgIH0sIHVybCkgICAgICAgIH0pICAgIH0gZWxzZSBpZiAoaW5wdXQgPT0gJ+mfs+mikeino+aekCcpIHsgICAgICAgIHJldHVybiAkKCd7e2NsaXBib2FyZH19JywgJ+aKlumfsy/lv6vmiYvnrYnpn7Pop4bpopHliIbkuqvpk77mjqUnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXliIbkuqvpk77mjqVcIjsgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh1cmwpID0+IHsgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShyZXF1ZXN0KFwiaHR0cHM6Ly9hcGkuem0uaW8udm4vdjEvc29jaWFsL2F1dG9saW5rP2FwaWtleT10ZWxlX3RxJnVybD1cIiArIHVybCkpOyAgICAgICAgICAgICAgICAgICAgdmFyIHlwID0geyAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqc29uLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljOiBqc29uLm1lZGlhc1szXS51cmwsICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uLnRodW1ibmFpbCwgICAgICAgICAgICAgICAgICAgIH07ICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgICAgICAgICAgICAgICAgICAgIENyeXB0b1V0aWwgPSAkLnJlcXVpcmUoXCJoaWtlcjovL2Fzc2V0cy9jcnlwdG8tamF2YS5qc1wiKTsgICAgICAgICAgICAgICAgICAgIHN0cl9rZXkgPSBDcnlwdG9VdGlsLkRhdGEucGFyc2VVVEY4KFwiQkg2TXhIVEdYMmNVVUdSZFdBZzVWdDIwYXd1Y1FzaVFcIik7ICAgICAgICAgICAgICAgICAgICBzdHJfaXYgPSBDcnlwdG9VdGlsLkRhdGEucGFyc2VVVEY4KFwiN1JVSzBYUVlMRE1xTldvYlwiKTsgICAgICAgICAgICAgICAgICAgIGFlcyA9IHdvcmQgPT4gQ3J5cHRvVXRpbC5BRVMuZGVjcnlwdCh3b3JkLCBzdHJfa2V5LCB7ICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogXCJBRVMvQ0JDL1BLQ1M1UGFkZGluZ1wiLCAgICAgICAgICAgICAgICAgICAgICAgIGl2OiBzdHJfaXYgICAgICAgICAgICAgICAgICAgIH0pLnRvU3RyaW5nKCk7ICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoSlNPTi5wYXJzZShhZXMocmVxdWVzdChcImh0dHBzOi8vYWxsZG93bi5tYWdpY3Rvb2wuY24vcHJvL3FzeUFwaS5waHA/dXJsPVwiICsgdXJsICsgXCIvJnRva2VuPWxLS2xuMjM5V0VPamZ3ZUxMQVAwMkpOc1wiKSkpKS5kYXRhOyAgICAgICAgICAgICAgICAgICAgdmFyIHlwID0geyAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqc29uLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgIG11c2ljOiBqc29uLnVybCA/IGpzb24uZG93biA6IGpzb24udmlkZW8sICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uLmNvdmVyID8ganNvbi5jb3ZlciA6IGpzb24uZG93bmxvYWRfaW1hZ2UsICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHlwLnRpdGxlLnJlcGxhY2UoL1sgXXwjfCZ8L2csICcnKTsgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSwgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICBwaWM6IHlwLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykubGF6eVJ1bGUoKHlwKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFg1V2ViVmlldygnJyk7ICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlwLm11c2ljICsgJyNpc011c2ljPXRydWUjJyAgICAgICAgICAgICAgICAgICAgfSwgeXApLCAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgZGVzYzogJzAnLCAgICAgICAgICAgICAgICAgICAgdXJsOiB5cC5tdXNpYywgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+S4i+i9vemfs+mikScsICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLCAgICAgICAgICAgICAgICAgICAgdXJsOiAnZG93bmxvYWQ6Ly8nICsgeXAubXVzaWMsICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUaXRsZTogdGl0bGUsICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgfSwgdXJsKSAgICAgICAgfSkgICAgfSBlbHNlIHsgICAgICAgIHJldHVybiAkKCd7e2NsaXBib2FyZH19JywgJ+ivt+i+k+WFpeWFqOawkUvmrYzliIbkuqvpk77mjqUnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXliIbkuqvpk77mjqVcIjsgICAgICAgICAgICB2YXIgdXJsID0gaW5wdXQubWF0Y2goLyhodHRwOlxcL1xcL3xodHRwczpcXC9cXC8pKChcXHd8PXxcXD98XFwufFxcL3wmfC0pKykvZyk7ICAgICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh1cmwpID0+IHsgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkudW9tZy5jb20vYXBpL2dldC5rZz9zb25ndXJsPScgKyB1cmwpKS5kYXRhOyAgICAgICAgICAgICAgICAgICAgdmFyIGtnID0geyAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGpzb24uc29uZ19uYW1lLCAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjoganNvbi5rZ19uaWNrLCAgICAgICAgICAgICAgICAgICAgICAgIHBpYzoganNvbi5waWMsICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBqc29uLnBsYXl1cmwsICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHA6Ly9hcGkuY212aXAuY24vQVBJL3Fta2d6bGp4LnBocD91cmw9JyArIHVybCkpLmRhdGE7ICAgICAgICAgICAgICAgICAgICB2YXIga2cgPSB7ICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToganNvbi5zb25nX25hbWUsICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBqc29uLmF1dGhvci5hdmF0YXIsICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBqc29uLnBpYywgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGpzb24ubXVzaWNsaW5rLCAgICAgICAgICAgICAgICAgICAgfTsgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtnLm5hbWUgKyAn4oCiJyArIGtnLmF1dGhvciwgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICBwaWM6IGtnLnBpYyArICdAUmVmZXJlcj0nLCAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykubGF6eVJ1bGUoKGtnKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGtnLnVybCArICcjaXNNdXNpYz10cnVlIyc74oCLICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxyYyA9IGZldGNoKCdodHRwczovL2FwaS41MnZteS5jbi9hcGkvbXVzaWMvbHJjP3Rva2VuPTQzMGVkYzAzYzg3OGQ2YzM1NDViNzMzMjNkYjA2ZWQyJm49MSZtc2c9JyArIGtnLm5hbWUgKyAnICcgKyBrZy5hdXRob3IpOyAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggeyAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdCgn5q2M6K+N6I635Y+W5aSx6LSlJyk7ICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hYNVdlYlZpZXcoJycpOyAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybHM6IFt1cmxdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICBseXJpYzogbHJjICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgIH0sIGtnKSwgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgICAgICAgIHVybDoga2cudXJsLCAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5LiL6L296Z+z6aKRJywgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsICAgICAgICAgICAgICAgICAgICB1cmw6ICdkb3dubG9hZDovLycgKyBrZy51cmwsICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgIHBhZ2VUaXRsZToga2cubmFtZSArICfigKInICsga2cuYXV0aG9yLCAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgIH0sIHVybCkgICAgICAgIH0pICAgIH19KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjUzLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF9zbWFsbF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmipbpsbznm7Tmkq0iLCJ0aXRsZSI6IuaKlumxvCIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIGxldCBkID0gW107ICAgICBsZXQgZmxfaWQgPSBnZXRJdGVtKCfmlpfpsbwnLCAnJyk7ICAgICBsZXQgaW1nID0gJ2h0dHBzOi8vYXBpLnhpbmFjLm5ldC9pY29uLz91cmw9aHR0cHM6Ly9tLmRvdXl1LmNvbSc7ICAgICB2YXIgZmVubGVpID0gW3sgICAgICAgICB0aXRsZTogXCLljp/liJtJUFwiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9jcy1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMWM0ZjliM2UwZGIyNDYxMDg3OWZhZjFlMDQxZDUzZDUuanBnXCIsICAgICAgICAgaWQ6IFwiaXBcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIuS4gOi1t+eci1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyL2FmNjllZWIxOTQzYTk0NDRkMjM2MmE3ZjA2YzIyZGM2LnBuZ1wiLCAgICAgICAgIGlkOiBcInlxa1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5LqM5qyh5YWDXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMzQ2ZjQ4ZjQzNzk0NmNkMmVmMmEwMGJiMDMxNGU2ZjMuanBnXCIsICAgICAgICAgaWQ6IFwiZWN5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpn7PkuZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZHljYXRyL2dhbWVfY2F0ZS9mZTIxMTkzYzcyNTM3YmFkM2NkOTkxN2Q2N2U0YjAyYy5wbmdcIiwgICAgICAgICBpZDogXCJtdXNpY1wiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5oi35aSWXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2NzLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9nYW1lX2NhdGUvYjI0YjcxNmIyYTEzYmMwYjc1ODYzMmU1YjIwZTA4MzUucG5nXCIsICAgICAgICAgaWQ6IFwiSFdcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIue+jumjn1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyLzY5NTk0OWE1MWQyMjU0OGEyNjg4MDIzNWNiNmY5YzEzLnBuZ1wiLCAgICAgICAgIGlkOiBcIm1zXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlv4PliqjmtL7lr7lcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8xOWRhMWYyNGJjNTRjM2ZjNWI1ZGNhOWFmMzk5M2E4NS5wbmdcIiwgICAgICAgICBpZDogXCJ4ZHBkXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpn7PpgYfmgYvkurpcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9mYTU2YTI3MTMwNWJmZDg2NDIxZGVlODg1MWUwYTA3Ny5wbmdcIiwgICAgICAgICBpZDogXCJ5aW55dVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5pif56eAXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvMTMwNTRiZDUwNjhiMDhkNzcxNmEyMDdlZmU2ZTRiMDEucG5nXCIsICAgICAgICAgaWQ6IFwieGluZ3hpdVwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5b+D5YqoRk1cIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9kOGNkNGE5YmZkMDQyNWNiYTE3MzlhNjM5MmM0NjIxNS5wbmdcIiwgICAgICAgICBpZDogXCJkdHhzXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlqLHkuZDmjqjojZBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci82ZGVmNzIzNWRjNWUwMTA1NzVlYzMyNTQ0MjVjYzJiZi5wbmdcIiwgICAgICAgICBpZDogXCJ5bHRqXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLpopzlgLxcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vY3Mtb3AuZG91eXVjZG4uY24vZHljYXRyL2dhbWVfY2F0ZS9kMTU0NmNmZDNmN2Y5ODU3MTlmODk0NDk2ZjJhN2IyZS5wbmdcIiwgICAgICAgICBpZDogXCJ5elwiICAgICB9LCB7ICAgICAgICAgdGl0bGU6IFwi5o6o6I2QXCIsICAgICAgICAgaWNvbjogXCJodHRwczovL2NzLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci9nYW1lX2NhdGUvMDZkOGQ0ZDc5ZWQyZjQ0NGRkNmQ4OGUzNzRjN2NkNDIucG5nXCIsICAgICAgICAgaWQ6IFwiXCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLnjovogIXojaPogIBcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8wZDk2ZDYzZWU5NTUwNzI4YWNkODk5ZDY2ZWVlMzYyNS5wbmdcIiwgICAgICAgICBpZDogXCJ3enJ5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLlkozlubPnsr7oi7FcIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci84NTYwZWI0Y2JhOWU3MzRhMGQ3NDA4ZjZhOWI5ZWZiOC5wbmdcIiwgICAgICAgICBpZDogXCJocGp5XCIgICAgIH0sIHsgICAgICAgICB0aXRsZTogXCLoi7Hpm4TogZTnm59cIiwgICAgICAgICBpY29uOiBcImh0dHBzOi8vc3RhLW9wLmRvdXl1Y2RuLmNuL2R5Y2F0ci8xZGUxZWE1MjE1YjUxM2NmNGY1YjNjMzI2ZjVmOTY1Ny5wbmdcIiwgICAgICAgICBpZDogXCJMT0xcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIueDremXqOa4uOaIj1wiLCAgICAgICAgIGljb246IFwiaHR0cHM6Ly9zdGEtb3AuZG91eXVjZG4uY24vZHljYXRyL2U4ZDJmMmRlY2EyMDI1ZWMxMjg3NGQ2ZDY3OTI0ODlhLnBuZ1wiLCAgICAgICAgIGlkOiBcInJteXhcIiAgICAgfSwgeyAgICAgICAgIHRpdGxlOiBcIkNG5omL5ri4XCIsICAgICAgICAgaWNvbjogXCJodHRwczovL3N0YS1vcC5kb3V5dWNkbi5jbi9keWNhdHIvZmIyNmNjNzViNWQ4Nzc3ZjI4N2IyY2EwOTQ3ZjVkZjYucG5nXCIsICAgICAgICAgaWQ6IFwiQ0ZTWVwiICAgICB9XTsgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogJ+aWl+mxvOebtOaSrScsICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgZGVzYzogJ+WIh+aNoicsICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICB1cmw6ICQoZmVubGVpLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KChmZW5sZWkpID0+IHsgICAgICAgICAgICAgICAgIGxldCBpID0gZmVubGVpLmZpbmRJbmRleCh0ID0+IHQudGl0bGUgPT0gaW5wdXQpOyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGZlbmxlaVtpXS5pZDsgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+aWl+mxvCcsIHVybCk7ICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgIH0sIGZlbmxlaSksICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgZGVzYzogJ+i+k+WFpeS9oOaDs+aQnOe0oueahCcsICAgICAgICAgICAgIHVybDogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICBpZiAoIWlucHV0KSByZXR1cm4gJ3RvYXN0Oi8v6K+36L6T5YWl5YWz6ZSu6K+N5pCc57SiJzsgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDsgICAgICAgICAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCh0eHQpID0+IHsgICAgICAgICAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+aQnOe0oicgKyAn4oCcJyArIHR4dCArICfigJ0nKTsgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly93d3cuZG91eXUuY29tL2phcGkvc2VhcmNoL2FwaS9zZWFyY2hTaG93P2t3PScgKyB0eHQgKyAnJnBhZ2U9JyArIE1ZX1BBR0UgKyAnJnBhZ2VTaXplPTIwJykpLmRhdGE7ICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgICAgICAgICAgICAgIGxldCBqcyA9IGpzb24ucmVsYXRlU2hvdy5mb3JFYWNoKGogPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBqLnJpZDsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGoubmlja05hbWUgKyAn8J+UuScgKyBqLmhvdCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqLmNhdGVOYW1lICsgJ+KAoicgKyBqLnJvb21OYW1lLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nOiBqLnJvb21TcmMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBhID0gJ2h0dHA6Ly96enk3ODkueHl6L2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiID0gJ2h0dHA6Ly9tYW9tYW8ua2FuZGlhbnR2LmNuL2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSBbJ3ZpZGVvOi8vJyArIGEsICd2aWRlbzovLycgKyBiXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGlkKSwgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgfSwgdHh0KSAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgICAgIH0gICAgIHRyeSB7ICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL20uZG91eXUuY29tL2FwaS9yb29tL2xpc3Q/bGltaXQ9MjAmcGFnZT0nICsgTVlfUEFHRSArICcmdHlwZT0nICsgZmxfaWQpKS5kYXRhOyAgICAgfSBjYXRjaCB7fSAgICAganNvbi5saXN0Lm1hcChkYXRhID0+IHsgICAgICAgICB2YXIgaWQgPSBkYXRhLnJpZDsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogZGF0YS5yb29tTmFtZSwgICAgICAgICAgICAgZGVzYzogZGF0YS5uaWNrbmFtZSArICfwn5S5JyArIGRhdGEuaG4sICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgIHBpY191cmw6IGRhdGEucm9vbVNyYywgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChpZCkgPT4geyAgICAgICAgICAgICAgICAgbGV0IGE9ICdodHRwOi8venp5Nzg5Lnh5ei9kb3V5dTEucGhwP2lkPScgKyBpZDsgICAgICAgICAgICAgICAgIGxldCBiID0gJ2h0dHA6Ly9tYW9tYW8ua2FuZGlhbnR2LmNuL2RvdXl1MS5waHA/aWQ9JyArIGlkOyAgICAgICAgICAgICAgICAgbGV0IHVybCA9IFsndmlkZW86Ly8nICsgYSwgJ3ZpZGVvOi8vJyArIGJdOyAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9LCBpZCksICAgICAgICAgfSk7ICAgICB9KTsgICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzI2My5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfc21hbGxfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5LiA5Liq5Zu+5paHIiwidGl0bGUiOiLlm77mlociLCJ1cmwiOiJAanM6ICQoW3sgICAgIHRpdGxlOiAn5LuK5pel54Ot5qacJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMTAucG5nJyB9LCB7ICAgICB0aXRsZTogJ+eMq+ecvOeUteW9sScsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzE3MS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn56eS5oeC5paw6Ze7JywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn5pel5bi46IGK5aSpJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjUucG5nJyB9LCB7ICAgICB0aXRsZTogJ+S4gOS4quWbvuaWhycsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzQ4LnBuZycgfSwgeyAgICAgdGl0bGU6ICflvIDnnLzop4bpopEnLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNjEucG5nJyB9LCB7ICAgICB0aXRsZTogJ+WOhuWPsuS7iuWkqScsICAgICBpY29uOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMwMy5wbmcnIH0sIHsgICAgIHRpdGxlOiAn57uE5Lu25bGV56S6JywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjEzLnBuZycgfV0sIDIsICfor7fpgInmi6knKS5zZWxlY3QoKCkgPT4geyAgICAgaWYgKGlucHV0ID09ICfku4rml6Xng63mppwnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IHVybCA9IFwiaHR0cHM6Ly9yZWJhbmcudG9kYXkvXCI7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXCJ4NV93ZWJ2aWV3X3NpbmdsZVwiLCAgICAgICAgICAgICAgICAgdXJsOiB1cmwsICAgICAgICAgICAgICAgICBkZXNjOiBcImZsb2F0JiYxMDAlXCIsICAgICAgICAgICAgICAgICB0aXRsZTogXCJcIiwgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgIHVybEludGVyY2VwdG9yOiAkLnRvU3RyaW5nKChteSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuc3RhcnRzV2l0aChteSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50b1N0cmluZygodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmeV9icmlkZ2VfYXBwLm9wZW4oSlNPTi5zdHJpbmdpZnkoeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcIuivpuaDhVwiLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJoaWtlcjovL2VtcHR5XCIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluZFJ1bGU6IFwianM6XCIgKyAkJCQudG9TdHJpbmcoKHUpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGpzID0gJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC50aXRsZSAmJiBkb2N1bWVudC50aXRsZS5sZW5ndGgpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSAkJCQoKS5sYXp5UnVsZSgodCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKHQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBkb2N1bWVudC50aXRsZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ5X2JyaWRnZV9hcHAucGFyc2VMYXp5UnVsZShyKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnlfYnJpZGdlX2FwcC5sb2coZS50b1N0cmluZygpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChbeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1LCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IFwieDVfd2Vidmlld19zaW5nbGVcIiwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiBqcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6IFwiMTAwJSYmZmxvYXRcIiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdXJsKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGlucHV0KSAgICAgICAgICAgICAgICAgICAgIH0sIHVybCkgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn54yr55y855S15b2xJykgeyAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZnVsbFRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+eMq+ecvOeUteW9sScpOyAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICBsZXQgbXlfbGlzdCA9IGdldEl0ZW0oJ21hb3lhbicsICdtb3ZpZU9uSW5mb0xpc3QnKTsgICAgICAgICAgICAgbGV0IGpzb24gPSBKU09OLnBhcnNlKGZjKCdodHRwczovL20ubWFveWFuLmNvbS9hamF4LycgKyBteV9saXN0ICsgJz9jaT0mdG9rZW49JmxpbWl0PTAnLCAxMikpLm1vdmllSWRzOyAgICAgICAgICAgICBpZiAoTVlfUEFHRSA9PSAxKSB7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn54yr55y855S15b2xJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiBnZXRJdGVtKCdtYW95YW4nLCAnbW92aWVPbkluZm9MaXN0JykgPT0gJ21vdmllT25JbmZvTGlzdCcgPyAn5q2j5Zyo54Ot5pigJyA6ICfljbPlsIbkuIrmmKAnLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICAgICAgICAgICAgICBwaWM6ICdodHRwczovL2Zhdmljb24ucXFzdXUuY24vaHR0cHM6Ly9tLm1hb3lhbi5jb20vJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdtYW95YW4nLCBnZXRJdGVtKCdtYW95YW4nLCAnbW92aWVPbkluZm9MaXN0JykgPT0gJ21vdmllT25JbmZvTGlzdCcgPyAnY29taW5nTGlzdCcgOiAnbW92aWVPbkluZm9MaXN0Jyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoJ+W3suWIh+aNoicgKyAoZ2V0SXRlbSgnbWFveWFuJywgJ21vdmllT25JbmZvTGlzdCcpID09ICdtb3ZpZU9uSW5mb0xpc3QnID8gJ+ato+WcqOeDreaYoCcgOiAn5Y2z5bCG5LiK5pigJykpOyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknICAgICAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGxldCBuID0gTVlfUEFHRTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uLnNsaWNlKDAsIDYpOyAgICAgICAgICAgICB9IGVsc2UgaWYgKE1ZX1BBR0UgPT4gMikgeyAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBqc29uLnNsaWNlKG4gKiA2IC0gNiwgbiAqIDYpOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGRhdGEubWFwKGogPT4geyAgICAgICAgICAgICAgICAgbGV0IGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9tLm1hb3lhbi5jb20vYWpheC9kZXRhaWxtb3ZpZT9tb3ZpZUlkPScgKyBqKSk7ICAgICAgICAgICAgICAgICBsZXQgeHEgPSBqcy5kZXRhaWxNb3ZpZTsgICAgICAgICAgICAgICAgIGxldCBkZXNjID0gKHhxLmNhdCArICdcXG4nICsgeHEuc3RhciArICdcXG4nICsgeHEucHViRGVzYykucmVwbGFjZSgvdW5kZWZpbmVkL2csICcnKTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHhxLm5tICsgJ1xcblxcbvCflLknICsgeHEuZGlyLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGRlc2MsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpYycsICAgICAgICAgICAgICAgICAgICAgcGljX3VybDogeHEuaW1nID8geHEuaW1nIDogeHEudmlkZW9JbWcsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IyNmdWxsVGhlbWUjJykucnVsZSgoeHEpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKHhxLm5tKTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4cS5ubSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICflm77niYcnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGljOiB4cS5pbWcgPyB4cS5pbWcgOiB4cS52aWRlb0ltZywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZ2FtZVRoZW1lIycpLnJ1bGUoKHhxKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhxLnBob3RvcyA9PSBudWxsKSByZXR1cm4gJ3RvYXN0Oi8v5pyo5pyJ5Zu+54mH5ZOm44CCJzsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhxLnBob3Rvcy5tYXAoaW1nID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGltZyArICcjLmpwZycsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHhxKSwgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2xpc3QmJjIwMCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHhxLnZpZGVvdXJsID8geHEudmQgOiAnJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0b1BsYXk6IHRydWUsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JpZ19ibGFua19ibG9jaycsICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0ID0gc3RvcmFnZTAuZ2V0SXRlbSgnbWFveWFuX3NlYXJjaCcsICdbXCLpnZLosYZcIiwgXCLogZrlvbFcIiwgXCLpo47lvbFcIiwgXCLkupHnm5jlkJsu566AXCJdJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbihsKSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBsLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF80JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL3NlYXJjaD9ydWxlPScgKyBsICsgJyZzPScgKyB4cS5ubSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+abtOaUueaQnOe0oicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGxpc3QsICfmg7PopoHmm7TmlLnnmoTmkJzntKLlsI/nqIvluo/lkI3np7AnKS5pbnB1dCgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnNldEl0ZW0oJ21hb3lhbl9zZWFyY2gnLCBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGxpc3QpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmgaLlpI3pu5jorqQnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySXRlbSgnbWFveWFuX3NlYXJjaCcsIGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdiaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmVfYmxhbmsnLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4cS52aWRlb05hbWUgPyB4cS52aWRlb05hbWUgKyAnXFxuXFxuJyArIHhxLmRyYSA6IHhxLmRyYSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCB4cSksICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSAn56eS5oeC5paw6Ze7JykgeyAgICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+enkuaHguaWsOmXuycpOyAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmYygnaHR0cDovL2V4Y2VycHQucnViYW9vLmNvbS90b29sbWFuL2dldE1pbmlOZXdzJywgOCkpLmRhdGE7ICAgICAgICAgICAgICAgICBsZXQgeXkgPSAnaHR0cHM6Ly95dWFueGlhcGkuY24vYXBpL3ZvaWNlLz9wZXI9MCZwaXQ9LTUmc3BkPTUuNSZ0ZXh0PeeOsOWcqOS4uuaCqOaSreaKpeaWsOmXuycgKyBqc29uLm5ld3M7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICcwJiZmbG9hdCcsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9jYXJkJywgICAgICAgICAgICAgICAgICAgICBpbWc6IGpzb24uaGVhZF9pbWFnZSwgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+aXpeacn++8micgKyBqc29uLmRhdGUsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCh5eSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoWDVXZWJWaWV3KHl5KTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgICAgICAgICAgICAgICAgIH0sIHl5KSAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBqc29uLndlaXl1LCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIGpzb24ud2VpeXUsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIGpzb24ubmV3cy5tYXAoaXRlbSA9PiB7ICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsb25nX3RleHQnLCAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbSwgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHRTaXplOiAnMTcnICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgfSBjYXRjaCB7fSAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfml6XluLjogYrlpKknKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfml6XluLjogYrlpKnlrqQnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgIHVybDogJ2h0dHBzOi8vbmljaGlqb3UuY24vJywgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfkuIDkuKrlm77mlocnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9tLnd1ZmF6aHVjZS5jb20vb25lJywgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICflvIDnnLzop4bpopEnKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+W8gOecvOinhumikScpOyAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgZnVuY3Rpb24ganNvbih1cmwpIHsgICAgICAgICAgICAgICAgIHRyeSB7ICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKHVybCkpOyAgICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0ganNvbi5pdGVtTGlzdDsgICAgICAgICAgICAgICAgIH0gY2F0Y2gge30gICAgICAgICAgICAgICAgIGl0ZW0uZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09IFwidmlkZW9cIikgeyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaW1nID0gaXRlbS5kYXRhLmNvdmVyLmZlZWQucmVwbGFjZSgnYWxpLWFsaS0nLCAnYWxpLScpLnNwbGl0KCc/JylbMF07ICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS5kYXRhLnRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8yJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGltZywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJ3ZpZGVvOi8vJyArIGl0ZW0uZGF0YS5wbGF5VXJsLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICB9OyAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBwdXRWYXIoJ24nLCBqc29uLm5leHRQYWdlVXJsKTsgICAgICAgICAgICAgfTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAganNvbignaHR0cDovL2Jhb2JhYi5rYWl5YW5hcHAuY29tL2FwaS92NC90YWJzL3NlbGVjdGVkJyk7ICAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgICBuZXh0cCA9IGdldFZhcignbicpOyAgICAgICAgICAgICAgICAganNvbihuZXh0cCk7ICAgICAgICAgICAgIH0gICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfljoblj7Lku4rlpKknKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjaW1tZXJzaXZlVGhlbWUjI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRQYWdlVGl0bGUoJ+WOhuWPsuS4iueahOS7iuWkqScpOyAgICAgICAgICAgICB0cnkgeyAgICAgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZjKCdodHRwczovL3FxbHlrbS5jbi9hcGkvaGlzdG9yeS9nZXQ/a2V5PTc5UjhXMDI0ZndFaFBhcWJrY2NweExhTGltJywgOCkpOyAgICAgICAgICAgICB9IGNhdGNoIHt9ICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgIGxldCBpbWcgPSAnaHR0cHM6Ly9xcWx5a20uY24vYXBpL2JpbmcvZ2V0P2tleT03OVI4VzAyNGZ3RWhQYXFia2NjcHhMYUxpbSZ0eXBlPXJhbmQnICsgJyMnICsgRGF0ZS5ub3coKSArICcjLmpwZyc7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogJ+W/hemhu+iupOecn+WvueW+heWOhuWPsuS6i+Wunizku6XmraPop4blkKzmraPpnaLlkJHmnKrmnaXjgIInLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgICAgICAgICAgICAgICAgIGRlc2M6ICfljoblj7LmmK/kuIDpnaLmsLjkuI3opKroibLnmoTplZzlrZDvvIzlroPlsZXnjrDnnYDkurrnsbvmlofmmI7nmoTov5vnqIvvvIzkuZ/orrDlvZXnnYDkurrnsbvnmoTnvarmgbbkuI7mgrLliafjgIInICsganNvbi5kYXRlLCAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICB1cmw6IGltZywgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIGpzb24uZGF0YS5tYXAodSA9PiBkLnB1c2goeyAgICAgICAgICAgICAgICAgdGl0bGU6IHUueWVhciArICflubQ6ICcgKyB1LnRpdGxlLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgZGVzYzogJ+eCueWHu+afpeeci+S6uueJqeivpuaDhScsICAgICAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeScpLnJ1bGUoKHUpID0+IHsgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiAnZmxvYXQmJjEwMCUnLCAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHUudXJsLCAgICAgICAgICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICB9LCB1KSwgICAgICAgICAgICAgfSkpOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSkgICAgIH0gZWxzZSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn57uE5Lu25bGV56S6Jyk7ICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9pbWFnZXMvaG9tZV9iZyc7ICAgICAgICAgICAgIGxldCBiYXNlRWxlbWVudHMgPSBbJ3RleHRfMScsICd0ZXh0X2NlbnRlcl8xJywgJ3RleHRfMicsICd0ZXh0XzMnLCAndGV4dF80JywgJ3RleHRfNScsICdmbGV4X2J1dHRvbicsICdzY3JvbGxfYnV0dG9uJ107ICAgICAgICAgICAgIGxldCBwaWNFbGVtZW50cyA9IFsncGljXzFfZnVsbCcsICdwaWNfMycsICdwaWNfM19zcXVhcmUnXTsgICAgICAgICAgICAgbGV0IGljb25FbGVtZW50cyA9IFsndGV4dF9pY29uJywgJ2F2YXRhcicsICdpY29uXzFfc2VhcmNoJywgJ21vdmllXzEnLCAnbW92aWVfMV9sZWZ0X3BpYycsICdtb3ZpZV8xX3ZlcnRpY2FsX3BpYycsICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJywgJ21vdmllXzInLCAnbW92aWVfMycsICdtb3ZpZV8zX21hcnF1ZWUnLCAncGljXzEnLCAncGljXzFfY2FyZCcsICdwaWNfMicsICdwaWNfMl9jYXJkJywgJ2ljb25fMicsICdpY29uXzJfcm91bmQnLCAnaWNvbl9zbWFsbF8zJywgJ2ljb25fM19yb3VuZF9maWxsJywgJ2ljb25fNCcsICdpY29uXzRfY2FyZCcsICdpY29uX3NtYWxsXzQnLCAnaWNvbl9yb3VuZF80JywgJ2ljb25fcm91bmRfc21hbGxfNCcsICdpY29uXzUnLCAnY2FyZF9waWNfMl8yJywgJ2NhcmRfcGljXzJfMl9sZWZ0JywgJ2NhcmRfcGljXzMnLCAnY2FyZF9waWNfM19jZW50ZXInXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnaW5wdXQnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsICAgICAgICAgICAgICAgICBkZXNjOiAn6K+05piO77ya54K55Ye75Y2z5aSN5Yi25qC35byPIScsICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnY29weTovL2lucHV0JyAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBiYXNlRWxlbWVudHMuZm9yRWFjaCh3ID0+IGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogdywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiB3LCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycgKyB3LCAgICAgICAgICAgICB9KSk7ICAgICAgICAgICAgIHBpY0VsZW1lbnRzLmZvckVhY2gocCA9PiB7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vJyArIHAsICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IHAsICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycgKyBwLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBpY29uRWxlbWVudHMuZm9yRWFjaChpID0+IHsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGksICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6IGksICAgICAgICAgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovLycgKyBpLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXJkX3BpY18xJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMScsICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly9jYXJkX3BpY18xJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdjYXJkX3BpY18yJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMicsICAgICAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgICAgICBwaWM6IGltZywgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly9jYXJkX3BpY18yJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMScsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8veDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2xvbmdfdGV4dCcsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfMicsICAgICAgICAgICAgICAgICB1cmw6ICdjb3B5Oi8vbG9uZ190ZXh0JywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdyaWNoX3RleHQnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzInLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL3JpY2hfdGV4dCcsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnbGluZScsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2ZsZXhfYnV0dG9uJywgICAgICAgICAgICAgICAgIHVybDogJ2NvcHk6Ly9saW5lJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdsaW5lX2JsYW5rJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnZmxleF9idXR0b24nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2xpbmVfYmxhbmsnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmVfYmxhbmsnLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICB0aXRsZTogJ2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnZmxleF9idXR0b24nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdibGFua19ibG9jaycsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnZmxleF9idXR0b24nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2JpZ19ibGFua19ibG9jaycsICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgdGl0bGU6ICdiaWdfYmlnX2JsYW5rX2Jsb2NrJywgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnZmxleF9idXR0b24nLCAgICAgICAgICAgICAgICAgdXJsOiAnY29weTovL2JpZ19iaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JpZ19iaWdfYmxhbmtfYmxvY2snLCAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IH0pIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yMTMucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kX3NtYWxsXzQifV0sImZvbGRfc3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjozfSx7Im5hbWUiOiLlqLHkuZDkuabnrb7nu4QiLCJtYXJrIjoi5byA5YWzIiwibGlzdCI6W3sic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5ZOU5ZOp6Iie6LmI6KeG6aKRIiwidGl0bGUiOiLlk5Tlk6kiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ0Lnq5noiJ7ouYgnKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgcmlkID0gZ2V0SXRlbSgncmlkJywgJzE5OScpOyAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiAn5ZOU5ZOp6Iie6LmIJywgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgcGljOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMzNi5wbmcnLCAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgdmFyIGxpc3QgPSBbeyAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6ICfml6XluLgnLCAgICAgICAgICAgICAgICAgICAgICdyaWQnOiAnMjEnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+mfs+S5kCcsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyOCcgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAndGl0bGUnOiAn546w5Zy6JywgICAgICAgICAgICAgICAgICAgICAncmlkJzogJzI5JyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICd0aXRsZSc6ICflroXoiJ4nLCAgICAgICAgICAgICAgICAgICAgICdyaWQnOiAnMjAnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+ihl+iInicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxOTgnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+aYjuaYnycsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxOTknICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+WbvemjjicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyMDAnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+e9kee6oicsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcyNTUnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ3RpdGxlJzogJ+e7vOWQiCcsICAgICAgICAgICAgICAgICAgICAgJ3JpZCc6ICcxNTQnICAgICAgICAgICAgICAgICB9XTsgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IGxpc3QubWFwKGkgPT4gaS50aXRsZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aXRsZSwgMywgJ+ivt+mAieaLqeS4gOS4quWIhuexuycpLnNlbGVjdCgobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgIGxldCB1ID0gbGlzdC5maW5kSW5kZXgoaSA9PiBpLnRpdGxlID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICBsZXQgaWQgPSBsaXN0W3VdLnJpZDsgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdyaWQnLCBpZCk7ICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInICAgICAgICAgICAgICAgICB9LCBsaXN0KSAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+i+k+WFpUNvb2tpZV9zZXNzZGF0YScsICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgYmlsaSA9IGdldEl0ZW0oJ2JpbGlfaW5wdXQnLCAnJyk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGJpbGksICdDb29raWXkuK3nmoRzZXNzZGF0YVxcbui+k+WFpeWQjuaJjeWPr+ingueci+mrmOa4heinhumikScpLmlucHV0KCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v5LiN6IO95Li656m6XCI7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdHh0ID0gaW5wdXQ7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCdDb29raWVfc2Vzc2RhdGEnLCB0eHQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnYmlsaV9pbnB1dCcsIHR4dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Y+v5Lul6KeC55yL6auY5riF6KeG6aKR5ZWmJyAgICAgICAgICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgfSAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9KTsgICAgIH0gICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9hcGkuYmlsaWJpbEkuY29tL3gvd2ViLWludGVyZmFjZS9uZXdsaXN0P3R5cGU9MCZwbj0nICsgTVlfUEFHRSArICcmcHM9MTAwJmpzb25wPWpzb25wJnJpZD0nICsgcmlkKSkuZGF0YTsgICAgIGpzb24uYXJjaGl2ZXMubWFwKGh0bWwgPT4geyAgICAgICAgIHZhciBidmlkID0gaHRtbC5idmlkOyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBodG1sLnRpdGxlLCAgICAgICAgICAgICBkZXNjOiBodG1sLnRuYW1lLCAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzNfbWFycXVlZScsICAgICAgICAgICAgIHBpY191cmw6IGh0bWwucGljICsgJ0BSZWZlcmVyPScsICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5sYXp5UnVsZSgoYnZpZCkgPT4geyAgICAgICAgICAgICAgICAgdmFyIHVybCA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vYXBpLnBlYXJrdHJ1ZS5jbi9hcGkvYmlsaWJpbGkvcGFyc2UucGhwP2J2aWQ9JyArIGJ2aWQgKyAnJnNlc3NkYXRhPScgKyBnZXRJdGVtKCdDb29raWVfc2Vzc2RhdGEnKSkpLmRhdGEudmlkZW9zLm1hcChkYXRhID0+IGRhdGEudmlkZW91cmwpOyAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHsgICAgICAgICAgICAgICAgICAgICB1cmxzOiB1cmwsICAgICAgICAgICAgICAgICB9KSAgICAgICAgICAgICB9LCBidmlkKSwgICAgICAgICB9KTsgICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzM2LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLkvJHpl7LmuLjmiI8iLCJ0aXRsZSI6Iua4uOaIjyIsInVybCI6IkBqczogJChbeyAgICAgdGl0bGU6ICfmuLjkvqDmuLjmiI8nLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS81OS5wbmcnIH0sIHsgICAgIHRpdGxlOiAn57K+6YCJ5ri45oiPJywgICAgIGljb246ICdoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMzAwLnBuZycgfSwgeyAgICAgdGl0bGU6ICfooZfmnLrmuLjmiI8nLCAgICAgaWNvbjogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8xNTcucG5nJyB9XSwgMiwgJ+ivt+mAieaLqScpLnNlbGVjdCgoKSA9PiB74oCLICAgICBpZiAoaW5wdXQgPT0gJ+a4uOS+oOa4uOaIjycpIHvigIsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCcnKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGlkID0gZ2V0SXRlbSgn5ri45L6gJywgJzQnKTsgICAgICAgICAgICAgdmFyIGh0bWwgPSAoJ2h0dHBzOi8vdS5hbGkyMTMubmV0Jyk7ICAgICAgICAgICAgIGxldCBwYWdlID0gTVlfUEFHRTsgICAgICAgICAgICAgbGV0IHVybCA9IGZldGNoKGh0bWwgKyAnL2xpc3QvJyArIHBhZ2UgKyAnXycgKyBpZCArICcuaHRtbCcpOzsgICAgICAgICAgICAgbGV0IGxpc3QgPSBwZGZhKHVybCwgJ2JvZHkmJi5jb2wtbGctMy5jb2wtbWQtNC5jb2wtc20tNi5jb2wteHMtMTInKTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a4uOS+oOWwj+a4uOaIjycsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFt7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICflpbPlrankuJPpopgnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzEnICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+S9k+iCsuernuaKgCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnMicgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5qih5ouf5ri45oiPJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6ICczJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfkvJHpl7Lnm4rmmbonLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzQnICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+inkuiJsuaJrua8lCcsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnNScgICAgICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn6aOe6KGM5bCE5Ye7JywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdpZCc6ICc2JyAgICAgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICfmo4vniYzlqLHkuZAnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJzcnICAgICAgICAgICAgICAgICAgICAgICAgIH1dOyAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZSA9IGxpc3QubWFwKGxpc3QgPT4gbGlzdC5uYW1lKTsgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQobmFtZSwgMywgJ+ivt+mAieaLqeWIhuexuycpLnNlbGVjdCgobGlzdCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBsaXN0LmZpbmRJbmRleChsaXN0ID0+IGxpc3QubmFtZSA9PSBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXJsID0gbGlzdFtpXS5pZDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+a4uOS+oCcsIHVybCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2iJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsaXN0KSAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5pCc57SiJywgICAgICAgICAgICAgICAgICAgICBkZXNjOiAn6L6T5YWl5L2g5oOz5pCc57Si55qEJywgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2lucHV0JywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudG9TdHJpbmcoKGh0bWwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnB1dCkgcmV0dXJuIFwidG9hc3Q6Ly/or7fovpPlhaXlhbPplK7or43mkJzntKJcIjsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR4dCA9IGlucHV0OyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnaHR0cHM6Ly91LmFsaTIxMy5uZXQvc2VhcmNoLnBocD9rZXl3b3JkPScgKyB0eHQgKyAnI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5IycpLnJ1bGUoKGh0bWwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IHBkZmEoZ2V0UmVzQ29kZSgpLCAnLmNvbnRhaW5lci1mbHVpZCwxJiYuY29sLWxnLTMnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbGlzdCkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmxpbmsmJlRleHQnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmhpdHMmJlRleHQnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWMgPSBwZGZoKGxpc3RbaV0sICdpbWcmJnNyYycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCA9IHBkZmgobGlzdFtpXSwgJy50cmFuc2Zvcm1iYXJsaW5rJiZhJiZocmVmJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjOiBkZXNjLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaWM6IGh0bWwgKyBwaWMsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJChodG1sICsgdXJsICsgJyNnYW1lVGhlbWUjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IFtdOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHBkKGdldFJlc0NvZGUoKSwgJ2JvZHkmJi5kdHBsYXkmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICAgICAgfSwgaHRtbCkgICAgICAgICAgICAgICAgICAgICB9LCBodG1sKSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gbGlzdCkgeyAgICAgICAgICAgICAgICAgdGl0bGUgPSBwZGZoKGxpc3RbaV0sICcudHJhbnNmb3JtYmFybGluayYmVGV4dCcpOyAgICAgICAgICAgICAgICAgZGVzYyA9IHBkZmgobGlzdFtpXSwgJy50cmFuc2Zvcm1iYXJoaXRzJiZUZXh0Jyk7ICAgICAgICAgICAgICAgICBwaWMgPSBwZGZoKGxpc3RbaV0sICdpbWcmJnNyYycpOyAgICAgICAgICAgICAgICAgdXJsID0gcGRmaChsaXN0W2ldLCAnLnRyYW5zZm9ybWJhcmxpbmsmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IGRlc2MsICAgICAgICAgICAgICAgICAgICAgcGljOiBodG1sICsgcGljLCAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMicsICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKGh0bWwgKyB1cmwgKyAnI2dhbWVUaGVtZSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHBkKGdldFJlc0NvZGUoKSwgJ2JvZHkmJi5kdHBsYXkmJmEmJmhyZWYnKTsgICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzYzogJ2Zsb2F0JiYxMDAlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogdXJsLCAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgICAgICAgICAgICAgIH0pLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0gICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pICAgICB9IGVsc2UgaWYgKGlucHV0ID09ICfnsr7pgInmuLjmiI8nKSB7ICAgICAgICAgcmV0dXJuICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnknKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfnsr7pgInmuLjmiI8nKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IGxpc3QgPSBbJ0ZD5ri45oiP5py6QGh0dHBzOi8veGlhb2JhcGkudG9wL2Z1bmN0aW9uL2ZjLycsICfkuIDkuKrpg73kuI3og73mrbtAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi8yL2luZGV4Lmh0bWwnLCAn5aSp5aSp5raI5raI5LmQQGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvMTcvaW5kZXguaHRtbCcsICfmmJ/nkIPpmLLlvqFAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi8yMS9pbmRleC5odG1sJywgJ+W8gOW/g+a2iOa2iOS5kEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzIzL2luZGV4Lmh0bWwnLCAnM0Tnhorlh7rmsqFAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi81Ni9pbmRleC5odG1sJywgJzNE5ou85Zu+QGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvNTcvaW5kZXguaHRtbCcsICfnroDnuqbmiZPlnLDpvKBAaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi82Ny9pbmRleC5odG1sJywgJ+S4gOeslOi/nuePoEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzc0L2luZGV4Lmh0bWwnLCAn55av54uC5omT5LyB6bmFQGh0dHBzOi8vdG9vbC5zdXlhbncuY24vdG9vbC94aXV4aWFuL3l4bWIvNTAvaW5kZXguaHRtbCcsICfnjJzmiJDor61AaHR0cHM6Ly90b29sLnN1eWFudy5jbi90b29sL3hpdXhpYW4veXhtYi83MS9pbmRleC5odG1sJywgJ+WBpeW6t+a2iOa2iOS5kEBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzgwL2luZGV4Lmh0bWwnLCAn5p625a2Q6byTQGh0dHA6Ly9ndW96aGl2aXAuY29tL2p6ZycsICfllrXllrXmiYvpvJNAaHR0cHM6Ly9saW56aW11LmNvbS9NdXNpY0NhdCcsICfkuK3lm73osaHmo4tAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMvY2hpbmFjaGVzcy9pbmRleC5odG1sP2dhbWVfY29kZT0zMTMnLCAn5Lit5Zu96LGh5qOLMUBodHRwczovL3Rvb2wuc3V5YW53LmNuL3Rvb2wveGl1eGlhbi95eG1iLzY1L2luZGV4Lmh0bWwnLCAn5L+E572X5pav5pa55Z2XQGh0dHBzOi8vZ2FtZS51cjEuZnVuL3RldHJpcy8nLCAn5Z2R54i55ri45oiPQGh0dHBzOi8vdS5hbGkyMTMubmV0L2dhbWVzL2tlbmdkaWU4L2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTk2NScsICflsLHmmK/ot5FAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMveGlhb2h1b3ppL2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTk5NycsICfkuozmiJjpo47kupFAaHR0cHM6Ly91LmFsaTIxMy5uZXQvZ2FtZXMvZXJ6aGFuL2luZGV4Lmh0bWw/Z2FtZV9jb2RlPTg3NycsICfnu7TkuqzmiJjkuolAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzEvaW5kZXguaHRtbCcsICfpnZLom5nlkIPoi43onYdAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzYvaW5kZXguaHRtbCcsICflj4zkurrkupTlrZDmo4tAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzI5L2luZGV4Lmh0bWwnLCAn6aOe5py65aSn5oiYQGh0dHBzOi8veGlhb2JhcGkudG9wL2Z1bmN0aW9uL2dhbWUveXhtYi8zMS9pbmRleC5odG1sJywgJ+acgOW8uuecvOWKm0BodHRwczovL3hpYW9iYXBpLnRvcC9mdW5jdGlvbi9nYW1lL3l4bWIvMzYvaW5kZXguaHRtbCcsICfngYznr67mipXnkINAaHR0cHM6Ly94aWFvYmFwaS50b3AvZnVuY3Rpb24vZ2FtZS95eG1iLzQ5L2luZGV4Lmh0bWwnLCAn5Yid6Z+z6Kej5Y6LQGh0dHBzOi8vdG9vbHdhLmNvbS9taWt1dGFwLycsICfonJjom5vnurjniYxAaHR0cHM6Ly9nYW1lLnVyMS5mdW4vcG9rZXIvJywgJ+mjnuacuuWkp+aImDIuMEBodHRwczovL2dhbWUudXIxLmZ1bi9wbGFuZS13YXJzLycsICfnp6/mnKjliIfliIfkuZBAaHR0cHM6Ly9nYW1lLnVyMS5mdW4vbWVuamEvJywgJ+WFlOWtkOW/q+i3kUBodHRwczovL2dhbWUudXIxLmZ1bi9ob3AvJywgJzNE6a2U5pa5QGh0dHBzOi8vZ2FtZS51cjEuZnVuL2N1YmUvJ107ICAgICAgICAgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzMwMC5wbmcnOyAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHsgICAgICAgICAgICAgICAgIGxldCBrID0gbGlzdFtpXS5zcGxpdCgvQC8pOyAgICAgICAgICAgICAgICAgaWYgKGsubGVuZ3RoIDwgMikgY29udGludWU7ICAgICAgICAgICAgICAgICB2YXIgdXJsID0ga1sxXTsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtbMF0sICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdpY29uXzJfcm91bmQnLCAgICAgICAgICAgICAgICAgICAgIHBpY191cmw6IGltZywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHkjI2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdWE6IE1PQklMRV9VQSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dQcm9ncmVzczogZmFsc2UsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgICAgICAgICAgICAgfSwgdXJsKSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICB9KSAgICAgfSBlbHNlIHsgICAgICAgICByZXR1cm4gJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfooZfmnLrmuLjmiI8nKTsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgbGV0IHQgPSBnZXRJdGVtKCfooZfmnLrmuLjmiI8nLCAnRkMnKTsgICAgICAgICAgICAgdmFyIGpzID0gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9zZXJ2aWNlLW05eWVnY245LTEzMTEyNDgwMjIuc2guYXBpZ3cudGVuY2VudGNzLmNvbS9yZWxlYXNlL2dhbWVzP3Q9JyArIHQgKyAnJnA9JyArIE1ZX1BBR0UpKTsgICAgICAgICAgICAgaWYgKE1ZX1BBR0UgPT0gMSkgeyAgICAgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+ihl+acuua4uOaIjycsICAgICAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICfliIfmjaInLCAgICAgICAgICAgICAgICAgICAgIHBpYzogJ2hpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nJywgICAgICAgICAgICAgICAgICAgICB1cmw6ICQoWyfooZfmnLonLCAnRkMnLCAnU0ZDJywgJ0dCQScsICdNRCcsICdINSddLCAzLCAn6K+36YCJ5oup5pON5L2cJykuc2VsZWN0KCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn6KGX5py65ri45oiPJywgaW5wdXQpOyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICB9KSwgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICB9ICAgICAgICAgICAgIGpzLm1hcCh5ID0+IHsgICAgICAgICAgICAgICAgIHZhciB1cmwgPSB5LnVybDsgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHkubmFtZSwgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzInLCAgICAgICAgICAgICAgICAgICAgIGRlc2M6IHkudHlwZSwgICAgICAgICAgICAgICAgICAgICBwaWM6IHkuaW1nLCAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnaGlrZXI6Ly9lbXB0eSNnYW1lVGhlbWUjJykucnVsZSgodXJsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3VsdChkKTsgICAgICAgICAgICAgICAgICAgICB9LCB1cmwpLCAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSk7ICAgICB9IH0pIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zMDAucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IueMq+eci+eZveWZqumfsyIsInRpdGxlIjoi6IGG5ZCsIiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICAgICAgICAgIHNldFBhZ2VUaXRsZSgn54yr55yL55m95Zmq6Z+zJyk7ICAgICAgICAgICAgIGxldCBkID0gW107ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICAgICAgICAgIGRlc2M6ICdmbG9hdCYmMTAwJScsICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3d3dy5tYW9rYW4uY2MvJywgICAgICAgICAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgc2V0UmVzdWx0KGQpOyAgICAgICAgIH0pIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8yNTEucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuaegeiHtOmdk+S4vSIsImNvZGUiOiJbe1xuICAgIHRpdGxlOiAn6Z2T5Li9JyxcbiAgICBjb2xfdHlwZTogJ2ljb25fcm91bmRfNCcsXG4gICAgcGljOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIwMi5wbmcnLFxuICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7XG4gICAgICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7XG4gICAgICAgICAgICBsZXQgZCA9IFtdO1xuICAgICAgICAgICAgc2V0UGFnZVRpdGxlKCfmnoHoh7TpnZPkuL0nKTtcbiAgICAgICAgICAgIGxldCDpk77mjqUgPSBnZXRJdGVtKCfmnoHlrqInLCAnaHR0cHM6Ly9wLnR4cXEucHJvLyMvJyk7XG4gICAgICAgICAgICBkLnB1c2goe1xuICAgICAgICAgICAgICAgIHRpdGxlOiAnJyxcbiAgICAgICAgICAgICAgICBkZXNjOiAnZmxvYXQmJjEwMCUnLFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAneDVfd2Vidmlld19zaW5nbGUnLFxuICAgICAgICAgICAgICAgIHVybDog6ZO+5o6lLFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNhbkJhY2s6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBibG9ja1J1bGVzOiBbJ2JhaWR1LioucG5nJywgJy5qcGcnXSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFJlc3VsdChkKTtcbiAgICAgICAgfSlcbiAgICB9KSxcbiAgICBleHRyYToge1xuICAgICAgICBsb25nQ2xpY2s6IFt7XG4gICAgICAgICAgICB0aXRsZTogJ+maj+acuuWnkOWnkCcsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbSgn5p6B5a6iJywgJ2h0dHA6Ly8xMTkuOTEuMTk2LjI0Nzo3Nzc4L3hqaicpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2iJ1xuICAgICAgICAgICAgfSlcblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ+aegeWuoue+juWlsycsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXRlbSgn5p6B5a6iJywgJ2h0dHBzOi8vdC54eGdlZWsuY29tL3Rvb2xzL21tdm9kL20ucGhwJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRpdGxlOiAn6ZqP5py6576O5aWzJyxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRJdGVtKCfmnoHlrqInLCAnaHR0cHM6Ly9hcGkuY25tY29tLmNvbS9kc3AvJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LliIfmjaInXG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0aXRsZTogJ+i+k+WFpeabtOaNoicsXG4gICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGprID0gZ2V0SXRlbSgnamtfaW5wdXQnLCAnJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICQoamssICfmg7PopoHmm7TmjaLnmoTnn63op4bpopHlnLDlnYAnKS5pbnB1dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eHQgPSBpbnB1dDtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgn5p6B5a6iJywgdHh0KTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgnamtfaW5wdXQnLCB0eHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suabtOaNoidcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGl0bGU6ICfpu5jorqTpnZPkuL0nLFxuICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFySXRlbSgn5p6B5a6iJyk7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7LmgaLlpI3pu5jorqQnXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XSxcbiAgICB9XG59XSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi55S75p2/IiwidGl0bGUiOiLnlLvmnb8iLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZ2FtZVRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgnJyk7ICAgICBsZXQgZCA9IFtdOyAgICAgZC5wdXNoKHsgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICBkZXNjOiAnZmxvYXQmJjEwMCUnLCAgICAgICAgIHVybDogJ2h0dHA6Ly90b29sLm1rYmxvZy5jbi93aGl0ZWJvYXJkLycsICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgY2FuQmFjazogdHJ1ZSwgICAgICAgICAgICAgc2hvd1Byb2dyZXNzOiBmYWxzZSwgICAgICAgICB9ICAgICB9KTsgICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIzMi5wbmciLCJkZXNjIjoiIiwidHlwZSI6Imljb25fcm91bmRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5pif5bqn6L+Q5Yq/IiwidGl0bGUiOiLmmJ/luqciLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+aYn+W6p+i/kOWKvycpOyAgICAgbGV0IGQgPSBbXTsgICAgIHRyeSB7ICAgICAgICAgbGV0IG5hbWUgPSBzdG9yYWdlMC5nZXRJdGVtKCfmmJ/luqcnLCAnZ2VtaW5pJyk7ICAgICAgICAgbGV0IGltZyA9ICgnaHR0cHM6Ly9hcGkudnZoYW4uY29tL2FwaS9iaW5nJyArICcjJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTsgICAgICAgICBsZXQganNvbiA9IEpTT04ucGFyc2UoZmMoJ2h0dHBzOi8vYXBpLnZ2aGFuLmNvbS9hcGkvaG9yb3Njb3BlP3RpbWU9dG9kYXkmdHlwZT0nICsgbmFtZSwgOCkpLmRhdGE7ICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgdGl0bGU6IGpzb24udGl0bGUsICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMScsICAgICAgICAgICAgIGRlc2M6ICcwJywgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICB2YXIgbGlzdCA9IFt7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn55m9576K5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnYXJpZXMnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn6YeR54mb5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAndGF1cnVzJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+WPjOWtkOW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2dlbWluaScgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6ICflt6jon7nluqcnLCAgICAgICAgICAgICAgICAgICAgICdpZCc6ICdjYW5jZXInICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn54uu5a2Q5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnbGVvJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+WkhOWls+W6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ3ZpcmdvJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+WkqeenpOW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2xpYnJhJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+WkqeidjuW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ3Njb3JwaW8nICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn5bCE5omL5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnc2FnaXR0YXJpdXMnICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiAn6a2U6J2O5bqnJywgICAgICAgICAgICAgICAgICAgICAnaWQnOiAnY2Fwcmljb3JuJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+awtOeTtuW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ2FxdWFyaXVzJyAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICduYW1lJzogJ+WPjOmxvOW6pycsICAgICAgICAgICAgICAgICAgICAgJ2lkJzogJ3Bpc2NlcycgICAgICAgICAgICAgICAgIH1dOyAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBsaXN0Lm1hcChsaXN0ID0+IGxpc3QubmFtZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJChuYW1lLCAzLCAn6K+36YCJ5oupJykuc2VsZWN0KChsaXN0KSA9PiB7ICAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSBsaXN0LmZpbmRJbmRleChsaXN0ID0+IGxpc3QubmFtZSA9PSBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IGxpc3RbaV0uaWQ7ICAgICAgICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbSgn5pif5bqnJywgdXJsKTsgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNouaYn+W6pycgICAgICAgICAgICAgICAgIH0sIGxpc3QpICAgICAgICAgICAgIH0pLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn5pe26Ze077yaJyArIGpzb24udGltZSArICdcXG7lrpzvvJonICsganNvbi50b2RvLnlpICsgJ1xcbuW/jO+8micgKyBqc29uLnRvZG8uamkgKyAnXFxu5bm46L+Q5pWw5a2X77yaJyArIGpzb24ubHVja3ludW1iZXIgKyAnXFxu5bm46L+Q6aKc6Imy77yaJyArIGpzb24ubHVja3ljb2xvciArICdcXG7pgJ/phY3mmJ/luqfvvJonICsganNvbi5sdWNreWNvbnN0ZWxsYXRpb24gKyAnXFxu55+t6K+E77yaJyArIGpzb24uc2hvcnRjb21tZW50LCAgICAgICAgICAgICBjb2xfdHlwZTogJ2xvbmdfdGV4dCcsICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn57u85ZCI6L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZS5hbGwgKyAnIOKZpScgKyAnXFxu54ix5oOF6L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZS5sb3ZlICsgJyDimaUnICsgJ1xcbuWtpuS4muW3peS9nO+8micgKyBqc29uLmZvcnR1bmUud29yayArICcg4pmlJyArICdcXG7otKLlr4zov5Dlir/vvJonICsganNvbi5mb3J0dW5lLm1vbmV5ICsgJyDimaUnICsgJ1xcbuWBpeW6t+i/kOWKv++8micgKyBqc29uLmZvcnR1bmUuaGVhbHRoICsgJyDimaUnLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2xvbmdfdGV4dCcsICAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgY29sX3R5cGU6ICdsaW5lJywgICAgICAgICB9LCB7ICAgICAgICAgICAgIHRpdGxlOiAn57u85ZCI5oyH5pWw77yaJyArIGpzb24uaW5kZXguYWxsICsgJ1xcbueIseaDheaMh+aVsO+8micgKyBqc29uLmluZGV4LmxvdmUgKyAnXFxu5a2m5Lia5bel5L2c77yaJyArIGpzb24uaW5kZXgud29yayArICdcXG7otKLlr4zmjIfmlbDvvJonICsganNvbi5pbmRleC5tb25leSArICdcXG7lgaXlurfmjIfmlbDvvJonICsganNvbi5pbmRleC5oZWFsdGgsICAgICAgICAgICAgIGNvbF90eXBlOiAnbG9uZ190ZXh0JywgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eScsICAgICAgICAgfSwgeyAgICAgICAgICAgICBjb2xfdHlwZTogJ2xpbmUnLCAgICAgICAgIH0sIHsgICAgICAgICAgICAgdGl0bGU6ICfnu7zlkIjov5Dlir/vvJonICsganNvbi5mb3J0dW5ldGV4dC5hbGwgKyAnXFxuXFxu54ix5oOF6L+Q5Yq/77yaJyArIGpzb24uZm9ydHVuZXRleHQubG92ZSArICdcXG5cXG7lrabkuJrlt6XkvZzvvJonICsganNvbi5mb3J0dW5ldGV4dC53b3JrICsgJ1xcblxcbui0ouWvjOi/kOWKv++8micgKyBqc29uLmZvcnR1bmV0ZXh0Lm1vbmV5ICsgJ1xcblxcbuWBpeW6t+i/kOWKv++8micgKyBqc29uLmZvcnR1bmV0ZXh0LmhlYWx0aCwgICAgICAgICAgICAgY29sX3R5cGU6ICdsb25nX3RleHQnLCAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JywgICAgICAgICB9KTsgICAgIH0gY2F0Y2gge30gICAgIHNldFJlc3VsdChkKTsgfSkiLCJpY29uIjoiaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzY3LnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLnjovogIXor63pn7PljIUiLCJ0aXRsZSI6IuivremfsyIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgn546L6ICF6K+t6Z+zJyk7ICAgICBsZXQgZCA9IFtdOyAgICAgbGV0IHl4ID0gZ2V0SXRlbSgn546L6ICF6K+t6Z+zJywgJ+mygeePrScpOyAgICAgdHJ5IHsgICAgICAgICB0cnkgeyAgICAgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goJ2h0dHBzOi8vZnJlZS53cXdsa2ouY24vd3F3bGFwaS93emhlcm95eS5waHA/aGVybz0nICsgeXgpKTsgICAgICAgICB9IGNhdGNoIHsgICAgICAgICAgICAgdmFyIGpzb24gPSBKU09OLnBhcnNlKGZldGNoKCdodHRwczovL2FwaS5haGZpLmNuL2FwaS93enJ5eXk/bXNnPScgKyB5eCkpOyAgICAgICAgIH0gICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZToganNvbi5oZXJvLCAgICAgICAgICAgICBkZXNjOiAnMCcsICAgICAgICAgICAgIGNvbF90eXBlOiAnY2FyZF9waWNfMScsICAgICAgICAgICAgIHBpYzoganNvbi5pbWcsICAgICAgICAgICAgIHVybDoganNvbi5pbWcsICAgICAgICAgfSwgeyAgICAgICAgICAgICB0aXRsZTogJ+aQnOe0oicsICAgICAgICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLCAgICAgICAgICAgICBkZXNjOiAn6K+36L6T5YWl546L6ICF6Iux6ZuE5ZCNJywgICAgICAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgIGlmICghaW5wdXQpIHJldHVybiBcInRvYXN0Oi8v6K+36L6T5YWl5YWz6ZSu6K+NXCI7ICAgICAgICAgICAgICAgICBzZXRJdGVtKCfnjovogIXor63pn7MnLCBpbnB1dCk7ICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknOyAgICAgICAgICAgICB9KSwgICAgICAgICB9KTsgICAgICAgICBqc29uLmRhdGEubWFwKHkgPT4geyAgICAgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICAgICAgdGl0bGU6IHkuaWQgPyB5LmlkICsgJy4gJyArIHkubGluZXMgOiB5LmxpbmVzLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzEnLCAgICAgICAgICAgICAgICAgcGljOiBqc29uLmltZywgICAgICAgICAgICAgICAgIHVybDogeS52b2ljZSwgICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIHsgICAgICAgICB0b2FzdCgn5rKh5pyJ5om+5Yiw6K+l6Iux6ZuEJyk7ICAgICAgICAgY2xlYXJJdGVtKCfnjovogIXor63pn7MnKTsgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5JyAgICAgfSAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvNzMucG5nIiwiZGVzYyI6IiIsInR5cGUiOiJpY29uX3JvdW5kXzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuS6keefpSIsInRpdGxlIjoi5LqR55+lIiwidXJsIjoiQGpzOiB2YXIgbWltYT1nZXRWYXIoJ21pbWFfMScsJycpO3ZhciBleHA9bmV3IERhdGUoKTsgICAgICAgIFx0XHRsZXQgaD1leHAuZ2V0SG91cnMoKTtsZXQgbT1leHAuZ2V0TWludXRlcygpO2xldCBzPWV4cC5nZXRTZWNvbmRzKCk7bGV0IG1pPWgrbTtpZihtaW1hPT1taSl7ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+S6keefpeS5puetvue7hCcsJ+S/nemZqeeusSddQFsn5L+d6Zmp566x5bey6KKr5omT5byAJywoNjAtbmV3IERhdGUoKS5nZXRTZWNvbmRzKCkpKyfnp5LlkI7oh6rliqjkuIrplIEnXVwiLG9yZGVyKX1lbHNleyQoJycsIFwi5LqR55+l5a+G56CBXCIpLmNsaWNrSW5wdXQobWkgPT4geyAgcHV0VmFyKCdtaW1hXzEnLGlucHV0KTsgIGlmIChpbnB1dCE9bWkpIHsgICAgICAgIHJldHVybiBcInRvYXN0Oi8v4puUIOWvhueggemUmeivr1wiOyAgICB9IGVsc2UgeyAgICAgcmV0dXJuICgocnVsZSwgdG9hc3QpID0+IHsgICAgICAgICAgICBjb25zdCBMb2NhbGZpbGUgPSBIaWtlckhvbWUuZ2V0TG9jYWxmaWxlKCk7ICAgICAgICAgICAgY29uc3QgYm9va01hcmsgPSBIaWtlckhvbWUuZ2V0Qm9va21hcmtzTGlzdChMb2NhbGZpbGUuZ2V0SXRlbShcIkJvb2ttYXJrc0xpc3RcIikpOyAgICAgICAgICAgIGV2YWwoXCJ2YXIgW2gsdGFiXT1cIiArIHJ1bGUgKyBcIjt2YXIgW3RfMSx0XzJdPVwiICsgKHRvYXN0IHx8IFwiWycnLCcnXVwiKSk7ICAgICAgICAgICAgbGV0IGluZGV4ID0gYm9va01hcmsuZ2V0SW5kZXgoaCk7ICAgICAgICAgICAgbGV0IGpzb24gPSBib29rTWFyay5nZXQoaW5kZXgpOyAgICAgICAgICAgIGlmIChqc29uID09PSB1bmRlZmluZWQgfHwganNvbi5wYXR0ZXJuICE9PSAzKSB7ICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8vXFx1NjcyYVxcdTViOWFcXHU0ZTQ5XFx1OGJlNVxcdTRlNjZcXHU3YjdlXFx1N2VjNFwiOyAgICAgICAgICAgIH0gICAgICAgICAgICBpZiAoanNvbi5mb2xkX3N0YXR1cykgeyAgICAgICAgICAgICAgICB2YXIgdG9hc3QgPSB0XzIgfHwgXCJcXHU1ZGYyXFx1NjI5OFxcdTUzZTBcIjsgICAgICAgICAgICB9IGVsc2UgeyAgICAgICAgICAgICAgICB2YXIgdG9hc3QgPSB0XzEgfHwgXCJcXHU1ZGYyXFx1NWM1NVxcdTVmMDBcIjsgICAgICAgICAgICB9ICAgICAgICAgICAganNvbi5mb2xkX3N0YXR1cyA9ICFqc29uLmZvbGRfc3RhdHVzOyAgICAgICAgICAgIGJvb2tNYXJrLm1vZGlmeShpbmRleCwganNvbik7ICAgICAgICAgICAgbGV0IGxpc3QgPSBib29rTWFyay5nZXRMaXN0KCk7ICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7ICAgICAgICAgICAgICAgIGxldCBpdGVtID0gbGlzdFtpXTsgICAgICAgICAgICAgICAgaWYgKGl0ZW0ucGF0dGVybiA9PT0gMyAmJiBpdGVtLm5hbWUgIT09IGggJiYgaXRlbS5tYXJrICE9PSBcIlwiICYmIGl0ZW0ubWFyayA9PT0gdGFiKSB7ICAgICAgICAgICAgICAgICAgICBpdGVtLmZvbGRfc3RhdHVzID0ganNvbi5mb2xkX3N0YXR1cyA/IGZhbHNlIDogZmFsc2U7ICAgICAgICAgICAgICAgICAgICBib29rTWFyay5tb2RpZnkoaSwgaXRlbSk7ICAgICAgICAgICAgICAgIH0gICAgICAgICAgICB9ICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgIGlmICh0b2FzdCA9PT0gXCJoaWtlcjovL2VtcHR5XCIpIHsgICAgICAgICAgICAgICAgcmV0dXJuIHRvYXN0OyAgICAgICAgICAgIH0gZWxzZSB7ICAgICAgICAgICAgICAgIHJldHVybiBcInRvYXN0Oi8vXCIgKyB0b2FzdDsgICAgICAgICAgICB9ICAgICAgICB9KShcIlsn5LqR55+l5Lmm562+57uEJywn5L+d6Zmp566xJ11cIiwgXCJbJ+W3suaJk+W8gOS/nemZqeeusScsJ+WFs+mXreS/nemZqeeusSddXCIpOyAgfX0sbWkpfSIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMTAxLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoiaWNvbl9yb3VuZF80In1dLCJmb2xkX3N0YXR1cyI6ZmFsc2UsInBhdHRlcm4iOjN9LHsibWFyayI6IuS/nemZqeeusSIsImxpc3QiOlt7InRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoibGluZSIsIm5hbWUiOiLnur8iLCJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjB9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5LqR55+l5L+d6Zmp566xIiwidGl0bGUiOiLkupHnn6UiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+S6keefpeS5puetvue7hCcsJ+S/nemZqeeusSddXCIsb3JkZXIpIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS82NS5wbmciLCJkZXNjIjoiPHNtYWxsPuW8gOWFszwvc21hbGw+IiwidHlwZSI6ImF2YXRhciJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi576O5Zu+IiwidGl0bGUiOiLigJjigJjigJnigJk8c21hbGw+576O5Zu+PC9zbWFsbD4iLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2dhbWVUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+e+juWbvicpOyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCB1cmwgPSAoXCJodHRwOi8vc2UuY3NubWIuY29tL0FQSS9xbC5waHBcIiArICcjJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgp4oCLKTsgICAgICAgICAgICAgIGxldCBpbWcgPSB1cmwgKyAnIy5qcGcnOyAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIGNvbF90eXBlOiAncGljXzFfZnVsbCcsICAgICAgICAgICAgIHBpYzogaW1nLCAgICAgICAgICAgICB1cmw6IGltZywgICAgICAgICB9KTsgICAgICAgICAgc2V0UmVzdWx0KGQpOyB9KTsiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzQifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IumBh+ingSIsInRpdGxlIjoi4oCY4oCY4oCZ4oCZPHNtYWxsPumBh+ingTwvc21hbGw+IiwidXJsIjoiQGpzOiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMjZ2FtZVRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgbGV0IGQgPSBbXTsgICAgIHZhciB4amogPSBnZXRQYXRoKCdoaWtlcjovL2ZpbGVzL0ptL2ZpbGUveGpqLmh0bWwnKTsgICAgIGlmICghZmlsZUV4aXN0KHhqaikpIHsgICAgICAgICBjb25maXJtKHsgICAgICAgICAgICAgdGl0bGU6ICflr7zlhaUnLCAgICAgICAgICAgICBjb250ZW50OiAn5qOA5rWL5Yiw5L2g5rKh5pyJ5pys5Zyw5paH5Lu277yM5piv5ZCm5a+85YWlJywgICAgICAgICAgICAgY29uZmlybTogJC50b1N0cmluZygoeGpqKSA9PiB7ICAgICAgICAgICAgICAgICB3cml0ZUZpbGUoeGpqLCBmZXRjaCgnaHR0cHM6Ly9yYXcuZ2l0bWlycm9yLmNvbS9qbWVuZzEyMy9maWxlcy9tYWluL3hqai5odG1sJykpOyAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpOyAgICAgICAgICAgICB9LCB4amopLCAgICAgICAgICAgICBjYW5jZWw6ICQudG9TdHJpbmcoKCkgPT4ge30pICAgICAgICAgfSk7ICAgICB9OyAgICAgZC5wdXNoKHsgICAgICAgICBjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgICAgICAgICB1cmw6IHhqaiwgICAgICAgICBkZXNjOiAnZmxvYXQmJjEwMCUnLCAgICAgICAgIGV4dHJhOiB7ICAgICAgICAgICAgIGF1dG9QbGF5OiB0cnVlLCAgICAgICAgICAgICBzaG93UHJvZ3Jlc3M6IGZhbHNlLCAgICAgICAgICAgICB1YTogTU9CSUxFX1VBICAgICAgICAgfSAgICAgfSk7ICAgICBzZXRSZXN1bHQoZCk7IH0pOyIsImljb24iOiJoaWtlcjovL2ZpbGVzL0ptL2xtL21vcmUvMjAyLnBuZyIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJTd2FnZ2Vy5Zu+54mHIiwidGl0bGUiOiLigJjigJjigJnigJk8c21hbGw+5Zu+54mHPC9zbWFsbD4iLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ1N3YWdnZXLlm77niYcnKTsgICAgIGxldCBkID0gW107ICAgICB2YXIgcCA9IChNWV9QQUdFIC0gMSk7ICAgICB2YXIgcyA9IGdldEl0ZW0oJ3NpemUnLCAnMTAnKTsgICAgIHZhciB0ID0gZ2V0SXRlbSgndHlwZScsICdjYXInKTsgICAgIHZhciBodG1sID0gKCdodHRwczovL2FwaS5hcGlvcGVuLnRvcC9hcGkvZ2V0SW1hZ2VzP3Rva2VuPWV5SjFhV1FpT2pFeU9EVXNJbWxrSWpveE1qZzFMQ0pqY21WaGRHVmtRWFFpT2lJeU1ESTBMVEEyTFRFeklERXdPalUwT2pFNUlpd2lkWEJrWVhSbFpFRjBJam9pTWpBeU5DMHdOaTB4TXlBeE1EbzFORG94T1NJc0ltUmxiR1YwWldSQmRDSTZiblZzYkN3aVlXTmpiM1Z1ZENJNklqRTQmcGFnZT0nICsgcCArICcmc2l6ZT0nICsgcyArICcmdHlwZT0nICsgdCk7ICAgICB0cnkgeyAgICAgICAgIGlmIChNWV9QQUdFID09IDEpIHsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3dhZ2dlcuWbvueJhycsICAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsICAgICAgICAgICAgICAgICBkZXNjOiAn5YiH5o2iJywgICAgICAgICAgICAgICAgIHBpYzogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vbW92aWUvMTkuc3ZnJywgICAgICAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBbeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfliqjniaknLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdhbmltYWwnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfnvo7lpbMnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdiZWF1dHknICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmsb3ovaYnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdjYXInICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmvKvnlLsnLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdjb21pYycgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICduJzogJ+mjn+eJqScsICAgICAgICAgICAgICAgICAgICAgICAgICd1JzogJ2Zvb2QnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmuLjmiI8nLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdnYW1lJyAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgJ24nOiAn55S15b2xJywgICAgICAgICAgICAgICAgICAgICAgICAgJ3UnOiAnbW92aWUnICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfkurrniaknLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdwZXJzb24nICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICAnbic6ICfmiYvmnLonLCAgICAgICAgICAgICAgICAgICAgICAgICAndSc6ICdwaG9uZScgICAgICAgICAgICAgICAgICAgICB9LCB7ICAgICAgICAgICAgICAgICAgICAgICAgICduJzogJ+mjjuaZrycsICAgICAgICAgICAgICAgICAgICAgICAgICd1JzogJ3NjZW5lcnknICAgICAgICAgICAgICAgICAgICAgfV07ICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB0eXBlLm1hcChhID0+IGEubik7ICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodCwgMywgJ+ivt+mAieaLqScpLnNlbGVjdCgodHlwZSkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHR5cGUuZmluZEluZGV4KGIgPT4gYi5uID09IGlucHV0KTsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdHlwZVthXS51OyAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCd0eXBlJywgaWQpOyAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7ICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICAgICAgICAgICAgICB9LCB0eXBlKSAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgIGxvbmdDbGljazogW3sgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICforr7nva7mr4/pobXmmL7npLrmlbDph48nLCAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygoKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCgnJywgJ+avj+mhteaYvuekuuaVsOmHj++8jOm7mOiupDEwJykuaW5wdXQoKCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ3NpemUnLCBpbnB1dCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suiuvue9ruS4uicgKyBpbnB1dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICAgICAgfSkgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgfSAgICAgICAgIHZhciBqc29uID0gSlNPTi5wYXJzZShmZXRjaChodG1sKSkucmVzdWx0OyAgICAgICAgIGpzb24ubGlzdC5tYXAobCA9PiB7ICAgICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgICAgICB0aXRsZTogbC50aXRsZSwgICAgICAgICAgICAgICAgIHVybDogbC51cmwgKyAnIy5qcGcnLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdwaWNfMV9jYXJkJywgICAgICAgICAgICAgICAgIHBpYzogbC51cmwgKyAnIy5qcGcnLCAgICAgICAgICAgICAgICAgZXh0cmE6IHsgICAgICAgICAgICAgICAgICAgICBsb25nQ2xpY2s6IFt7ICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5re75Yqg5Yiw5Yqo5ryrJywgICAgICAgICAgICAgICAgICAgICAgICAganM6ICQudG9TdHJpbmcoKGwpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2RvbmdtYW4uanNvbicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlRXhpc3QoZmlsZSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCAnW10nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2RvbmdtYW4vJyArIHRpbWUgKyAnLnBuZycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGwudXJsLCBpbWcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9uZ21hbiA9IEpTT04ucGFyc2UocmVxdWVzdChmaWxlKSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25nbWFuID0gZG9uZ21hbi5jb25jYXQoaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsIEpTT04uc3RyaW5naWZ5KGRvbmdtYW4pKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mt7vliqDmiJDlip8nICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGwpICAgICAgICAgICAgICAgICAgICAgfSwgeyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+a3u+WKoOWIsOe+juWlsycsICAgICAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChsKSA9PiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gKCdoaWtlcjovL2ZpbGVzL0ptL3BuZy9tZWludi5qc29uJyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGVFeGlzdChmaWxlKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsICdbXScpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltZyA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvbWVpbnYvJyArIHRpbWUgKyAnLnBuZycpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZUltYWdlKGwudXJsLCBpbWcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVpbnYgPSBKU09OLnBhcnNlKHJlcXVlc3QoZmlsZSkpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVpbnYgPSBtZWludi5jb25jYXQoaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVGaWxlKGZpbGUsIEpTT04uc3RyaW5naWZ5KG1laW52KSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5re75Yqg5oiQ5YqfJyAgICAgICAgICAgICAgICAgICAgICAgICB9LCBsKSAgICAgICAgICAgICAgICAgICAgIH0sIHsgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmt7vliqDliLDpo47mma8nLCAgICAgICAgICAgICAgICAgICAgICAgICBqczogJC50b1N0cmluZygobCkgPT4geyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9ICgnaGlrZXI6Ly9maWxlcy9KbS9wbmcvZmVuZ2ppbmcuanNvbicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxlRXhpc3QoZmlsZSkpIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCAnW10nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSAoJ2hpa2VyOi8vZmlsZXMvSm0vcG5nL2ZlbmdqaW5nLycgKyB0aW1lICsgJy5wbmcnKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVJbWFnZShsLnVybCwgaW1nKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlbmdqaW5nID0gSlNPTi5wYXJzZShyZXF1ZXN0KGZpbGUpKTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZlbmdqaW5nID0gZmVuZ2ppbmcuY29uY2F0KGltZyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlRmlsZShmaWxlLCBKU09OLnN0cmluZ2lmeShmZW5namluZykpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a3u+WKoOaIkOWKnycgICAgICAgICAgICAgICAgICAgICAgICAgfSwgbCkgICAgICAgICAgICAgICAgICAgICB9XSwgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIChlKSB7fSAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiSHVhbmfnm5giLCJ0aXRsZSI6IuKAmOKAmOKAmeKAmTxzbWFsbD7nvZHnm5g8L3NtYWxsPiIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNmeXBhZ2UjZnVsbFRoZW1lIyNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMnKS5ydWxlKCgpID0+IHsgICAgIHNldFBhZ2VUaXRsZSgnaHVhbmfnvZHnm5gnKTsgICAgIGxldCBkID0gW107ICAgICBkLnB1c2goeyAgICAgICAgIHRpdGxlOiAnSHVhbmfnvZHnm5gnLCAgICAgICAgIGRlc2M6ICfnmbvlvZUnLCAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICBwaWM6ICdodHRwczovL2EuaDFzdGF0aWMuY24vcGFuL0xvZ29odWFuZzExMTEuaWNvJywgICAgICAgICB1cmw6ICQoJ2hpa2VyOi8vZW1wdHknKS5ydWxlKCgpID0+IHsgICAgICAgICAgICAgbGV0IGQgPSBbXTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL3Bhbi5odWFuZzExMTEuY24vbG9naW5cIiwgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcIng1X3dlYnZpZXdfc2luZ2xlXCIsICAgICAgICAgICAgICAgICBkZXNjOiBcIjEwMCUmJmZsb2F0XCIsICAgICAgICAgICAgICAgICBleHRyYTogeyAgICAgICAgICAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKCgpID0+IHsgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IGxvY2F0aW9uLmhyZWY7ICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1cmwuaW5jbHVkZXMoXCJodHRwczovL3Bhbi5odWFuZzExMTEuY24vaG9tZT9wYXRoPSUyRlwiKSkgeyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmJhLndyaXRlRmlsZShcImhpa2VyOi8vZmlsZXMvSm0vaHVhbmcudHh0XCIsIGZiYS5nZXRDb29raWUoXCJcIikpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLlt7Lojrflj5bliLBjb29raWXvvIzov5Tlm57ljbPlj69cIik7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEuYmFjaygpOyAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgfSksICAgICAgICAgICAgICAgICAgICAgdWE6IE1PQklMRV9VQSwgICAgICAgICAgICAgICAgICAgICBjYW5CYWNrOiB0cnVlICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICBzZXRSZXN1bHQoZCk7ICAgICAgICAgfSksICAgICB9KTsgICAgIHRyeSB7ICAgICAgICAgdmFyIGh0bWwgPSAoJ2h0dHBzOi8vcGFuLmh1YW5nMTExMS5jbi9hcGkvdjMvZGlyZWN0b3J5JTJGTVYnKTsgICAgICAgICB2YXIgY2sgPSBmZXRjaCgnaGlrZXI6Ly9maWxlcy9KbS9odWFuZy50eHQnKTsgICAgICAgICB2YXIganNvbiA9IEpTT04ucGFyc2UoZmV0Y2goaHRtbCwgeyAgICAgICAgICAgICBoZWFkZXJzOiB7ICAgICAgICAgICAgICAgICBcIkNvb2tpZVwiOiBjaywgICAgICAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04XCIsICAgICAgICAgICAgICAgICBcIlJlZmVyZXJcIjogXCJodHRwczovL3Bhbi5odWFuZzExMTEuY25cIiwgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudFwiOiBNT0JJTEVfVUEgICAgICAgICAgICAgfSwgICAgICAgICB9KSkuZGF0YS5vYmplY3RzOyAgICAgICAgIGV2YWwoJ2RhdGE9JyArIEpTT04uc3RyaW5naWZ5KGpzb24pKTsgICAgICAgICBkYXRhLm1hcChsaXN0ID0+IHsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiBsaXN0Lm5hbWUsICAgICAgICAgICAgICAgICAvKmltZzogKCdodHRwczovL3Bhbi5odWFuZzExMTEuY24vYXBpL3YzL2ZpbGUvdGh1bWIvJyArIGxpc3QuaWQgKyAnQGhlYWRlcnM9e1wiUmVmZXJlclwiOlwiaHR0cHM6Ly9wYW4uaHVhbmcxMTExLmNuXCIsXCJVc2VyLUFnZW50XCI6TU9CSUxFX1VBLFwiQ29va2llXCI6JysgY2srJ30nKSwqLyAgICAgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly9odHRwczovL3Bhbi5odWFuZzExMTEuY24vYXBpL3YzL2ZpbGUvcHJldmlldy8nICsgbGlzdC5pZCwgICAgICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8yJywgICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIHsgICAgICAgICB0b2FzdCgn6I635Y+W5aSx6LSlJyk7ICAgICB9ICAgICBzZXRSZXN1bHQoZCk7IH0pIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF80In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiLmmJ/msrPnm7Tmkq0iLCJ0aXRsZSI6IuKAmOKAmOKAmeKAmTxzbWFsbD7nm7Tmkq08L3NtYWxsPiIsInVybCI6IkBqczogJCgnaGlrZXI6Ly9lbXB0eSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSMjZnVsbFRoZW1lIycpLnJ1bGUoKCkgPT4geyAgICAgc2V0UGFnZVRpdGxlKCfmmJ/msrPnm7Tmkq0nKTsgICAgIGxldCBkID0gW107ICAgICBsZXQgaWQgPSBnZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCAnbG92ZVBybycpOyAgICAgZC5wdXNoKHsgICAgICAgICB0aXRsZTogJ+aYn+ays+ebtOaSrScsICAgICAgICAgZGVzYzogZ2V0SXRlbSgn5pif5rKz55u05pKtJywgJ2xvdmVQcm8nKSA9PSAnbG92ZVBybycgPyAn4pGgJyA6ICfikaEnLCAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJywgICAgICAgICBwaWM6ICdodHRwczovL2Zhdmljb24ucXFzdXUuY24vaHR0cHM6Ly9tLm1hb3lhbi5jb20vJywgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCkgPT4geyAgICAgICAgICAgICBzZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCBnZXRJdGVtKCfmmJ/msrPnm7Tmkq0nLCAnbG92ZVBybycpID09ICdsb3ZlUHJvJyA/ICdsb3ZlJyA6ICdsb3ZlUHJvJyk7ICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTsgICAgICAgICAgICAgdG9hc3QoJ+W3suWIh+aNoicgKyAoZ2V0SXRlbSgn5pif5rKz55u05pKtJywgJ2xvdmVQcm8nKSA9PSAnbG92ZVBybycgPyAn4pGgJyA6ICfikaEnKSk7ICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eScgICAgICAgICB9KSwgICAgIH0pOyAgICAgdHJ5IHsgICAgICAgICBldmFsKCdhPScgKyBmZXRjaCgnaGlrZXI6Ly9maWxlcy9KbS9saXZlLycgKyBpZCArICcuanNvbicpKTsgICAgICAgICBhLmZvckVhY2goZnVuY3Rpb24oYikgeyAgICAgICAgICAgICB2YXIgYyA9IGIuc3BsaXQoJ0AnKTsgICAgICAgICAgICAgZC5wdXNoKHsgICAgICAgICAgICAgICAgIHRpdGxlOiBjWzBdLCAgICAgICAgICAgICAgICAgY29sX3R5cGU6ICdhdmF0YXInLCAgICAgICAgICAgICAgICAgcGljOiAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3JlLzIyMS5wbmcnLCAgICAgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly8nICsgY1sxXSwgICAgICAgICAgICAgfSk7ICAgICAgICAgfSk7ICAgICB9IGNhdGNoIHt9ICAgICBzZXRSZXN1bHQoZCk7IH0pOyIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5a2m5Lmg6LWE5paZIiwidGl0bGUiOiLigJjigJjigJnigJk8c21hbGw+5a2m5LmgPC9zbWFsbD4iLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+WtpuS5oOi1hOaWmScpOyAgICAgbGV0IHRpdGxlcyA9IFsnVEhYRkcwMycsJ+i2heaegeWTgei6q+adkOiInui5iOWtpumZouWtpuWnkOWls+elnicsJ+e+juWwkeWlsycsICfnlJ/nianlpbPmlZnluIjlkozlrabnlJ/nmoTnp4HmiL/mjojor74nLCfngavniIbnvZHnuqLpub/lsJHlpbPliafmg4XmvJTnu44nLCAn5r+A5oOFJywn6a2U6ay86Lqr5p2Q572R57qi6bm/5bCR5aWz5peg56CB6Zyy6IS45Yi25pyNJywn6buR5Lid576O6IW/5aWz56WeJywn5aSa5Lq654Gr5ou8Jywn5o6o6I2QLeajkuajkuWTkicsJ+Wwj+WnkOWnkCcsJ+engOiJsuWPr+mkkCcsJ+adqOW5gicsJ+aso+i1j+Wwj+WnkOWnkCcsJ+Wls+elnuWwj+Wwj+eahOaAp+i+heWvvCddOyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCBpbWcgPSAnaGlrZXI6Ly9maWxlcy9KbS9sbS9tb3ZpZS8yMi5zdmcnOyAgICAgdGl0bGVzLmZvckVhY2goZnVuY3Rpb24odCkgeyAgICAgICAgIGxldCB1cmwgPSBnZXRQYXRoKCdoaWtlcjovL2ZpbGVzL0ptL3ZpZGVvLycgKyB0ICsgJy5tcDQnKTsgICAgICAgICBkLnB1c2goeyAgICAgICAgICAgICB0aXRsZTogdCwgICAgICAgICAgICAgcGljOiBpbWcsICAgICAgICAgICAgIGNvbF90eXBlOiAndGV4dF8xJywgICAgICAgICAgICAgdXJsOiAndmlkZW86Ly8nK3VybCwgICAgICAgICB9KTsgICAgIH0pOyAgICAgc2V0UmVzdWx0KGQpOyB9KSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNCJ9XSwiZm9sZF9zdGF0dXMiOmZhbHNlLCJwYXR0ZXJuIjozLCJuYW1lIjoi5LqR55+l5Lmm562+57uEIn0seyJuYW1lIjoi5rW35oql5Lmm562+57uEIiwibWFyayI6Iua1t+aKpeW8gOWFsyIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IlRhYumYtOW9sSIsInRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoibGluZSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoi5rW35oqlIiwidGl0bGUiOiLmtbfmiqUiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+a1t+aKpeS5puetvue7hCcsJ+a1t+aKpeW8gOWFsyddXCIsb3JkZXIpIiwiaWNvbiI6Imhpa2VyOi8vZmlsZXMvSm0vbG0vbW9yZS8zOC5wbmciLCJkZXNjIjoiPHNtYWxsPuW8gOWFszwvc21hbGw+IiwidHlwZSI6ImF2YXRhciJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiVGFiX+mhuuaQnOWFg+e0oCIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPHNtYWxsPjxmb250IGNvbG9yPSMxQUIxNkI+6aG65pCcPC9mb250Pjwvc21hbGw+Jywn4oCY4oCY4oCZ4oCZPHNtYWxsPumhuuaQnDwvc21hbGw+J11cIixcIjxUYWI+QFsn6aG65pCcJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+mhuuaQnCcsJ+a1t+aKpSddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF81In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJUYWJf5aSp5rCU5rW35oqlIiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWyfigJjigJjigJnigJk8c21hbGw+PGZvbnQgY29sb3I9IzFBQjE2Qj7lpKnmsJQ8L2ZvbnQ+PC9zbWFsbD4nLCfigJjigJjigJnigJk8c21hbGw+5aSp5rCUPC9zbWFsbD4nXVwiLFwiPFRhYj5AWyflpKnmsJQnXVwiLG9yZGVyKSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn5aSp5rCUJywn5rW35oqlJ11cIixvcmRlcikiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzUifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IlRhYl/osYbnk6PmtbfmiqUiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxzbWFsbD48Zm9udCBjb2xvcj0jMUFCMTZCPuixhueTozwvZm9udD48L3NtYWxsPicsJ+KAmOKAmOKAmeKAmTxzbWFsbD7osYbnk6M8L3NtYWxsPiddXCIsXCI8VGFiPkBbJ+ixhueToyddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfosYbnk6MnLCfmtbfmiqUnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InRleHRfNSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiVGFiX+i9ruaSrea1t+aKpSIsInRpdGxlIjoiQGpzOmZhc3RHcmFtbWFyRm9yVGV4dChcIjxUYWI+QFsn4oCY4oCY4oCZ4oCZPHNtYWxsPjxmb250IGNvbG9yPSMxQUIxNkI+6L2u5pKtPC9mb250Pjwvc21hbGw+Jywn4oCY4oCY4oCZ4oCZPHNtYWxsPui9ruaSrTwvc21hbGw+J11cIixcIjxUYWI+QFsn6L2u5pKtJ11cIixvcmRlcikiLCJ1cmwiOiJAanM6ZmFzdEdyYW1tYXIoXCI8VGFiPkBbJ+i9ruaSrScsJ+a1t+aKpSddXCIsb3JkZXIpIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoidGV4dF81In0seyJzdGF0dXMiOnRydWUsInBhdHRlcm4iOjAsIm5hbWUiOiJUYWJf6KeG6aKR5rW35oqlIiwidGl0bGUiOiJAanM6ZmFzdEdyYW1tYXJGb3JUZXh0KFwiPFRhYj5AWyfigJjigJjigJnigJk8c21hbGw+PGZvbnQgY29sb3I9IzFBQjE2Qj7op4bpopE8L2ZvbnQ+PC9zbWFsbD4nLCfigJjigJjigJnigJk8c21hbGw+6KeG6aKRPC9zbWFsbD4nXVwiLFwiPFRhYj5AWyfop4bpopEnXVwiLG9yZGVyKSIsInVybCI6IkBqczpmYXN0R3JhbW1hcihcIjxUYWI+QFsn6KeG6aKRJywn5rW35oqlJ11cIixvcmRlcikiLCJpY29uIjoiIiwiZGVzYyI6IiIsInR5cGUiOiJ0ZXh0XzUifV0sImZvbGRfc3RhdHVzIjpmYWxzZSwicGF0dGVybiI6M30seyJuYW1lIjoi5Li76aKY5byA5YWzIiwibWFyayI6IiIsImxpc3QiOlt7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuW8gOWFs+mYtOW9sSIsInRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoibGluZSJ9LHsic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowLCJuYW1lIjoiMSIsInRpdGxlIjoiIiwidXJsIjoiIiwiaWNvbiI6IiIsImRlc2MiOiIiLCJ0eXBlIjoiYmlnX2JsYW5rX2Jsb2NrIn0seyJ0aXRsZSI6IiIsInVybCI6IiIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6ImJpZ19ibGFua19ibG9jayIsIm5hbWUiOiIyIiwic3RhdHVzIjp0cnVlLCJwYXR0ZXJuIjowfSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6Iua1t+aKpV/lvIDlhbMiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+5rW35oqlPC9mb250PicsJ+a1t+aKpSddXCIsXCI8VGFiPkBbJ+a1t+aKpeS5puetvue7hCddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfmtbfmiqXkuabnrb7nu4QnLCfmtbfmiqXlvIDlhbMnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InNjcm9sbF9idXR0b24ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuS4gOiogF/ml6XljoblvIDlhbMiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+5LiA6KiAPC9mb250PicsJ+S4gOiogCddXCIsXCI8VGFiPkBbJ+S4gOiogCddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfkuIDoqIAnLCfkuIDoqIAnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InNjcm9sbF9idXR0b24ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6IuaUtuiXj1/nqIvluo/lvIDlhbMiLCJ0aXRsZSI6IkBqczpmYXN0R3JhbW1hckZvclRleHQoXCI8VGFiPkBbJ+KAmOKAmOKAmeKAmTxmb250IGNvbG9yPSMxQUIxNkI+5pS26JePPC9mb250PicsJ+aUtuiXjyddXCIsXCI8VGFiPkBbJ+aUtuiXjyddXCIsb3JkZXIpIiwidXJsIjoiQGpzOmZhc3RHcmFtbWFyKFwiPFRhYj5AWyfmlLbol48nLCflsI/mtbfmiqUnXVwiLG9yZGVyKSIsImljb24iOiIiLCJkZXNjIjoiIiwidHlwZSI6InNjcm9sbF9idXR0b24ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MiwibmFtZSI6IuabtOaWsFEiLCJjb2RlIjoibGV0IOWfn+WQjSA9ICdodHRwczovL2hhaWt1by5sYW56b3VpLmNvbS8nXG5cbnZhciBnZXROZXdlc3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgbGV0IGh0bWwgPSByZXF1ZXN0KHVybCk7XG4gICAgZXZhbChodG1sLm1hdGNoKC92YXIgcGdzOyhbXFxzXFxTXSo/KWRvY3VtZW50LylbMV0pO1xuICAgIGV2YWwoJ3ZhciBib2R5ID0nICsgaHRtbC5tYXRjaCgvZGF0YSA6KFtcXHNcXFNdKj9cXH0pLylbMV0pO1xuICAgIGxldCBhcnIgPSBKU09OLnBhcnNlKHBvc3QodXJsLm1hdGNoKC9odHRwcyo6XFwvXFwvW15cXC9dK1xcLy8pWzBdICsgJ2ZpbGVtb3JlYWpheC5waHAnLCB7XG4gICAgICAgICAgICAgICAgYm9keTogYm9keVxuICAgICAgICAgICAgfSkpLnRleHQ7XG4gICAgdmFyIG5ld0FyciA9IGFyci5maWx0ZXIoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHAubmFtZV9hbGwuc3RhcnRzV2l0aChcIua1t+mYlOinhueVjF9cIikgJiYgcC5uYW1lX2FsbC5zcGxpdCgnXycpWzJdLm1hdGNoKC9bMC05XSsvKVswXSA+IGdldEFwcFZlcnNpb24oKTtcbiAgICB9KTtcbiAgICBpZiAobmV3QXJyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbGV0IGRpY3QgPSB7fTtcbiAgICAgICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSBpbiBuZXdBcnIpIHtcbiAgICAgICAgICAgIG9wdGlvbnMucHVzaChuZXdBcnJbaV0ubmFtZV9hbGwucmVwbGFjZSgv5rW36ZiU6KeG55WMXy8sICcnKSk7XG4gICAgICAgICAgICBkaWN0W25ld0FycltpXS5uYW1lX2FsbF0gPSBuZXdBcnJbaV0uaWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQob3B0aW9ucywgMSkuc2VsZWN0KChkLCB1cmwpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZGljdCA9IEpTT04ucGFyc2UoZCk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbGF6eShmaWxlVXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGZpbGVVcmwpLmxhenlSdWxlKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShmZXRjaCgnaHR0cHM6Ly9kZXZlbG9wZXIubGFuem91Zy5jb20vZmlsZS8nICsgcmVxdWVzdChpbnB1dCkubWF0Y2goLycoXFw/Lio/KScvKVsxXSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdVc2VyLUFnZW50JzogJ01vemlsbGEvNS4wJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhIZWFkZXJzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKS5oZWFkZXJzLmxvY2F0aW9uWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGF6eSh1cmwubWF0Y2goL2h0dHBzKjpcXC9cXC9bXlxcL10rXFwvLylbMF0gKyAndHAvJyArIGRpY3RbJ+a1t+mYlOinhueVjF8nICsgaW5wdXRdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBKU09OLnN0cmluZ2lmeShkaWN0KSwgdXJsKTtcbiAgICB9IGVsc2VcbiAgICAgICAgcmV0dXJuICd0b2FzdDovL+ayoeacieabtOaWsOeahOeJiOacrCdcbn1cbmxldCBnID0gW107XG5nLnB1c2goe1xuICAgIHRpdGxlOiAn5pu05pawJyxcbiAgICB1cmw6ICQo5Z+f5ZCNICsgXCJ1L0dvbGRSaXZlclwiKS5sYXp5UnVsZSgoZ2V0TmV3ZXN0KSA9PiB7XG5cdFx0cmV0dXJuIGdldE5ld2VzdChpbnB1dClcblx0fSxnZXROZXdlc3QpLFxuICAgIC8qaW1nOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3ZpZS83Ny5zdmcnLCovXG4gICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJ1xufSk7XG5nXG4ifSx7InN0YXR1cyI6dHJ1ZSwicGF0dGVybiI6MCwibmFtZSI6Iua3u+WKoOS5puetviIsInRpdGxlIjoi5re75YqgIiwidXJsIjoiQGpzOiQoKS54NWNLZXkoJ2FiYkJvb2tAJyArIChUaGlzX0dyb3VwID8gVGhpcy5uYW1lIDogJyPnqbrnmb3nu4QjJykgKyAnQCcgKyAob3JkZXJfR3JvdXAgPT09IHVuZGVmaW5lZCA/IG9yZGVyIDogb3JkZXJfR3JvdXApKTsiLCJpY29uIjoiaGlrZXI6Ly9pbWFnZXMv5re75YqgIiwiZGVzYyI6IiIsInR5cGUiOiJzY3JvbGxfYnV0dG9uIn1dLCJmb2xkX3N0YXR1cyI6dHJ1ZSwicGF0dGVybiI6M30seyJuYW1lIjoi5rWL6K+VIiwidGl0bGUiOiLmtYvor5UiLCJ1cmwiOiJAanM6ICQoJ2hpa2VyOi8vZW1wdHkjZnlwYWdlI2Z1bGxUaGVtZSMjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjJykucnVsZSgoKSA9PiB7ICAgICBzZXRQYWdlVGl0bGUoJ+ebtOaSrScpOyAgICAgbGV0IGQgPSBbXTsgICAgIGxldCBqc29uID0gSlNPTi5wYXJzZShmYygnaHR0cHM6Ly9hcGkuMTc4di5jbi9hcGkvd3N6Yi9hcGkucGhwP2FwaWtleT0xNDYxNjM4YS1mOGQyLWJhYjMtNGU4Yy02Zjg1ZGQzMjlhMjg5NGFlZTgyYicsMTIpKS56aHViby5tYXAoaiA9PiB7ICAgICAgICAgIGQucHVzaCh7ICAgICAgICAgICAgIHRpdGxlOiBqLnRpdGxlLCAgICAgICAgICAgICBjb2xfdHlwZTogJ2ljb25fMl9yb3VuZCcsICAgICAgICAgICAgIGRlc2M6ICfliIfmjaInLCAgICAgICAgICAgICBwaWM6IGouaW1nLCAgICAgICAgICAgICB1cmw6ICd2aWRlbzovLycgKyBqLmFkZHJlc3MsICAgICAgICAgfSk7ICAgICB9KTsgICAgIHNldFJlc3VsdChkKTsgfSkiLCJ0eXBlIjoidGV4dF8yIn0seyJuYW1lIjoi5rWL6K+VMSIsInRpdGxlIjoi5rWL6K+VMSIsInR5cGUiOiJ0ZXh0XzIifV0sIlNldHRpbmdDb25maWciOnsibXlZaVlhbiI6IuS6uueUn+W+l+aEj+mhu+Wwveasou+8jOiOq+S9v+mHkeaoveepuuWvueaciOOAgnx86I6r5oSB5YmN6Lev5peg55+l5bex77yM5aSp5LiL6LCB5Lq65LiN6K+G5ZCb44CCIiwidG9wUGljIjoiaGlrZXI6Ly9pbWFnZXMvbG9nbyIsImF2YXRhclBpYyI6IiIsImhpdG9rb3RvU3dpdGNoIjp0cnVlLCJsb2dvVHlwZSI6InBpY18xX2NhcmQiLCJtYXhIb21lQ291bnQiOjEyLCJteVZhcmlhYmxlcyI6IiJ9fQ==