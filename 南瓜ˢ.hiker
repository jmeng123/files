{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"动态分类","path":"dt","rule":"const empty = 'hiker://empty';\nif (!getMyVar('Types')) {\n  let ctypes = JSON.parse(request('http://ys.changmengyun.com/api.php/provide/home_nav'));\n  putMyVar('Types', JSON.stringify(ctypes));\n}\nlet Types = JSON.parse(getMyVar('Types'));\nlet 一级分类 = [];\nfor (let i = 1; i < Types.length; i++) {\n  一级分类.push({\n    name: Types[i].name,\n    id: Types[i].id,\n  });\n}\n//log(一级分类)\nlet cates = {\n  cName: '分类',\n  listItems: [\n    {\n      name: 'channel',\n      data: 一级分类,\n    },\n  ],\n};\n\nlet 二级分类 = Types.filter((it) => it.id == parseInt(getMyVar('channel', '2')))[0].msg;\n//log(二级分类)\nlet init_cate = [];\nlet categories = cates.listItems.concat(二级分类);\n//log(categories)\nfor (let i = 0; i < 20; i++) {\n  init_cate.push('0');\n}\n\nconst fold = getMyVar('header.group', '0');\nconst cate_temp_json = getMyVar('header.category', JSON.stringify(init_cate));\nconst cate_temp = JSON.parse(cate_temp_json);\n\nif (parseInt(page) === 1) {\n  /*\n    d.push({\n        title: \"🔍\",\n        url: $.toString(() => {\n            putMyVar(\"Mykey\", input);\n            refreshPage(true)\n        }),\n           desc: \"搜你想看的影视、剧集、动漫等...\",\n           col_type: \"input\",\n        extra: {\n            defaultValue: getMyVar(\"Mykey\")\n        }\n    });\n    */\n\n  d.push({\n    title:\n      fold === '1'\n        ? '““””<b><span style=\"color: #F54343\">∨</span></b>'\n        : '““””<b><span style=\"color:#19B89D\">∧</span></b>',\n    url: $('#noLoading#').lazyRule((fold) => {\n      putMyVar('header.group', fold === '1' ? '0' : '1');\n      refreshPage(false);\n      return 'hiker://empty';\n    }, fold),\n    col_type: 'scroll_button',\n  });\n  //log(categories.length)\n  categories.forEach((category, index) => {\n    //log(category)\n    let class_key = category.name;\n    let sub_categories = category.data;\n    //log(sub_categories)\n    if (index === 0) {\n      sub_categories.forEach((item, key) => {\n        let title = item.name;\n        d.push({\n          title:\n            key.toString() === cate_temp[index]\n              ? '““””<span style=\"color: ' + 分类颜色 + '\">' + title + '</span>'\n              : title,\n          url: $(item.id + '#noLoading#').lazyRule(\n            (params) => {\n              let new_cate = [];\n              params.cate_temp.forEach((cate, index) => {\n                new_cate.push(index === 0 ? params.key.toString() : '0');\n              });\n              putMyVar('header.category', JSON.stringify(new_cate));\n              if (input == '电影') {\n                input = '1';\n              } else if (input == '电视剧') {\n                input = '2';\n              } else if (input == '综艺') {\n                input = '3';\n              } else if (input == '动漫') {\n                input = '4';\n              }\n              putMyVar(params.class_key, input);\n              clearMyVar('scat');\n              clearMyVar('year');\n              clearMyVar('area');\n\n              //log(input)\n              refreshPage(true);\n              return 'hiker://empty';\n            },\n            {\n              cate_temp: cate_temp,\n              key: key,\n              class_key: class_key,\n              page: page,\n            }\n          ),\n          col_type: 'scroll_button',\n        });\n      });\n\n      d.push({\n        col_type: 'blank_block',\n      });\n    } else if (fold === '1') {\n      try {\n        let tcates = [];\n        for (let i = 0; i < sub_categories.length; i++) {\n          tcates.push({\n            name: sub_categories[i],\n            id: sub_categories[i],\n          });\n        }\n        tcates.forEach((item, key) => {\n          let title = item.name;\n          d.push({\n            title:\n              key.toString() === cate_temp[index]\n                ? '““””<span style=\"color: ' + 分类颜色 + '\">' + title + '</span>'\n                : title,\n            url: $(item.id + '#noLoading#').lazyRule(\n              (params) => {\n                params.cate_temp[params.index] = params.key.toString();\n                putMyVar('header.category', JSON.stringify(params.cate_temp));\n                //log(params.class_key)\n                putMyVar(params.class_key, input);\n                refreshPage(true);\n                return 'hiker://empty';\n              },\n              {\n                cate_temp: cate_temp,\n                index: index,\n                key: key,\n                class_key: class_key,\n                page: page,\n              }\n            ),\n            col_type: 'scroll_button',\n          });\n        });\n      } catch (e) {\n        log(sub_categories);\n        log(e.toString());\n      }\n      d.push({\n        col_type: 'blank_block',\n      });\n    }\n  });\n}\n"},{"col_type":"movie_3","name":"Function","path":"function","rule":"$.exports.getHeaders = function () {\n  let t = new Date().getTime().toString();\n  let Headers = {\n    version_name: '1.0.6',\n    version_code: '6',\n    package_name: 'com.app.nanguatv',\n    sign: md5('c431ea542cee9679#uBFszdEM0oL0JRn@' + t).toUpperCase(),\n    imei: 'c431ea542cee9679',\n    timeMillis: t,\n    'User-Agent': 'okhttp/4.6.0',\n  };\n  return Headers;\n};\n"},{"col_type":"movie_3","name":"搜索","path":"ss","rule":"$.exports = function(rule, murl) {\n    let d = [];\n    let {\n        getHeaders\n    } = $.require('hiker://page/function?rule=' + rule);\n    let headers = getHeaders();\n    let listdata = JSON.parse(\n        fetch(murl, {\n            headers: headers,\n        })\n    );\n    listdata.data.forEach((it) => {\n        d.push({\n            title: it.video_name,\n            img: it.img + '@Referer=',\n            desc: it.qingxidu + '\\t\\t' + it.category,\n            content: it.blurb,\n            url: 'hiker://empty##' + it.id + '#gameTheme#',\n        });\n    });\n    return d;\n};"},{"col_type":"movie_3","name":"解析","path":"lazy","rule":"$.exports.lazy = $('').lazyRule(() => {\n  try {\n    //input = input.split('##')[1];\n    //log(input)\n\n    function getvideo(url) {\n      var t = new Date().getTime().toString();\n      let jData = request(url, {\n        headers: {\n          version_name: '1.0.6',\n          version_code: '6',\n          package_name: 'com.app.nanguatv',\n          sign: md5('c431ea542cee9679#uBFszdEM0oL0JRn@' + t).toUpperCase(),\n          imei: 'c431ea542cee9679',\n          timeMillis: t,\n          'User-Agent': 'okhttp/4.6.0',\n        },\n        method: 'get',\n      });\n      //log(jData)\n      return JSON.parse(jData).data.url;\n    }\n    if (/,/.test(input)) {\n      showLoading('多线路并发解析中…');\n      var results = [];\n      var names = [];\n      var parseUrl = input.split(',');\n      var task = function (obj) {\n        //log(obj.url)\n        var playdata = getvideo(obj.url);\n        return playdata;\n      };\n      var tasks = [];\n      for (var i = 0; i < parseUrl.length; i++) {\n        var otask = {\n          func: task,\n          param: {\n            url: parseUrl[i],\n          },\n          id: '解析' + (i + 1),\n        };\n        tasks.push(otask);\n      }\n      var count = tasks.length;\n\n      be(\n        tasks,\n        {\n          func: function (obj, id, error, taskResult) {\n            count = count - 1;\n            //log(taskResult)\n            if (count > 0) {\n              showLoading('解析中，剩余任务：' + count);\n              obj.results.push(taskResult + '#isVideo=true#');\n              obj.names.push(id);\n            } else {\n              hideLoading();\n            }\n          },\n          param: {\n            hi: 'ccc',\n            results: results,\n            names: names,\n          },\n        },\n        count\n      );\n\n      return JSON.stringify({\n        urls: results,\n        names: names,\n      });\n    } else {\n      let videoUrl = getvideo(input);\n      return videoUrl;\n    }\n  } catch (e) {\n    log(e.toString());\n    return 'toast://解析失败，请检查日志';\n  }\n});"}],"title":"南瓜ˢ","author":"彩&顺","version":5,"type":"video","url":"hiker://empty##http://ys.changmengyun.com/api.php/provide##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar M = MY_URL.split('##');\n\nconst 分类颜色 = '#19B89D';\nlet true_url = getMyVar('header.url', MY_URL);\nconst page = MY_PAGE;\nif (page == 1) {\n  require('https://hikerfans.com/weisyr/顺搜_into.js');\n  顺搜(230,d) //给个指定高度\n  let nav = ['分类', '排行榜'];\n  for (let i = 0; i < nav.length; i++) {\n    let mytitle = nav[i];\n\n    d.push({\n      title:\n        getMyVar('navtitle', '分类') == mytitle ? '““””<b><font color=#19B89D>' + mytitle + '</font></b>' : mytitle,\n      url: $('#noLoading##noHistory#').lazyRule((mytitle) => {\n        putMyVar('navtitle', mytitle);\n        refreshPage();\n        return 'hiker://empty';\n      }, mytitle),\n      col_type: 'text_2',\n    });\n  }\n  for (let i = 0; i < 6; i++) {\n\t\td.push({\n\t\t\tcol_type: \"blank_block\"\n\t\t})\n\t}\n  /*\n  d.push({\n    title: '🔍',\n    url: \"'hiker://search?s='+input+'&rule='+MY_RULE.title\",\n    desc: '搜你想看...',\n    col_type: 'input',\n  });\n  */\n}\n\nif (getMyVar('navtitle', '分类') == '分类') {\n  $.require('hiker://page/dt');\n  let rowParam =\n    '/vod_list?app=ylys&area=地区&year=年份&type=类型&total=状态&id=分类&page=' +\n    page +\n    '&order=排序&imei=c431ea542cee9679';\n  let rowUrl =\n    M[1] +\n    rowParam\n      .replace('类型', getMyVar('type', '类型'))\n      .replace('地区', getMyVar('area', '地区'))\n      .replace('年份', getMyVar('year', '年份'))\n      .replace('状态', getMyVar('total', '状态'))\n      .replace('分类', getMyVar('channel', '2'))\n      .replace('排序', getMyVar('order', '排序'));\n\n  //log(rowUrl)\n  let listdata = JSON.parse(\n    fetch(rowUrl, {\n      headers: {\n        version_name: '1.0.6',\n        version_code: '6',\n        package_name: 'com.app.nanguatv',\n        sign: 'E52164F0A5A0CF559DB478B2732F8183',\n        imei: 'c431ea542cee9679',\n        timeMillis: '1669896328506',\n        'User-Agent': 'okhttp/4.6.0',\n      },\n      method: 'get',\n    })\n  );\n  //log(listdata)\n  try {\n    listdata.list.forEach((it) => {\n      d.push({\n        title: it.name,\n        img: it.img + '@Referer=',\n        desc: it.msg,\n        url: 'hiker://empty##' + it.id+ '#gameTheme#',\n      });\n    });\n  } catch (e) {\n    log(JSON.stringify(listdata));\n  }\n} else if (getMyVar('navtitle') == '排行榜') {\n  if (page == 1) {\n    if (!getMyVar('一级分类')) {\n      let Types = JSON.parse(request('http://ys.changmengyun.com/api.php/provide/home_nav'));\n      let 一级分类 = [];\n      for (let i = 1; i < Types.length; i++) {\n        一级分类.push({\n          name: Types[i].name,\n          id: Types[i].id,\n        });\n      }\n      putMyVar('一级分类', JSON.stringify(一级分类));\n    }\n    let 一级分类 = JSON.parse(getMyVar('一级分类'));\n    //log(一级分类)\n    for (let i = 0; i < 一级分类.length; i++) {\n      let mytitle = 一级分类[i].name;\n      let type_id = 一级分类[i].id;\n      d.push({\n        title: getMyVar('toptitle', '电视剧') == mytitle ? '““””<font color=#19B89D>' + mytitle + '</font>' : mytitle,\n        url: $('#noLoading##noHistory#').lazyRule(\n          (mytitle, type_id) => {\n            putMyVar('toptitle', mytitle);\n            putMyVar('type_id', type_id);\n            refreshPage();\n            return 'hiker://empty';\n          },\n          mytitle,\n          type_id\n        ),\n        col_type: 'scroll_button',\n      });\n    }\n  }\n  let rowParam =\n    '/vod_rank?app=ylys&sort_type=month&imei=c431ea542cee9679&id=' + getMyVar('type_id', '2') + '&page=' + page;\n  let rowUrl = M[1] + rowParam;\n  let listdata = JSON.parse(\n    fetch(rowUrl, {\n      headers: {\n        version_name: '1.0.6',\n        version_code: '6',\n        package_name: 'com.app.nanguatv',\n        sign: 'E52164F0A5A0CF559DB478B2732F8183',\n        imei: 'c431ea542cee9679',\n        timeMillis: '1669896328506',\n        'User-Agent': 'okhttp/4.6.0',\n      },\n      method: 'get',\n    })\n  );\n  //let len = listdata.length;\n  //putMyVar(\"firlen\", len);\n  //log(listdata)\n  if (page == 1) {\n    listdata.forEach((it, i) => {\n      let title = it.name;\n      d.push({\n        title:\n          i == '0'\n            ? '““””<span style=\"color:#ff3300\">' + (parseInt(i) + 1).toString() + '</span>' + '\\t\\t\\t' + title\n            : i == '1'\n            ? '““””<span style=\"color:#ff6600\">' + (parseInt(i) + 1).toString() + '</span>' + '\\t\\t\\t' + title\n            : i == '2'\n            ? '““””<span style=\"color:#ff9900\">' + (parseInt(i) + 1).toString() + '</span>' + '\\t\\t\\t' + title\n            : '““””<span>' + (parseInt(i) + 1).toString() + '</span>' + '\\t\\t\\t' + title,\n        img: it.img + '@Referer=',\n        desc: it.remarks + '\\n' + it.class + '\\n' + it.actor,\n        url: 'hiker://empty##' + it.id+ '#gameTheme#',\n        col_type: 'movie_1_vertical_pic',\n      });\n    });\n  } else {\n    listdata.forEach((it, i) => {\n      d.push({\n        title: parseInt(page - 1) * 20 + i + 1 + '\\t\\t\\t' + it.name,\n        img: it.img + '@Referer=',\n        desc: it.remarks + '\\n' + it.class + '\\n' + it.actor,\n        url: 'hiker://empty##' + it.id+ '#gameTheme#',\n        col_type: 'movie_1_vertical_pic',\n      });\n    });\n  }\n  //Array.prototype.push.apply(d, listarr);\n}\nsetResult(d);\n","searchFind":"js:\nvar d = [];\nlet key = MY_URL.split('##')[2];\nMY_URL = MY_URL.split('##')[1];\nvar page = MY_PAGE;\n\n//log(rs)\nsetResult([\n  {\n    title: '点我开始聚合搜索' + key,\n    url: 'hiker://search?s=' + key,\n    extra: {\n      rules: $.toString((MY_URL) => {\n        let rr = JSON.parse(fetch('hiker://home@' + MY_RULE.title));\n        let search =\n          'js:' +\n          $.toString((rule) => {\n            //log(MY_URL);\n            let murl = MY_URL.split('##')[1];\n            let d = $.require('hiker://page/ss?rule=' + rule)(rule, murl);\n            setResult(d);\n          }, rr.title);\n        let rules = [\n          {\n            title: '全部',\n            search_url: MY_URL.replace(/tid=.*?&/, 'tid=0&'),\n            searchFind: search,\n          },\n          {\n            title: '连续剧',\n            search_url: MY_URL.replace(/tid=.*?&/, 'tid=2&'),\n            searchFind: search,\n          },\n          {\n            title: '电影',\n            search_url: MY_URL.replace(/tid=.*?&/, 'tid=1&'),\n            searchFind: search,\n          },\n          {\n            title: '动漫',\n            search_url: MY_URL.replace(/tid=.*?&/, 'tid=4&'),\n            searchFind: search,\n          },\n          {\n            title: '综艺',\n            search_url: MY_URL.replace(/tid=.*?&/, 'tid=3&'),\n            searchFind: search,\n          },\n        ];\n        let rs = rules.map((it) => {\n          it.pages = rr.pages;\n          it.sdetail_col_type = rr.sdetail_col_type;\n          it.sdetail_find_rule = rr.sdetail_find_rule;\n          it.detail_find_rule = rr.detail_find_rule;\n          it.search_url = 'hiker://empty##' + it.search_url.replace('￥￥', '**')+ '#gameTheme#';\n          return it;\n        });\n        return JSON.stringify(rs);\n      }, MY_URL),\n    },\n  },\n]);\n","search_url":"hiker://empty##http://ys.changmengyun.com/api.php/provide/search_result_more?app=ylys&video_name=￥￥&pageSize=20&tid=0&imei=c431ea542cee9679&page=fypage##**","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:\nvar d = []\n/*--如要调用顺封，变量名别动，修改各项定位即可--*/\nconst Color = \"#19B89D\";\n//var html = getResCode();\n\nlet vod_id = MY_URL.match(/(\\d+)/)[1];\nlet ejUrl = \"http://ys.changmengyun.com/api.php/provide/vod_detail?app=ylys&imei=c431ea542cee9679&id=\" + vod_id;\nlet json = fetch(ejUrl, {\n    headers: {\n        \"version_name\": \"1.0.6\",\n        \"version_code\": \"6\",\n        \"package_name\": \"com.app.nanguatv\",\n        \"sign\": \"E52164F0A5A0CF559DB478B2732F8183\",\n        \"imei\": \"c431ea542cee9679\",\n        \"timeMillis\": \"1669896328506\",\n        \"User-Agent\": \"okhttp/4.6.0\"\n    },\n    method: \"get\"\n});\n//log(json)\nlet info = JSON.parse(json).data;\n//标题，搜索用\nvar title = info.name;\nvar title_big = title; //显示的白色大字\nvar des_pic = info.img;\n//片子信息\nlet 更新至 = info.msg;\nif (更新至) {\n    setLastChapterRule('js:' + $.toString((更新至) => {\n        setResult(更新至);\n    }, 更新至));\n}\nvar 简介 = info.info.replace(new RegExp('<[^<>]+>', 'g'), '');\nlet 类型 = '类型：'+info.type;\nlet 年份 = '年份：'+info.year+'   ' + 更新至;\n//文字描述<br>换行\nvar des_text = 年份 + '<br>' + 类型 + '<br>简介：' + 简介;\n\nlet plist = info.player_info;\nvar tabs = [];\nvar conts = [];\nplist.forEach((it) => {\n    tabs.push(it.show.replace(/-勿信视频内广告|官网/g, ''));\n    conts.push(it.video_info);\n});\n\nvar lists = [];\nfor (let i = 0; i < conts.length; i++) {\n    lists.push(conts[i])\n}\n//log(plist)\n/* -- 设置嗅探(免嗅/通免/解析/自写) 自写免嗅变量lazy写到页面标识为lazy的子页面 --*/\nvar 嗅探 = '自写';\n/* -- 如不开x5二级，改原生头部，请关'距顶' --*/\nvar x5样式 = '开';\nvar 距顶 = '开';\nvar 每页集数 = 40;\nvar 底部按钮 = '开';\nvar 线路样式 = 'flex_button';\n/* -- 线路样式建议scroll_button/flex_button --*/\n\n/* -- 顺封 --*/\nrequireCache('http://hiker.nokia.press/hikerule/rulelist.json?id=4004', 24);\n/* -- 本地调试 --*/\n//require('file:///storage/emulated/0/Android/data/com.example.hikerview/files/Documents/rules/dzHouse/html/顺封.js');","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"动态分类\",\"path\":\"dt\",\"rule\":\"const empty = 'hiker://empty';\\nif (!getMyVar('Types')) {\\n  let ctypes = JSON.parse(request('http://ys.changmengyun.com/api.php/provide/home_nav'));\\n  putMyVar('Types', JSON.stringify(ctypes));\\n}\\nlet Types = JSON.parse(getMyVar('Types'));\\nlet 一级分类 = [];\\nfor (let i = 1; i < Types.length; i++) {\\n  一级分类.push({\\n    name: Types[i].name,\\n    id: Types[i].id,\\n  });\\n}\\n//log(一级分类)\\nlet cates = {\\n  cName: '分类',\\n  listItems: [\\n    {\\n      name: 'channel',\\n      data: 一级分类,\\n    },\\n  ],\\n};\\n\\nlet 二级分类 = Types.filter((it) => it.id == parseInt(getMyVar('channel', '2')))[0].msg;\\n//log(二级分类)\\nlet init_cate = [];\\nlet categories = cates.listItems.concat(二级分类);\\n//log(categories)\\nfor (let i = 0; i < 20; i++) {\\n  init_cate.push('0');\\n}\\n\\nconst fold = getMyVar('header.group', '0');\\nconst cate_temp_json = getMyVar('header.category', JSON.stringify(init_cate));\\nconst cate_temp = JSON.parse(cate_temp_json);\\n\\nif (parseInt(page) === 1) {\\n  /*\\n    d.push({\\n        title: \\\"🔍\\\",\\n        url: $.toString(() => {\\n            putMyVar(\\\"Mykey\\\", input);\\n            refreshPage(true)\\n        }),\\n           desc: \\\"搜你想看的影视、剧集、动漫等...\\\",\\n           col_type: \\\"input\\\",\\n        extra: {\\n            defaultValue: getMyVar(\\\"Mykey\\\")\\n        }\\n    });\\n    */\\n\\n  d.push({\\n    title:\\n      fold === '1'\\n        ? '““””<b><span style=\\\"color: #F54343\\\">∨</span></b>'\\n        : '““””<b><span style=\\\"color:#19B89D\\\">∧</span></b>',\\n    url: $('#noLoading#').lazyRule((fold) => {\\n      putMyVar('header.group', fold === '1' ? '0' : '1');\\n      refreshPage(false);\\n      return 'hiker://empty';\\n    }, fold),\\n    col_type: 'scroll_button',\\n  });\\n  //log(categories.length)\\n  categories.forEach((category, index) => {\\n    //log(category)\\n    let class_key = category.name;\\n    let sub_categories = category.data;\\n    //log(sub_categories)\\n    if (index === 0) {\\n      sub_categories.forEach((item, key) => {\\n        let title = item.name;\\n        d.push({\\n          title:\\n            key.toString() === cate_temp[index]\\n              ? '““””<span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span>'\\n              : title,\\n          url: $(item.id + '#noLoading#').lazyRule(\\n            (params) => {\\n              let new_cate = [];\\n              params.cate_temp.forEach((cate, index) => {\\n                new_cate.push(index === 0 ? params.key.toString() : '0');\\n              });\\n              putMyVar('header.category', JSON.stringify(new_cate));\\n              if (input == '电影') {\\n                input = '1';\\n              } else if (input == '电视剧') {\\n                input = '2';\\n              } else if (input == '综艺') {\\n                input = '3';\\n              } else if (input == '动漫') {\\n                input = '4';\\n              }\\n              putMyVar(params.class_key, input);\\n              clearMyVar('scat');\\n              clearMyVar('year');\\n              clearMyVar('area');\\n\\n              //log(input)\\n              refreshPage(true);\\n              return 'hiker://empty';\\n            },\\n            {\\n              cate_temp: cate_temp,\\n              key: key,\\n              class_key: class_key,\\n              page: page,\\n            }\\n          ),\\n          col_type: 'scroll_button',\\n        });\\n      });\\n\\n      d.push({\\n        col_type: 'blank_block',\\n      });\\n    } else if (fold === '1') {\\n      try {\\n        let tcates = [];\\n        for (let i = 0; i < sub_categories.length; i++) {\\n          tcates.push({\\n            name: sub_categories[i],\\n            id: sub_categories[i],\\n          });\\n        }\\n        tcates.forEach((item, key) => {\\n          let title = item.name;\\n          d.push({\\n            title:\\n              key.toString() === cate_temp[index]\\n                ? '““””<span style=\\\"color: ' + 分类颜色 + '\\\">' + title + '</span>'\\n                : title,\\n            url: $(item.id + '#noLoading#').lazyRule(\\n              (params) => {\\n                params.cate_temp[params.index] = params.key.toString();\\n                putMyVar('header.category', JSON.stringify(params.cate_temp));\\n                //log(params.class_key)\\n                putMyVar(params.class_key, input);\\n                refreshPage(true);\\n                return 'hiker://empty';\\n              },\\n              {\\n                cate_temp: cate_temp,\\n                index: index,\\n                key: key,\\n                class_key: class_key,\\n                page: page,\\n              }\\n            ),\\n            col_type: 'scroll_button',\\n          });\\n        });\\n      } catch (e) {\\n        log(sub_categories);\\n        log(e.toString());\\n      }\\n      d.push({\\n        col_type: 'blank_block',\\n      });\\n    }\\n  });\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"Function\",\"path\":\"function\",\"rule\":\"$.exports.getHeaders = function () {\\n  let t = new Date().getTime().toString();\\n  let Headers = {\\n    version_name: '1.0.6',\\n    version_code: '6',\\n    package_name: 'com.app.nanguatv',\\n    sign: md5('c431ea542cee9679#uBFszdEM0oL0JRn@' + t).toUpperCase(),\\n    imei: 'c431ea542cee9679',\\n    timeMillis: t,\\n    'User-Agent': 'okhttp/4.6.0',\\n  };\\n  return Headers;\\n};\\n\"},{\"col_type\":\"movie_3\",\"name\":\"搜索\",\"path\":\"ss\",\"rule\":\"$.exports = function(rule, murl) {\\n    let d = [];\\n    let {\\n        getHeaders\\n    } = $.require('hiker://page/function?rule=' + rule);\\n    let headers = getHeaders();\\n    let listdata = JSON.parse(\\n        fetch(murl, {\\n            headers: headers,\\n        })\\n    );\\n    listdata.data.forEach((it) => {\\n        d.push({\\n            title: it.video_name,\\n            img: it.img + '@Referer=',\\n            desc: it.qingxidu + '\\\\t\\\\t' + it.category,\\n            content: it.blurb,\\n            url: 'hiker://empty##' + it.id + '#gameTheme#',\\n        });\\n    });\\n    return d;\\n};\"},{\"col_type\":\"movie_3\",\"name\":\"解析\",\"path\":\"lazy\",\"rule\":\"$.exports.lazy = $('').lazyRule(() => {\\n  try {\\n    //input = input.split('##')[1];\\n    //log(input)\\n\\n    function getvideo(url) {\\n      var t = new Date().getTime().toString();\\n      let jData = request(url, {\\n        headers: {\\n          version_name: '1.0.6',\\n          version_code: '6',\\n          package_name: 'com.app.nanguatv',\\n          sign: md5('c431ea542cee9679#uBFszdEM0oL0JRn@' + t).toUpperCase(),\\n          imei: 'c431ea542cee9679',\\n          timeMillis: t,\\n          'User-Agent': 'okhttp/4.6.0',\\n        },\\n        method: 'get',\\n      });\\n      //log(jData)\\n      return JSON.parse(jData).data.url;\\n    }\\n    if (/,/.test(input)) {\\n      showLoading('多线路并发解析中…');\\n      var results = [];\\n      var names = [];\\n      var parseUrl = input.split(',');\\n      var task = function (obj) {\\n        //log(obj.url)\\n        var playdata = getvideo(obj.url);\\n        return playdata;\\n      };\\n      var tasks = [];\\n      for (var i = 0; i < parseUrl.length; i++) {\\n        var otask = {\\n          func: task,\\n          param: {\\n            url: parseUrl[i],\\n          },\\n          id: '解析' + (i + 1),\\n        };\\n        tasks.push(otask);\\n      }\\n      var count = tasks.length;\\n\\n      be(\\n        tasks,\\n        {\\n          func: function (obj, id, error, taskResult) {\\n            count = count - 1;\\n            //log(taskResult)\\n            if (count > 0) {\\n              showLoading('解析中，剩余任务：' + count);\\n              obj.results.push(taskResult + '#isVideo=true#');\\n              obj.names.push(id);\\n            } else {\\n              hideLoading();\\n            }\\n          },\\n          param: {\\n            hi: 'ccc',\\n            results: results,\\n            names: names,\\n          },\\n        },\\n        count\\n      );\\n\\n      return JSON.stringify({\\n        urls: results,\\n        names: names,\\n      });\\n    } else {\\n      let videoUrl = getvideo(input);\\n      return videoUrl;\\n    }\\n  } catch (e) {\\n    log(e.toString());\\n    return 'toast://解析失败，请检查日志';\\n  }\\n});\"}]","proxy":"","icon":"https://pp.myapp.com/ma_icon/0/icon_54318193_1688719989/256"}