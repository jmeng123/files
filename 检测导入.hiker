{"last_chapter_rule":"","pageList":[],"title":"检测导入","author":"zetalpha","version":0,"type":"video","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\n\n\n$.extend({\n    geturls: function(text) {\n        String.prototype.matchAll = function(regexp) {\n            var matches = [];\n            var match = regexp.exec(this);\n            while (match !== null) {\n                matches.push(match);\n                match = regexp.exec(this);\n            }\n            return matches;\n        };\n\n        function appexist(title) {\n            title = title.trim();\n            var app = request('hiker://home@' + title);\n            if (app != 'null') {\n                return '““””' + ('' + title).fontcolor(\"#FF4500\")\n            } else {\n                return '““””' + title.fontcolor(\"#D3D3D3\")\n            }\n        }\n        var regex=/((?:https:|云\\d+oooole)[\\s\\S]*?\\s)(.*?)：(.*$)/gm;\n        \n        var lists = text.matchAll(regex);\n        var urls = [];\n        lists.map(item => {\n            var obj = {\n                title: item[3],\n                type:item[2].trim(),\n                url: item[1].replace(/[\\r\\n]/g, '').trim(),\n            }\n            urls.push(obj);\n        })\n        var u=[];\n        urls.map(x => {\n            if(u.includes(x.url)){\n                return;\n            }\n            addItemAfter(MY_RULE.title + 'line', {\n                title: '<small>类型: '+x.type+'</small>  '+appexist(x.title),\n                desc: x.url,\n                url: $('').lazyRule((url) => {\n                    return parsePaste(url)\n                }, x.url),\n                col_type: 'text_1',\n                extra: {\n                    cls: MY_RULE.title + 'urls',\n                }\n            })\n            u.push(x.url)\n        })\n    }\n})\n\nd.push({\n    title: '',\n    col_type: \"input\",\n    extra: {\n        height: '-1',\n        type: 'textarea',\n        highlight: true,\n        defaultValue: getMyVar('text') || '',\n        onChange: $.toString(() => {\n            putMyVar('text', input);\n        })\n    }\n});\n\nvar text = getMyVar('text', '');\n\nd.push({\n    title: '清空',\n    col_type: 'text_2',\n    url: $('#noLoading#').lazyRule(() => {\n        clearMyVar('text');\n        refreshPage();\n        return 'hiker://empty'\n    }),\n}, {\n    title: '生成',\n    col_type: 'text_2',\n    url: $('#noLoading#').lazyRule(() => {\n        var text = getMyVar('text') || '';\n        if (text == '') {\n            return 'toast://空';\n        }\n        deleteItemByCls(MY_RULE.title+\"urls\");\n        $.geturls(text);\n        return 'hiker://empty'\n    }),\n}, {\n    col_type: 'blank_block',\n    extra: {\n        id: MY_RULE.title + 'line',\n    }\n})\n\nsetResult(d)\n\nif (text != '') {\n    $.geturls(text)\n}","searchFind":"","search_url":"","group":"⑦工具","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":""}