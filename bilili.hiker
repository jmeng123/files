{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"åˆ†ç±»ç‰‡åº“","path":"vault","rule":"é¡¶éƒ¨å¤§ç±» = ['å›½åˆ›', 'ç”µè§†', 'çºªå½•ç‰‡', 'ç»¼è‰º', 'ç•ªå‰§', 'ç”µå½±']\nif (page == 1) {\n    // æŠ˜å å¼€å…³\n    d.push({\n        title: getMyVar('æŠ˜å ', 'å…³') == 'å…³' ? 'â€œâ€œâ€â€<b><span style=\"color: #FF0000\">âˆ¨</span></b>' : 'â€œâ€œâ€â€<b><span style=\"color: #1aad19\">âˆ§</span></b>',\n        url: $('#noLoading#').lazyRule(() => {\n            if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n                putMyVar('æŠ˜å ', 'å…³');\n            } else {\n                putMyVar('æŠ˜å ', 'å¼€');\n            }\n            refreshPage(true);\n            return \"hiker://empty\";\n        }),\n        col_type: 'scroll_button',\n    })\n    é¡¶éƒ¨å¤§ç±».forEach(li => {\n        d.push({\n            title: li == getMyVar('å¤§ç±»', 'å›½åˆ›') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + li + '</font></b>' : li,\n            url: $('#noLoading#').lazyRule((li) => {\n                putMyVar('å¤§ç±»', li);\n                refreshPage(true);\n                return \"hiker://empty\";\n            }, li),\n            col_type: 'scroll_button',\n        })\n    });\n    d.push({\n        col_type: 'blank_block'\n    })\n}\n// é¡¶éƒ¨åˆ†ç±»å‚æ•°æ˜ å°„\nswitch (getMyVar('å¤§ç±»', 'å›½åˆ›')) {\n    case 'å›½åˆ›':\n        seasonType = 4;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/guochuang/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    case 'ç”µè§†':\n        seasonType = 5;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/tv/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    case 'çºªå½•ç‰‡':\n        seasonType = 3;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/documentary/index/');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    case 'ç»¼è‰º':\n        seasonType = 7;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/variety/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    case 'ç•ªå‰§':\n        seasonType = 1;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/anime/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    case 'ç”µå½±':\n        seasonType = 2;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/movie/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n    default:\n        seasonType = 4;\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\n            if (page == 1) {\n                html = fetch('https://www.bilibili.com/anime/index');\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\n                            return;\n                        }\n                        d.push({\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\n                                refreshPage(true);\n                                return \"hiker://empty\";\n                            }, li, ç­›é€‰æ¡ä»¶),\n                            col_type: 'scroll_button'\n                        })\n                    });\n                    d.push({\n                        col_type: 'blank_block'\n                    })\n                });\n            }\n        }\n        break;\n}\n// å­åˆ†ç±»å‚æ•°æ˜ å°„\nswitch (getMyVar('ç±»å‹', 'å…¨éƒ¨')) {\n    case 'æ­£ç‰‡':\n        season_version = 1;\n        break;\n    case 'ç”µå½±':\n        season_version = 2;\n        break;\n    case 'å…¶ä»–':\n        season_version = 3;\n        break;\n    default:\n        season_version = -1;\n        break;\n}\nswitch (getMyVar('é…éŸ³', 'å…¨éƒ¨')) {\n    case 'åŸå£°':\n        spoken_language_type = 1;\n        break;\n    case 'ä¸­æ–‡é…éŸ³':\n        spoken_language_type = 2;\n        break;\n    default:\n        spoken_language_type = -1;\n        break;\n}\nswitch (getMyVar('åœ°åŒº', 'å…¨éƒ¨')) {\n    case 'ä¸­å›½å¤§é™†':\n        area = 1;\n        break;\n    case 'æ—¥æœ¬':\n        area = 2;\n        break;\n    case 'ç¾å›½':\n        area = 3;\n        break;\n    case 'è‹±å›½':\n        area = 4;\n        break;\n    case 'ä¸­å›½æ¸¯å°':\n        area = [6, 7];\n        break;\n    case 'éŸ©å›½':\n        area = 8;\n        break;\n    case 'æ³•å›½':\n        area = 9;\n        break;\n    case 'æ³°å›½':\n        area = 10;\n        break;\n    case 'è¥¿ç­ç‰™':\n        area = 13;\n        break;\n    case 'å¾·å›½':\n        area = 15;\n        break;\n    case 'æ„å¤§åˆ©':\n        area = 35;\n        break;\n    case 'å…¶ä»–':\n        // åªæ˜¯ç•ªå‰§çš„æƒ…å†µ_å…±55ï¼Œè¦å‡å»å‡ºç°çš„â€”â€”ç®—äº†ï¼Œç›´æ¥åœ¨åŠ¨æ€åˆ†ç±»çš„æ—¶å€™å»æ‰äº†\n        area = [1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55];\n        break;\n    default:\n        area = -1;\n        break;\n}\nswitch (getMyVar('çŠ¶æ€', 'å…¨éƒ¨')) {\n    case 'å®Œç»“':\n        is_finish = 1;\n        break;\n    case 'è¿è½½':\n        is_finish = 0;\n        break;\n    default:\n        is_finish = -1;\n        break;\n}\nswitch (getMyVar('å‡ºå“', 'å…¨éƒ¨')) {\n    case 'å¤®è§†':\n        producer_id = 4;\n        break;\n    case 'BBC':\n        producer_id = 1;\n        break;\n    case 'æ¢ç´¢é¢‘é“':\n        producer_id = 7;\n        break;\n    case 'å›½å®¶åœ°ç†':\n        producer_id = 14;\n        break;\n    case 'NHK':\n        producer_id = 2;\n        break;\n    case 'å†å²é¢‘é“':\n        producer_id = 6;\n        break;\n    case 'å«è§†':\n        producer_id = 8;\n        break;\n    case 'è‡ªåˆ¶':\n        producer_id = 9;\n        break;\n    case 'ITV':\n        producer_id = 5;\n        break;\n    case 'SKY':\n        producer_id = 3;\n        break;\n    case 'ZDF':\n        producer_id = 10;\n        break;\n    case 'åˆä½œæœºæ„':\n        producer_id = 11;\n        break;\n    case 'å›½å†…å…¶ä»–':\n        producer_id = 12;\n        break;\n    case 'å›½å¤–å…¶å®ƒ':\n        producer_id = 13;\n        break;\n    default:\n        producer_id = -1;\n        break;\n}\nswitch (getMyVar('ç‰ˆæƒ', 'å…¨éƒ¨')) {\n    case 'ç‹¬å®¶':\n        copyright = 3;\n        break;\n    case 'å…¶ä»–':\n        copyright = [1, 2, 4];\n        break;\n    default:\n        copyright = -1;\n        break;\n}\nswitch (getMyVar('ä»˜è´¹', 'å…¨éƒ¨')) {\n    case 'å…è´¹':\n        season_status = 1;\n        break;\n    case 'ä»˜è´¹':\n        season_status = [2, 6];\n        break;\n    case 'å¤§ä¼šå‘˜':\n        season_status = [4, 6];\n        break;\n    default:\n        season_status = -1;\n        break;\n}\nswitch (getMyVar('å­£åº¦', 'å…¨éƒ¨')) {\n    case '1æœˆ':\n        season_month = 1;\n        break;\n    case '4æœˆ':\n        season_month = 4;\n        break;\n    case '7æœˆ':\n        season_month = 7;\n        break;\n    case '10æœˆ':\n        season_month = 10;\n        break;\n    default:\n        season_month = -1;\n        break;\n}\n// åˆ¤æ–­å’Œæ˜ å°„å¹´ä»½\nswitch (getMyVar('å¤§ç±»', 'å›½åˆ›')) {\n    case 'å›½åˆ›':\n    case 'ç•ªå‰§':\n        // ç•ªå‰§å’Œå›½åˆ›ã€ä¹Ÿæ˜¯å«åšå¹´ä»½ä½†å‚æ•°åã€æ ¼å¼å’Œå…¶ä»–åˆ†ç±»ä¸ä¸€æ ·ã€‘\n        anime_year = getMyVar('å¹´ä»½', 'å…¨éƒ¨');\n        switch (anime_year.includes('-')) {\n            case true:\n                early = anime_year.split('-')[1];\n                later = anime_year.split('-')[0];\n                year = `[${early},${Number(later) + 1})`;\n                break;\n            case false:\n                switch (anime_year) {\n                    case '90å¹´ä»£':\n                        year = '[1990,2000)';\n                        break;\n                    case '80å¹´ä»£':\n                        year = '[1980,1990)';\n                        break;\n                    case 'æ›´æ—©':\n                        year = '[,1980)';\n                        break;\n                    case 'å…¨éƒ¨':\n                        year = -1;\n                        break;\n                    default:\n                        year = `[${anime_year},${Number(anime_year) + 1})`;\n                        break;\n                }\n        }\n    default:\n        // é™¤äº†ç•ªå‰§å’Œå›½åˆ›çš„å…¶ä»–åˆ†ç±»\n        tv_year = getMyVar('å¹´ä»½', 'å…¨éƒ¨');\n        switch (tv_year.includes('-')) {\n            case true:\n                early = tv_year.split('-')[1];\n                later = tv_year.split('-')[0];\n                release_date = `[${early}-01-01 00:00:00,${Number(later) + 1}-01-01 00:00:00)`\n                break;\n            case false:\n                switch (tv_year) {\n                    case '90å¹´ä»£':\n                        release_date = '[1990-01-01 00:00:00,2000-01-01 00:00:00)'\n                        break;\n                    case '80å¹´ä»£':\n                        release_date = '[1980-01-01 00:00:00,1990-01-01 00:00:00)'\n                        break;\n                    case 'æ›´æ—©':\n                        release_date = '[,1980-01-01 00:00:00)';\n                        break;\n                    case 'å…¨éƒ¨':\n                        release_date = -1;\n                        break;\n                    default:\n                        release_date = `[${tv_year}-01-01 00:00:00,${Number(tv_year) + 1}-01-01 00:00:00)`;\n                        break;\n                }\n        }\n}\nswitch (getMyVar('é£æ ¼', 'å…¨éƒ¨')) {\n    case 'ç”µå½±':\n        style_id = -10;\n        break;\n    // ç•ªå‰§æ ç›®\n    case 'åŸåˆ›':\n        style_id = 10010;\n        break;\n    case 'æ¼«ç”»æ”¹':\n        style_id = 10011;\n        break;\n    case 'å°è¯´æ”¹':\n        style_id = 10012;\n        break;\n    case 'æ¸¸æˆæ”¹':\n        style_id = 10013;\n        break;\n    case 'ç‰¹æ‘„':\n        style_id = 10014;\n        break;\n    case 'å¸ƒè¢‹æˆ':\n        style_id = 10015;\n        break;\n    case 'çƒ­è¡€':\n        style_id = 10016;\n        break;\n    case 'ç©¿è¶Š':\n        style_id = 10017;\n        break;\n    case 'å¥‡å¹»':\n        style_id = 10018;\n        break;\n    // å’‹è·³äº†ä¸€ä¸ªæ~\n    case 'æˆ˜æ–—':\n        style_id = 10020;\n        break;\n    case 'æç¬‘':\n        style_id = 10021;\n        break;\n    case 'æ—¥å¸¸':\n        style_id = 10022;\n        break;\n    case 'ç§‘å¹»':\n        style_id = 10023;\n        break;\n    case 'èŒç³»':\n        style_id = 10024;\n        break;\n    case 'æ²»æ„ˆ':\n        style_id = 10025;\n        break;\n    case 'æ ¡å›­':\n        style_id = 10026;\n        break;\n    case 'å°‘å„¿':\n        style_id = 10027;\n        break;\n    case 'æ³¡é¢':\n        style_id = 10028;\n        break;\n    case 'æ‹çˆ±':\n        style_id = 10029;\n        break;\n    case 'å°‘å¥³':\n        style_id = 10030;\n        break;\n    case 'é­”æ³•':\n        style_id = 10031;\n        break;\n    case 'å†’é™©':\n        style_id = 10032;\n        break;\n    case 'å†å²':\n        style_id = 10033;\n        break;\n    case 'æ¶ç©º':\n        style_id = 10034;\n        break;\n    case 'æœºæˆ˜':\n        style_id = 10035;\n        break;\n    case 'ç¥é­”':\n        style_id = 10036;\n        break;\n    case 'å£°æ§':\n        style_id = 10037;\n        break;\n    case 'è¿åŠ¨':\n        style_id = 10038;\n        break;\n    case 'åŠ±å¿—':\n        style_id = 10039;\n        break;\n    case 'éŸ³ä¹':\n        style_id = 10040;\n        break;\n    case 'æ¨ç†':\n        style_id = 10041;\n        break;\n    case 'ç¤¾å›¢':\n        style_id = 10042;\n        break;\n    case 'æ™ºæ–—':\n        style_id = 10043;\n        break;\n    case 'å‚¬æ³ª':\n        style_id = 10044;\n        break;\n    case 'ç¾é£Ÿ':\n        style_id = 10045;\n        break;\n    case 'å¶åƒ':\n        style_id = 10046;\n        break;\n    case 'ä¹™å¥³':\n        style_id = 10047;\n        break;\n    case 'èŒåœº':\n        style_id = 10048;\n        break;\n\n    // ç»¼è‰ºæ ç›®ã€ç”µå½±\n    case 'å‰§æƒ…':\n        style_id = 10050;\n        break;\n    case 'å–œå‰§':\n        style_id = 10051;\n        break;\n    case 'çˆ±æƒ…':\n        style_id = 10052;\n        break;\n    case 'åŠ¨ä½œ':\n        style_id = 10053;\n        break;\n    case 'ææ€–':\n        style_id = 10054;\n        break;\n    case 'çŠ¯ç½ª':\n        style_id = 10055;\n        break;\n    case 'æƒŠæ‚š':\n        style_id = 10056;\n        break;\n    case 'æ‚¬ç–‘':\n        style_id = 10057;\n        break;\n    case 'æˆ˜äº‰':\n        style_id = 10058;\n        break;\n    case 'åŠ¨ç”»':\n        style_id = 10059;\n        break;\n    case 'ä¼ è®°':\n        style_id = 10060;\n        break;\n    case 'å®¶åº­':\n        style_id = 10061;\n        break;\n    case 'æ­Œèˆ':\n        style_id = 10062;\n        break;\n    case 'çºªå®':\n        style_id = 10063;\n        break;\n    case 'ç¾éš¾':\n        style_id = 10064;\n        break;\n    case 'äººæ–‡':\n        style_id = 10065;\n        break;\n    case 'ç§‘æŠ€':\n        style_id = 10066;\n        break;\n    case 'å®‡å®™':\n        style_id = 10068;\n        break;\n    case 'èŒå® ':\n        style_id = 10069;\n        break;\n    case 'ç¤¾ä¼š':\n        style_id = 10070;\n        break;\n    case 'åŠ¨ç‰©':\n        style_id = 10071;\n        break;\n    case 'è‡ªç„¶':\n        style_id = 10072;\n        break;\n    case 'åŒ»ç–—':\n        style_id = 10073;\n        break;\n    case 'å†›äº‹':\n        style_id = 10074;\n        break;\n    case 'ç½ªæ¡ˆ':\n        style_id = 10075;\n        break;\n    case 'ç¥ç§˜':\n        style_id = 10076;\n        break;\n    case 'æ—…è¡Œ':\n        style_id = 10077;\n        break;\n    case 'æ­¦ä¾ ':\n        style_id = 10078;\n        break;\n    case 'é’æ˜¥':\n        style_id = 10079;\n        break;\n    case 'éƒ½å¸‚':\n        style_id = 10080;\n        break;\n    case 'å¤è£…':\n        style_id = 10081;\n        break;\n    case 'è°æˆ˜':\n        style_id = 10082;\n        break;\n    case 'ç»å…¸':\n        style_id = 10083;\n        break;\n    case 'æƒ…æ„Ÿ':\n        style_id = 10084;\n        break;\n    case 'ç¥è¯':\n        style_id = 10085;\n        break;\n    case 'å¹´ä»£':\n        style_id = 10086;\n        break;\n    case 'å†œæ‘':\n        style_id = 10087;\n        break;\n    case 'åˆ‘ä¾¦':\n        style_id = 10088;\n        break;\n    case 'å†›æ—…':\n        style_id = 10089;\n        break;\n    case 'è®¿è°ˆ':\n        style_id = 10090;\n        break;\n    case 'è„±å£ç§€':\n        style_id = 10091;\n        break;\n    case 'çœŸäººç§€':\n        style_id = 10092;\n        break;\n    case 'é€‰ç§€':\n        style_id = 10094;\n        break;\n    case 'æ—…æ¸¸':\n        style_id = 10095;\n        break;\n    case 'æ™šä¼š':\n        style_id = 10098;\n        break;\n    case 'æ¼”å”±ä¼š':\n        style_id = 10096;\n        break;\n    case 'äº²å­':\n        style_id = 10097;\n        break;\n    case 'å…»æˆ':\n        style_id = 10099;\n        break;\n    case 'æ–‡åŒ–':\n        style_id = 10100;\n        break;\n    // ç”µå½±æ ç›®\n    case 'çŸ­ç‰‡':\n        style_id = 10104;\n        break;\n    default:\n        style_id = -1;\n        break;\n}\n// æ˜ å°„çœŸå®è¯·æ±‚åœ°å€\nswitch (seasonType) {\n    case 4:\n        // å›½åˆ›\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_version=' + season_version + '&is_finish=' + is_finish + '&copyright=' + copyright + '&season_status=' + season_status + '&year=' + year + '&style_id=' + style_id + '&order=3&st=4&sort=0&page=' + page + '&season_type=4&pagesize=30&type=1'\n        break;\n    case 5:\n        // ç”µè§†å‰§\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?area=' + area + '&style_id=' + style_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=5&sort=0&page=' + page + '&season_type=5&pagesize=30&type=1'\n        break;\n    case 7:\n        // ç»¼è‰º\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_status=' + season_status + '&style_id=' + style_id + '&order=2&st=7&sort=0&page=' + page + '&season_type=7&pagesize=30&type=1';\n        break;\n    case 1:\n        // ç•ªå‰§\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_version=' + season_version + '&spoken_language_type=' + spoken_language_type + '&area=' + area + '&is_finish=' + is_finish + '&copyright=' + copyright + '&season_status=' + season_status + '&season_month=' + season_month + '&year=' + year + '&style_id=' + style_id + '&order=3&st=1&sort=0&page=' + page + '&season_type=1&pagesize=30&type=1';\n        break;\n    case 3:\n        // çºªå½•ç‰‡\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?style_id=' + style_id + '&producer_id=' + producer_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=3&sort=0&page=' + page + '&season_type=3&pagesize=30&type=1'\n        break;\n    case 2:\n        // ç”µå½±\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?area=' + area + '&style_id=' + style_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=2&sort=0&page=' + page + '&season_type=2&pagesize=30&type=1'\n        break;\n}\ntrue_url = encodeURI(true_url);\nlist = JSON.parse(fetch(true_url)).data.list;\ntry {\n    list.forEach(movie => {\n        d.push({\n            title: movie.title,\n            url: \"hiker://page/filmerji#immersiveTheme#\",\n            img: movie.cover + \"@Referer=\",\n            desc: movie.order,\n            col_type: 'movie_3',\n            extra: {\n                season_id: movie.season_id\n            }\n        });\n    });\n} catch (e) {\n    log('å·²ç»æŠµè¾¾é¡µåº•' + MY_PAGE);\n}\n"},{"col_type":"movie_3","name":"çƒ­æ˜ æ—¶é—´è¡¨","path":"UpdateTables","rule":"function color(text, color) {\n\nÂ  Â  text += \"\";\n\nÂ  Â  if (text.indexOf(\"â€œâ€œâ€â€\") === 0) {\n\nÂ  Â  Â  Â  text.replace(\"â€œâ€œâ€â€\", \"\");\n\nÂ  Â  }\n\nÂ  Â  return \"â€œâ€œâ€â€<font color='\" + color + \"'>\" + text + \"</font>\";\n\n}\n\nvar tabs = {\n\nÂ  Â  \"ç•ªå‰§\": 1,\n\nÂ  Â  \"çºªå½•ç‰‡\": 3,\n\nÂ  Â  \"å›½åˆ›\": 4\n\n}\n\nif (MY_PAGE == 1) {\n\nÂ  Â  Object.keys(tabs).forEach(item => {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\"juji\", \"å›½åˆ›\") == item ? color(item, \"red\") : item),\n\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((a) => {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\"juji\", a)\n\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\n\nÂ  Â  Â  Â  Â  Â  Â  Â  return \"toast://åˆ‡æ¢æˆåŠŸ\"\n\nÂ  Â  Â  Â  Â  Â  }, item),\n\nÂ  Â  Â  Â  Â  Â  col_type: \"scroll_button\"\n\nÂ  Â  Â  Â  })\n\nÂ  Â  })\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  col_type: \"line\"\n\nÂ  Â  })\n\nÂ  Â  let days = 7\n\nÂ  Â  for (let i = 1; i < days; i++) {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\"from\", \"1\") == i + \"\" ? color(i + \"å¤©å‰\", \"red\") : i + \"å¤©å‰\"),\n\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((i) => {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\"from\", i + \"\")\n\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\n\nÂ  Â  Â  Â  Â  Â  Â  Â  return \"hiker://empty\"\n\nÂ  Â  Â  Â  Â  Â  }, i),\n\nÂ  Â  Â  Â  Â  Â  col_type: \"scroll_button\"\n\nÂ  Â  Â  Â  })\n\nÂ  Â  }\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  col_type: \"line\"\n\nÂ  Â  })\n\nÂ  Â  for (let i = 1; i < days; i++) {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\"to\", \"1\") == i + \"\" ? color(i + \"å¤©å\", \"red\") : i + \"å¤©å\"),\n\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((i) => {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\"to\", i + \"\")\n\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\n\nÂ  Â  Â  Â  Â  Â  Â  Â  return \"hiker://empty\"\n\nÂ  Â  Â  Â  Â  Â  }, i),\n\nÂ  Â  Â  Â  Â  Â  col_type: \"scroll_button\"\n\nÂ  Â  Â  Â  })\n\nÂ  Â  }\n\n\nÂ  Â  $.require(\"hiker://page/api\").getMovies(tabs[getMyVar(\"juji\", \"å›½åˆ›\")], getMyVar(\"from\", \"1\"), getMyVar(\"to\", \"1\")).forEach(item => {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: item.date + \" å‘¨\" + item.day_of_week,\n\nÂ  Â  Â  Â  Â  Â  col_type: \"text_1\",\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://empty\"\n\nÂ  Â  Â  Â  })\n\nÂ  Â  Â  Â  item.episodes.forEach(i => {\n\nÂ  Â  Â  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  Â  Â  title: i.title,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  img: i.cover+'@Referer=',\n\nÂ  Â  Â  Â  Â  Â  Â  Â  desc:i.pub_index.match(/å³å°†/)?'â€˜â€˜â€™â€™<font color=\"red\">'+i.pub_index+'\\n'+i.pub_time+'</font>': i.pub_index+ '\\n' + i.pub_time,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  url: \"hiker://page/filmerji#immersiveTheme#\",\n\nÂ  Â  Â  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  \"season_id\": i.season_id\n\nÂ  Â  Â  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  Â  Â  })\n\nÂ  Â  Â  Â  })\n\nÂ  Â  })\n\n}\n\n\n\n"},{"col_type":"movie_3","name":"ç™»å½•","path":"login","rule":"js:\nvar d = [];\nsetPageTitle('è´¦å·ç™»å½•é¡µé¢')\nd.push({\n    title: 'cookieç™»å½•',\n    url: $('#noLoading#').lazyRule(() => {\n        return $('', 'è¯·è¾“å…¥ä½ çš„cookie').input(() => {\n            if (input == \"\") return \"toast://cookieä¸èƒ½ä¸ºç©º\";\n            let userinfo = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/nav\", {\n                headers: {\n                    \"Cookie\": input\n                }\n            })).data;\n            if (userinfo.isLogin === false) return \"toast://ä½ çš„cookieè²Œä¼¼å¤±æ•ˆäº†å–”~\";\n            userInfo = {\n                cookie: input,\n                userName: userinfo.uname,\n                userMid:  userinfo.mid,\n                vipStatus: userinfo.vipStatus,\n                face: userinfo.face + \"@Referer=\"\n            }\n            setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n            setting.userList.unshift(userInfo);\n            // è¿‡æ»¤æ‰cookieä¸ºç©ºçš„å…ƒç´ \n            setting.userList = setting.userList.filter(user => user.cookie !== '');\n            saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n            back(true);\n            return \"toast://cookieè®¾ç½®æˆåŠŸ\";\n        })\n    }),\n    col_type: 'text_center_1'\n});\nd.push({\n    title: 'ç™»é™†è¯´æ˜',\n    desc: \"é¡µé¢ä¸‹æ–¹ç™»é™†æˆåŠŸåï¼Œå†ç‚¹å‡»ç¡®è®¤ç™»å½•å³å¯\",\n    url: \"hiker://empty\",\n    col_type: 'text_center_1'\n}, {\n    title: 'ç™»é™†æˆåŠŸåï¼Œå†ç‚¹æˆ‘ï¼',\n    url: $('#noLoading#').lazyRule(() => {\n        // è¿™é‡Œè´Ÿè´£å†™Cookieï¼Œå…ˆè¯»ï¼Œå†è¿½åŠ \n        cookie = getVar('biliCookie','');\n        log(\"è·å–åˆ°çš„cookie:\"+cookie);\n        if (cookie == \"\") return \"toast://è·å–cookieå¤±è´¥ï¼Œå†ç­‰ç­‰çœ‹ï¼Ÿ\";\n        let userinfo = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/nav\", {\n            headers: {\n                \"Cookie\": cookie\n            }\n        })).data;\n        if (userinfo.isLogin === false) return \"toast://ä½ å…ˆç™»å½•ï¼Œå†è·å–cookieï¼ŒOKï¼Ÿ\";\n        userInfo = {\n            cookie: cookie,\n            userName: userinfo.uname,\n            userMid:  userinfo.mid,\n            vipStatus: userinfo.vipStatus,\n            face: userinfo.face + \"@Referer=\"\n        }\n        setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n        setting.userList.unshift(userInfo);\n        // è¿‡æ»¤æ‰cookieä¸ºç©ºçš„å…ƒç´ \n        setting.userList = setting.userList.filter(user => user.cookie !== '');\n        saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n        back(true);\n        return 'toast://å¦‚æœæ²¡æœ‰ç™»é™†æˆåŠŸï¼Œå»ºè®®ä½ ä¸‹æ¬¡ç™»é™†æˆåŠŸåä¸è¦ç‚¹é‚£ä¹ˆå¿«~'\n    }),\n    col_type: 'text_1'\n}, {\n    url: \"https://m.bilibili.com/\",\n    col_type: \"x5_webview_single\",\n    desc: \"list&&screen-300\",\n    extra: {\n        js: $.toString(() => {\n            var token_timer = function () {\n                var timer = setInterval(() => {\n                    cookie = fba.getCookie(\"https://m.bilibili.com/\");\n                    fba.putVar('biliCookie', cookie);\n                }, 100)\n            };\n            token_timer();\n        }),\n        canBack: true,\n        ua: MOBILE_UA\n    }\n})\nsetResult(d);\n"},{"col_type":"movie_3","name":"å½±è§†äºŒçº§","path":"filmerji","rule":"js:\n// æ•°æ®å®šä½\nvar d = [];\nif (MY_PARAMS.season_id) {\n    season_id = MY_PARAMS.season_id + \"\";\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?season_id=' + season_id)).result;\n} else {\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?ep_id=' + MY_PARAMS.ep_id)).result;\n}\nif (!Data.cover.match(/https/)) {\n    å°é¢ = Data.cover.replace('http', 'https') + \"@Referer=\";\n} else {\n    å°é¢ = Data.cover + \"@Referer=\";\n}\ntry {\n    åœ°åŒº = Data.areas[0].name;\n} catch (e) {\n    åœ°åŒº = 'åœ°åŒºæš‚æ— ';\n}\nç®€ä»‹ = Data.evaluate;\n// æ­£ç‰‡\nç±»å‹ = Data.positive.title;\nä¸Šæ˜ æ—¶é—´ = Data.publish.pub_time;\ntry {\n    å¾—åˆ† = Data.rating.score;\n} catch (e) {\n    å¾—åˆ† = 'æš‚æ— å¾—';\n}\nè¿½å‰§æ—¥å† = Data.new_ep.desc;\næ›´æ–°è¿›åº¦ = Data.new_ep.title;\nå½±ç‰‡åç§° = Data.title;\nç¬¬äºŒæ ‡é¢˜ = Data.share_sub_title;\nå‰§é›†åˆ—è¡¨ = Data.episodes.filter((list) => {\n    // è¿‡æ»¤é¢„å‘Šã€èŠ±çµ®\n    if (getItem('previewSwitch', 'fold') === 'fold' && list.badge.match(/é¢„|èŠ±çµ®/)) {\n        return false;\n    } else {\n        return true;\n    }\n});\nçŸ­è®¯ = \"â­\" + ç±»å‹ + \"â­\" + ç¬¬äºŒæ ‡é¢˜ + '\\n' + åœ°åŒº + '-' + å¾—åˆ† + 'åˆ†\\n-' + ä¸Šæ˜ æ—¶é—´ + '-';\n// é‡å®šä¹‰äºŒçº§é¡µé¢æ•°æ®\nsetPageTitle(å½±ç‰‡åç§°);\nsetPagePicUrl(å°é¢);\n// å‰ç½®å‚æ•°å’Œé¢„å¤„ç†---\nimgLink = storage0.getMyVar('å›¾æ ‡');\n// å…¨å±€lazyâ€”â€”ç›´é“¾+æ–­æ’\nvar lazy = $('').lazyRule(() => {\n    videoParms = findItem(input);\n    aid = videoParms.extra.aid;\n    bvid = videoParms.extra.bvid;\n    cid = videoParms.extra.cid;\n    badge = videoParms.extra.badge;\n    // æäº¤å†å²è®°å½•\n    $.require(\"hiker://page/api\").reportProcess(aid, cid);\n    vipStatus = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].vipStatus;\n    if (vipStatus != 0) {\n        // å¤§ä¼šå‘˜\n        if (badge.match(/ä»˜è´¹/)) {\n            return $(['é­”æ–­è§£æ', 'å·²è´­ä¹°'], 1).select((input, aid, cid) => {\n                if (input == 'é­”æ–­è§£æ') {\n                    eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\n                    return aytmParse(link);\n                } else {\n                    return $.require(\"hiker://page/api\").biliLazy(aid, cid, 116).replace(/;/g, \"ï¼›ï¼›\");\n                }\n            }, link, aid, cid)\n        } else {\n            return $.require(\"hiker://page/api\").biliLazy(aid, cid, 116).replace(/;/g, \"ï¼›ï¼›\");\n        }\n    } else {\n        // æ™®é€šç”¨æˆ·\n        var setting=JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n        var hasBfKey=setting.bfKey!=''?true:false;\n        if (!hasBfKey) {\n            if (badge.match(/ä¼šå‘˜|ä»˜è´¹/)) {\n                eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\n                return aytmParse(input);\n            } else {\n                return $.require(\"hiker://page/api\").biliLazy(aid, cid, 116).replace(/;/g, \"ï¼›ï¼›\");\n            }\n        } else {\n            // å…±äº«ä¼šå‘˜æ’­æ”¾æƒç›Š\n            if (badge.match(/ä»˜è´¹/)) {\n                return $(['é­”æ–­è§£æ', 'å·²è´­ä¹°'], 1).select((input, aid, cid) => {\n                    if (input == 'é­”æ–­è§£æ') {\n                        eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\n                        return aytmParse(link);\n                    } else {\n                        return $.require(\"hiker://page/api\").biliLazy(aid, cid, 116).replace(/;/g, \"ï¼›ï¼›\");\n                    }\n                }, link, aid, cid)\n            } else {\n                return $.require(\"hiker://page/api\").biliLazy(aid, cid, 116).replace(/;/g, \"ï¼›ï¼›\");\n            }\n        }\n    }\n});\nvar Color = \"#19B89D\";\nvar æ¯é¡µé›†æ•° = 30;\nvar æœç´¢æ¨¡å¼ = 'åˆ†ç»„';\nvar è°ƒç”¨åç§° = 'ç®€å½±';\nputMyVar('æŠ˜å ', 'å…³');\nputMyVar('æ—¥å†', 'å…³');\nputMyVar('Data', Data);\nputMyVar('lazy', lazy);\n// æ¸…é™¤å˜é‡\naddListener('onClose', $.toString(() => {\n    clearMyVar('åˆ†é›†èµ·');\n    clearMyVar('åˆ†é›†ç»ˆ');\n    clearMyVar('æŠ˜å ');\n    clearMyVar('æ—¥å†');\n    clearMyVar('Data');\n    clearMyVar('lazy');\n    clearMyVar('å‰§é›†åˆ—è¡¨');\n}))\n// è®¾ç½®åŠ¨æ€æœ€æ–°ç« èŠ‚\nsetLastChapterRule('js:' + $.toString(() => {\n    eval(JSON.parse(request('hiker://page/getUpdate')).rule);\n}));\n// é¡µé¢å†…å®¹æ­£æ–‡---\n// åŸºæœ¬ä¿¡æ¯æ¨¡å—\nd.push({\n    title: çŸ­è®¯,\n    desc: ç®€ä»‹ == '' ? 'æš‚æ— ç®€ä»‹' : ç®€ä»‹.substring(0, 45) + 'â€˜â€˜â€™â€™â€¦<font color=\"#1C1C1C\">è¯¦æƒ…</font>',\n    img: å°é¢,\n    url: $().rule((ç®€ä»‹) => {\n        res = {};\n        var d = [];\n        d.push({\n            title: 'å½±ç‰‡ç®€ä»‹ï¼š' + '\\n\\t\\t\\t\\t\\t\\t\\t' + ç®€ä»‹,\n            col_type: 'long_text'\n        });\n        res.data = d;\n        setHomeResult(res);\n    }, ç®€ä»‹),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        longClick: [{\n            title: 'é¢„å‘Šã€èŠ±çµ®å¼€å…³', js: $.toString(() => {\n                if (getItem('previewSwitch', 'fold') == 'fold') {\n                    setItem('previewSwitch', 'open');\n                    refreshPage(true);\n                    return \"toast://é¢„å‘Šå·²ç»åˆ‡æ¢ä¸ºå±•ç¤º~\";\n                } else {\n                    setItem('previewSwitch', 'fold');\n                    refreshPage(true);\n                    return \"toast://é¢„å‘Šä¸å†å±•ç¤º~\";\n                }\n            }),\n        }, {\n            title: 'dmç›’å­', js: $.toString(() => {\n                return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\n            })\n        }, {\n            title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\n                if (getItem('isOverrideSave', 'false') == 'true') {\n                    setItem('isOverrideSave', 'false');\n                    return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\n                } else {\n                    setItem('isOverrideSave', 'true');\n                    return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\n                }\n            })\n        }]\n    }\n});\n// æ›´æ–°æ—¥å†æ¨¡å—\nd.push({\n    title: 'æ—¥å†',\n    img: imgLink.æ—¥å†,\n    url: $('#noLoading#').lazyRule((è¿½å‰§æ—¥å†, æ›´æ–°è¿›åº¦) => {\n        if (getMyVar('æ—¥å†', 'å…³') == 'å¼€') {\n            deleteItem('è¿½å‰§æ—¥å†');\n            putMyVar('æ—¥å†', 'å…³');\n        } else {\n            addItemAfter('æ˜¾ç¤ºæ¨¡å¼', {\n                title: è¿½å‰§æ—¥å†.match(/å®Œç»“|æœŸå¾…/) ? è¿½å‰§æ—¥å† : è¿½å‰§æ—¥å† + '<br><font color=\"red\">æ›´æ–°è‡³' + (æ›´æ–°è¿›åº¦.match(/[\\u4e00-\\u9fa5]/) ? æ›´æ–°è¿›åº¦ : ('ç¬¬' + (æ›´æ–°è¿›åº¦ == '' ? 0 : æ›´æ–°è¿›åº¦) + 'è¯')) + '</font>',\n                col_type: \"rich_text\",\n                extra: {\n                    id: 'è¿½å‰§æ—¥å†'\n                }\n            });\n            putMyVar('æ—¥å†', 'å¼€');\n        }\n        return 'toast://å·²åˆ‡æ¢æ—¥å†ä¸º:' + getMyVar('æ—¥å†', 'å¼€')\n    }, è¿½å‰§æ—¥å†, æ›´æ–°è¿›åº¦),\n    col_type: 'icon_5'\n});\n// è®¢é˜…æ¨¡å—\nd.push({\n    title: 'è®¢é˜…',\n    img: imgLink.è®¢é˜…,\n    url: $('#noLoading#').lazyRule(() => {\n        selectionList = ['è®¢é˜…', 'å–æ¶ˆè®¢é˜…'];\n        return $(selectionList, 2).select(() => {\n            season_id = JSON.parse(getMyVar('Data')).season_id;\n            if (input == 'è®¢é˜…') {\n                res = $.require(\"hiker://page/api\").subscribeFilm(season_id);\n            } else {\n                res = $.require(\"hiker://page/api\").cancelSubscribeFilm(season_id);\n            }\n            return 'toast://' + res;\n        });\n    }),\n    col_type: 'icon_5'\n});\n// è¯„è®ºæ¨¡å—\nd.push({\n    title: 'è¯„è®º',\n    img: imgLink.æŸ¥çœ‹è¯„è®º,\n    url: $('#noLoading#').lazyRule(() => {\n        return $('hiker://empty').rule(() => {\n            var d = [];\n            List = JSON.parse(getMyVar('Data')).episodes;\n            List.forEach(item => {\n                d.push({\n                    title: item.share_copy + '<font color=\"#33cccc\">\tâ®</font>',\n                    img: item.cover + '@Referer=',\n                    url: 'hiker://page/Comments?p=fypage',\n                    col_type: \"avatar\",\n                    extra: {\n                        \"id\": item.aid,\n                        \"type\": 1\n                    }\n                });\n            });\n            setResult(d);\n        });\n    }),\n    col_type: 'icon_5'\n});\n\n// ç²¾å½©ç»§ç»­æ¨¡å—\nd.push({\n    title: 'å‘¨è¾¹',\n    img: imgLink.å‘¨è¾¹,\n    url: $('#noLoading#').lazyRule(() => {\n        Data = JSON.parse(getMyVar('Data'));\n        // æœ‰äº›æ²¡æœ‰ç›´æ¥å»æ‰æ‡’å¾—å¤„ç†~\n        if (Data.section) {\n            å‘¨è¾¹æ•°ç»„ = [\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\", \"ğŸ¤£PV&èŠ±çµ®\", \"ğŸ‰ç«–å±ä¹Ÿç²¾å½©\", \"ğŸ”¥ç²¾å½©äºŒåˆ›\"];\n        } else {\n            å‘¨è¾¹æ•°ç»„ = [\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\"];\n        }\n        // å‘¨è¾¹æ•°ç»„ = [\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\", \"ğŸ¤£PV&èŠ±çµ®\", \"ç«–å±ä¹Ÿç²¾å½©\", \"ç²¾å½©äºŒåˆ›\"];\n        return $(å‘¨è¾¹æ•°ç»„, 1, 'áƒ¦ç²¾å½©ç»§ç»­').select(() => {\n            Data = JSON.parse(getMyVar('Data'));\n            lazy = getMyVar('lazy');\n            if (input === 'ğŸ·ï¸ç›¸å…³ç³»åˆ—') {\n                ç³»åˆ—åç§° = Data.season_title\n                ç³»åˆ—æ•°æ® = Data.seasons;\n                return $().rule((ç³»åˆ—æ•°æ®) => {\n                    d = [];\n                    setPageTitle('ğŸ·ï¸ç›¸å…³ç³»åˆ—');\n                    if (ç³»åˆ—æ•°æ® == [] || ç³»åˆ—æ•°æ® == '') {\n                        d.push({\n                            title: 'â€˜â€˜â€™â€™<big><font color=\"red\">â­è¯¥å½±ç‰‡æ²¡æœ‰ç›¸å…³ç³»åˆ—å“¦~â­</font></big>',\n                            url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\n                            desc: 'æ•¬è¯·æœŸå¾…~',\n                            col_type: 'text_center_1'\n                        });\n                    }\n                    ç³»åˆ—æ•°æ®.forEach(list => {\n                        d.push({\n                            title: list.season_title,\n                            img: (list.horizontal_cover_1610 == '' ? (list.horizontal_cover_169 == '' ? list.cover : list.horizontal_cover_169) : list.horizontal_cover_1610) + \"@Referer=\",\n                            url: 'hiker://page/filmerji#immersiveTheme#',\n                            desc: list.new_ep.index_show,\n                            col_type: 'movie_1_left_pic',\n                            extra: {\n                                \"ep_id\": list.new_ep.id\n                            }\n                        });\n                    });\n                    setHomeResult(d);\n                }, ç³»åˆ—æ•°æ®)\n            } else if (input === 'ğŸ¤£PV&èŠ±çµ®') {\n                try {\n                    PVå’ŒèŠ±çµ®æ•°æ® = Data.section[0].episodes;\n                    return $().rule((PVå’ŒèŠ±çµ®æ•°æ®, lazy) => {\n                        d = [];\n                        setPageTitle('ğŸ¤£PV&èŠ±çµ®');\n                        if (PVå’ŒèŠ±çµ®æ•°æ® == [] || PVå’ŒèŠ±çµ®æ•°æ® == '') {\n                            d.push({\n                                title: 'â€˜â€˜â€™â€™<big><font color=\"red\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰ç›¸å…³PVå’ŒèŠ±çµ®å“¦~â­</font></big>',\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\n                                desc: 'æ•¬è¯·æœŸå¾…~',\n                                col_type: 'text_center_1'\n                            });\n                        }\n                        PVå’ŒèŠ±çµ®æ•°æ®.forEach(list => {\n                            d.push({\n                                title: list.title,\n                                img: list.cover + \"@Referer=\",\n                                url: list.link + lazy,\n                                desc: list.subtitle + '\\n' + list.long_title,\n                                col_type: 'movie_1_left_pic',\n                                extra: {\n                                    id: list.link,\n                                    aid: list.aid,\n                                    bvid: list.bvid,\n                                    cid: list.cid,\n                                    badge: list.badge\n                                }\n                            });\n                        });\n                        setHomeResult(d);\n                    }, PVå’ŒèŠ±çµ®æ•°æ®, lazy)\n                } catch (e) {\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\n                }\n            } else if (input === 'ğŸ‰ç«–å±ä¹Ÿç²¾å½©') {\n                try {\n                    ç«–å±ä¹Ÿç²¾å½©æ•°æ® = Data.section[1].episodes;\n                    return $().rule((ç«–å±ä¹Ÿç²¾å½©æ•°æ®, lazy) => {\n                        d = [];\n                        setPageTitle('ğŸ‰ç«–å±ä¹Ÿç²¾å½©');\n                        if (ç«–å±ä¹Ÿç²¾å½©æ•°æ® == [] || ç«–å±ä¹Ÿç²¾å½©æ•°æ® == '') {\n                            d.push({\n                                title: 'â€˜â€˜â€™â€™<big><font color=\"red\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰ç›¸å…³ç«–å±çŸ­è§†é¢‘å“¦~â­</font></big>',\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\n                                desc: 'æ•¬è¯·æœŸå¾…~',\n                                col_type: 'text_center_1'\n                            });\n                        }\n                        ç«–å±ä¹Ÿç²¾å½©æ•°æ®.forEach(list => {\n                            d.push({\n                                title: list.title,\n                                img: list.cover + \"@Referer=\",\n                                url: list.link + lazy,\n                                desc: list.subtitle + '\\n' + list.long_title,\n                                col_type: 'movie_1_left_pic',\n                                extra: {\n                                    id: list.link,\n                                    aid: list.aid,\n                                    bvid: list.bvid,\n                                    cid: list.cid,\n                                    badge: list.badge\n                                }\n                            });\n                        });\n                        setHomeResult(d);\n                    }, ç«–å±ä¹Ÿç²¾å½©æ•°æ®, lazy)\n                } catch (e) {\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\n                }\n            } else if (input === 'ğŸ”¥ç²¾å½©äºŒåˆ›') {\n                try {\n                    ç²¾å½©äºŒåˆ›æ•°æ® = Data.section[2].episodes;\n                    return $().rule((ç²¾å½©äºŒåˆ›æ•°æ®, lazy) => {\n                        d = [];\n                        setPageTitle('ğŸ”¥ç²¾å½©äºŒåˆ›');\n                        if (ç²¾å½©äºŒåˆ›æ•°æ® == [] || ç²¾å½©äºŒåˆ›æ•°æ® == '') {\n                            d.push({\n                                title: 'â€˜â€˜â€™â€™<big><font color=\"red\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰äºŒåˆ›ä½œå“å“¦~â­</font></big>',\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\n                                desc: 'æ•¬è¯·æœŸå¾…~',\n                                col_type: 'text_center_1'\n                            });\n                        }\n                        ç²¾å½©äºŒåˆ›æ•°æ®.forEach(list => {\n                            // é’ˆå¯¹éƒ¨åˆ†å‚æ•°ç¼ºå¤±çš„æƒ…å†µå¦‚å‡¡äººä¿®ä»™ä¼ å†™çš„ï¼Œï¼Œ\n                            if (list.aid == 0 || list.cid == 0) {\n                                viedeoData = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + list.link.split('av')[1], {\n                                    headers: {\n                                        \"User-Agent\": PC_UA,\n                                        \"Referer\": 'https://www.bilibili.com/'\n                                    },\n                                    method: \"GET\"\n                                })).data;\n                                aid = viedeoData.aid;\n                                bvid = viedeoData.bvid;\n                                cid = viedeoData.cid;\n                            } else {\n                                aid = list.aid;\n                                bvid = list.bvid;\n                                cid = list.cid;\n                            }\n                            d.push({\n                                title: list.title,\n                                img: list.cover + \"@Referer=\",\n                                url: list.link + lazy,\n                                desc: list.subtitle + '\\n' + list.long_title,\n                                col_type: 'movie_1_left_pic',\n                                extra: {\n                                    id: list.link,\n                                    aid: aid,\n                                    bvid: bvid,\n                                    cid: cid,\n                                    badge: list.badge\n                                }\n                            });\n                        });\n                        setHomeResult(d);\n                    }, ç²¾å½©äºŒåˆ›æ•°æ®, lazy)\n                } catch (e) {\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\n                }\n            }\n            return \"toast://æ­£åœ¨è¿›å…¥\" + input + \"ç•Œé¢...\";\n        })\n    }),\n    col_type: \"icon_5\",\n    extra: {\n        id: 'ç²¾å½©ç»§ç»­'\n    }\n});\n// æ˜¾ç¤ºæ¨¡å¼æ›´æ”¹æ¨¡å—\nd.push({\n    title: getItem('æ¨¡å¼', 'åŒè¾¹'),\n    img: getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨' ? imgLink.åˆ—è¡¨ : imgLink.åŒè¾¹,\n    url: $('#noLoading#').lazyRule(() => {\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨'));\n        if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\n            æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\n                updateItem(el.link, {\n                    col_type: 'movie_2',\n                });\n            });\n            setItem('æ¨¡å¼', 'åŒè¾¹')\n        } else {\n            æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\n                updateItem(el.link, {\n                    col_type: 'movie_1_left_pic',\n                });\n            });\n            setItem('æ¨¡å¼', 'åˆ—è¡¨')\n        }\n        imgLink = storage0.getMyVar('å›¾æ ‡');\n        updateItem('æ˜¾ç¤ºæ¨¡å¼', {\n            title: getItem('æ¨¡å¼', 'åŒè¾¹'),\n            img: getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨' ? imgLink.åˆ—è¡¨ : imgLink.åŒè¾¹,\n        });\n        return 'toast://å·²åˆ‡æ¢æ¨¡å¼ä¸º:' + getItem('æ¨¡å¼', 'åŒè¾¹')\n    }),\n    col_type: 'icon_5',\n    extra: {\n        id: 'æ˜¾ç¤ºæ¨¡å¼'\n    }\n}, {\n    col_type: 'line_blank',\n});\n// é€‰æ’æ¨¡å—â€”â€”å±€éƒ¨åˆ·æ–°ç‰ˆ\næ¥æº = 'bl';\nputMyVar('ç®€æ’', $.toString(() => {\n    let titleArr = []\n    setFile = readFile('hiker://files/rules/DuanNian/MyParse.json');\n    try {\n        eval('json=' + setFile);\n    } catch (e) {\n        log('Jsonè§£æå‘ç”Ÿäº†é”™è¯¯:' + e.message);\n    }\n    titleArr = json.title;\n    let barry1 = ['âœï¸è¾…åŠ©'];\n    let barry2 = ['ğŸ“¦ï¸é­”æ–­'];\n    let barry3 = ['ğŸ”æœç´¢'];\n    titleArr = barry3.concat(titleArr);\n    titleArr = barry2.concat(titleArr);\n    titleArr = barry1.concat(titleArr);\n    eval('op=json.settings.' + æ¥æº);\n    titleArr = titleArr.map((it) => {\n        return it === op ? 'ğŸ‘‰' + it : it;\n    });\n    putMyVar('è§£ææ•°ç»„', titleArr);\n    putMyVar('setFile', setFile);\n}))\neval(getMyVar('ç®€æ’'));\nd.push({\n    title: 'è§£æï¼šğŸ”˜<font color=\"' + Color + '\">' + op + '</font>\\t\\té¡µç ï¼š<font color=\"' + Color + '\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\n    url: $('#noLoading#').lazyRule((json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°) => {\n        eval(getMyVar('ç®€æ’'));\n        return $(eval(getMyVar('è§£ææ•°ç»„')), 3).select((json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°) => {\n            setFile = getMyVar('setFile');\n            input = input.replace(/ğŸ‘‰/g, '');\n            if (input === 'âœï¸è¾…åŠ©') {\n                return $().rule(() => {\n                    eval(JSON.parse(request('hiker://page/home?rule=é…ç½®åŠ©æ‰‹')).rule);\n                })\n            } else if (input === 'ğŸ“¦ï¸é­”æ–­') {\n                return \"hiker://page/Route?rule=MyFieldá´°â¿&type=ç¼–è¾‘#noHistory#\";\n            } else if (input === 'ğŸ”æœç´¢') {\n                if (æœç´¢æ¨¡å¼ == 'åˆ†ç»„') {\n                    return \"hiker://search?s=\" + å½±ç‰‡åç§° + \"&group=\" + è°ƒç”¨åç§°;\n                } else {\n                    return \"hiker://search?s=\" + å½±ç‰‡åç§° + \"&rule=\" + è°ƒç”¨åç§°;\n                }\n            }\n            // åŸå…ˆçš„é…ç½®\n            originSettings = JSON.stringify(json.settings);\n            // ä¿®æ”¹é…ç½®\n            eval('json.settings.' + æ¥æº + '=input;');\n            setFile = setFile.replace(originSettings, JSON.stringify(json.settings));\n            saveFile('hiker://files/rules/DuanNian/MyParse.json', setFile);\n            // åˆ·æ–°å…ƒç´ \n            eval(getMyVar('ç®€æ’'));\n            updateItem('op', {\n                title: 'è§£æï¼šğŸ”˜<font color=\"' + Color + '\">' + op + '</font>\\t\\té¡µç ï¼š<font color=\"' + Color + '\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\n            });\n            return \"toast://åˆ‡æ¢è§£æå£ä¸º:\" + input;\n        }, json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°)\n    }, json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°),\n    img: 'hiker://files/rules/cy/tubiao/bilibili.svg',\n    col_type: \"avatar\",\n    extra: {\n        id: 'op'\n    }\n});\n// æ»šåŠ¨å‰§é›†æ¡æ \nå‰§é›†é•¿åº¦ = å‰§é›†åˆ—è¡¨.length;\nif (å‰§é›†é•¿åº¦ > æ¯é¡µé›†æ•°) {\n    putMyVar('åˆ·æ–°é€‰é›†', $.toString(() => {\n        putMyVar('åˆ†é›†èµ·', start);\n        putMyVar('åˆ†é›†ç»ˆ', end);\n        eval(getMyVar('ç®€æ’'));\n        updateItem('op', {\n            title: 'è§£æï¼šğŸ”˜<font color=\"' + Color + '\">' + op + '</font>\\t\\té¡µç ï¼š<font color=\"' + Color + '\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\n        })\n        // åˆ é™¤\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨'));\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\n            deleteItem(el.link);\n        });\n        // æ·»åŠ \n        lazy = getMyVar('lazy');\n        å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('å‰§é›†åˆ—è¡¨'));\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = å‰§é›†åˆ—è¡¨.slice(start - 1, end);\n        newArray = [];\n        index = 1;\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(list => {\n            if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\n                newArray.push({\n                    title: list.long_title,\n                    img: list.cover + \"@Referer=\",\n                    url: list.link + lazy,\n                    desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\n                    col_type: 'movie_1_left_pic',\n                    extra: {\n                        id: list.link,\n                        aid: list.aid,\n                        bvid: list.bvid,\n                        cid: list.cid,\n                        badge: list.badge\n                    }\n                });\n            } else {\n                newArray.push({\n                    title: list.long_title,\n                    img: list.cover + \"@Referer=\",\n                    url: list.link + lazy,\n                    desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\n                    col_type: 'movie_2',\n                    extra: {\n                        id: list.link,\n                        aid: list.aid,\n                        bvid: list.bvid,\n                        cid: list.cid,\n                        badge: list.badge\n                    }\n                });\n            }\n            index += 1;\n        });\n        addItemAfter(getMyVar('æœ«é¡µ'), newArray);\n        putMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨', æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨);\n    }));\n    d.push({\n        col_type: 'scroll_button',\n        url: 'hiker://empty',\n        title: 'âˆ·',\n        extra: {\n            id: 'å ä½ç¬¦',\n        }\n    })\n    putMyVar('åˆ†é›†èµ·', 1);\n    putMyVar('åˆ†é›†ç»ˆ', æ¯é¡µé›†æ•°);\n    putMyVar('å‰§é›†åˆ—è¡¨', å‰§é›†åˆ—è¡¨);\n    æ€»é¡µæ•° = Math.ceil(å‰§é›†é•¿åº¦ / æ¯é¡µé›†æ•°);\n    start = 1;\n    end = æ¯é¡µé›†æ•°;\n    for (let page = 1; page <= æ€»é¡µæ•°; page++) {\n        if (end > å‰§é›†é•¿åº¦) {\n            end = å‰§é›†é•¿åº¦;\n        }\n        d.push({\n            title: start + '-' + end,\n            url: $('#noLoading##noHistory#').lazyRule((start, end, Color, æ¥æº) => {\n                eval(getMyVar('åˆ·æ–°é€‰é›†'));\n                return \"hiker://empty\";\n            }, start, end, Color, æ¥æº),\n            col_type: 'scroll_button',\n            extra: {\n                id: start + '-' + end\n            }\n        });\n        if (end < å‰§é›†é•¿åº¦) {\n            start += æ¯é¡µé›†æ•°;\n            end += æ¯é¡µé›†æ•°;\n        }\n    }\n    // è®°å½•æœ«é¡µçš„id\n    putMyVar('æœ«é¡µ', start + '-' + end);\n} else {\n    putMyVar('åˆ†é›†èµ·', 1);\n    putMyVar('åˆ†é›†ç»ˆ', å‰§é›†é•¿åº¦);\n}\n// å±•ç¤ºå‰§é›†:\næ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = å‰§é›†åˆ—è¡¨.slice(0, getMyVar('åˆ†é›†ç»ˆ'));\nputMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨', æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨);\nindex = 1;\næ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(list => {\n    if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\n        d.push({\n            title: list.long_title,\n            img: list.cover + \"@Referer=\",\n            url: list.link + lazy,\n            desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\n            col_type: 'movie_1_left_pic',\n            extra: {\n                id: list.link,\n                aid: list.aid,\n                bvid: list.bvid,\n                cid: list.cid,\n                badge: list.badge\n            }\n        });\n    } else {\n        d.push({\n            title: list.long_title,\n            img: list.cover + \"@Referer=\",\n            url: list.link + lazy,\n            desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\n            col_type: 'movie_2',\n            extra: {\n                id: list.link,\n                aid: list.aid,\n                bvid: list.bvid,\n                cid: list.cid,\n                badge: list.badge\n            }\n        });\n    }\n    index += 1;\n});\nsetResult(d);\n"},{"col_type":"movie_3","name":"upä¸»é¡µ","path":"upHome","rule":"js:\nvar d = [];\n// é¢„å¤„ç†\nputMyVar('upInfo', 'å…³');\nsetPageTitle(MY_PARAMS.title);\nimgLink = storage0.getMyVar('å›¾æ ‡');\n// é˜²æ­¢åçˆ¬è™«ï¼Œä»ä¸Šä¸€ä¸ªé¡µé¢ä¼ é€’æ•°æ®â€”â€”åçˆ¬è™«ä¸¥é‡\nupMid = MY_PARAMS.mid + \"\";\nupName = MY_PARAMS.title;\nupFace = MY_PARAMS.face;\nrelation = $.require(\"hiker://page/api\").userMapping(upMid);\n// å¤´åƒæ \nd.push({\n    title: '<font color=\"blue\">' + upName + '</font>',\n    url: $('#noLoading#').lazyRule((upMid) => {\n        if (getMyVar('upInfo', 'å…³') == 'å¼€') {\n            deleteItem('upInfo');\n            putMyVar('upInfo', 'å…³');\n        } else {\n            try {\n                // ç”¨æˆ·åŸºæœ¬ä¿¡æ¯\n                queryJson = {\n                    mid: upMid,\n                    token: '',\n                    platform: 'web',\n                    web_location: 1550101\n                }\n                parms = $.require(\"hiker://page/api\").getWbiEnc(queryJson);\n                infoLink = 'https://api.bilibili.com/x/space/wbi/acc/info?' + parms;\n                upData = JSON.parse(fetch(infoLink, {\n                    headers: {\n                        \"User-Agent\": PC_UA,\n                        \"Referer\": \"https://www.bilibili.com/\",\n                        \"Cookie\": cookie=JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n                    }\n                })).data;\n                upName = upData.name;\n                upSex = upData.sex;\n                upSign = upData.sign;\n                upBirthday = upData.birthday;\n                try {\n                    upSchool = upData.school.name;\n                } catch (e) {\n                    upSchool = '';\n                }\n                try {\n                    upIdentification = upData.official.title;\n                } catch (e) {\n                    upIdentification = '';\n                }\n                addItemAfter('currentUp', {\n                    title: 'up:' + upName + '\\nmid:' + upMid + '\\næ€§åˆ«:' + upSex + '\\nç”Ÿæ—¥:' + (upBirthday == '' ? 'æœªå¡«å†™' : upBirthday) + '\\n' + (upSchool == '' ? '' : 'å­¦æ ¡:' + upSchool + '\\n') + (upSign == '' ? '\\n' : upSign + '\\n') + (upIdentification == '' ? '' : 'è®¤è¯:'),\n                    url: 'hiker://empty',\n                    col_type: 'long_text',\n                    extra: {\n                        id: 'upInfo'\n                    }\n                });\n            } catch (e) {\n                addItemAfter('currentUp', {\n                    title: 'å¥½åƒå‡ºäº†ç‚¹æ„å¤–ï¼Ÿä»€ä¹ˆéƒ½æœ¨æœ‰å‘¢~',\n                    url: 'hiker://empty',\n                    col_type: 'long_text',\n                    extra: {\n                        id: 'upInfo'\n                    }\n                });\n            }\n            putMyVar('upInfo', 'å¼€');\n        }\n        return 'toast://ä¿¡æ¯æŠ˜å :' + getMyVar('upInfo', 'å¼€')\n    }, upMid),\n    img: upFace + \"@Referer=\",\n    col_type: \"avatar\",\n    extra: {\n        id: 'currentUp'\n    }\n}, {\n    col_type: 'line'\n});\n// å…¬å‘Š\nnoticeText = JSON.parse(fetch('https://api.bilibili.com/x/space/notice?mid=' + upMid + '&jsonp=jsonp', {\n    headers: {\n        \"User-Agent\": PC_UA,\n        \"Referer\": \"https://www.bilibili.com/\",\n        \"Cookie\": cookie=JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n    }\n})).data;\nif (noticeText != '') {\n    d.push({\n        title: 'å…¬å‘Š',\n        url: $().rule((noticeText) => {\n            var d = [];\n            d.push({\n                title: 'å…¬å‘Šï¼š' + '\\n\\t\\t\\t\\t\\t\\t\\t' + noticeText,\n                col_type: 'long_text'\n            });\n            setHomeResult(d);\n        }, noticeText),\n        desc: noticeText == '' ? 'æš‚æ— å…¬å‘Š' : noticeText,\n        col_type: 'text_1',\n    });\n}\nd.push({\n    col_type: 'line'\n}, {\n    title: relation,\n    img: relation == 'æœªå…³æ³¨' ? imgLink.æ·»åŠ å…³æ³¨ : imgLink.å·²å…³æ³¨,\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\n        return $.require(\"hiker://page/api\").changeUserRelation(upMid, 11)\n    }, upMid),\n    col_type: \"icon_small_4\",\n    extra: {\n        id: 'relation'\n    }\n}, {\n    title: 'åŠ¨æ€',\n    img: imgLink.åŠ¨æ€,\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\n        return $('hiker://empty?p=fypage').rule((upMid) => {\n            let d = [];\n            latenews = $.require(\"hiker://page/api\").getDynamicData('upSpace', upMid);\n            eval($.require(\"hiker://page/api\").showDynamicData());\n            setResult(d);\n        }, upMid)\n    }, upMid),\n    col_type: \"icon_small_4\",\n}, {\n    title: 'ä¸“æ ',\n    img: imgLink.ä¸“æ ,\n    url: \"hiker://page/acticleList?p=fypage\",\n    col_type: \"icon_small_4\",\n    extra: {\n        mid: upMid\n    }\n})\n// ç”¨æˆ·è§†é¢‘-åˆé›†ã€ç³»åˆ—\nupVideo = JSON.parse(fetch('https://api.bilibili.com/x/polymer/space/seasons_series_list?mid=' + upMid + '&page_num=1&page_size=10', {\n    headers: {\n        \"User-Agent\": PC_UA,\n        \"Referer\": \"https://www.bilibili.com/\"\n    }\n})).data.items_lists;\n// è§†é¢‘åˆé›†ã€ç³»åˆ—\ntry {\n    upVideo.seasons_list.forEach(list => {\n        season_id = list.meta.season_id;\n        // æ ‡é¢˜-è·³è½¬æ›´å¤š\n        d.push({\n            title: '<font color=\"#33cccc\">' + list.meta.name.substring(0, 30) + '</font>\\t\\t<font color=\"red\">' + list.meta.total + '</font>\tâ®',\n            img: imgLink.åˆé›†æ–‡ä»¶å¤¹,\n            // img: list.meta.cover+'@Referer=',\n            col_type: 'avatar',\n            url: $('#noLoading##noHistory#').lazyRule((upMid, season_id) => {\n                return $('hiker://empty?fypage').rule((upMid, season_id) => {\n                    var d = [];\n                    let u = 'https://api.bilibili.com/x/polymer/space/seasons_archives_list?mid=' + upMid + '&season_id=' + season_id + '&sort_reverse=false&page_num=' + MY_PAGE + '&page_size=30';\n                    Video = JSON.parse(fetch(u, {\n                        headers: {\n                            \"User-Agent\": PC_UA,\n                            \"Referer\": \"https://www.bilibili.com/\"\n                        }\n                    })).data;\n                    maxPage = Math.ceil(Video.page.total / Video.page.page_size);\n                    if (MY_PAGE <= maxPage) {\n                        d.push({\n                            title: 'å½“å‰:ç¬¬' + Video.page.page_num + 'é¡µ\\t\\t\\tå…±æœ‰' + maxPage + 'é¡µ,' + Video.page.total + 'æ¡æ•°æ®',\n                            url: \"hiker://empty\",\n                            col_type: \"text_center_1\",\n                        });\n                        Video.archives.forEach(list => {\n                            d.push({\n                                title: list.title,\n                                img: list.pic + '@Referer=',\n                                desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\n                                col_type: 'movie_1_left_pic',\n                                url: \"hiker://page/video\",\n                                extra: {\n                                    aid: list.aid\n                                }\n                            });\n                        });\n                    }\n                    setHomeResult(d);\n                }, upMid, season_id)\n            }, upMid, season_id)\n        });\n        if (list.archives === undefined) {\n            log(list.meta.name + 'ä¸ºç©º');\n        } else {\n            if (list.archives.length < 2) {\n                list.archives.forEach(list => {\n                    d.push({\n                        title: list.title,\n                        img: list.pic + '@Referer=',\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        extra: {\n                            aid: list.aid\n                        }\n                    });\n                });\n            } else if (list.archives.length == 0) {\n                d.push({\n                    title: \"å¥½å®¶ä¼™ï¼Œè¿™å®¶ä¼™æ²¡æœ‰åˆé›†è§†é¢‘ï¼\",\n                    desc: \"è¦ä¸å»ç‚¹å‡»å…¨éƒ¨è§†é¢‘çœ‹çœ‹~\",\n                    col_type: 'text_center_1',\n                    url: \"hiker://empty\",\n                });\n            } else {\n                for (let i = 0; i < 2; i++) {\n                    d.push({\n                        title: list.archives[i].title,\n                        img: list.archives[i].pic + '@Referer=',\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.archives[i].stat.view,\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        extra: {\n                            aid: list.archives[i].aid\n                        }\n                    });\n                }\n            }\n        }\n    });\n} catch (e) {\n    d.push({\n        title: 'åˆé›†ä¸ºç©º',\n        url: 'hiker://empty',\n        desc: 'Sorry,æ²¡æœ‰æ•°æ®å‘¢~',\n        col_type: 'text_center_1',\n    });\n}\ntry {\n    upVideo.series_list.forEach(list => {\n        series_id = list.meta.series_id;\n        // æ ‡é¢˜-è·³è½¬æ›´å¤š\n        d.push({\n            title: '<font color=\"#33cccc\">' + list.meta.name.substring(0, 30) + '</font>\\t\\t<font color=\"red\">' + list.meta.total + '</font>\tâ®',\n            img: imgLink.åˆé›†æ–‡ä»¶å¤¹,\n            // img: list.meta.cover+'@Referer=',\n            col_type: 'avatar',\n            url: $('#noLoading##noHistory#').lazyRule((upMid, series_id) => {\n                return $('hiker://empty?fypage').rule((upMid, series_id) => {\n                    var d = [];\n                    let u = 'https://api.bilibili.com/x/series/archives?mid=' + upMid + '&series_id=' + series_id + '&only_normal=true&sort=desc&pn=' + MY_PAGE + '&ps=30';\n                    Video = JSON.parse(fetch(u, {\n                        headers: {\n                            \"User-Agent\": PC_UA,\n                            \"Referer\": \"https://www.bilibili.com/\"\n                        }\n                    })).data;\n                    maxPage = Math.ceil(Video.page.total / Video.page.size);\n                    if (MY_PAGE <= maxPage) {\n                        d.push({\n                            title: 'å½“å‰:ç¬¬' + Video.page.num + 'é¡µ\\t\\t\\tå…±æœ‰' + maxPage + 'é¡µ,' + Video.page.total + 'æ¡æ•°æ®',\n                            url: \"hiker://empty\",\n                            col_type: \"text_center_1\",\n                        });\n                        Video.archives.forEach(list => {\n                            d.push({\n                                title: list.title,\n                                img: list.pic + '@Referer=',\n                                desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\n                                col_type: 'movie_1_left_pic',\n                                url: \"hiker://page/video\",\n                                extra: {\n                                    aid: list.aid\n                                }\n                            });\n                        });\n                    }\n                    setHomeResult(d);\n                }, upMid, series_id)\n            }, upMid, series_id)\n        });\n        if (list.archives === undefined) {\n            log(list.meta.name + 'ä¸ºç©º');\n        } else {\n            if (list.archives.length < 2) {\n                list.archives.forEach(list => {\n                    d.push({\n                        title: list.title,\n                        img: list.pic + '@Referer=',\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        extra: {\n                            aid: list.aid\n                        }\n                    });\n                });\n            } else if (list.archives.length == 0) {\n                d.push({\n                    title: \"å¥½å®¶ä¼™ï¼Œè¿™å®¶ä¼™æ²¡æœ‰åˆé›†è§†é¢‘ï¼\",\n                    desc: \"è¦ä¸å»ç‚¹å‡»å…¨éƒ¨è§†é¢‘çœ‹çœ‹~\",\n                    col_type: 'text_center_1',\n                    url: \"hiker://empty\",\n                });\n            } else {\n                for (let i = 0; i < 2; i++) {\n                    d.push({\n                        title: list.archives[i].title,\n                        img: list.archives[i].pic + '@Referer=',\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.archives[i].stat.view,\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        extra: {\n                            aid: list.archives[i].aid\n                        }\n                    });\n                }\n            }\n        }\n    });\n} catch (e) {\n    d.push({\n        title: 'ç³»åˆ—ä¸ºç©º',\n        url: 'hiker://empty',\n        desc: 'Sorry,æ²¡æœ‰æ•°æ®å‘¢~',\n        col_type: 'text_center_1',\n    });\n}\n// upæŠ•ç¨¿\nd.push({\n    title: 'TAçš„è§†é¢‘,ç‚¹å‡»å±•å¼€å…¨éƒ¨',\n    col_type: 'text_center_1',\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\n        return $().rule((upMid) => {\n            var d = [];\n            try {\n                queryJson = {\n                    mid: upMid,\n                    ps: 30,\n                    tid: getMyVar('_tid', '0'),\n                    special_type: '',\n                    pn: getMyVar('_page', '1'),\n                    keyword: '',\n                    order: 'pubdate',\n                    platform: 'web',\n                    // web_location: 1550101,\n                    order_avoided: true\n                }\n                parms = $.require(\"hiker://page/api\").getWbiEnc(queryJson);\n                dataLink = 'https://api.bilibili.com/x/space/wbi/arc/search?' + parms;\n                upVideoData = JSON.parse(fetch(dataLink, {\n                    headers: {\n                        \"User-Agent\": PC_UA,\n                        \"Referer\": \"https://www.bilibili.com/\",\n                        \"Cookie\": cookie=JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n                    }\n                })).data;\n                tlist = upVideoData.list.tlist;\n                vlist = upVideoData.list.vlist;\n                // åˆ†ç±»å’Œé¡µç \n                d.push({\n                    title: getMyVar('_tid', '0') == 0 ? 'â€˜â€˜â€™â€™<font color=\"red\">å…¨éƒ¨</font>' : 'å…¨éƒ¨',\n                    url: $('#noLoading##noHistory#').lazyRule(() => {\n                        putMyVar('_tid', (0 + \"\"));\n                        putMyVar('_page', (1 + \"\"));\n                        refreshPage(true);\n                        return \"hiker://empty\";\n                    }),\n                    col_type: 'scroll_button'\n                });\n                for (item in tlist) {\n                    d.push({\n                        title: (tlist[item].tid + \"\") == getMyVar('_tid', '0') ? 'â€˜â€˜â€™â€™<font color=\"red\">' + (tlist[item].name + `(${tlist[item].count})`) + '</font>' : (tlist[item].name + `(${tlist[item].count})`),\n                        url: $('#noLoading##noHistory#').lazyRule((tid) => {\n                            putMyVar('_tid', (tid + \"\"));\n                            putMyVar('_page', (1 + \"\"));\n                            refreshPage(true);\n                            return \"hiker://empty\";\n                        }, tlist[item].tid),\n                        col_type: 'scroll_button'\n                    });\n                }\n                d.push({\n                    col_type: 'blank_block',\n                });\n                maxPage = Math.ceil(upVideoData.page.count / upVideoData.page.ps);\n                for (let page = 1; page <= maxPage; page++) {\n                    d.push({\n                        title: (page + \"\") == getMyVar('_page', '1') ? 'â€˜â€˜â€™â€™<font color=\"red\">' + (page + \"\") + '</font>' : (page + \"\"),\n                        url: $('#noLoading##noHistory#').lazyRule((page) => {\n                            putMyVar('_page', (page + \"\"));\n                            refreshPage(true);\n                            return \"hiker://empty\";\n                        }, page),\n                        col_type: 'scroll_button',\n                    });\n                }\n                // å¹³é“ºè§†é¢‘\n                vlist.forEach(item => {\n                    pubtime = $.require(\"hiker://page/api\").timeConvert(item.created);\n                    d.push({\n                        title: item.title,\n                        img: item.pic + '@Referer=',\n                        desc: 'æ’­æ”¾é‡ï¼š' + item.play + '\\n' + pubtime,\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        extra: {\n                            aid: item.aid\n                        }\n                    });\n                });\n            } catch (e) {\n                d.push({\n                    title: 'é¡µé¢èµ°ä¸¢äº†...',\n                    img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\n                    url: 'hiker://empty',\n                    desc: 'å¤ªé¢‘ç¹äº†ï¼ç¨åå†è¯•~',\n                    col_type: \"pic_1\"\n                });\n            }\n            setHomeResult(d);\n        }, upMid)\n    }, upMid)\n});\nsetResult(d);"},{"col_type":"movie_3","name":"upæœç´¢","path":"upSearch","rule":"js:\nseaword = MY_PARAMS.seaword;\nvar d = [];\nresultData=$.require(\"hiker://page/api\").getSearchRes('bili_user',seaword,MY_PAGE,36);\nif (MY_PAGE <= resultData.numPages) {\n    d.push({\n        title: 'å½“å‰:ç¬¬' + resultData.page + 'é¡µ\\t\\t\\tå…±æœ‰' + resultData.numPages + 'é¡µ,' + resultData.numResults + 'æ¡æ•°æ®',\n        url: \"hiker://empty\",\n        col_type: \"text_center_1\",\n    });\n    resultData.result.forEach(list => {\n        d.push({\n            title: \"<big><font color='blue'>\" + list.uname + \"</font></big><small>\" + list.usign + \"</small>\",\n            img: 'https://' + list.upic + \"@Referer=\",\n            col_type: 'avatar',\n            url: \"hiker://page/upHome\",\n            extra: {\n                mid: list.mid,\n                title: list.uname,\n                face: 'https://' + list.upic\n            }\n        });\n    });\n}\nsetSearchResult(d);\n"},{"col_type":"movie_3","name":"videoæœç´¢","path":"videoSearch","rule":"js:\nseaword = MY_PARAMS.seaword;\nvar d = [];\nvar resultData=$.require(\"hiker://page/api\").getSearchRes('video',seaword,MY_PAGE,42);\nvar {timeConvert}=$.require(\"hiker://page/api\");\nif (MY_PAGE <= resultData.numPages) {\n    d.push({\n        title: 'å½“å‰:ç¬¬' + resultData.page + 'é¡µ\\t\\t\\tå…±æœ‰' + resultData.numPages + 'é¡µ,' + resultData.numResults + 'æ¡æ•°æ®',\n        url: \"hiker://empty\",\n        col_type: \"text_center_1\",\n    });\n    resultData.result.forEach(list => {\n        // title=list.title.replace('<em class=\\\"keyword\\\">','<font color=\"red\">').replace('</em>','</font>')\n        title = list.title.replace(/<em class=\\\"keyword\\\">/g, '').replace(/<\\/em>/g, '')\n        pbtime=timeConvert(list.pubdate);\n        d.push({\n            title: title,\n            img: 'https://' + list.pic + \"@Referer=\",\n            desc: 'â€œâ€œâ€â€<small><small><font color=\"grey\">æ’­æ”¾é‡:'+list.play+'\\t\\t\\tå¼¹å¹•:'+list.danmaku+'\\t\\t\\tå–œæ¬¢:'+list.like+'\\nå‘å¸ƒæ—¶é—´:'+pbtime+'</font></small></small>',\n            col_type: 'movie_1_left_pic',\n            url: \"hiker://page/video\",\n            extra: {\n                // è§†é¢‘æ ‡è¯†\n                aid: list.aid,\n                bvid:list.bvid,\n                title: title\n            }\n        });\n    });\n}\nsetSearchResult(d);\n"},{"col_type":"movie_1_left_pic","name":"æ¨é€","path":"feed","rule":"$.require(\"hiker://page/api\").getFeed().forEach(item => {\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: item.title,\n\nÂ  Â  Â  Â  img: item.pic+'@Referer=',\n\nÂ  Â  Â  Â  desc: 'up:' + item.owner.name + '\\n' + item.stat.view + \"æ’­æ”¾â€»\" + item.stat.like + \"ç‚¹èµ\",\n\nÂ  Â  Â  Â  url: \"hiker://page/video\",\n\nÂ  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  // idå…¶å®æ˜¯aid\n\nÂ  Â  Â  Â  Â  Â  aid: item.id,\n\nÂ  Â  Â  Â  Â  Â  cid: item.cid,\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })\n\n})\n\n\n"},{"col_type":"text_1","name":"API","path":"api","rule":"// part1:èšåˆå‡½æ•°----------------\n// ç™»å½•éªŒè¯\n$.exports.isLoggedIn = function () {\n    if (fileExist(\"hiker://files/rules/cy/bili.txt\")) {\n        biliData = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n        if (biliData.userList.length == 0) {\n            return JSON.stringify({\n                \"userName\": 'æœªç™»å½•',\n                \"userMid\": '',\n                \"userFace\": '',\n                \"type\": false\n            })\n        }\n        currentUser = biliData.userList[0];\n        var cookie = currentUser.cookie;\n        let userinfo = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/nav\", {\n            headers: {\n                \"Cookie\": cookie\n            }\n        })).data;\n        if (userinfo.isLogin === false) {\n            return JSON.stringify({\n                \"userName\": 'æœªç™»å½•',\n                \"userMid\": '',\n                \"userFace\": '',\n                \"type\": false\n            })\n        } else {\n            currentUser.userName = userinfo.uname;\n            currentUser.userMid = userinfo.mid;\n            // 1ï¼šä¼šå‘˜å¼€é€šï¼›0ï¼šæœªå¼€é€š\n            currentUser.vipStatus = userinfo.vipStatus;\n            currentUser.face = userinfo.face + \"@Referer=\";\n            saveFile('hiker://files/rules/cy/bili.txt', JSON.stringify(biliData));\n            // return true;\n            return JSON.stringify({\n                \"userName\": currentUser.userName,\n                \"userMid\": currentUser.userMid,\n                \"userFace\": currentUser.face,\n                \"type\": true\n            });\n        }\n    } else {\n        return JSON.stringify({\n            \"userName\": 'æœªç™»å½•',\n            \"userMid\": '',\n            \"userFace\": '',\n            \"type\": false\n        });\n    }\n}\n// å“”å“©è§†é¢‘è§£æï¼šè·å–æ’­æ”¾åœ°å€+æäº¤æ’­æ”¾è®°å½•\n$.exports.biliLazy = function (id, cid, qn) {\n    // é‡ç½®åŸç”Ÿå¼¹å¹•ç»Ÿä¸€å¼¹å¹•å¤§å°ã€ä¿®æ”¹æ­¥é•¿\n    function overrideSave(dm) {\n        var danmuData = request(dm);\n        // å­—ä½“å¤§å°ã€å¼¹å¹•æ­¥é•¿\n        var danmuSetting = JSON.parse(readFile('hiker://files/dmç›’å­/settings.json'));\n        var size = danmuSetting.fontSize;\n        var step = danmuSetting.step;\n        var data = '';\n        td = pdfa(danmuData, 'i&&d');\n        for (let i = 0; i < td.length; i += step) {\n            timepoint = pdfh(td[i], 'd&&p').split(\",\")[0];\n            ct = pdfh(td[i], 'd&&p').split(\",\")[1];\n            color = pdfh(td[i], 'd&&p').split(\",\")[3];\n            // å¼¹å¹•å†…å®¹\n            content = pdfh(td[i], 'd&&Text');\n            if (content.indexOf('<') != -1 || content.indexOf('>') != -1 || content.indexOf('&') != -1 || content.indexOf('\\u0000') != -1 || content.indexOf('\\b') != -1) {\n                continue;\n            }\n            tempdata = `<d p=\"${Math.round(timepoint)},${ct},${size},${color},0\">${content}</d>\\n`;\n            data += tempdata;\n        }\n        danmustr = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\\n<i>\\n${data}</i>`;\n        saveFile(dm, danmustr);\n    }\n    // åˆ¤æ–­æ˜¯å¦é‡å†™\n    var dm = 'https://comment.bilibili.com/' + cid + '.xml';\n    if (getItem('isOverrideSave', 'false') == 'true') {\n        file = 'https://comment.bilibili.com/' + cid + '.xml';\n        dm = 'hiker://files/cache/danmu/' + 'bili_from_' + getPageTitle() + '.xml';\n        downloadFile(file, dm);\n        overrideSave(dm);\n    }\n    var data = $.require(\"hiker://page/api\").getUrl(id, cid, qn);\n    // æäº¤å†å²è®°å½•\n    $.require(\"hiker://page/api\").reportProcess(id, cid);\n    // qualityNum=dash.audio.length;ä¸éœ€è¦äº†ï¼Œæ‰¾åˆ°äº†æ›´å¥½çš„åˆ¤æ–­æ–¹æ³•ï¼Œè™½ç„¶æˆ‘å¹¶ä¸çŸ¥é“è¿™äº›å‚æ•°çš„å«ä¹‰æ˜¯ä»€ä¹ˆ\n    videoList = [];\n    audioList = [];\n    nameList = [];\n    headers = [];\n    try {\n        data.audio.forEach(item => {\n            audioList.push(item.baseUrl);\n            headers.push({\n                \"Referer\": \"https://www.bilibili.com\",\n                \"User-Agent\": PC_UA\n            });\n        });\n        data.video.forEach(item => {\n            if (item.codecid == 7) {\n                videoList.push(item.baseUrl + \"#isVideo=true#\");\n                if (item.id == 126) {\n                    nameList.push('æœæ¯”è§†ç•Œ');\n                } else if (item.id == 125) {\n                    nameList.push('HDR çœŸå½©è‰²');\n                } else if (item.id == 120) {\n                    nameList.push('4Kè¶…æ¸…');\n                } else if (item.id == 116) {\n                    nameList.push('1080P60é«˜å¸§ç‡');\n                } else if (item.id == 112) {\n                    nameList.push('1080P+é«˜ç ç‡');\n                } else if (item.id == 80) {\n                    nameList.push('1080Pé«˜æ¸…');\n                } else if (item.id == 74) {\n                    nameList.push('720P60é«˜å¸§ç‡');\n                } else if (item.id == 64) {\n                    nameList.push('720Pé«˜æ¸…');\n                } else if (item.id == 32) {\n                    nameList.push('480Pæ¸…æ™°');\n                } else if (item.id == 16) {\n                    nameList.push('360Pæµç•…');\n                } else if (item.id == 6) {\n                    nameList.push('240Pæé€Ÿ');\n                }\n            }\n        });\n        // ä¿æŒé•¿åº¦ä¸€è‡´\n        while (audioList.length < videoList.length) {\n            // å¤åˆ¶ audioList ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿½åŠ åˆ°æ•°ç»„æœ«å°¾\n            audioList.push(audioList[audioList.length - 1]);\n            // å¤åˆ¶ headers ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿½åŠ åˆ°æ•°ç»„æœ«å°¾\n            headers.push(headers[headers.length - 1]);\n        }\n        return JSON.stringify({\n            urls: videoList,\n            audioUrls: audioList,\n            headers: headers,\n            names: nameList,\n            danmu: dm\n        })\n    } catch (e) {\n        log(\"æ­£å¸¸è§£é‡Šå¤±è´¥ï¼Œè¿›è¡Œæœ€åå°è¯•:\");\n        return JSON.stringify({\n            urls: [data.durl[0].url + \"#isVideo=true#\"],\n            names: [data.quality + \"\"],\n            danmu: dm,\n            headers: [{\n                \"Referer\": \"https://www.bilibili.com\",\n                \"User-Agent\": PC_UA\n            }]\n        })\n    }\n}\n// ç¨ååœ¨çœ‹â€”â€”æ€»æ“ä½œåˆ¤æ–­\n$.exports.judgeToview = function (aid) {\n    selection = ['æ·»åŠ ', 'ç§»é™¤'];\n    return $(selection, 1).select((aid) => {\n        if (input == 'æ·»åŠ ') {\n            res = $.require(\"hiker://page/api\").addToview(aid);\n            if (res == 0) {\n                return \"toast://æ·»åŠ æˆåŠŸ\"\n            } else if (res == -101) {\n                return \"toast://è´¦å·æœªç™»å½•\"\n            } else if (res == -111) {\n                return \"toast://csrfæ ¡éªŒå¤±è´¥\"\n            } else if (res == -400) {\n                return \"toast://è¯·æ±‚é”™è¯¯\"\n            } else if (res == 90001) {\n                return \"toast://åˆ—è¡¨å·²æ»¡\"\n            } else if (res == 90003) {\n                return \"toast://ç¨¿ä»¶å·²ç»è¢«åˆ é™¤\"\n            } else {\n                return \"toast://æœªçŸ¥é”™è¯¯\"\n            }\n        } else {\n            res = $.require(\"hiker://page/api\").delToview(aid);\n            if (res == 0) {\n                return \"toast://ç§»é™¤æˆåŠŸ\"\n            } else if (res == -101) {\n                return \"toast://è´¦å·æœªç™»å½•\"\n            } else if (res == -111) {\n                return \"toast://csrfæ ¡éªŒå¤±è´¥\"\n            } else if (res == -400) {\n                return \"toast://è¯·æ±‚é”™è¯¯\"\n            } else {\n                return \"toast://æœªçŸ¥é”™è¯¯\"\n            }\n        }\n    }, aid)\n}\n// æ“ä½œç”¨æˆ·å…³ç³»\n$.exports.changeUserRelation = function (mid, re_src) {\n    selection = ['å…³æ³¨', 'å–å…³', 'æ‚„æ‚„å…³æ³¨', 'å–æ¶ˆæ‚„æ‚„å…³æ³¨', 'æ‹‰é»‘', 'å–æ¶ˆæ‹‰é»‘', 'è¸¢å‡ºç²‰ä¸', 'ç§»åŠ¨åˆ†ç»„'];\n    return $(selection, 2).select((mid, re_src) => {\n        if (input == 'ç§»åŠ¨åˆ†ç»„') {\n            beforeTagids = [];\n            groups = $.require(\"hiker://page/api\").getUserGroup(mid);\n            if (JSON.stringify(groups) == '{}') {\n                beforeTagids.push(0);\n            } else {\n                for (var prop in groups) {\n                    beforeTagids.push(parseInt(prop));\n                }\n            }\n            // è·å–æˆ‘çš„åˆ†ç»„\n            focusGroupList = [];\n            $.require(\"hiker://page/api\").getMyAttentionGroupList().forEach(list => {\n                focusGroupList.push(list.name + ' ' + list.tagid);\n            });\n            return $(focusGroupList, 1).select((beforeTagids, mid) => {\n                afterTagids = [];\n                afterTagids.push(parseInt(input.split(' ')[1]));\n                fids = [];\n                fids.push(Number(mid));\n                res = $.require(\"hiker://page/api\").moveUsers(beforeTagids, afterTagids, fids);\n                if (res == 0) {\n                    return \"toast://ç§»åŠ¨ç”¨æˆ·åˆ°\" + input.split(' ')[0] + \"åˆ†ç»„æˆåŠŸ\"\n                } else if (res == -101) {\n                    return \"toast://è´¦å·æœªç™»å½•\"\n                } else if (res == -111) {\n                    return \"toast://csrfæ ¡éªŒå¤±è´¥\"\n                } else if (res == -400) {\n                    return \"toast://è¯·æ±‚é”™è¯¯\"\n                } else if (res == 22104) {\n                    return \"toast://æ— æƒé™\"\n                } else if (res == 22105) {\n                    return \"toast://æœªå…³æ³¨\"\n                } else {\n                    return \"toast://æœªçŸ¥é”™è¯¯\"\n                }\n            }, beforeTagids, mid);\n        } else {\n            if (input == 'å…³æ³¨') {\n                var act = 1;\n            } else if (input == 'å–å…³') {\n                var act = 2;\n            } else if (input == 'æ‚„æ‚„å…³æ³¨') {\n                var act = 3;\n            } else if (input == 'å–æ¶ˆæ‚„æ‚„å…³æ³¨') {\n                var act = 4;\n            } else if (input == 'æ‹‰é»‘') {\n                var act = 5;\n            } else if (input == 'å–æ¶ˆæ‹‰é»‘') {\n                var act = 6;\n            } else if (input == 'è¸¢å‡ºç²‰ä¸') {\n                var act = 7;\n            }\n            res = $.require(\"hiker://page/api\").addAttention(mid, act, re_src);\n            relation = $.require(\"hiker://page/api\").userMapping(mid);\n            updateItem('relation', {\n                title: relation,\n                img: relation == 'æœªå…³æ³¨' ? storage0.getMyVar('å›¾æ ‡').æ·»åŠ å…³æ³¨ : storage0.getMyVar('å›¾æ ‡').å·²å…³æ³¨\n            });\n            if (res == 0) {\n                return \"toast://\" + input + \"æˆåŠŸ\"\n            } else if (res == -101) {\n                return \"toast://è´¦å·æœªç™»å½•\"\n            } else if (res == -111) {\n                return \"toast://csrfæ ¡éªŒå¤±è´¥\"\n            } else if (res == -400) {\n                return \"toast://è¯·æ±‚é”™è¯¯\"\n            } else if (res == 22001) {\n                return \"toast://ä¸èƒ½å¯¹è‡ªå·±è¿›è¡Œæ­¤æ“ä½œ\"\n            } else if (res == 22003) {\n                return \"toast://ç”¨æˆ·ä½äºé»‘åå•\"\n            } else {\n                return \"toast://æœªçŸ¥é”™è¯¯\"\n            }\n        }\n    }, mid, re_src)\n}\n// æ˜ å°„ç”¨æˆ·å…³ç³»\n$.exports.userMapping = function (mid) {\n    relationRes = $.require(\"hiker://page/api\").getRelation(mid);\n    if (relationRes.relation.attribute == 0) {\n        relation = 'æœªå…³æ³¨'\n    } else if (relationRes.relation.attribute == 1) {\n        relation = 'æ‚„æ‚„å…³æ³¨'\n    } else if (relationRes.relation.attribute == 2) {\n        relation = 'å·²å…³æ³¨'\n    } else if (relationRes.relation.attribute == 6) {\n        relation = 'å·²äº’ç²‰'\n    } else if (relationRes.relation.attribute == 128) {\n        relation = 'å·²æ‹‰é»‘'\n    }\n    return relation;\n}\n// ç‚¹èµæ“ä½œé€»è¾‘\n$.exports.likeLogic = function (aid) {\n    hasLike = $.require(\"hiker://page/api\").hasLike(aid);\n    if (hasLike == 0) {\n        res = $.require(\"hiker://page/api\").setLike(aid, 1);\n        if (res == 0) {\n            like = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data.stat.like;\n            updateItem('setLike', {\n                title: (like + 1) + '',\n                img: storage0.getMyVar('å›¾æ ‡').å·²ç‚¹èµ\n            });\n            return \"toast://ç‚¹èµæˆåŠŸ\";\n        } else {\n            return \"toast://ç‚¹èµå‡ºé”™äº†~\";\n        }\n    } else {\n        res = $.require(\"hiker://page/api\").setLike(aid, 2);\n        if (res == 0) {\n            like = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data.stat.like;\n            updateItem('setLike', {\n                title: (like - 1) + '',\n                img: storage0.getMyVar('å›¾æ ‡').æœªç‚¹èµ\n            });\n            return \"toast://å–æ¶ˆç‚¹èµæˆåŠŸ\";\n        } else {\n            return \"toast://å–æ¶ˆç‚¹èµå‡ºé”™äº†~\";\n        }\n    }\n}\n// æ”¶è—æ“ä½œé€»è¾‘\n$.exports.favourLogic = function (aid, mid) {\n    hasFavour = $.require(\"hiker://page/api\").hasFavour(aid);\n    if (hasFavour) {\n        // ç§»å‡ºæ”¶è—\n        favourIdList = $.require(\"hiker://page/api\").getFavourIdList(aid, mid);\n        res = $.require(\"hiker://page/api\").setFavour(aid, '', favourIdList);\n        if (res == 0) {\n            like = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data.stat.favorite;\n            updateItem('setFavour', {\n                title: (like - 1) + '',\n                img: storage0.getMyVar('å›¾æ ‡').æœªæ”¶è—\n            });\n            return \"toast://å–æ¶ˆæ”¶è—æˆåŠŸ\";\n        } else {\n            return \"toast://å–æ¶ˆæ”¶è—å‡ºé”™äº†~\";\n        }\n    } else {\n        // é€‰æ‹©æ”¶è—\n        res = $.require(\"hiker://page/api\").getCollectionGroupList()[0].mediaListResponse.list;\n        GroupList = [];\n        res.forEach(item => {\n            GroupList.push(item.title + ' ' + item.id);\n        });\n        return $(GroupList, 1).select((aid) => {\n            selectId = parseInt(input.split(' ')[1])\n            res = $.require(\"hiker://page/api\").setFavour(aid, selectId, '');\n            if (res == 0) {\n                like = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data.stat.favorite;\n                updateItem('setFavour', {\n                    title: (like + 1) + '',\n                    img: storage0.getMyVar('å›¾æ ‡').å·²æ”¶è—\n                });\n                return \"toast://æ”¶è—æˆåŠŸ\";\n            } else {\n                return \"toast://æ”¶è—å‡ºé”™äº†~\";\n            }\n        }, aid);\n    }\n}\n\n// part2:æ•£è£…API----------------\n// è·å–æœç´¢ç»“æœ\n$.exports.getSearchRes = function (search_type, seaword, page, pageSize) {\n    queryJson = {\n        __refresh__: true,\n        _extra: '',\n        context: '',\n        page: page,\n        page_size: pageSize,\n        order: '',\n        duration: '',\n        from_source: '',\n        from_spmid: 333.337,\n        platform: 'pc',\n        highlight: 1,\n        single_column: 0,\n        keyword: seaword,\n        search_type: search_type,\n        preload: true,\n        com2co: true\n    }\n    parms = $.require(\"hiker://page/api\").getWbiEnc(queryJson);\n    dataLink = 'https://api.bilibili.com/x/web-interface/wbi/search/type?' + parms;\n    cookie = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie;\n    res = JSON.parse(fetch(dataLink, {\n        headers: {\n            \"User-Agent\": PC_UA,\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": cookie\n        },\n        method: \"GET\"\n    })).data;\n    return res;\n}\n// è§†é¢‘æ¨è\n$.exports.getFeed = function () {\n    let u = \"https://api.bilibili.com/x/web-interface/index/top/feed/rcmd\";\n    var res = JSON.parse(fetch(u, {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    }));\n    return res.data.item\n}\n// è·å–æ’­æ”¾åœ°å€\n$.exports.getUrl = function (avid, cid, qn) {\n    var setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n    var Cookie = setting.bfKey != '' ? base64Decode(base64Decode(setting.bfKey)) : setting.userList[0].cookie;\n    try {\n        let u = request(buildUrl(\"http://api.bilibili.com/x/player/playurl\", {\n            \"avid\": avid,\n            \"cid\": cid,\n            \"qn\": qn,\n            \"fnver\": 0,\n            // \"fnval\": 4048,\n            \"fnval\": 16,\n            \"fourk\": 1\n        }), {\n            headers: {\n                Cookie: Cookie\n            }\n        })\n        res = JSON.parse(u);\n        if (res.data.dash) {\n            return res.data.dash;\n        } else {\n            log(\"æ²¡æœ‰æ‰¾åˆ°dashå­—æ®µ\");\n            if (res.data.support_formats) {\n                if (u.includes(\"è¯•çœ‹\")) {\n                    msg = \"æ‚¨åˆšæ‰è§‚çœ‹çš„è§†é¢‘æ˜¯è¯•çœ‹è§†é¢‘ï¼Œè§‚çœ‹å®Œæ•´ç‰‡æ®µè¯·å‰å¾€å®˜ç½‘è´­ä¹°ï¼\";\n                    log(msg);\n                    confirm({\n                        title: 'æ¸©é¦¨æç¤º', content: msg, confirm: $.toString(() => {\n                        }), cancel: $.toString(() => {})\n                    })\n                }\n            }\n            return res.data;\n        }\n    } catch (e) {\n        try {\n            // ä¸€äººä¹‹ä¸‹ç¬¬ä¸€å­£çš„ç¬¬1ï¼Œ2é›†â€”â€”å¯ä»¥è·å–å¤§ä¼šå‘˜å‰§é›†çš„å‰3min\n            log('å°è¯•æ›´æ”¹è¯·æ±‚æ¥å£...:' + e);\n            let u = request(buildUrl(\"https://api.bilibili.com/pgc/player/web/playurl\", {\n                \"avid\": avid,\n                \"cid\": cid,\n                \"qn\": qn,\n                \"fnver\": 0,\n                // \"fnval\": 4048,\n                \"fnval\": 16,\n                \"fourk\": 1\n            }), {\n                headers: {\n                    Cookie: Cookie\n                }\n            })\n            // ä»™ç‹çš„æ—¥å¸¸ç¬¬ä¸‰å­£ç¬¬10é›†ï¼Œæ²¡æœ‰dashï¼Œæœäº†\n            if (JSON.parse(u).result.dash) {\n                return JSON.parse(u).result.dash;\n            } else {\n                log('å°è¯•èµ°å•çº¿è·¯ç”»è´¨~');\n                return JSON.parse(u).result;\n            }\n        } catch (error) {\n            log('cookieæœ‰æ²¡æœ‰å¯èƒ½å¤±æ•ˆäº†å‘¢~');\n            return '';\n        }\n    }\n}\n// æäº¤æ’­æ”¾è®°å½•\n$.exports.reportProcess = function (avid, cid) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let res = post(\"http://api.bilibili.com/x/v2/history/report\", {\n        body: {\n            \"aid\": avid,\n            \"cid\": cid,\n            \"csrf\": csrf,\n            \"progress\": 0\n        },\n        headers: {\n            Cookie: JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })\n}\n\n// è·å–è¯„è®º\n$.exports.getComments = function (id, type, page) {\n    let u = buildUrl(\"http://api.bilibili.com/x/v2/reply\", {\n        \"type\": type,\n        \"oid\": id,\n        \"pn\": page\n    });\n    let res = request(u, {\n        headers: {\n            Cookie: JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })\n    return JSON.parse(res).data.replies\n}\n// æ·»åŠ ç¨ååœ¨çœ‹â€”â€”çœŸçš„éº»äº†ï¼Œä¸ºä»€ä¹ˆfetchå°±é”™å‘¢~\n$.exports.addToview = function (aid) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"https://api.bilibili.com/x/v2/history/toview/add\";\n    let res = request(buildUrl(u, {\n        \"aid\": aid,\n        \"csrf\": csrf,\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).code;\n}\n// åˆ é™¤ç¨ååœ¨çœ‹\n$.exports.delToview = function (aid) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"http://api.bilibili.com/x/v2/history/toview/del\";\n    let res = request(buildUrl(u, {\n        \"aid\": aid,\n        \"csrf\": csrf,\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).code;\n}\n// è®¢é˜…å½±è§†(è¿½ç•ªã€è¿½å‰§)\n$.exports.subscribeFilm = function (season_id) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"https://api.bilibili.com/pgc/web/follow/add\";\n    let res = request(buildUrl(u, {\n        \"season_id\": season_id,\n        \"csrf\": csrf,\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).result.toast;\n}\n// å–æ¶ˆè®¢é˜…\n$.exports.cancelSubscribeFilm = function (season_id) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"https://api.bilibili.com/pgc/web/follow/del\";\n    let res = request(buildUrl(u, {\n        \"season_id\": season_id,\n        \"csrf\": csrf,\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).result.toast;\n}\n/*æ“ä½œç”¨æˆ·å…³ç³»\nfid:ç”¨æˆ·mid\nact:æ“ä½œä»£ç \nre_srcï¼šå…³æ³¨æ¥æº\n*/\n$.exports.addAttention = function (mid, act, re_src) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"https://api.bilibili.com/x/relation/modify\";\n    let res = request(buildUrl(u, {\n        \"fid\": mid,\n        \"act\": act,\n        \"re_src\": re_src,\n        \"csrf\": csrf\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).code;\n}\n// ç§»åŠ¨å…³æ³¨ç”¨æˆ·åˆ†ç»„\n$.exports.moveUsers = function (beforeTagids, afterTagids, fids) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let u = \"https://api.bilibili.com/x/relation/tags/moveUsers\";\n    let res = request(buildUrl(u, {\n        \"beforeTagids\": beforeTagids.toString(),\n        \"afterTagids\": afterTagids.toString(),\n        \"fids\": fids.toString(),\n        \"csrf\": csrf\n    }), {\n        headers: {\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        },\n        method: \"POST\"\n    })\n    return JSON.parse(res).code;\n}\n// è·å–ç”¨æˆ·å…³ç³»\n$.exports.getRelation = function (mid) {\n    // https://api.bilibili.com/x/space/acc/relation?mid=,æ—§æ¥å£\n    parms = $.require(\"hiker://page/api\").getWbiEnc({ mid: mid });\n    infoLink = 'https://api.bilibili.com/x/space/wbi/acc/relation?' + parms;\n    return JSON.parse(request(infoLink, {\n        headers: {\n            \"User-Agent\": PC_UA,\n            \"Referer\": \"https://www.bilibili.com/\",\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })).data\n}\n// æŸ¥è¯¢ç›®æ ‡ç”¨æˆ·æ‰€åœ¨çš„åˆ†ç»„\n$.exports.getUserGroup = function (mid) {\n    return JSON.parse(request(\"https://api.bilibili.com/x/relation/tag/user?fid=\" + mid, {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })).data\n}\n// è·å–å…³æ³¨åˆ†ç»„\n$.exports.getMyAttentionGroupList = function () {\n    return JSON.parse(fetch(\"https://api.bilibili.com/x/relation/tags?jsonp=jsonp\", {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n            \"User-Agent\": PC_UA,\n            \"Referer\": \"https://www.bilibili.com/\"\n        }\n    })).data;\n}\n// æ˜¯å¦ç‚¹èµ\n$.exports.hasLike = function (aid) {\n    return JSON.parse(request(buildUrl(\"http://api.bilibili.com/x/web-interface/archive/has/like\", {\n        \"aid\": aid\n    }), {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })).data\n}\n// æ˜¯å¦æ”¶è—\n$.exports.hasFavour = function (aid) {\n    return JSON.parse(request(buildUrl(\"http://api.bilibili.com/x/v2/fav/video/favoured\", {\n        \"aid\": aid\n    }), {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })).data.favoured\n}\n// è§†é¢‘ç‚¹èµ\n$.exports.setLike = function (aid, dealWay) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let res = post(\"http://api.bilibili.com/x/web-interface/archive/like\", {\n        body: {\n            \"aid\": aid,\n            \"like\": dealWay,\n            \"csrf\": csrf\n        },\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    })\n    return JSON.parse(res).code;\n}\n// è·å–æ”¶è—åˆ—è¡¨\n$.exports.getCollectionGroupList = function () {\n    return collections = JSON.parse(fetch(\"https://api.bilibili.com/x/v3/fav/folder/list4navigate\", {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n        }\n    })).data;\n}\n// æ”¶è—/å–æ¶ˆè§†é¢‘API\n$.exports.setFavour = function (aid, add_media_ids, del_media_ids) {\n    let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\n    let res = post(\"http://api.bilibili.com/medialist/gateway/coll/resource/deal\", {\n        body: {\n            \"rid\": aid,\n            \"type\": 2,\n            \"add_media_ids\": add_media_ids.toString(),\n            \"del_media_ids\": del_media_ids.toString(),\n            \"csrf\": csrf\n        },\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n            \"Referer\": \"https://www.bilibili.com\"\n        }\n    })\n    return JSON.parse(res).code;\n}\n// è·å–è§†é¢‘æ‰€åœ¨æ”¶è—å¤¹\n$.exports.getFavourIdList = function (aid, userMid) {\n    let u = \"https://api.bilibili.com/x/v3/fav/folder/created/list-all\";\n    let res = request(buildUrl(u, {\n        \"type\": 2,\n        \"rid\": aid,\n        \"up_mid\": userMid,\n    }), {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n            \"Referer\": \"https://www.bilibili.com\"\n        }\n    });\n    favourIdList = [];\n    JSON.parse(res).data.list.forEach((item) => {\n        if (item.fav_state == 1) {\n            favourIdList.push(item.id);\n        }\n    })\n    return favourIdList;\n}\n// çƒ­æ˜ å‰§é›†æ—¶é—´è½´\n$.exports.getMovies = function (type, before, after) {\n    let u = buildUrl(\"http://api.bilibili.com/pgc/web/timeline\", {\n        \"types\": type,\n        \"before\": before,\n        \"after\": after\n    })\n    let res = JSON.parse(request(u, {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n        }\n    }))\n    return res.result\n}\n// è·å–ä¸“æ æ–‡ç« \n$.exports.getUserArticle = function (upMid, page) {\n    let u = \"https://api.bilibili.com/x/space/article\";\n    let res = request(buildUrl(u, {\n        \"mid\": upMid,\n        \"pn\": page,\n        \"ps\": 12,\n        \"sort\": 'publish_time'\n    }), {\n        headers: {\n            \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n            \"Referer\": \"https://www.bilibili.com\"\n        }\n    });\n    return JSON.parse(res).data;\n}\n// è·å–åŠ¨æ€æ•°æ®\n$.exports.getDynamicData = function (from, upMid) {\n    var nextInfo = {};\n    if (MY_PAGE == 1) {\n        if (from == 'upSpace') {\n            var u = \"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space?offset=&host_mid=\" + upMid + \"&timezone_offset=-480\";\n        } else {\n            var u = \"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/all?timezone_offset=-480&type=all\";\n        }\n        latenews = JSON.parse(fetch(u, {\n            headers: {\n                \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie,\n                \"User-Agent\": PC_UA,\n                \"Referer\": \"https://www.bilibili.com/\"\n            }\n        })).data;\n        nextInfo.offset = latenews.offset;\n    } else {\n        if (from == 'upSpace') {\n            var u = \"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space?offset=\" + storage0.getMyVar(JSON.stringify(MY_PAGE)).offset + \"&host_mid=\" + upMid + \"&timezone_offset=-480\";\n        } else {\n            var u = \"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/all?timezone_offset=-480&type=all&offset=\" + storage0.getMyVar(JSON.stringify(MY_PAGE)).offset;\n        }\n        latenews = JSON.parse(fetch(u, {\n            headers: {\n                \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie\n            }\n        })).data;\n        nextInfo.offset = latenews.offset;\n    }\n    storage0.putMyVar(JSON.stringify(MY_PAGE + 1), nextInfo);\n    return latenews;\n}\n\n// â€”â€”ç‰¹åˆ«çš„è¡Œä¸ºã€å·¥å…·å‡½æ•°â€”â€”\n// å±•ç¤ºåŠ¨æ€æ•°æ®(è¿”å›å‡½æ•°æ–¹æ³•çš„å¯æ‰§è¡Œå­—ç¬¦ä¸²)\n$.exports.showDynamicData = function () {\n    return $.toString(() => {\n        imgLink = storage0.getMyVar('å›¾æ ‡');\n        latenews.items.forEach(list => {\n            if (list.type == 'DYNAMIC_TYPE_AV') {\n                // æŠ•ç¨¿è§†é¢‘ï¼ˆå½“å‰å‘å¸ƒï¼‰âˆš\n                d.push({\n                    title: list.modules.module_author.name,\n                    desc: '<small><small><font color=\"grey\">' + list.modules.module_author.pub_time + '-' + list.modules.module_author.pub_action + '</font></small></small>',\n                    img: list.modules.module_author.face + \"@Referer=\",\n                    url: 'hiker://page/upHome',\n                    col_type: 'avatar',\n                    extra: {\n                        mid: list.modules.module_author.mid,\n                        title: list.modules.module_author.name,\n                        face: list.modules.module_author.face\n                    }\n                }, {\n                    col_type: 'line'\n                }, {\n                    // ä¸ä¸€å®šæœ‰æ–‡å­—å•Š\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                    url: 'hiker://page/Comments?p=fypage',\n                    // è¿™ä¸ªä¸èƒ½ç”¨long_text\n                    col_type: 'rich_text',\n                    extra: {\n                        id: list.basic.comment_id_str,\n                        type: 1\n                    }\n                }, {\n                    title: list.modules.module_dynamic.major.archive.title,\n                    img: list.modules.module_dynamic.major.archive.cover + \"@Referer=\",\n                    col_type: 'movie_1_left_pic',\n                    url: \"hiker://page/video\",\n                    desc: list.modules.module_dynamic.major.archive.desc,\n                    extra: {\n                        aid: list.modules.module_dynamic.major.archive.aid,\n                        lineVisible: false\n                    }\n                }, {\n                    desc: '<small><small><font color=\"grey\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\t\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\t\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\n                    url: 'hiker://empty',\n                    col_type: 'avatar'\n                }, {\n                    col_type: 'line_blank'\n                });\n            } else if (list.type == 'DYNAMIC_TYPE_FORWARD') {\n                // å¼•ç”¨ï¼Œå¤šå‡ºäº†origæŒ‡å‘ä¸€ä¸ª(è¿‡å»)å·²å‘å¸ƒçš„è§†é¢‘,å‡†ç¡®çš„è¯´æ˜¯å¼•ç”¨ä¹‹å‰çš„å¸–å­ä¸ä¸€å®šæ˜¯è§†é¢‘âˆš\n                d.push({\n                    title: list.modules.module_author.name,\n                    img: list.modules.module_author.face + \"@Referer=\",\n                    desc: '<small><small><font color=\"grey\">' + list.modules.module_author.pub_time + '</font></small></small>',\n                    url: 'hiker://page/upHome',\n                    col_type: 'avatar',\n                    extra: {\n                        mid: list.modules.module_author.mid,\n                        title: list.modules.module_author.name,\n                        face: list.modules.module_author.face\n                    }\n                }, {\n                    col_type: 'line'\n                }, {\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                    url: 'hiker://page/Comments?p=fypage',\n                    col_type: 'rich_text',\n                    extra: {\n                        id: list.basic.comment_id_str,\n                        // ä¹Ÿæ˜¯çº¯æ–‡å­—ï¼Œå› ä¸ºåªæ˜¯æ–‡å­—+å¼•ç”¨æ—©å·²æŠ•ç¨¿çš„è§†é¢‘\n                        type: 17\n                    }\n                });\n                // å¼•ç”¨çš„å†…å®¹â€”â€”æˆªæ–­ï¼ˆæ ¹æ®ä¸åŒçš„å¼•ç”¨ç±»å‹è¿›è¡Œå¤„ç†ï¼‰\n                d.push({\n                    title: '<small><small>ä¸‹é¢å†…å®¹æ¥è‡ªå¼•ç”¨çš„å¸–å­,upæ˜¯:<a href=\"hiker://page/upHome\">' + list.orig.modules.module_author.name + '</a></small></small>',\n                    col_type: \"rich_text\",\n                    extra: {\n                        mid: list.orig.modules.module_author.mid,\n                        title: list.orig.modules.module_author.name,\n                        face: list.orig.modules.module_author.face\n                    }\n                }, {\n                    col_type: \"line\"\n                });\n                if (list.orig.type == 'DYNAMIC_TYPE_AV') {\n                    // å¼•ç”¨è§†é¢‘è¯´è¯´\n                    d.push({\n                        title: list.orig.modules.module_dynamic.major.archive.title,\n                        img: list.orig.modules.module_dynamic.major.archive.cover + \"@Referer=\",\n                        col_type: 'movie_1_left_pic',\n                        url: \"hiker://page/video\",\n                        desc: list.orig.modules.module_dynamic.major.archive.desc,\n                        extra: {\n                            aid: list.orig.modules.module_dynamic.major.archive.aid,\n                            lineVisible: false\n                        }\n                    });\n                } else if (list.orig.type == 'DYNAMIC_TYPE_WORD') {\n                    // å¼•ç”¨æ–‡å­—è¯´è¯´\n                    d.push({\n                        title: (list.orig.modules.module_dynamic.desc.text === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.orig.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                        url: 'hiker://page/Comments?p=fypage',\n                        col_type: 'rich_text',\n                        extra: {\n                            // è¯„è®ºidæ¥æºéƒ½ä¸ä¸€æ ·\n                            id: list.orig.id_str,\n                            // çº¯æ–‡å­—\n                            type: 17\n                        }\n                    });\n\n                } else if (list.orig.type == 'DYNAMIC_TYPE_DRAW') {\n                    // å¼•ç”¨å›¾ç‰‡è¯´è¯´\n                    d.push({\n                        title: (list.orig.modules.module_dynamic.desc.text === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.orig.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                        col_type: 'rich_text',\n                        url: \"hiker://page/Comments?p=fypage\",\n                        extra: {\n                            id: list.orig.modules.module_dynamic.major.draw.id,\n                            type: 11\n                        }\n                    });\n                    list.orig.modules.module_dynamic.major.draw.items.forEach(item => {\n                        d.push({\n                            img: item.src + \"@Referer=\",\n                            col_type: 'pic_3_square',\n                            url: item.src + \"@Referer=\",\n                        });\n                    });\n                } else {\n                    log('å¯èƒ½è¿˜æœ‰æœªé€‚é…çš„è¯´è¯´ç±»å‹');\n                }\n                // åˆ†å‰²\n                d.push({\n                    desc: '<small><small><font color=\"grey\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\t\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\t\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\n                    url: 'hiker://empty',\n                    col_type: 'avatar'\n                }, {\n                    col_type: 'line_blank'\n                });\n            } else if (list.type == 'DYNAMIC_TYPE_WORD') {\n                // çº¯æ–‡å­—\n                d.push({\n                    title: list.modules.module_author.name,\n                    desc: '<small><small><font color=\"grey\">' + list.modules.module_author.pub_time + '</font></small></small>',\n                    img: list.modules.module_author.face + \"@Referer=\",\n                    url: 'hiker://page/upHome',\n                    col_type: 'avatar',\n                    extra: {\n                        mid: list.modules.module_author.mid,\n                        title: list.modules.module_author.name,\n                        face: list.modules.module_author.face\n                    }\n                }, {\n                    col_type: 'line'\n                }, {\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                    url: 'hiker://page/Comments?p=fypage',\n                    col_type: 'rich_text',\n                    extra: {\n                        id: list.basic.comment_id_str,\n                        // çº¯æ–‡å­—\n                        type: 17\n                    }\n                }, {\n                    desc: '<small><small><font color=\"grey\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\t\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\t\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\n                    url: 'hiker://empty',\n                    col_type: 'avatar'\n                }, {\n                    col_type: 'line_blank'\n                });\n            } else if (list.type == 'DYNAMIC_TYPE_DRAW') {\n                // å›¾ç‰‡è¯´è¯´\n                d.push({\n                    title: list.modules.module_author.name,\n                    desc: '<small><small><font color=\"grey\">' + list.modules.module_author.pub_time + '</font></small></small>',\n                    img: list.modules.module_author.face + \"@Referer=\",\n                    url: 'hiker://page/upHome',\n                    col_type: 'avatar',\n                    extra: {\n                        mid: list.modules.module_author.mid,\n                        title: list.modules.module_author.name,\n                        face: list.modules.module_author.face\n                    }\n                }, {\n                    col_type: 'line'\n                }, {\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\"grey\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\n/g, '<br>') + '<br><a href=\"hiker://page/Comments?p=fypage\">æŸ¥çœ‹è¯„è®º</a>',\n                    url: 'hiker://page/Comments?p=fypage',\n                    col_type: 'rich_text',\n                    extra: {\n                        id: list.basic.comment_id_str,\n                        // ç›¸ç°¿ï¼ˆå›¾ç‰‡åŠ¨æ€ï¼‰\n                        type: 11\n                    }\n                });\n                list.modules.module_dynamic.major.draw.items.forEach(item => {\n                    d.push({\n                        img: item.src + \"@Referer=\",\n                        col_type: 'pic_3_square',\n                        url: item.src + \"@Referer=\",\n                    });\n                });\n                d.push({\n                    desc: '<small><small><font color=\"grey\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\t\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\t\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\n                    url: 'hiker://empty',\n                    col_type: 'avatar'\n                }, {\n                    col_type: 'line_blank'\n                });\n            }\n        });\n    })\n}\n// æ—¶é—´æ—¥æœŸè½¬æ¢å‡½æ•°\n$.exports.timeConvert = function (time) {\n    function formatDate(e, t) {\n        e = new Date(e * 1000); //æ—¶é—´æˆ³ä¸º10ä½éœ€*1000ï¼Œæ—¶é—´æˆ³ä¸º13ä½çš„è¯ä¸éœ€ä¹˜1000\n        return t.replace(/yyyy|YYYY/, e.getFullYear())\n            .replace(/yy|YY/, r(e.getFullYear() % 100, 2))\n            .replace(/mm|MM/, r(e.getMonth() + 1, 2))\n            .replace(/m|M/g, e.getMonth() + 1)\n            .replace(/dd|DD/, r(e.getDate(), 2))\n            .replace(/d|D/g, e.getDate())\n            .replace(/hh|HH/, r(e.getHours(), 2))\n            .replace(/h|H/g, e.getHours())\n            .replace(/ii|II/, r(e.getMinutes(), 2))\n            .replace(/i|I/g, e.getMinutes())\n            .replace(/ss|SS/, r(e.getSeconds(), 2))\n            .replace(/s|S/g, e.getSeconds())\n            .replace(/w/g, e.getDay())\n            .replace(/W/g, [\"æ—¥\", \"ä¸€\", \"äºŒ\", \"ä¸‰\", \"å››\", \"äº”\", \"å…­\"][e.getDay()])\n    }\n\n    function r(e, t) {\n        for (var r = 0, n = t - (e + \"\").length; r < n; r++) e = \"0\" + e;\n        return e + \"\"\n    }\n    return formatDate(time, 'YYYY-MM-DD hh:ii:ss');\n    // console.log(formatDate(1664089532, 'YYYY-MM-DD hh:ii:ss'));\n}\n// ç§’æ•°åˆ†é’Ÿè¡¨è¾¾è½¬æ¢å‡½æ•°\n$.exports.formatSeconds = function (seconds) {\n    let minutes = Math.floor(seconds / 60); // è®¡ç®—åˆ†é’Ÿæ•°\n    let remainingSeconds = seconds % 60; // è®¡ç®—å‰©ä½™çš„ç§’æ•°\n    let formattedTime = `${minutes}:${String(remainingSeconds).padStart(2, '0')}`;\n    return formattedTime;\n}\n\n// Bç«™Wbiç­¾åç®—æ³•(After 2023-3,get request with wbi.)\n$.exports.getWbiEnc = function (queryJson) {\n    const mixinKeyEncTab = [\n        46, 47, 18, 2, 53, 8, 23, 32, 15, 50, 10, 31, 58, 3, 45, 35, 27, 43, 5, 49,\n        33, 9, 42, 19, 29, 28, 14, 39, 12, 38, 41, 13, 37, 48, 7, 16, 24, 55, 40,\n        61, 26, 17, 0, 1, 60, 51, 30, 4, 22, 25, 54, 21, 56, 59, 6, 63, 57, 62, 11,\n        36, 20, 34, 44, 52\n    ];\n\n    // å¯¹ imgKey å’Œ subKey è¿›è¡Œå­—ç¬¦é¡ºåºæ‰“ä¹±ç¼–ç \n    function getMixinKey(orig) {\n        let temp = '';\n        mixinKeyEncTab.forEach((n) => {\n            temp += orig[n]\n        });\n        return temp.slice(0, 32);\n    }\n\n    // ä¸ºè¯·æ±‚å‚æ•°è¿›è¡Œ wbi ç­¾å\n    function encWbi(params, img_key, sub_key) {\n        const mixin_key = getMixinKey(img_key + sub_key),\n            curr_time = Math.round(Date.now() / 1000),\n            chr_filter = /[!'\\(\\)*]/g\n        let query = [];\n        params = Object.assign(params, { wts: curr_time });    // æ·»åŠ  wts å­—æ®µ\n        // æŒ‰ç…§ key é‡æ’å‚æ•°\n        Object.keys(params).sort().forEach((key) => {\n            query.push(\n                encodeURIComponent(key) +\n                '=' +\n                // è¿‡æ»¤ value ä¸­çš„ \"!'()*\" å­—ç¬¦\n                encodeURIComponent(('' + params[key]).replace(chr_filter, ''))\n            )\n        })\n        query = query.join('&');\n        const wbi_sign = md5(query + mixin_key); // è®¡ç®— w_rid\n        return query + '&w_rid=' + wbi_sign;\n    }\n\n    // è·å–æœ€æ–°çš„ img_key å’Œ sub_key\n    function getWbiKeys() {\n        const json_content = JSON.parse(fetch('https://api.bilibili.com/x/web-interface/nav', {\n            headers: {\n                \"User-Agent\": PC_UA,\n                \"Referer\": \"https://www.bilibili.com/\"\n            },\n            method: 'GET'\n        })).data;\n        img_url = json_content.wbi_img.img_url;\n        sub_url = json_content.wbi_img.sub_url;\n        return {\n            img_key: img_url.substring(img_url.lastIndexOf('/') + 1, img_url.length).split('.')[0],\n            sub_key: sub_url.substring(sub_url.lastIndexOf('/') + 1, sub_url.length).split('.')[0]\n        }\n    }\n\n    const wbi_keys = getWbiKeys();\n\n    const query = encWbi(\n        queryJson,\n        wbi_keys.img_key,\n        wbi_keys.sub_key\n    );\n    return query;\n}\n"},{"col_type":"movie_3","name":"videoPage","path":"video","rule":"js:\nvar d = [];\n// é¢„å¤„ç†\nputMyVar('åŠŸèƒ½æŠ˜å ', 'å…³');\nimgLink = storage0.getMyVar('å›¾æ ‡');\naid = MY_PARAMS.aid + \"\";\n// bvid = MY_PARAMS.bvid + \"\";\nmid = MY_PARAMS.mid + \"\";\nvar {formatSeconds}=$.require(\"hiker://page/api\");\ntry {\n    //è·å–è§†é¢‘åˆ†Pä¿¡æ¯\n    var p = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data;\n    hasLike = $.require(\"hiker://page/api\").hasLike(aid);\n    hasFavour = $.require(\"hiker://page/api\").hasFavour(aid);\n    setPageTitle(p.title);\n    setPagePicUrl(p.pic + '@Referer=');\n    // åªæœ‰1Pçš„æƒ…å†µ\n    if (p.pages.length == 1) {\n        cid = p.pages[0].cid;\n        d.push({\n            title: p.title,\n            img: p.pic + '@Referer=',\n            url: $().lazyRule((aid, cid, qn) => {\n                // çœŸç¦»äº†ä¸ªå¤§è°±ï¼Œæ˜æ˜æ›¿æ¢æ‰äº†ï¼Œuaå­—ç¬¦ä¸²åˆå˜å›æ¥äº†ï¼Œåˆè¦å¤„ç†ä¸€æ¬¡\n                return $.require(\"hiker://page/api\").biliLazy(aid, cid, qn).replace(/;/g, \"ï¼›ï¼›\");\n            }, aid + \"\", cid + \"\", '112'),\n            col_type: \"pic_1\",\n            desc:'æ’­æ”¾é‡:'+p.stat.view+'\\t\\t\\tå¼¹å¹•æ•°:'+p.stat.danmaku+'\\nå‘å¸ƒæ—¥æœŸ:'+$.require(\"hiker://page/api\").timeConvert(p.ctime),\n            extra: {\n                id:'aid-'+aid+'|cid-'+cid,\n                longClick: [{\n                    title: 'dmç›’å­', js: $.toString(() => {\n                        return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\n                    })\n                }, {\n                    title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\n                        if (getItem('isOverrideSave', 'false') == 'true') {\n                            setItem('isOverrideSave', 'false');\n                            return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\n                        } else {\n                            setItem('isOverrideSave', 'true');\n                            return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\n                        }\n                    })\n                }]\n            }\n        });\n        d.push({\n            title: '<font color=\"blue\">' + p.owner.name + '</font>',\n            url: \"hiker://page/upHome\",\n            img: p.owner.face + \"@Referer=\",\n            col_type: \"avatar\",\n            extra: {\n                mid: p.owner.mid,\n                title: p.owner.name,\n                face: p.owner.face\n            }\n        });\n        // è™½ç„¶åªæœ‰1P,ä½†å¯èƒ½å¤„äºåˆé›†è§†é¢‘ä¸­ï¼Œå¾€å¾€åœ¨upä¸Šä¼ ä¸­å±äºä¸€å¥—å½±ç‰‡\n        if (p.ugc_season) {\n            d.push({\n                title: 'ğŸ“æ‰€å±åˆé›†ï¼š<a href=\"hiker://page/collectionViedo\">'+p.ugc_season.title+'</a>',\n                url: \"hiker://page/collectionViedo#noHistory#\",\n                col_type: 'rich_text',\n                extra: { \"textSize\": 12, aid: aid }\n            })\n        }\n        d.push({\n            col_type: 'line'\n        }, {\n            title: p.stat.like,\n            img: hasLike == 1 ? imgLink.å·²ç‚¹èµ : imgLink.æœªç‚¹èµ,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                return $.require(\"hiker://page/api\").likeLogic(aid)\n            }, aid),\n            col_type: \"icon_small_4\",\n            extra: {\n                id: 'setLike'\n            }\n        }, {\n            title: p.stat.favorite,\n            img: hasFavour ? imgLink.å·²æ”¶è— : imgLink.æœªæ”¶è—,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                upMid = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userMid;\n                return $.require(\"hiker://page/api\").favourLogic(aid, upMid)\n            }, aid),\n            col_type: \"icon_small_4\",\n            extra: {\n                id: 'setFavour'\n            }\n        }, {\n            title: 'ç¨åå†çœ‹',\n            img: imgLink.ç¨åå†çœ‹,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                return $.require(\"hiker://page/api\").judgeToview(aid)\n            }, aid),\n            col_type: \"icon_small_4\",\n        }, {\n            title: 'æŸ¥çœ‹è¯„è®º',\n            url: 'hiker://page/Comments?p=fypage',\n            img: imgLink.æŸ¥çœ‹è¯„è®º,\n            col_type: \"icon_small_4\",\n            extra: {\n                \"id\": aid,\n                \"type\": 1\n            }\n        }, {\n            col_type: 'line_blank'\n        }, {\n            title: p.desc,\n            col_type: \"long_text\",\n        });\n    } else {\n        // å­˜åœ¨å¤šé›†åˆ†P\n        d.push({\n            title: p.title,\n            img: p.pic + '@Referer=',\n            desc:'æ’­æ”¾é‡:'+p.stat.view+'\\t\\t\\tå¼¹å¹•æ•°:'+p.stat.danmaku+'\\nå‘å¸ƒæ—¥æœŸ:'+$.require(\"hiker://page/api\").timeConvert(p.ctime),\n            url: $('#noLoading##noHistory#').lazyRule((p) => {\n                return $('hiker://empty?fypage').rule((p) => {\n                    d = [];\n                    d.push({\n                        title: p.desc,\n                        col_type: \"long_text\",\n                    })\n                    setResult(d);\n                }, p)\n            }, p),\n            col_type: \"pic_1\",\n            extra: {\n                longClick: [{\n                    title: 'dmç›’å­', js: $.toString(() => {\n                        return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\n                    })\n                }, {\n                    title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\n                        if (getItem('isOverrideSave', 'false') == 'true') {\n                            setItem('isOverrideSave', 'false');\n                            return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\n                        } else {\n                            setItem('isOverrideSave', 'true');\n                            return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\n                        }\n                    })\n                }]\n            }\n        }, {\n            title: '<font color=\"blue\">' + p.owner.name + '</font>',\n            url: \"hiker://page/upHome\",\n            img: p.owner.face + \"@Referer=\",\n            col_type: \"avatar\",\n            extra: {\n                mid: p.owner.mid,\n                title: p.owner.name,\n                face: p.owner.face\n            }\n        }, {\n            col_type: 'line'\n        }, {\n            title: p.stat.like,\n            img: hasLike == 1 ? imgLink.å·²ç‚¹èµ : imgLink.æœªç‚¹èµ,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                return $.require(\"hiker://page/api\").likeLogic(aid)\n            }, aid),\n            col_type: \"icon_small_4\",\n            extra: {\n                id: 'setLike'\n            }\n        }, {\n            title: p.stat.favorite,\n            img: hasFavour ? imgLink.å·²æ”¶è— : imgLink.æœªæ”¶è—,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                upMid = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userMid;\n                return $.require(\"hiker://page/api\").favourLogic(aid, upMid)\n            }, aid),\n            col_type: \"icon_small_4\",\n            extra: {\n                id: 'setFavour'\n            }\n        }, {\n            title: 'ç¨åå†çœ‹',\n            img: imgLink.ç¨åå†çœ‹,\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\n                return $.require(\"hiker://page/api\").judgeToview(aid)\n            }, aid),\n            col_type: \"icon_small_4\",\n        }, {\n            title: 'æŸ¥çœ‹è¯„è®º',\n            url: 'hiker://page/Comments?p=fypage',\n            img: imgLink.æŸ¥çœ‹è¯„è®º,\n            col_type: \"icon_small_4\",\n            extra: {\n                \"id\": aid,\n                \"type\": 1\n            }\n        })\n        d.push({\n            col_type: 'line_blank'\n        }, {\n            title: 'é€‰é›†åˆ—è¡¨',\n            url: \"hiker://empty\",\n            desc:'<small><small>å…±' + p.videos + 'æ¡è§†é¢‘</small></small>',\n            img: imgLink.åˆ—è¡¨,\n            col_type: \"avatar\",\n        }, {\n            col_type: 'line'\n        });\n        p.pages.forEach(item => {\n            cid = item.cid;\n            d.push({\n                title: item.part,\n                desc:formatSeconds(item.duration),\n                // img:imgLink.åˆ†Påˆ—è¡¨é¡¹,\n                img:item.first_frame+'@Referer=',\n                url: $().lazyRule((aid, cid, qn) => {\n                    return $.require(\"hiker://page/api\").biliLazy(aid, cid, qn).replace(/;/g, \"ï¼›ï¼›\");\n                }, aid + \"\", cid + \"\", '116'),\n                col_type: \"avatar\",\n                extra:{\n                    id:'aid-'+aid+'|cid-'+cid,\n                }\n            })\n        })\n    }\n} catch (e) {\n    log(e);\n    d.push({\n        title: 'é¡µé¢èµ°ä¸¢äº†...',\n        img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\n        url: 'hiker://empty',\n        desc: 'å¤§æ¦‚ç‡è§†é¢‘è¢«å°ç¦ï¼Œæˆ–è€…upå·²è·‘è·¯~',\n        col_type: \"pic_1\"\n    });\n}\nsetResult(d);\n"},{"col_type":"long_text","name":"è¯„è®º","path":"Comments","rule":"js:\nvar d = [];\nvar id = MY_PARAMS.id;\nvar type = MY_PARAMS.type;\nlog(id);\nif (MY_PAGE == 1) {\n    // è²Œä¼¼æš‚æ—¶åªèƒ½æ–‡å­—+æ•°å­—\n    d.unshift({\n        title: \"å‘æ¡è¯„è®ºå§\",\n        col_type: \"input\",\n        url: $.toString((id,type) => {\n            let csrf = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).cookie.match(/bili_jct=(.*?);/)[1];\n            post(\"http://api.bilibili.com/x/v2/reply/add\", {\n                body: {\n                    \"type\": type,\n                    \"oid\": id,\n                    \"csrf\": csrf,\n                    \"message\": input\n                },\n                headers: {\n                    \"Cookie\": JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).cookie\n                }\n            })\n            refreshPage()\n        }, id,type)\n    })\n}\nlet data = $.require(\"hiker://page/api\").getComments(id,type,MY_PAGE);\n// log(data);\nif(data){\n    data.forEach(item => {\n        d.push({\n            title: item.member.uname,\n            img: item.member.avatar+'@Referer=',\n            url:'hiker://page/upHome',\n            desc:'<small><small><font color=\"grey\">'+item.reply_control.location + \" \" + item.reply_control.time_desc+'</font></small></small>',\n            col_type: \"avatar\",\n            extra: {\n                mid: item.member.mid,\n                title: item.member.uname,\n                face: item.member.avatar\n            }\n        })\n        d.push({\n            title: item.content.message,\n        })\n    })\n}else{\n    d.push({\n        title: 'å¥½åƒæ²¡æœ‰è¯„è®ºäº†å•¦ï¼Œï¼',\n        col_type: \"text_center_1\",\n    })\n}\nsetResult(d);\n"},{"col_type":"movie_3","name":"è®¢é˜…åˆ—è¡¨","path":"subscription","rule":"if (getItem('è®¢é˜…ç±»å‹', '1') == '1') {\n\nÂ  Â  typerName = 'è¿½ç•ª';\n\n} else {\n\nÂ  Â  typerName = 'è¿½å‰§';\n\n}\n\nd.push({\n\nÂ  Â  title: 'è¿½ç•ª' == typerName ? 'â€˜â€˜â€™â€™<font color=\"red\">è¿½ç•ª</font>' : 'è¿½ç•ª',\n\nÂ  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\n\nÂ  Â  Â  Â  setItem('è®¢é˜…ç±»å‹', '1')\n\nÂ  Â  Â  Â  refreshPage(true);\n\nÂ  Â  Â  Â  return \"hiker://empty\";\n\nÂ  Â  }),\n\nÂ  Â  col_type: 'scroll_button'\n\n},{\n\nÂ  Â  title: 'è¿½å‰§' == typerName ? 'â€˜â€˜â€™â€™<font color=\"red\">è¿½å‰§</font>' : 'è¿½å‰§',\n\nÂ  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\n\nÂ  Â  Â  Â  setItem('è®¢é˜…ç±»å‹', '2')\n\nÂ  Â  Â  Â  refreshPage(true);\n\nÂ  Â  Â  Â  return \"hiker://empty\";\n\nÂ  Â  }),\n\nÂ  Â  col_type: 'scroll_button'\n\n});\n\nsubscriptions = JSON.parse(fetch(\"https://api.bilibili.com/x/space/bangumi/follow/list?type=\" + getItem('è®¢é˜…ç±»å‹', '1') + \"&follow_status=0&pn=\" + page + \"&ps=15&vmid=\" + mid, {\n\nÂ  Â  headers: {\n\nÂ  Â  Â  Â  \"Cookie\": cookie\n\nÂ  Â  }\n\n})).data;\n\nif (page == 1) {\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: \"å½“å‰\" + typerName + \"æ•°é‡:\" + subscriptions.total,\n\nÂ  Â  Â  Â  url: \"hiker://empty\",\n\nÂ  Â  Â  Â  col_type: \"text_center_1\"\n\nÂ  Â  })\n\n}\n\nsubscriptions.list.forEach(list => {\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: list.title,\n\nÂ  Â  Â  Â  img: list.cover + \"@Referer=\",\n\nÂ  Â  Â  Â  url: \"hiker://page/filmerji#immersiveTheme#\",\n\nÂ  Â  Â  Â  desc: list.evaluate.substring(0, 12) + 'â€˜â€˜â€™â€™â€¦<font color=\"#1C1C1C\">è¯¦æƒ…</font>' + '\\n' + list.season_type_name + '|' + (list.areas===undefined?'':list.areas[0].name + '\\n') + (list.progress == '' ? 'å°šæœªè§‚çœ‹' : list.progress) + (list.new_ep.index_show===undefined?'':'|'+(list.new_ep.index_show.match(/æ›´æ–°|å³å°†/) ? 'â€˜â€˜â€™â€™<font color=\"red\">' + list.new_ep.index_show + '</font>': list.new_ep.index_show)),\n\nÂ  Â  Â  Â  col_type: 'movie_1_vertical_pic',\n\nÂ  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  season_id: list.season_id\n\nÂ  Â  Â  Â  }\n\nÂ  Â  });\n\n});\n\n"},{"col_type":"movie_3","name":"å…³æ³¨åˆ—è¡¨","path":"attention","rule":"if (MY_PAGE == 1) {\n\nÂ  Â  focusGroups=$.require(\"hiker://page/api\").getMyAttentionGroupList();\n\nÂ  Â  putMyVar('tempId', JSON.stringify(focusGroups[1].tagid));\n\nÂ  Â  focusGroups.forEach(list => {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: list.tagid == getItem('å…³æ³¨åˆ†ç»„', JSON.stringify(focusGroups[1].id)) ? \"â€œâ€œâ€â€<font color='red'>\" + list.name + list.count + \"</font>\" : list.name + list.count,\n\nÂ  Â  Â  Â  Â  Â  url: $('#noLoading##noHistory#').lazyRule((list) => {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  setItem('å…³æ³¨åˆ†ç»„', JSON.stringify(list.tagid));\n\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage(true);\n\nÂ  Â  Â  Â  Â  Â  Â  Â  return \"toast://åˆ‡æ¢å…³æ³¨åˆ†ç»„ä¸º:\" + list.name;\n\nÂ  Â  Â  Â  Â  Â  }, list),\n\nÂ  Â  Â  Â  Â  Â  col_type: 'scroll_button',\n\nÂ  Â  Â  Â  });\n\nÂ  Â  });\n\nÂ  Â  // æœ«å°¾è¡¥å……æ‚„æ‚„å…³æ³¨åˆ†ç»„\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: 'æ‚„æ‚„å…³æ³¨' == getItem('å…³æ³¨åˆ†ç»„', JSON.stringify(focusGroups[0].id)) ? \"â€œâ€œâ€â€<font color='red'>æ‚„æ‚„å…³æ³¨</font>\" : \"æ‚„æ‚„å…³æ³¨\",\n\nÂ  Â  Â  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\n\nÂ  Â  Â  Â  Â  Â  setItem('å…³æ³¨åˆ†ç»„', \"æ‚„æ‚„å…³æ³¨\");\n\nÂ  Â  Â  Â  Â  Â  refreshPage(true);\n\nÂ  Â  Â  Â  Â  Â  return \"toast://åˆ‡æ¢å…³æ³¨åˆ†ç»„ä¸º:\" + \"æ‚„æ‚„å…³æ³¨\";\n\nÂ  Â  Â  Â  }),\n\nÂ  Â  Â  Â  col_type: 'scroll_button',\n\nÂ  Â  },{\n\nÂ  Â  Â  Â  col_type: 'line'\n\nÂ  Â  });\n\n}\n\nif (getItem('å…³æ³¨åˆ†ç»„')=='æ‚„æ‚„å…³æ³¨') {\n\nÂ  Â  groupContent = JSON.parse(fetch(\"https://api.bilibili.com/x/relation/whispers?pn=\"+page+\"&ps=20&jsonp=jsonp\", {\n\nÂ  Â  Â  Â  headers: {\n\nÂ  Â  Â  Â  Â  Â  \"Cookie\": cookie\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })).data.list;\n\nÂ  Â  groupContent.forEach(list => {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: \"<big><font color='blue'>\" + list.uname + \"</font></big><small>\" + list.sign + \"</small>\",\n\nÂ  Â  Â  Â  Â  Â  img: list.face + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'avatar',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/upHome\",\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  mid: list.mid,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.uname,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  face: list.face\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  });\n\n}else{\n\nÂ  Â  groupContent = JSON.parse(fetch(\"https://api.bilibili.com/x/relation/tag?mid=\" + mid + \"&tagid=\" + getItem('å…³æ³¨åˆ†ç»„', getMyVar('tempId')) + \"&pn=\" + page + \"&ps=20&jsonp=jsonp\", {\n\nÂ  Â  Â  Â  headers: {\n\nÂ  Â  Â  Â  Â  Â  \"Cookie\": cookie\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })).data;\n\nÂ  Â  groupContent.forEach(list => {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: \"<big><font color='blue'>\" + list.uname + \"</font></big><small>\" + list.sign + \"</small>\",\n\nÂ  Â  Â  Â  Â  Â  img: list.face + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'avatar',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/upHome\",\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  mid: list.mid,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.uname,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  face: list.face\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  });\n\n}\n\n\n"},{"col_type":"movie_3","name":"æ”¶è—åˆ—è¡¨","path":"colection","rule":"if (page == 1) {\r\n    d.push({\r\n        title: 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹' == getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') ? 'â€˜â€˜â€™â€™<font color=\"red\">æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹</font>' : 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹',\r\n        url: $('#noLoading##noHistory#').lazyRule(() => {\r\n            setItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹')\r\n            refreshPage(true);\r\n            return \"hiker://empty\";\r\n        }),\r\n        col_type: 'scroll_button'\r\n    }, {\r\n        title: 'ç¨ååœ¨çœ‹' == getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') ? 'â€˜â€˜â€™â€™<font color=\"red\">ç¨ååœ¨çœ‹</font>' : 'ç¨ååœ¨çœ‹',\r\n        url: $('#noLoading##noHistory#').lazyRule(() => {\r\n            setItem('æ”¶è—ç±»å‹', 'ç¨ååœ¨çœ‹')\r\n            refreshPage(true);\r\n            return \"hiker://empty\";\r\n        }),\r\n        col_type: 'scroll_button'\r\n    });\r\n}\r\nif (getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') == 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') {\r\n    try {\r\n        if (page == 1) {\r\n            d.push({\r\n                // col_type: 'blank_block'\r\n                col_type: 'line'\r\n            }, );\r\n        }\r\n        collections = JSON.parse(fetch(\"https://api.bilibili.com/x/v3/fav/folder/list4navigate\", {\r\n            headers: {\r\n                \"Cookie\": cookie\r\n            }\r\n        })).data;\r\n        groups = collections[0].mediaListResponse.list;\r\n        putMyVar('tempId', JSON.stringify(groups[0].id));\r\n        groups.forEach(list => {\r\n            d.push({\r\n                title: list.id == getItem('æ”¶è—å¤¹', JSON.stringify(groups[0].id)) ? \"â€œâ€œâ€â€<font color='red'>\" + list.title + \"</font>\" : list.title,\r\n                url: $('#noLoading##noHistory#').lazyRule((list) => {\r\n                    setItem('æ”¶è—å¤¹', JSON.stringify(list.id));\r\n                    refreshPage(true);\r\n                    return \"toast://åˆ‡æ¢æ”¶è—å¤¹ä¸º:\" + list.title;\r\n                }, list),\r\n                col_type: 'scroll_button',\r\n            });\r\n        });\r\n        d.push({\r\n            col_type: 'line'\r\n        });\r\n        groupContent = JSON.parse(fetch(\"https://api.bilibili.com/x/v3/fav/resource/list?media_id=\" + getItem('æ”¶è—å¤¹', getMyVar('tempId')) + \"&pn=\" + page + \"&ps=20&keyword=&order=mtime&type=0&tid=0&platform=web&jsonp=jsonp\", {\r\n            headers: {\r\n                \"Cookie\": cookie\r\n            }\r\n        })).data.medias;\r\n        groupContent.forEach(list => {\r\n            d.push({\r\n                title: list.title,\r\n                img: list.cover + \"@Referer=\",\r\n                col_type: 'movie_1_left_pic',\r\n                url: \"hiker://page/video\",\r\n                desc: 'UP:' + list.upper.name + '\\n' + list.intro,\r\n                extra: {\r\n                    aid: list.id,\r\n                    mid: list.upper.mid\r\n                }\r\n            });\r\n        });\r\n    } catch (e) {\r\n        showLoading('å…„å¼Ÿï¼Œä½ ç¡®è®¤ä½ æœ‰æ”¶è—å—ï¼Œå¿«å»æ”¶è—ä¸€ä¸ªè§†é¢‘~');\r\n    }\r\n} else {\r\n    laterViews = JSON.parse(fetch(\"https://api.bilibili.com/x/v2/history/toview/web?jsonp=jsonp\", {\r\n        headers: {\r\n            \"Cookie\": cookie\r\n        }\r\n    })).data;\r\n    count = laterViews.count;\r\n    d.push({\r\n        title: \"å…±æœ‰\" + count + \"æ¡å¾…çœ‹è§†é¢‘è®°å½•\",\r\n        url: \"hiker://empty\",\r\n        col_type: \"text_center_1\"\r\n    });\r\n    laterViews.list.forEach(list => {\r\n        d.push({\r\n            title: list.title,\r\n            img: list.pic + \"@Referer=\",\r\n            col_type: 'movie_1_left_pic',\r\n            url: \"hiker://page/video\",\r\n            desc: 'UP:' + list.owner.name + '\\n' + list.desc,\r\n            extra: {\r\n                aid: list.aid,\r\n                mid: list.owner.mid\r\n            }\r\n        });\r\n    });\r\n}"},{"col_type":"movie_3","name":"è¶³è¿¹","path":"track","rule":"var nextInfo = {};\n\nif (page == 1) {\n\nÂ  Â  histories = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/history/cursor?max=0&view_at=0&business=\", {\n\nÂ  Â  Â  Â  headers: {\n\nÂ  Â  Â  Â  Â  Â  \"Cookie\": cookie\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })).data;\n\nÂ  Â  nextInfo.max = histories.cursor.max;\n\nÂ  Â  nextInfo.view_at = histories.cursor.view_at;\n\nÂ  Â  nextInfo.business = histories.cursor.business;\n\n} else {\n\nÂ  Â  histories = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/history/cursor?max=\" + storage0.getMyVar(JSON.stringify(page)).max + \"&view_at=\" + storage0.getMyVar(JSON.stringify(page)).view_at + \"&business=\" + storage0.getMyVar(JSON.stringify(page)).business, {\n\nÂ  Â  Â  Â  headers: {\n\nÂ  Â  Â  Â  Â  Â  \"Cookie\": cookie\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })).data;\n\nÂ  Â  nextInfo.max = histories.cursor.max;\n\nÂ  Â  nextInfo.view_at = histories.cursor.view_at;\n\nÂ  Â  nextInfo.business = histories.cursor.business;\n\n}\n\nstorage0.putMyVar(JSON.stringify(page + 1), nextInfo);\n\nhistories.list.forEach(list => {\n\nÂ  Â  viewTime=pbtime = $.require(\"hiker://page/api\").timeConvert(list.view_at);\n\nÂ  Â  if (list.history.business == 'article') {\n\nÂ  Â  Â  Â  // ä¸“æ æ–‡ç« \n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\n\nÂ  Â  Â  Â  Â  Â  img: list.covers[0] + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/articleDetail\",\n\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?viewTime:'UP:' + list.author_name+'\\n' )+ viewTime,\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  id: list.history.oid,\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  } else if(list.history.business == 'article-list'){\n\nÂ  Â  Â  Â  // æ–‡ç« åˆ—è¡¨ï¼Ÿï¼ˆåæ­£idå­˜æ”¾ä½ç½®ä¸ä¸€æ ·ï¼‰\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\n\nÂ  Â  Â  Â  Â  Â  img: list.covers[0] + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/articleDetail\",\n\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?viewTime:'UP:' + list.author_name+'\\n' )+ viewTime,\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  id: list.history.cid,\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  }else if(list.history.business == 'pgc'){\n\nÂ  Â  Â  Â  // ç³»åˆ—å‰§é›†ï¼ˆå•é›†ï¼‰\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\n\nÂ  Â  Â  Â  Â  Â  img: list.cover + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/filmerji#immersiveTheme#\",\n\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?list.tag_name+'\\t\\t'+list.new_desc+'\\n'+viewTime:'UP:' + list.author_name+'\\n'+viewTime),\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  ep_id:list.history.epid\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  }else {\n\nÂ  Â  Â  Â  // æ™®é€švideo\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\n\nÂ  Â  Â  Â  Â  Â  img: list.cover + \"@Referer=\",\n\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://page/video\",\n\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?list.tag_name+'\\t\\t'+list.new_desc+'\\n'+viewTime:'UP:' + list.author_name+'\\n'+viewTime),\n\nÂ  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  aid: list.history.oid,\n\nÂ  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  });\n\nÂ  Â  }\n\n});\n\n\n"},{"col_type":"movie_3","name":"åŠ¨æ€","path":"latetNews","rule":"d.push({\n\nÂ  Â  col_type: 'line_blank'\n\n});\n\nlatenews=$.require(\"hiker://page/api\").getDynamicData('myHome');\n\neval($.require(\"hiker://page/api\").showDynamicData());\n\n"},{"col_type":"movie_3","name":"ä¸“æ åˆ—è¡¨","path":"acticleList","rule":"js:\n\nvar d=[];\n\npage=MY_PAGE;\n\nupMid = MY_PARAMS.mid + \"\";\n\narticleList=$.require(\"hiker://page/api\").getUserArticle(upMid,page);\n\narticleNum=articleList.count;\n\nif (articleNum==undefined) {\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: 'è¿™upæ²¡æœ‰ä¸“æ æ–‡ç« ',\n\nÂ  Â  Â  Â  url: \"hiker://empty\",\n\nÂ  Â  Â  Â  col_type: \"text_center_1\",\n\nÂ  Â  });\n\n}else{\n\nÂ  Â  maxPage = Math.ceil(articleNum / articleList.ps);\n\nÂ  Â  if (page <= maxPage) {\n\nÂ  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  title: 'å½“å‰:ç¬¬' + articleList.pn + 'é¡µ\\t\\t\\tå…±æœ‰' + maxPage + 'é¡µ,' + articleNum + 'æ¡æ•°æ®',\n\nÂ  Â  Â  Â  Â  Â  url: \"hiker://empty\",\n\nÂ  Â  Â  Â  Â  Â  col_type: \"text_center_1\",\n\nÂ  Â  Â  Â  });\n\nÂ  Â  Â  Â  articleList.articles.forEach(list => {\n\nÂ  Â  Â  Â  Â  Â  pbtime=$.require(\"hiker://page/api\").timeConvert(list.publish_time);\n\nÂ  Â  Â  Â  Â  Â  d.push({\n\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.title,\n\nÂ  Â  Â  Â  Â  Â  Â  Â  img: list.banner_url==''? (list.image_urls+ '@Referer='):(list.banner_url+ '@Referer='),\n\nÂ  Â  Â  Â  Â  Â  Â  Â  desc: 'â€˜â€˜â€™â€™<small>'+list.stats.view+'çœ‹è¿‡\\t\\t'+list.stats.like+'å–œæ¬¢\\t\\t'+list.stats.favorite+'æ”¶è—\\n' + pbtime+'</small>',\n\nÂ  Â  Â  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\n\nÂ  Â  Â  Â  Â  Â  Â  Â  url: \"hiker://page/articleDetail\",\n\nÂ  Â  Â  Â  Â  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ä¸“æ æ–‡ç« id\n\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: list.id\n\nÂ  Â  Â  Â  Â  Â  Â  Â  }\n\nÂ  Â  Â  Â  Â  Â  });\n\nÂ  Â  Â  Â  });\n\nÂ  Â  }\n\n}\n\nsetResult(d);\n\n"},{"col_type":"movie_3","name":"ä¸“æ æ–‡ç« X5","path":"articleDetail","rule":"js:\n\nvar d = [];\n\npage = MY_PAGE;\n\ncvid = MY_PARAMS.id + \"\";\n\nd.push({\n\nÂ  Â  url: \"https://www.bilibili.com/read/cv\"+cvid,\n\nÂ  Â  col_type: \"x5_webview_single\",\n\nÂ  Â  desc: \"100%&&float\",\n\nÂ  Â  extra: {\n\nÂ  Â  Â  Â  canBack: true\n\nÂ  Â  }\n\n})\n\nsetResult(d);\n\n"},{"col_type":"movie_3","name":"ç»¼åˆçƒ­é—¨","path":"hotVideo","rule":"let res = JSON.parse(request(\"https://api.bilibili.com/x/web-interface/popular?pn=\" + MY_PAGE, {\n\nÂ  Â  headers: {\n\nÂ  Â  Â  Â  Cookie: JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).cookie\n\nÂ  Â  }\n\n})).data\n\nres.list.forEach(item => {\n\nÂ  Â  d.push({\n\nÂ  Â  Â  Â  title: item.title,\n\nÂ  Â  Â  Â  img: item.pic+ \"@Referer=\",\n\nÂ  Â  Â  Â  url: \"hiker://page/video\",\n\nÂ  Â  Â  Â  desc: item.pub_location,\n\nÂ  Â  Â  Â  col_type: \"movie_2\",\n\nÂ  Â  Â  Â  extra: {\n\nÂ  Â  Â  Â  Â  Â  \"aid\": item.aid,\n\nÂ  Â  Â  Â  Â  Â  \"cid\": item.cid,\n\nÂ  Â  Â  Â  }\n\nÂ  Â  })\n\n})\n\n\n"},{"name":"å“”å“©æœ€æ–°ç« èŠ‚","path":"getUpdate","rule":"if (MY_PARAMS.season_id) {\n    season_id = MY_PARAMS.season_id + \"\";\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?season_id=' + season_id)).result;\n} else {\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?ep_id=' + MY_PARAMS.ep_id)).result;\n}\nè¿½å‰§æ—¥å† = Data.new_ep.desc;\næ›´æ–°è¿›åº¦ = Data.new_ep.title;\næ›´æ–°çŠ¶æ€ = è¿½å‰§æ—¥å†.match(/å®Œç»“|æœŸå¾…/) ? è¿½å‰§æ—¥å† : 'æ›´æ–°è‡³' + (æ›´æ–°è¿›åº¦.match(/[\\u4e00-\\u9fa5]/) ? æ›´æ–°è¿›åº¦ : ('ç¬¬' + (æ›´æ–°è¿›åº¦ == '' ? 0 : æ›´æ–°è¿›åº¦)) + 'è¯')\nsetResult(æ›´æ–°çŠ¶æ€);"},{"name":"upåˆé›†è§†é¢‘","path":"collectionViedo","rule":"js:\nvar d = [];\n// é¢„å¤„ç†\nputMyVar('åŠŸèƒ½æŠ˜å ', 'å…³');\nimgLink = storage0.getMyVar('å›¾æ ‡');\naid = MY_PARAMS.aid + \"\";\n// bvid = MY_PARAMS.bvid + \"\";\n// mid = MY_PARAMS.mid + \"\";\ntry {\n    //è·å–è§†é¢‘åˆ†Pä¿¡æ¯\n    var p = JSON.parse(fetch(\"https://api.bilibili.com/x/web-interface/view?aid=\" + aid)).data;\n    // åˆé›†ä¿¡æ¯\n    var videoData = p.ugc_season;\n    setPageTitle(videoData.title);\n    setPagePicUrl(videoData.cover + '@Referer=');\n    d.push({\n        title: videoData.title,\n        desc:videoData.intro,\n        img: videoData.cover + '@Referer=',\n        url: $('#noLoading##noHistory#').lazyRule((intro) => {\n            return $('hiker://empty?fypage').rule((intro) => {\n                let d = [];\n                d.push({\n                    title: intro,\n                    col_type: \"long_text\",\n                })\n                setResult(d);\n            }, intro)\n        }, videoData.intro),\n        col_type: \"pic_1\",\n        extra: {\n            longClick: [{\n                title: 'dmç›’å­', js: $.toString(() => {\n                    return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\n                })\n            }, {\n                title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\n                    if (getItem('isOverrideSave', 'false') == 'true') {\n                        setItem('isOverrideSave', 'false');\n                        return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\n                    } else {\n                        setItem('isOverrideSave', 'true');\n                        return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\n                    }\n                })\n            }]\n        }\n    }, {\n        title: '<font color=\"blue\">' + p.owner.name + '</font>',\n        url: \"hiker://page/upHome\",\n        img: p.owner.face + \"@Referer=\",\n        col_type: \"avatar\",\n        desc: '<small><small>å…±æœ‰' + videoData.ep_count + 'æ¡è§†é¢‘æ•°æ®</small></small>',\n        extra: {\n            mid: p.owner.mid,\n            title: p.owner.name,\n            face: p.owner.face\n        }\n    }, {\n        col_type: 'line'\n    });\n    var index = 1;\n    storage0.putVar('videoSections', videoData.sections);\n    videoData.sections.forEach(el => {\n        d.push({\n            title: 'ğŸ“' + el.title,\n            url: $('#noLoading##noHistory#').lazyRule((index) => {\n                if (getMyVar('isFold_'+index, 'y') == 'y') {\n                    putMyVar('isFold_'+index, 'n');\n                    deleteItemByCls('section' + index + '-part');\n                    return 'toast://å·²æŠ˜å ';\n                } else {\n                    putMyVar('isFold_'+index, 'y');\n                    videoSections = storage0.getVar('videoSections');\n                    sectionPartList = [];\n                    videoSections[index - 1].episodes.forEach(item => {\n                        aid = item.aid;\n                        cid = item.cid;\n                        stat = item.arc.stat;\n                        sectionPartList.push({\n                            title: 'â€œâ€œâ€â€\\t\\t\\t<small></font>â–¶ï¸' + item.title + '\\n\\t\\t\\t\\t\\t</font></small><small><small><font color=gray>æ’­æ”¾é‡ï¼š' + stat.view + '\\t\\t\\tå¼¹å¹•ï¼š' + stat.danmaku + '\\t\\t\\tå–œæ¬¢ï¼š' + stat.like + '</font></small></small>',\n                            url: $().lazyRule((aid, cid, qn) => {\n                                return $.require(\"hiker://page/api\").biliLazy(aid, cid, qn).replace(/;/g, \"ï¼›ï¼›\");\n                            }, aid + \"\", cid + \"\", '116'),\n                            col_type: \"text_1\",\n                            extra: { lineVisible: false, cls: 'section' + index + '-part',id:'aid-'+aid+'|cid-'+cid }\n                        })\n                    });\n                    addItemAfter('Section' + index, sectionPartList);\n                    return 'toast://å·²å±•å¼€';\n                }\n            }, index),\n            col_type: 'text_1',\n            extra: { id: 'Section' + index }\n        });\n        el.episodes.forEach(item => {\n            aid = item.aid;\n            cid = item.cid;\n            stat = item.arc.stat;\n            d.push({\n                title: 'â€œâ€œâ€â€\\t\\t\\t<small></font>â–¶ï¸' + item.title + '\\n\\t\\t\\t\\t\\t</font></small><small><small><font color=gray>æ’­æ”¾é‡ï¼š' + stat.view + '\\t\\t\\tå¼¹å¹•ï¼š' + stat.danmaku + '\\t\\t\\tå–œæ¬¢ï¼š' + stat.like + '</font></small></small>',\n                url: $().lazyRule((aid, cid, qn) => {\n                    return $.require(\"hiker://page/api\").biliLazy(aid, cid, qn).replace(/;/g, \"ï¼›ï¼›\");\n                }, aid + \"\", cid + \"\", '116'),\n                col_type: \"text_1\",\n                extra: { lineVisible: false, cls: 'section' + index + '-part',id:'aid-'+aid+'|cid-'+cid }\n            })\n        });\n        index++;\n    })\n} catch (e) {\n    log(e);\n    d.push({\n        title: 'é¡µé¢èµ°ä¸¢äº†...',\n        img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\n        url: 'hiker://empty',\n        desc: 'å¤§æ¦‚ç‡è§†é¢‘è¢«å°ç¦ï¼Œæˆ–è€…upå·²è·‘è·¯~',\n        col_type: \"pic_1\"\n    });\n}\nsetResult(d);\n"},{"name":"å›¾æ ‡ä¸‹è½½","path":"saveLocal","rule":"$.exports.saveLocal = () => {\n    const base64ToHex = (base64Str) => {\n        // åˆ é™¤å‰ç¼€å¹¶è§£ç Base64å­—ç¬¦ä¸²\n        var binaryStr = window0.atob(base64Str.split(',')[1]);\n\n        // è½¬æ¢ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²\n        var hexStr = '';\n        for (var i = 0; i < binaryStr.length; i++) {\n            var hex = binaryStr.charCodeAt(i).toString(16);\n            hexStr += (hex.length === 2 ? hex : '0' + hex);\n        }\n        return hexStr;\n    };\n    showLoading(\"å›¾æ ‡åˆå§‹åŒ–ä¸­...\");\n    var tubiao = {};\n    try {\n        // å‰ªè´´æ¿çº¿è·¯\n        html = request('https://netcut.cn/p/a1fcf0d3b0a27f13');\n        data = html.match(/{.*note_content.*updated_at.*}/)[0];\n        eval('tubiao =' + JSON.parse(data).note_content);\n    } catch (e) {\n        log('å‰ªè´´æ¿å‡ºé”™,åˆ‡æ¢æ‰˜ç®¡çº¿è·¯');\n        route = [\n            'https://gitcode.net/qq_23847819/hiker/-/raw/master/tubiao.json',\n            'https://gitea.com/cy/hiker/raw/commit/be2160c6a01db873d9f9681ba7e86eebfa118d86/tubiao.json',\n            'https://raw.codehub.cn/p/hiker/d/tubiao/git/raw/master/tubiao.json?token=GGdlIuVGqY3b3LydIowrksbUBCfMyx2fF31WUZeo4m',\n            'https://gitee.com/mxxl-cy/hiker/raw/master/tubiao.json'\n        ];\n        for (let i = 0; i < route.length; i++) {\n            try {\n                eval('tubiao =' + request(route[i]));\n                if (tubiao[\"äº”å¤§\"] && tubiao[\"å“”å“©\"]) {\n                    break;\n                } else {\n                    log('çº¿è·¯ï¼š' + tubiao[i] + 'è¢«å¢™äº†...');\n                }\n            } catch (e) {\n                log('çº¿è·¯ï¼š' + tubiao[i] + 'å‡ºé”™äº†...');\n            }\n        }\n    }\n    try {\n        var wuda = tubiao[\"äº”å¤§\"];\n        var bili = tubiao[\"å“”å“©\"];\n        var index = 0;\n        for (let item in wuda) {\n            writeHexFile(`hiker://files/rules/cy/tubiao/${item}.svg`, base64ToHex(wuda[item]));\n            log(`åˆå§‹åŒ–ç¬¬${index++}ä¸ªå›¾æ ‡:${item}...`);\n        }\n        for (let item in bili) {\n            writeHexFile(`hiker://files/rules/cy/bili_pic/${item}.png`, base64ToHex(bili[item]));\n            log(`åˆå§‹åŒ–ç¬¬${index++}ä¸ªå›¾æ ‡:${item}...`);\n        }\n        showLoading('å›¾æ ‡åˆå§‹åŒ–å®Œæˆï¼šå…±è®¡' + index + 'ä¸ªå›¾æ ‡');\n        hideLoading();\n    } catch (e) {\n        showLoading('å›¾æ ‡åˆå§‹åŒ–å¤±è´¥');\n        log('å›¾æ ‡åˆå§‹åŒ–å¤±è´¥:' + e);\n        hideLoading();\n    }\n\n};\n"}],"title":"bilili","author":"ä¾ å","version":17,"type":"video","url":"hiker://empty##fypage","col_type":"movie_1_vertical_pic","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nvar d = [];\nvar page = MY_PAGE;\nisLogin = JSON.parse($.require(\"hiker://page/api\").isLoggedIn());\n// éªŒè¯ç™»å½•\nif (isLogin.type === true) {\n    currentUser = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0];\n    cookie = currentUser.cookie;\n    userName = currentUser.userName;\n    mid = currentUser.userMid;\n    userFace = currentUser.face + \"@Referer=\";\n    if (page == 1) {\n        var Tab = ['è´¦å·', 'çƒ­æ˜ ', 'ç‰‡åº“', 'æ¨é€', 'çƒ­é—¨', 'è®¢é˜…', 'å…³æ³¨', 'æ”¶è—', 'è¶³è¿¹', 'åŠ¨æ€'];\n        Tab = Tab.map((it) => {\n            return it === getItem('é¦–é¡µ', 'æ¨é€') ? 'ğŸ‘‰' + it : it;\n        });\n        d.push({\n            title: '<font color=\"blue\">' + userName,\n            desc: '</font>â­<font color=\"#19B89D\">å½“å‰ï¼š' + getItem('é¦–é¡µ', 'æ¨é€') + '</font>â­',\n            url: $('#noLoading#').lazyRule((Tab) => {\n                return $(Tab, 2).select(() => {\n                    input = input.replace(/ğŸ‘‰/g, '');\n                    if (input === 'è´¦å·') {\n                        selectOption = ['é€€å‡ºç™»å½•', 'åˆ‡æ¢è´¦å·','å¤åˆ¶cookie', 'åˆ†äº«bfKey', 'è®¾ç½®bfKey', 'æ¸…é™¤bfKey','â•ï¸'];\n                        return $(selectOption, 2).select(() => {\n                            switch (input) {\n                                case \"é€€å‡ºç™»å½•\":\n                                    setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n                                    // setting.userList[0].cookie = '';\n                                    setting.userList.shift();\n                                    saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n                                    refreshPage(true);\n                                    return \"toast://ä½ å·²é€€å‡º\";\n                                case \"åˆ‡æ¢è´¦å·\":\n                                    userList = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList.map((p) => { return p.userName });\n                                    return $(userList, 1).select(() => {\n                                        setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n                                        var temp = setting.userList[0];\n                                        setting.userList.forEach((p, index) => {\n                                            if (p.userName === input && index !== 0) {\n                                                setting.userList[0] = p;\n                                                setting.userList[index] = temp;\n                                                return;\n                                            }\n                                        });\n                                        saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n                                        refreshPage(true);\n                                        return \"toast://åˆ‡æ¢æˆåŠŸ\";\n                                    })\n                                    break;\n                                case \"å¤åˆ¶cookie\":\n                                    cookie = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie;\n                                    copy(cookie);\n                                    return \"toast://å·²å¤åˆ¶cookie\";\n                                    break;\n                                case \"åˆ†äº«bfKey\":\n                                    cookie = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList[0].cookie;\n                                    bfKey = base64Encode(base64Encode(cookie));\n                                    copy(bfKey);\n                                    return \"toast://å·²å¤åˆ¶bfKey,å¿«å»åˆ†äº«å§ï¼Œæ³¨æ„è´¦å·å®‰å…¨~\";\n                                    break;\n                                case \"è®¾ç½®bfKey\":\n                                    return $('', 'æ’­æ”¾æƒç›Šå…±äº«ï¼Œæ³¨æ„å®‰å…¨').input(() => {\n                                        setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n                                        setting.bfKey = input;\n                                        saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n                                        return \"toast://bfKeyè®¾ç½®æˆåŠŸ\";\n                                    })\n                                    break;\n                                case \"æ¸…é™¤bfKey\":\n                                    setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n                                    setting.bfKey = '';\n                                    saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n                                    return \"toast://bfKeyå·²æ¸…é™¤\";\n                                    break;\n                                case \"â•ï¸\":\n                                    return \"hiker://page/login#noRecordHistory#\";\n                                    break;\n                                default:\n                                    return \"toast://ä½ é€‰äº†å•¥ï¼Ÿ\";\n                            }\n                        });\n                    } else {\n                        setItem('é¦–é¡µ', input);\n                        refreshPage(true);\n                        return \"toast://åˆ‡æ¢é¦–é¡µä¸º:\" + input;\n                    }\n                })\n            }, Tab),\n            img: userFace === undefined ? 'https://lanmeiguojiang.com/tubiao/movie/20.svg' : userFace,\n            col_type: \"avatar\",\n            extra: {\n                id: 'é¦–é¡µæ˜¾ç¤º'\n            }\n        });\n        d.push({\n            col_type: 'blank_block'\n        })\n    }\n    // åŒ¹é…é¦–é¡µé€‰é¡¹\n    switch (getItem('é¦–é¡µ', 'æ¨é€')) {\n        case 'çƒ­æ˜ ':\n            eval(JSON.parse(request('hiker://page/UpdateTables')).rule);\n            break;\n        case 'ç‰‡åº“':\n            eval(JSON.parse(request('hiker://page/vault')).rule);\n            break;\n        case 'æ¨é€':\n            eval(JSON.parse(request('hiker://page/feed')).rule);\n            break;\n        case 'çƒ­é—¨':\n            eval(JSON.parse(request('hiker://page/hotVideo')).rule);\n            break;\n        case 'è®¢é˜…':\n            eval(JSON.parse(request('hiker://page/subscription')).rule);\n            break;\n        case 'å…³æ³¨':\n            eval(JSON.parse(request('hiker://page/attention')).rule);\n            break;\n        case 'æ”¶è—':\n            eval(JSON.parse(request('hiker://page/colection')).rule);\n            break;\n        case 'è¶³è¿¹':\n            eval(JSON.parse(request('hiker://page/track')).rule);\n            break;\n        case 'åŠ¨æ€':\n            eval(JSON.parse(request('hiker://page/latetNews')).rule);\n            break;\n        default:\n            eval(JSON.parse(request('hiker://page/UpdateTables')).rule);\n            break;\n    }\n} else {\n    let a = []\n    let time = 10\n    a.push({\n        title: `                     ä½¿ç”¨å‰é¡»çŸ¥\næœ¬è§„åˆ™è°ƒç”¨https://github.com/SocialSisterYi/bilibili-API-collectçš„apiï¼Œæ‰€æœ‰ä»£ç å…¨éƒ¨å¼€æºï¼Œå¹¶ä¸”ä¸å­˜åœ¨ä¸Šä¼ ç”¨æˆ·ä¿¡æ¯çš„è¡Œä¸º\næœ¬è§„åˆ™ä¸ºå­¦ä¹ ç›®çš„ï¼Œè¯·äºå¯¼å…¥24å°æ—¶å†…åˆ é™¤ï¼ï¼ï¼                        \nå¼€å§‹ä½¿ç”¨æœ¬è§„åˆ™å³ä»£è¡¨éµå®ˆè§„åˆ™                       \n            `,\n        \"col_type\": \"long_text\",\n        extra: {\n            id: \"text\"\n        }\n    }, {\n        title: time + \"ç§’åç»§ç»­\",\n        col_type: \"text_1\",\n        extra: {\n            id: \"timer\"\n        }\n    })\n    setResult(a)\n    while (time != 0) {\n        java.lang.Thread.sleep(1000)\n        time -= 1\n        updateItem(\"timer\", {\n            title: time + \"ç§’åç»§ç»­\"\n        })\n    }\n    addItemAfter(\"timer\", {\n        title: \"é€‰æ‹©å…¶ä»–å·²ç™»å½•è´¦å·\",\n        url: $('#noLoading#').lazyRule(() => {\n            userList = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\")).userList.map((p) => { return p.userName });\n            return $(userList, 1).select(() => {\n                setting = JSON.parse(request(\"hiker://files/rules/cy/bili.txt\"));\n                temp = setting.userList[0];\n                setting.userList.map((p) => {\n                    if (p.userName === input) {\n                        setting.userList[0] = p;\n                        p = temp;\n                    }\n                })\n                saveFile(\"hiker://files/rules/cy/bili.txt\", JSON.stringify(setting));\n                refreshPage(true);\n                return \"toast://åˆ‡æ¢æˆåŠŸ\";\n            })\n        }),\n        col_type: \"text_center_1\"\n    })\n    addItemAfter(\"timer\", {\n        title: \"ç™»é™†\",\n        desc: \"ç™»å½•å¤±æ•ˆï¼Ÿç‚¹æ­¤é‡æ–°ç™»å½•\",\n        url: \"hiker://page/login#noRecordHistory#\",\n        col_type: \"text_center_1\"\n    })\n    deleteItem(\"text\")\n    deleteItem(\"timer\")\n}\nsetResult(d);\n","searchFind":"js:\nMY_URL = MY_URL.split('##');\nlet seaword = MY_URL[1];\nvar d = [];\nif (MY_PAGE==1) {\n    d.push({\n        title: \"upæœ=>\" + seaword,\n        url: 'hiker://page/upSearch?fypage',\n        extra: {\n            seaword: seaword\n        }\n    });\n    d.push({\n        title: \"videoæœ=>\" + seaword,\n        url: 'hiker://page/videoSearch?fypage',\n        extra: {\n            seaword: seaword\n        }\n    });\n}\nlet {getSearchRes}=$.require(\"hiker://page/api\");\n// ç•ªå‰§\nlist1=getSearchRes('media_bangumi',seaword,MY_PAGE,12).result;\n// å½±è§†\nlist2=getSearchRes('media_ft',seaword,MY_PAGE,12).result;\nif (list1) {\n    list1.forEach(item => {\n        if (!item.cover.match(/https/)) {\n            å°é¢ = item.cover.replace('http','https') + \"@Referer=\";\n        }else{\n            å°é¢ = item.cover+ \"@Referer=\";\n        }\n        d.push({\n            title: item.title.replace(/<em class=\"keyword\">/g, '').replace(/<\\/em>/g, ''),\n            img: å°é¢,\n            url: 'hiker://page/filmerji#immersiveTheme#',\n            content: item.desc,\n            desc: item.styles,\n            extra: {\n                season_id: item.season_id\n            }\n        });\n    });\n}\nif (list2) {\n    list2.forEach(item => {\n        if (!item.cover.match(/https/)) {\n            å°é¢ = item.cover.replace('http','https') + \"@Referer=\";\n        }else{\n            å°é¢ = item.cover+ \"@Referer=\";\n        }\n        d.push({\n            title: item.title.replace(/<em class=\"keyword\">/g, '').replace(/<\\/em>/g, ''),\n            img: å°é¢,\n            url: 'hiker://page/filmerji#immersiveTheme#',\n            content: item.desc,\n            desc: item.styles,\n            extra: {\n                season_id: item.season_id\n            }\n        });\n    });\n}\nsetResult(d);\n","search_url":"hiker://empty##**##fypage","group":"â‘ æ¨è","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"js:\n// å›¾ç‰‡é¢„å¤„ç†\nimgLocation = {\n    \"å·²æ”¶è—\": 'hiker://files/rules/cy/bili_pic/å·²æ”¶è—.png',\n    \"æœªæ”¶è—\": 'hiker://files/rules/cy/bili_pic/æœªæ”¶è—.png',\n    \"ç¨åå†çœ‹\": 'hiker://files/rules/cy/bili_pic/ç¨åå†çœ‹.png',\n    \"æœªç‚¹èµ\": 'hiker://files/rules/cy/bili_pic/æœªç‚¹èµ.png',\n    \"å·²ç‚¹èµ\": 'hiker://files/rules/cy/bili_pic/å·²ç‚¹èµ.png',\n    \"æ·»åŠ å…³æ³¨\": 'hiker://files/rules/cy/bili_pic/æ·»åŠ å…³æ³¨.png',\n    \"å·²å…³æ³¨\": 'hiker://files/rules/cy/bili_pic/å·²å…³æ³¨.png',\n    \"ä¸“æ \": 'hiker://files/rules/cy/bili_pic/ä¸“æ .png',\n    \"æŸ¥çœ‹è¯„è®º\": 'hiker://files/rules/cy/bili_pic/æŸ¥çœ‹è¯„è®º.png',\n    \"å‘¨è¾¹\": 'hiker://files/rules/cy/bili_pic/å‘¨è¾¹.png',\n    \"åŒè¾¹\": 'hiker://files/rules/cy/bili_pic/åŒè¾¹.png',\n    \"åˆ—è¡¨\": 'hiker://files/rules/cy/bili_pic/åˆ—è¡¨.png',\n    \"è®¢é˜…\": 'hiker://files/rules/cy/bili_pic/è®¢é˜….png',\n    \"æ—¥å†\": 'hiker://files/rules/cy/bili_pic/æ—¥å†.png',\n    \"åŠ¨æ€\": 'hiker://files/rules/cy/bili_pic/åŠ¨æ€.png',\n    \"åŠ¨æ€è¶³è¿¹\": 'https://cdn3.iconfinder.com/data/icons/nature-169/32/grass_turf_plant_lawn_nature_meadow_garden_natural_environment-128.png@Referer=',\n    \"åˆé›†æ–‡ä»¶å¤¹\": 'https://cdn4.iconfinder.com/data/icons/commenly-needed/400/Icon-17-128.png@Referer=',\n    \"åˆ†Påˆ—è¡¨é¡¹\": 'https://cdn1.iconfinder.com/data/icons/minimal-ui-2/24/play_media_button-128.png@Referer='\n}\nstorage0.putMyVar('å›¾æ ‡', imgLocation);\n\n//* ä¸‹é¢ä»£ç ç”¨äºè‡ªåŠ¨æ‹‰å–å›¾æ ‡ï¼Œæ— å¥ˆ */\nif (!fileExist('hiker://files/rules/cy/bili_pic') || !fileExist('hiker://files/rules/cy/tubiao')) {\n    $.require(\"hiker://page/saveLocal\").saveLocal();\n}\n\n\n//* ä¸‹é¢ä»£ç ç”¨äºåˆå§‹åŒ–è´¦å·é…ç½® */\nif (!fileExist('hiker://files/rules/cy/bili.txt')) {\n    settings = JSON.stringify({\n        userList: [{\n            cookie: \"\",\n            userName: '',\n            userMid: '',\n            vipStatus: 0,\n            face: 'https://lanmeiguojiang.com/tubiao/movie/20.svg',\n        }],\n        bfKey: \"\"\n    });\n    saveFile(\"hiker://files/rules/cy/bili.txt\", settings);\n} else {\n    settings = JSON.parse(request('hiker://files/rules/cy/bili.txt'));\n    // åˆ¤æ–­ JSON å¯¹è±¡æ˜¯å¦æ»¡è¶³æˆ‘ä»¬å®šä¹‰çš„ç»“æ„\n    if (typeof settings === 'object' &&\n        Array.isArray(settings.userList) &&\n        settings.userList.every(p => typeof p === 'object' && typeof p.cookie === 'string' && typeof p.userName === 'string' && typeof p.userMid === 'number' && typeof p.face === 'string' && typeof p.vipStatus === 'number') &&\n        typeof settings.bfKey === 'string'\n    ) {\n        log('è´¦å·é…ç½®æ–‡ä»¶æ­£å¸¸');\n    } else {\n        log('åˆå§‹åŒ–/å¤åŸè´¦å·é…ç½®æ–‡ä»¶');\n        setting = '';\n        try {\n            // è¿ç§»åŸé…ç½®æ–‡ä»¶ä¸­çš„è´¦å·ä¿¡æ¯\n            originUserSetting = JSON.parse(request('hiker://files/rules/cy/bili.txt'));\n            log(originUserSetting);\n            cookie = originUserSetting.cookie;\n            userName = originUserSetting.userName;\n            userMid = originUserSetting.userMid;\n            face = originUserSetting.face;\n            vipStatus = originUserSetting.vipStatus;\n            if(cookie===undefined){setting='{\"userList\":[],\"bfKey\":\"\"}';}else{\n                setting = JSON.stringify({\n                    userList: [{\n                        cookie: cookie,\n                        userName: userName,\n                        userMid: userMid,\n                        face: face,\n                        vipStatus: vipStatus\n                    }],\n                    bfKey: \"\"\n                });\n            }\n        } catch (e) {\n            log(\"æ²¡æœ‰æ—§çš„åˆæ³•çš„é…ç½®æ–‡ä»¶\");\n            setting = JSON.stringify({\n                userList: [],\n                bfKey: \"\"\n            });\n        }\n        saveFile(\"hiker://files/rules/cy/bili.txt\", setting);\n    }\n}\n","pages":"[{\"col_type\":\"movie_3\",\"name\":\"åˆ†ç±»ç‰‡åº“\",\"path\":\"vault\",\"rule\":\"é¡¶éƒ¨å¤§ç±» = ['å›½åˆ›', 'ç”µè§†', 'çºªå½•ç‰‡', 'ç»¼è‰º', 'ç•ªå‰§', 'ç”µå½±']\\nif (page == 1) {\\n    // æŠ˜å å¼€å…³\\n    d.push({\\n        title: getMyVar('æŠ˜å ', 'å…³') == 'å…³' ? 'â€œâ€œâ€â€<b><span style=\\\"color: #FF0000\\\">âˆ¨</span></b>' : 'â€œâ€œâ€â€<b><span style=\\\"color: #1aad19\\\">âˆ§</span></b>',\\n        url: $('#noLoading#').lazyRule(() => {\\n            if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n                putMyVar('æŠ˜å ', 'å…³');\\n            } else {\\n                putMyVar('æŠ˜å ', 'å¼€');\\n            }\\n            refreshPage(true);\\n            return \\\"hiker://empty\\\";\\n        }),\\n        col_type: 'scroll_button',\\n    })\\n    é¡¶éƒ¨å¤§ç±».forEach(li => {\\n        d.push({\\n            title: li == getMyVar('å¤§ç±»', 'å›½åˆ›') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + li + '</font></b>' : li,\\n            url: $('#noLoading#').lazyRule((li) => {\\n                putMyVar('å¤§ç±»', li);\\n                refreshPage(true);\\n                return \\\"hiker://empty\\\";\\n            }, li),\\n            col_type: 'scroll_button',\\n        })\\n    });\\n    d.push({\\n        col_type: 'blank_block'\\n    })\\n}\\n// é¡¶éƒ¨åˆ†ç±»å‚æ•°æ˜ å°„\\nswitch (getMyVar('å¤§ç±»', 'å›½åˆ›')) {\\n    case 'å›½åˆ›':\\n        seasonType = 4;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/guochuang/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    case 'ç”µè§†':\\n        seasonType = 5;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/tv/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    case 'çºªå½•ç‰‡':\\n        seasonType = 3;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/documentary/index/');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    case 'ç»¼è‰º':\\n        seasonType = 7;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/variety/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    case 'ç•ªå‰§':\\n        seasonType = 1;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/anime/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    case 'ç”µå½±':\\n        seasonType = 2;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/movie/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n    default:\\n        seasonType = 4;\\n        if (getMyVar('æŠ˜å ', 'å…³') == 'å¼€') {\\n            if (page == 1) {\\n                html = fetch('https://www.bilibili.com/anime/index');\\n                åˆ†ç±»åˆ—è¡¨ = pdfa(html, '.filter-list&&.filter-block');\\n                åˆ†ç±»åˆ—è¡¨.forEach(ul => {\\n                    ç­›é€‰æ¡ä»¶ = pdfh(ul, '.filter-name&&Text');\\n                    å­åˆ†ç±»åˆ—è¡¨ = pdfa(ul, 'ul&&li');\\n                    å­åˆ†ç±»åˆ—è¡¨.forEach(li => {\\n                        if (pdfh(li, 'li&&Text') == 'å…¶ä»–') {\\n                            return;\\n                        }\\n                        d.push({\\n                            title: getMyVar(ç­›é€‰æ¡ä»¶, 'å…¨éƒ¨') == pdfh(li, 'li&&Text') ? 'â€œâ€œâ€â€<b><font color=#1aad19>' + pdfh(li, 'li&&Text') + '</font></b>' : pdfh(li, 'li&&Text'),\\n                            url: $('#noLoading#').lazyRule((li, ç­›é€‰æ¡ä»¶) => {\\n                                putMyVar(ç­›é€‰æ¡ä»¶, pdfh(li, 'li&&Text'));\\n                                refreshPage(true);\\n                                return \\\"hiker://empty\\\";\\n                            }, li, ç­›é€‰æ¡ä»¶),\\n                            col_type: 'scroll_button'\\n                        })\\n                    });\\n                    d.push({\\n                        col_type: 'blank_block'\\n                    })\\n                });\\n            }\\n        }\\n        break;\\n}\\n// å­åˆ†ç±»å‚æ•°æ˜ å°„\\nswitch (getMyVar('ç±»å‹', 'å…¨éƒ¨')) {\\n    case 'æ­£ç‰‡':\\n        season_version = 1;\\n        break;\\n    case 'ç”µå½±':\\n        season_version = 2;\\n        break;\\n    case 'å…¶ä»–':\\n        season_version = 3;\\n        break;\\n    default:\\n        season_version = -1;\\n        break;\\n}\\nswitch (getMyVar('é…éŸ³', 'å…¨éƒ¨')) {\\n    case 'åŸå£°':\\n        spoken_language_type = 1;\\n        break;\\n    case 'ä¸­æ–‡é…éŸ³':\\n        spoken_language_type = 2;\\n        break;\\n    default:\\n        spoken_language_type = -1;\\n        break;\\n}\\nswitch (getMyVar('åœ°åŒº', 'å…¨éƒ¨')) {\\n    case 'ä¸­å›½å¤§é™†':\\n        area = 1;\\n        break;\\n    case 'æ—¥æœ¬':\\n        area = 2;\\n        break;\\n    case 'ç¾å›½':\\n        area = 3;\\n        break;\\n    case 'è‹±å›½':\\n        area = 4;\\n        break;\\n    case 'ä¸­å›½æ¸¯å°':\\n        area = [6, 7];\\n        break;\\n    case 'éŸ©å›½':\\n        area = 8;\\n        break;\\n    case 'æ³•å›½':\\n        area = 9;\\n        break;\\n    case 'æ³°å›½':\\n        area = 10;\\n        break;\\n    case 'è¥¿ç­ç‰™':\\n        area = 13;\\n        break;\\n    case 'å¾·å›½':\\n        area = 15;\\n        break;\\n    case 'æ„å¤§åˆ©':\\n        area = 35;\\n        break;\\n    case 'å…¶ä»–':\\n        // åªæ˜¯ç•ªå‰§çš„æƒ…å†µ_å…±55ï¼Œè¦å‡å»å‡ºç°çš„â€”â€”ç®—äº†ï¼Œç›´æ¥åœ¨åŠ¨æ€åˆ†ç±»çš„æ—¶å€™å»æ‰äº†\\n        area = [1, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55];\\n        break;\\n    default:\\n        area = -1;\\n        break;\\n}\\nswitch (getMyVar('çŠ¶æ€', 'å…¨éƒ¨')) {\\n    case 'å®Œç»“':\\n        is_finish = 1;\\n        break;\\n    case 'è¿è½½':\\n        is_finish = 0;\\n        break;\\n    default:\\n        is_finish = -1;\\n        break;\\n}\\nswitch (getMyVar('å‡ºå“', 'å…¨éƒ¨')) {\\n    case 'å¤®è§†':\\n        producer_id = 4;\\n        break;\\n    case 'BBC':\\n        producer_id = 1;\\n        break;\\n    case 'æ¢ç´¢é¢‘é“':\\n        producer_id = 7;\\n        break;\\n    case 'å›½å®¶åœ°ç†':\\n        producer_id = 14;\\n        break;\\n    case 'NHK':\\n        producer_id = 2;\\n        break;\\n    case 'å†å²é¢‘é“':\\n        producer_id = 6;\\n        break;\\n    case 'å«è§†':\\n        producer_id = 8;\\n        break;\\n    case 'è‡ªåˆ¶':\\n        producer_id = 9;\\n        break;\\n    case 'ITV':\\n        producer_id = 5;\\n        break;\\n    case 'SKY':\\n        producer_id = 3;\\n        break;\\n    case 'ZDF':\\n        producer_id = 10;\\n        break;\\n    case 'åˆä½œæœºæ„':\\n        producer_id = 11;\\n        break;\\n    case 'å›½å†…å…¶ä»–':\\n        producer_id = 12;\\n        break;\\n    case 'å›½å¤–å…¶å®ƒ':\\n        producer_id = 13;\\n        break;\\n    default:\\n        producer_id = -1;\\n        break;\\n}\\nswitch (getMyVar('ç‰ˆæƒ', 'å…¨éƒ¨')) {\\n    case 'ç‹¬å®¶':\\n        copyright = 3;\\n        break;\\n    case 'å…¶ä»–':\\n        copyright = [1, 2, 4];\\n        break;\\n    default:\\n        copyright = -1;\\n        break;\\n}\\nswitch (getMyVar('ä»˜è´¹', 'å…¨éƒ¨')) {\\n    case 'å…è´¹':\\n        season_status = 1;\\n        break;\\n    case 'ä»˜è´¹':\\n        season_status = [2, 6];\\n        break;\\n    case 'å¤§ä¼šå‘˜':\\n        season_status = [4, 6];\\n        break;\\n    default:\\n        season_status = -1;\\n        break;\\n}\\nswitch (getMyVar('å­£åº¦', 'å…¨éƒ¨')) {\\n    case '1æœˆ':\\n        season_month = 1;\\n        break;\\n    case '4æœˆ':\\n        season_month = 4;\\n        break;\\n    case '7æœˆ':\\n        season_month = 7;\\n        break;\\n    case '10æœˆ':\\n        season_month = 10;\\n        break;\\n    default:\\n        season_month = -1;\\n        break;\\n}\\n// åˆ¤æ–­å’Œæ˜ å°„å¹´ä»½\\nswitch (getMyVar('å¤§ç±»', 'å›½åˆ›')) {\\n    case 'å›½åˆ›':\\n    case 'ç•ªå‰§':\\n        // ç•ªå‰§å’Œå›½åˆ›ã€ä¹Ÿæ˜¯å«åšå¹´ä»½ä½†å‚æ•°åã€æ ¼å¼å’Œå…¶ä»–åˆ†ç±»ä¸ä¸€æ ·ã€‘\\n        anime_year = getMyVar('å¹´ä»½', 'å…¨éƒ¨');\\n        switch (anime_year.includes('-')) {\\n            case true:\\n                early = anime_year.split('-')[1];\\n                later = anime_year.split('-')[0];\\n                year = `[${early},${Number(later) + 1})`;\\n                break;\\n            case false:\\n                switch (anime_year) {\\n                    case '90å¹´ä»£':\\n                        year = '[1990,2000)';\\n                        break;\\n                    case '80å¹´ä»£':\\n                        year = '[1980,1990)';\\n                        break;\\n                    case 'æ›´æ—©':\\n                        year = '[,1980)';\\n                        break;\\n                    case 'å…¨éƒ¨':\\n                        year = -1;\\n                        break;\\n                    default:\\n                        year = `[${anime_year},${Number(anime_year) + 1})`;\\n                        break;\\n                }\\n        }\\n    default:\\n        // é™¤äº†ç•ªå‰§å’Œå›½åˆ›çš„å…¶ä»–åˆ†ç±»\\n        tv_year = getMyVar('å¹´ä»½', 'å…¨éƒ¨');\\n        switch (tv_year.includes('-')) {\\n            case true:\\n                early = tv_year.split('-')[1];\\n                later = tv_year.split('-')[0];\\n                release_date = `[${early}-01-01 00:00:00,${Number(later) + 1}-01-01 00:00:00)`\\n                break;\\n            case false:\\n                switch (tv_year) {\\n                    case '90å¹´ä»£':\\n                        release_date = '[1990-01-01 00:00:00,2000-01-01 00:00:00)'\\n                        break;\\n                    case '80å¹´ä»£':\\n                        release_date = '[1980-01-01 00:00:00,1990-01-01 00:00:00)'\\n                        break;\\n                    case 'æ›´æ—©':\\n                        release_date = '[,1980-01-01 00:00:00)';\\n                        break;\\n                    case 'å…¨éƒ¨':\\n                        release_date = -1;\\n                        break;\\n                    default:\\n                        release_date = `[${tv_year}-01-01 00:00:00,${Number(tv_year) + 1}-01-01 00:00:00)`;\\n                        break;\\n                }\\n        }\\n}\\nswitch (getMyVar('é£æ ¼', 'å…¨éƒ¨')) {\\n    case 'ç”µå½±':\\n        style_id = -10;\\n        break;\\n    // ç•ªå‰§æ ç›®\\n    case 'åŸåˆ›':\\n        style_id = 10010;\\n        break;\\n    case 'æ¼«ç”»æ”¹':\\n        style_id = 10011;\\n        break;\\n    case 'å°è¯´æ”¹':\\n        style_id = 10012;\\n        break;\\n    case 'æ¸¸æˆæ”¹':\\n        style_id = 10013;\\n        break;\\n    case 'ç‰¹æ‘„':\\n        style_id = 10014;\\n        break;\\n    case 'å¸ƒè¢‹æˆ':\\n        style_id = 10015;\\n        break;\\n    case 'çƒ­è¡€':\\n        style_id = 10016;\\n        break;\\n    case 'ç©¿è¶Š':\\n        style_id = 10017;\\n        break;\\n    case 'å¥‡å¹»':\\n        style_id = 10018;\\n        break;\\n    // å’‹è·³äº†ä¸€ä¸ªæ~\\n    case 'æˆ˜æ–—':\\n        style_id = 10020;\\n        break;\\n    case 'æç¬‘':\\n        style_id = 10021;\\n        break;\\n    case 'æ—¥å¸¸':\\n        style_id = 10022;\\n        break;\\n    case 'ç§‘å¹»':\\n        style_id = 10023;\\n        break;\\n    case 'èŒç³»':\\n        style_id = 10024;\\n        break;\\n    case 'æ²»æ„ˆ':\\n        style_id = 10025;\\n        break;\\n    case 'æ ¡å›­':\\n        style_id = 10026;\\n        break;\\n    case 'å°‘å„¿':\\n        style_id = 10027;\\n        break;\\n    case 'æ³¡é¢':\\n        style_id = 10028;\\n        break;\\n    case 'æ‹çˆ±':\\n        style_id = 10029;\\n        break;\\n    case 'å°‘å¥³':\\n        style_id = 10030;\\n        break;\\n    case 'é­”æ³•':\\n        style_id = 10031;\\n        break;\\n    case 'å†’é™©':\\n        style_id = 10032;\\n        break;\\n    case 'å†å²':\\n        style_id = 10033;\\n        break;\\n    case 'æ¶ç©º':\\n        style_id = 10034;\\n        break;\\n    case 'æœºæˆ˜':\\n        style_id = 10035;\\n        break;\\n    case 'ç¥é­”':\\n        style_id = 10036;\\n        break;\\n    case 'å£°æ§':\\n        style_id = 10037;\\n        break;\\n    case 'è¿åŠ¨':\\n        style_id = 10038;\\n        break;\\n    case 'åŠ±å¿—':\\n        style_id = 10039;\\n        break;\\n    case 'éŸ³ä¹':\\n        style_id = 10040;\\n        break;\\n    case 'æ¨ç†':\\n        style_id = 10041;\\n        break;\\n    case 'ç¤¾å›¢':\\n        style_id = 10042;\\n        break;\\n    case 'æ™ºæ–—':\\n        style_id = 10043;\\n        break;\\n    case 'å‚¬æ³ª':\\n        style_id = 10044;\\n        break;\\n    case 'ç¾é£Ÿ':\\n        style_id = 10045;\\n        break;\\n    case 'å¶åƒ':\\n        style_id = 10046;\\n        break;\\n    case 'ä¹™å¥³':\\n        style_id = 10047;\\n        break;\\n    case 'èŒåœº':\\n        style_id = 10048;\\n        break;\\n\\n    // ç»¼è‰ºæ ç›®ã€ç”µå½±\\n    case 'å‰§æƒ…':\\n        style_id = 10050;\\n        break;\\n    case 'å–œå‰§':\\n        style_id = 10051;\\n        break;\\n    case 'çˆ±æƒ…':\\n        style_id = 10052;\\n        break;\\n    case 'åŠ¨ä½œ':\\n        style_id = 10053;\\n        break;\\n    case 'ææ€–':\\n        style_id = 10054;\\n        break;\\n    case 'çŠ¯ç½ª':\\n        style_id = 10055;\\n        break;\\n    case 'æƒŠæ‚š':\\n        style_id = 10056;\\n        break;\\n    case 'æ‚¬ç–‘':\\n        style_id = 10057;\\n        break;\\n    case 'æˆ˜äº‰':\\n        style_id = 10058;\\n        break;\\n    case 'åŠ¨ç”»':\\n        style_id = 10059;\\n        break;\\n    case 'ä¼ è®°':\\n        style_id = 10060;\\n        break;\\n    case 'å®¶åº­':\\n        style_id = 10061;\\n        break;\\n    case 'æ­Œèˆ':\\n        style_id = 10062;\\n        break;\\n    case 'çºªå®':\\n        style_id = 10063;\\n        break;\\n    case 'ç¾éš¾':\\n        style_id = 10064;\\n        break;\\n    case 'äººæ–‡':\\n        style_id = 10065;\\n        break;\\n    case 'ç§‘æŠ€':\\n        style_id = 10066;\\n        break;\\n    case 'å®‡å®™':\\n        style_id = 10068;\\n        break;\\n    case 'èŒå® ':\\n        style_id = 10069;\\n        break;\\n    case 'ç¤¾ä¼š':\\n        style_id = 10070;\\n        break;\\n    case 'åŠ¨ç‰©':\\n        style_id = 10071;\\n        break;\\n    case 'è‡ªç„¶':\\n        style_id = 10072;\\n        break;\\n    case 'åŒ»ç–—':\\n        style_id = 10073;\\n        break;\\n    case 'å†›äº‹':\\n        style_id = 10074;\\n        break;\\n    case 'ç½ªæ¡ˆ':\\n        style_id = 10075;\\n        break;\\n    case 'ç¥ç§˜':\\n        style_id = 10076;\\n        break;\\n    case 'æ—…è¡Œ':\\n        style_id = 10077;\\n        break;\\n    case 'æ­¦ä¾ ':\\n        style_id = 10078;\\n        break;\\n    case 'é’æ˜¥':\\n        style_id = 10079;\\n        break;\\n    case 'éƒ½å¸‚':\\n        style_id = 10080;\\n        break;\\n    case 'å¤è£…':\\n        style_id = 10081;\\n        break;\\n    case 'è°æˆ˜':\\n        style_id = 10082;\\n        break;\\n    case 'ç»å…¸':\\n        style_id = 10083;\\n        break;\\n    case 'æƒ…æ„Ÿ':\\n        style_id = 10084;\\n        break;\\n    case 'ç¥è¯':\\n        style_id = 10085;\\n        break;\\n    case 'å¹´ä»£':\\n        style_id = 10086;\\n        break;\\n    case 'å†œæ‘':\\n        style_id = 10087;\\n        break;\\n    case 'åˆ‘ä¾¦':\\n        style_id = 10088;\\n        break;\\n    case 'å†›æ—…':\\n        style_id = 10089;\\n        break;\\n    case 'è®¿è°ˆ':\\n        style_id = 10090;\\n        break;\\n    case 'è„±å£ç§€':\\n        style_id = 10091;\\n        break;\\n    case 'çœŸäººç§€':\\n        style_id = 10092;\\n        break;\\n    case 'é€‰ç§€':\\n        style_id = 10094;\\n        break;\\n    case 'æ—…æ¸¸':\\n        style_id = 10095;\\n        break;\\n    case 'æ™šä¼š':\\n        style_id = 10098;\\n        break;\\n    case 'æ¼”å”±ä¼š':\\n        style_id = 10096;\\n        break;\\n    case 'äº²å­':\\n        style_id = 10097;\\n        break;\\n    case 'å…»æˆ':\\n        style_id = 10099;\\n        break;\\n    case 'æ–‡åŒ–':\\n        style_id = 10100;\\n        break;\\n    // ç”µå½±æ ç›®\\n    case 'çŸ­ç‰‡':\\n        style_id = 10104;\\n        break;\\n    default:\\n        style_id = -1;\\n        break;\\n}\\n// æ˜ å°„çœŸå®è¯·æ±‚åœ°å€\\nswitch (seasonType) {\\n    case 4:\\n        // å›½åˆ›\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_version=' + season_version + '&is_finish=' + is_finish + '&copyright=' + copyright + '&season_status=' + season_status + '&year=' + year + '&style_id=' + style_id + '&order=3&st=4&sort=0&page=' + page + '&season_type=4&pagesize=30&type=1'\\n        break;\\n    case 5:\\n        // ç”µè§†å‰§\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?area=' + area + '&style_id=' + style_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=5&sort=0&page=' + page + '&season_type=5&pagesize=30&type=1'\\n        break;\\n    case 7:\\n        // ç»¼è‰º\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_status=' + season_status + '&style_id=' + style_id + '&order=2&st=7&sort=0&page=' + page + '&season_type=7&pagesize=30&type=1';\\n        break;\\n    case 1:\\n        // ç•ªå‰§\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?season_version=' + season_version + '&spoken_language_type=' + spoken_language_type + '&area=' + area + '&is_finish=' + is_finish + '&copyright=' + copyright + '&season_status=' + season_status + '&season_month=' + season_month + '&year=' + year + '&style_id=' + style_id + '&order=3&st=1&sort=0&page=' + page + '&season_type=1&pagesize=30&type=1';\\n        break;\\n    case 3:\\n        // çºªå½•ç‰‡\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?style_id=' + style_id + '&producer_id=' + producer_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=3&sort=0&page=' + page + '&season_type=3&pagesize=30&type=1'\\n        break;\\n    case 2:\\n        // ç”µå½±\\n        true_url = 'https://api.bilibili.com/pgc/season/index/result?area=' + area + '&style_id=' + style_id + '&release_date=' + release_date + '&season_status=' + season_status + '&order=2&st=2&sort=0&page=' + page + '&season_type=2&pagesize=30&type=1'\\n        break;\\n}\\ntrue_url = encodeURI(true_url);\\nlist = JSON.parse(fetch(true_url)).data.list;\\ntry {\\n    list.forEach(movie => {\\n        d.push({\\n            title: movie.title,\\n            url: \\\"hiker://page/filmerji#immersiveTheme#\\\",\\n            img: movie.cover + \\\"@Referer=\\\",\\n            desc: movie.order,\\n            col_type: 'movie_3',\\n            extra: {\\n                season_id: movie.season_id\\n            }\\n        });\\n    });\\n} catch (e) {\\n    log('å·²ç»æŠµè¾¾é¡µåº•' + MY_PAGE);\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"çƒ­æ˜ æ—¶é—´è¡¨\",\"path\":\"UpdateTables\",\"rule\":\"function color(text, color) {\\n\\nÂ  Â  text += \\\"\\\";\\n\\nÂ  Â  if (text.indexOf(\\\"â€œâ€œâ€â€\\\") === 0) {\\n\\nÂ  Â  Â  Â  text.replace(\\\"â€œâ€œâ€â€\\\", \\\"\\\");\\n\\nÂ  Â  }\\n\\nÂ  Â  return \\\"â€œâ€œâ€â€<font color='\\\" + color + \\\"'>\\\" + text + \\\"</font>\\\";\\n\\n}\\n\\nvar tabs = {\\n\\nÂ  Â  \\\"ç•ªå‰§\\\": 1,\\n\\nÂ  Â  \\\"çºªå½•ç‰‡\\\": 3,\\n\\nÂ  Â  \\\"å›½åˆ›\\\": 4\\n\\n}\\n\\nif (MY_PAGE == 1) {\\n\\nÂ  Â  Object.keys(tabs).forEach(item => {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\\\"juji\\\", \\\"å›½åˆ›\\\") == item ? color(item, \\\"red\\\") : item),\\n\\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((a) => {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\\\"juji\\\", a)\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  return \\\"toast://åˆ‡æ¢æˆåŠŸ\\\"\\n\\nÂ  Â  Â  Â  Â  Â  }, item),\\n\\nÂ  Â  Â  Â  Â  Â  col_type: \\\"scroll_button\\\"\\n\\nÂ  Â  Â  Â  })\\n\\nÂ  Â  })\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  col_type: \\\"line\\\"\\n\\nÂ  Â  })\\n\\nÂ  Â  let days = 7\\n\\nÂ  Â  for (let i = 1; i < days; i++) {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\\\"from\\\", \\\"1\\\") == i + \\\"\\\" ? color(i + \\\"å¤©å‰\\\", \\\"red\\\") : i + \\\"å¤©å‰\\\"),\\n\\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((i) => {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\\\"from\\\", i + \\\"\\\")\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  return \\\"hiker://empty\\\"\\n\\nÂ  Â  Â  Â  Â  Â  }, i),\\n\\nÂ  Â  Â  Â  Â  Â  col_type: \\\"scroll_button\\\"\\n\\nÂ  Â  Â  Â  })\\n\\nÂ  Â  }\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  col_type: \\\"line\\\"\\n\\nÂ  Â  })\\n\\nÂ  Â  for (let i = 1; i < days; i++) {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: (getMyVar(\\\"to\\\", \\\"1\\\") == i + \\\"\\\" ? color(i + \\\"å¤©å\\\", \\\"red\\\") : i + \\\"å¤©å\\\"),\\n\\nÂ  Â  Â  Â  Â  Â  url: $().lazyRule((i) => {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  putMyVar(\\\"to\\\", i + \\\"\\\")\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage()\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  return \\\"hiker://empty\\\"\\n\\nÂ  Â  Â  Â  Â  Â  }, i),\\n\\nÂ  Â  Â  Â  Â  Â  col_type: \\\"scroll_button\\\"\\n\\nÂ  Â  Â  Â  })\\n\\nÂ  Â  }\\n\\n\\nÂ  Â  $.require(\\\"hiker://page/api\\\").getMovies(tabs[getMyVar(\\\"juji\\\", \\\"å›½åˆ›\\\")], getMyVar(\\\"from\\\", \\\"1\\\"), getMyVar(\\\"to\\\", \\\"1\\\")).forEach(item => {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: item.date + \\\" å‘¨\\\" + item.day_of_week,\\n\\nÂ  Â  Â  Â  Â  Â  col_type: \\\"text_1\\\",\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://empty\\\"\\n\\nÂ  Â  Â  Â  })\\n\\nÂ  Â  Â  Â  item.episodes.forEach(i => {\\n\\nÂ  Â  Â  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  title: i.title,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  img: i.cover+'@Referer=',\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  desc:i.pub_index.match(/å³å°†/)?'â€˜â€˜â€™â€™<font color=\\\"red\\\">'+i.pub_index+'\\\\n'+i.pub_time+'</font>': i.pub_index+ '\\\\n' + i.pub_time,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  url: \\\"hiker://page/filmerji#immersiveTheme#\\\",\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  \\\"season_id\\\": i.season_id\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  Â  Â  })\\n\\nÂ  Â  Â  Â  })\\n\\nÂ  Â  })\\n\\n}\\n\\n\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"ç™»å½•\",\"path\":\"login\",\"rule\":\"js:\\nvar d = [];\\nsetPageTitle('è´¦å·ç™»å½•é¡µé¢')\\nd.push({\\n    title: 'cookieç™»å½•',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $('', 'è¯·è¾“å…¥ä½ çš„cookie').input(() => {\\n            if (input == \\\"\\\") return \\\"toast://cookieä¸èƒ½ä¸ºç©º\\\";\\n            let userinfo = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/nav\\\", {\\n                headers: {\\n                    \\\"Cookie\\\": input\\n                }\\n            })).data;\\n            if (userinfo.isLogin === false) return \\\"toast://ä½ çš„cookieè²Œä¼¼å¤±æ•ˆäº†å–”~\\\";\\n            userInfo = {\\n                cookie: input,\\n                userName: userinfo.uname,\\n                userMid:  userinfo.mid,\\n                vipStatus: userinfo.vipStatus,\\n                face: userinfo.face + \\\"@Referer=\\\"\\n            }\\n            setting = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\"));\\n            setting.userList.unshift(userInfo);\\n            // è¿‡æ»¤æ‰cookieä¸ºç©ºçš„å…ƒç´ \\n            setting.userList = setting.userList.filter(user => user.cookie !== '');\\n            saveFile(\\\"hiker://files/rules/cy/bili.txt\\\", JSON.stringify(setting));\\n            back(true);\\n            return \\\"toast://cookieè®¾ç½®æˆåŠŸ\\\";\\n        })\\n    }),\\n    col_type: 'text_center_1'\\n});\\nd.push({\\n    title: 'ç™»é™†è¯´æ˜',\\n    desc: \\\"é¡µé¢ä¸‹æ–¹ç™»é™†æˆåŠŸåï¼Œå†ç‚¹å‡»ç¡®è®¤ç™»å½•å³å¯\\\",\\n    url: \\\"hiker://empty\\\",\\n    col_type: 'text_center_1'\\n}, {\\n    title: 'ç™»é™†æˆåŠŸåï¼Œå†ç‚¹æˆ‘ï¼',\\n    url: $('#noLoading#').lazyRule(() => {\\n        // è¿™é‡Œè´Ÿè´£å†™Cookieï¼Œå…ˆè¯»ï¼Œå†è¿½åŠ \\n        cookie = getVar('biliCookie','');\\n        log(\\\"è·å–åˆ°çš„cookie:\\\"+cookie);\\n        if (cookie == \\\"\\\") return \\\"toast://è·å–cookieå¤±è´¥ï¼Œå†ç­‰ç­‰çœ‹ï¼Ÿ\\\";\\n        let userinfo = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/nav\\\", {\\n            headers: {\\n                \\\"Cookie\\\": cookie\\n            }\\n        })).data;\\n        if (userinfo.isLogin === false) return \\\"toast://ä½ å…ˆç™»å½•ï¼Œå†è·å–cookieï¼ŒOKï¼Ÿ\\\";\\n        userInfo = {\\n            cookie: cookie,\\n            userName: userinfo.uname,\\n            userMid:  userinfo.mid,\\n            vipStatus: userinfo.vipStatus,\\n            face: userinfo.face + \\\"@Referer=\\\"\\n        }\\n        setting = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\"));\\n        setting.userList.unshift(userInfo);\\n        // è¿‡æ»¤æ‰cookieä¸ºç©ºçš„å…ƒç´ \\n        setting.userList = setting.userList.filter(user => user.cookie !== '');\\n        saveFile(\\\"hiker://files/rules/cy/bili.txt\\\", JSON.stringify(setting));\\n        back(true);\\n        return 'toast://å¦‚æœæ²¡æœ‰ç™»é™†æˆåŠŸï¼Œå»ºè®®ä½ ä¸‹æ¬¡ç™»é™†æˆåŠŸåä¸è¦ç‚¹é‚£ä¹ˆå¿«~'\\n    }),\\n    col_type: 'text_1'\\n}, {\\n    url: \\\"https://m.bilibili.com/\\\",\\n    col_type: \\\"x5_webview_single\\\",\\n    desc: \\\"list&&screen-300\\\",\\n    extra: {\\n        js: $.toString(() => {\\n            var token_timer = function () {\\n                var timer = setInterval(() => {\\n                    cookie = fba.getCookie(\\\"https://m.bilibili.com/\\\");\\n                    fba.putVar('biliCookie', cookie);\\n                }, 100)\\n            };\\n            token_timer();\\n        }),\\n        canBack: true,\\n        ua: MOBILE_UA\\n    }\\n})\\nsetResult(d);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"å½±è§†äºŒçº§\",\"path\":\"filmerji\",\"rule\":\"js:\\n// æ•°æ®å®šä½\\nvar d = [];\\nif (MY_PARAMS.season_id) {\\n    season_id = MY_PARAMS.season_id + \\\"\\\";\\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?season_id=' + season_id)).result;\\n} else {\\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?ep_id=' + MY_PARAMS.ep_id)).result;\\n}\\nif (!Data.cover.match(/https/)) {\\n    å°é¢ = Data.cover.replace('http', 'https') + \\\"@Referer=\\\";\\n} else {\\n    å°é¢ = Data.cover + \\\"@Referer=\\\";\\n}\\ntry {\\n    åœ°åŒº = Data.areas[0].name;\\n} catch (e) {\\n    åœ°åŒº = 'åœ°åŒºæš‚æ— ';\\n}\\nç®€ä»‹ = Data.evaluate;\\n// æ­£ç‰‡\\nç±»å‹ = Data.positive.title;\\nä¸Šæ˜ æ—¶é—´ = Data.publish.pub_time;\\ntry {\\n    å¾—åˆ† = Data.rating.score;\\n} catch (e) {\\n    å¾—åˆ† = 'æš‚æ— å¾—';\\n}\\nè¿½å‰§æ—¥å† = Data.new_ep.desc;\\næ›´æ–°è¿›åº¦ = Data.new_ep.title;\\nå½±ç‰‡åç§° = Data.title;\\nç¬¬äºŒæ ‡é¢˜ = Data.share_sub_title;\\nå‰§é›†åˆ—è¡¨ = Data.episodes.filter((list) => {\\n    // è¿‡æ»¤é¢„å‘Šã€èŠ±çµ®\\n    if (getItem('previewSwitch', 'fold') === 'fold' && list.badge.match(/é¢„|èŠ±çµ®/)) {\\n        return false;\\n    } else {\\n        return true;\\n    }\\n});\\nçŸ­è®¯ = \\\"â­\\\" + ç±»å‹ + \\\"â­\\\" + ç¬¬äºŒæ ‡é¢˜ + '\\\\n' + åœ°åŒº + '-' + å¾—åˆ† + 'åˆ†\\\\n-' + ä¸Šæ˜ æ—¶é—´ + '-';\\n// é‡å®šä¹‰äºŒçº§é¡µé¢æ•°æ®\\nsetPageTitle(å½±ç‰‡åç§°);\\nsetPagePicUrl(å°é¢);\\n// å‰ç½®å‚æ•°å’Œé¢„å¤„ç†---\\nimgLink = storage0.getMyVar('å›¾æ ‡');\\n// å…¨å±€lazyâ€”â€”ç›´é“¾+æ–­æ’\\nvar lazy = $('').lazyRule(() => {\\n    videoParms = findItem(input);\\n    aid = videoParms.extra.aid;\\n    bvid = videoParms.extra.bvid;\\n    cid = videoParms.extra.cid;\\n    badge = videoParms.extra.badge;\\n    // æäº¤å†å²è®°å½•\\n    $.require(\\\"hiker://page/api\\\").reportProcess(aid, cid);\\n    vipStatus = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].vipStatus;\\n    if (vipStatus != 0) {\\n        // å¤§ä¼šå‘˜\\n        if (badge.match(/ä»˜è´¹/)) {\\n            return $(['é­”æ–­è§£æ', 'å·²è´­ä¹°'], 1).select((input, aid, cid) => {\\n                if (input == 'é­”æ–­è§£æ') {\\n                    eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\\n                    return aytmParse(link);\\n                } else {\\n                    return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, 116).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n                }\\n            }, link, aid, cid)\\n        } else {\\n            return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, 116).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n        }\\n    } else {\\n        // æ™®é€šç”¨æˆ·\\n        var setting=JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\"));\\n        var hasBfKey=setting.bfKey!=''?true:false;\\n        if (!hasBfKey) {\\n            if (badge.match(/ä¼šå‘˜|ä»˜è´¹/)) {\\n                eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\\n                return aytmParse(input);\\n            } else {\\n                return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, 116).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n            }\\n        } else {\\n            // å…±äº«ä¼šå‘˜æ’­æ”¾æƒç›Š\\n            if (badge.match(/ä»˜è´¹/)) {\\n                return $(['é­”æ–­è§£æ', 'å·²è´­ä¹°'], 1).select((input, aid, cid) => {\\n                    if (input == 'é­”æ–­è§£æ') {\\n                        eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\\n                        return aytmParse(link);\\n                    } else {\\n                        return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, 116).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n                    }\\n                }, link, aid, cid)\\n            } else {\\n                return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, 116).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n            }\\n        }\\n    }\\n});\\nvar Color = \\\"#19B89D\\\";\\nvar æ¯é¡µé›†æ•° = 30;\\nvar æœç´¢æ¨¡å¼ = 'åˆ†ç»„';\\nvar è°ƒç”¨åç§° = 'ç®€å½±';\\nputMyVar('æŠ˜å ', 'å…³');\\nputMyVar('æ—¥å†', 'å…³');\\nputMyVar('Data', Data);\\nputMyVar('lazy', lazy);\\n// æ¸…é™¤å˜é‡\\naddListener('onClose', $.toString(() => {\\n    clearMyVar('åˆ†é›†èµ·');\\n    clearMyVar('åˆ†é›†ç»ˆ');\\n    clearMyVar('æŠ˜å ');\\n    clearMyVar('æ—¥å†');\\n    clearMyVar('Data');\\n    clearMyVar('lazy');\\n    clearMyVar('å‰§é›†åˆ—è¡¨');\\n}))\\n// è®¾ç½®åŠ¨æ€æœ€æ–°ç« èŠ‚\\nsetLastChapterRule('js:' + $.toString(() => {\\n    eval(JSON.parse(request('hiker://page/getUpdate')).rule);\\n}));\\n// é¡µé¢å†…å®¹æ­£æ–‡---\\n// åŸºæœ¬ä¿¡æ¯æ¨¡å—\\nd.push({\\n    title: çŸ­è®¯,\\n    desc: ç®€ä»‹ == '' ? 'æš‚æ— ç®€ä»‹' : ç®€ä»‹.substring(0, 45) + 'â€˜â€˜â€™â€™â€¦<font color=\\\"#1C1C1C\\\">è¯¦æƒ…</font>',\\n    img: å°é¢,\\n    url: $().rule((ç®€ä»‹) => {\\n        res = {};\\n        var d = [];\\n        d.push({\\n            title: 'å½±ç‰‡ç®€ä»‹ï¼š' + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + ç®€ä»‹,\\n            col_type: 'long_text'\\n        });\\n        res.data = d;\\n        setHomeResult(res);\\n    }, ç®€ä»‹),\\n    col_type: 'movie_1_vertical_pic_blur',\\n    extra: {\\n        longClick: [{\\n            title: 'é¢„å‘Šã€èŠ±çµ®å¼€å…³', js: $.toString(() => {\\n                if (getItem('previewSwitch', 'fold') == 'fold') {\\n                    setItem('previewSwitch', 'open');\\n                    refreshPage(true);\\n                    return \\\"toast://é¢„å‘Šå·²ç»åˆ‡æ¢ä¸ºå±•ç¤º~\\\";\\n                } else {\\n                    setItem('previewSwitch', 'fold');\\n                    refreshPage(true);\\n                    return \\\"toast://é¢„å‘Šä¸å†å±•ç¤º~\\\";\\n                }\\n            }),\\n        }, {\\n            title: 'dmç›’å­', js: $.toString(() => {\\n                return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\\n            })\\n        }, {\\n            title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\\n                if (getItem('isOverrideSave', 'false') == 'true') {\\n                    setItem('isOverrideSave', 'false');\\n                    return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\\n                } else {\\n                    setItem('isOverrideSave', 'true');\\n                    return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\\n                }\\n            })\\n        }]\\n    }\\n});\\n// æ›´æ–°æ—¥å†æ¨¡å—\\nd.push({\\n    title: 'æ—¥å†',\\n    img: imgLink.æ—¥å†,\\n    url: $('#noLoading#').lazyRule((è¿½å‰§æ—¥å†, æ›´æ–°è¿›åº¦) => {\\n        if (getMyVar('æ—¥å†', 'å…³') == 'å¼€') {\\n            deleteItem('è¿½å‰§æ—¥å†');\\n            putMyVar('æ—¥å†', 'å…³');\\n        } else {\\n            addItemAfter('æ˜¾ç¤ºæ¨¡å¼', {\\n                title: è¿½å‰§æ—¥å†.match(/å®Œç»“|æœŸå¾…/) ? è¿½å‰§æ—¥å† : è¿½å‰§æ—¥å† + '<br><font color=\\\"red\\\">æ›´æ–°è‡³' + (æ›´æ–°è¿›åº¦.match(/[\\\\u4e00-\\\\u9fa5]/) ? æ›´æ–°è¿›åº¦ : ('ç¬¬' + (æ›´æ–°è¿›åº¦ == '' ? 0 : æ›´æ–°è¿›åº¦) + 'è¯')) + '</font>',\\n                col_type: \\\"rich_text\\\",\\n                extra: {\\n                    id: 'è¿½å‰§æ—¥å†'\\n                }\\n            });\\n            putMyVar('æ—¥å†', 'å¼€');\\n        }\\n        return 'toast://å·²åˆ‡æ¢æ—¥å†ä¸º:' + getMyVar('æ—¥å†', 'å¼€')\\n    }, è¿½å‰§æ—¥å†, æ›´æ–°è¿›åº¦),\\n    col_type: 'icon_5'\\n});\\n// è®¢é˜…æ¨¡å—\\nd.push({\\n    title: 'è®¢é˜…',\\n    img: imgLink.è®¢é˜…,\\n    url: $('#noLoading#').lazyRule(() => {\\n        selectionList = ['è®¢é˜…', 'å–æ¶ˆè®¢é˜…'];\\n        return $(selectionList, 2).select(() => {\\n            season_id = JSON.parse(getMyVar('Data')).season_id;\\n            if (input == 'è®¢é˜…') {\\n                res = $.require(\\\"hiker://page/api\\\").subscribeFilm(season_id);\\n            } else {\\n                res = $.require(\\\"hiker://page/api\\\").cancelSubscribeFilm(season_id);\\n            }\\n            return 'toast://' + res;\\n        });\\n    }),\\n    col_type: 'icon_5'\\n});\\n// è¯„è®ºæ¨¡å—\\nd.push({\\n    title: 'è¯„è®º',\\n    img: imgLink.æŸ¥çœ‹è¯„è®º,\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $('hiker://empty').rule(() => {\\n            var d = [];\\n            List = JSON.parse(getMyVar('Data')).episodes;\\n            List.forEach(item => {\\n                d.push({\\n                    title: item.share_copy + '<font color=\\\"#33cccc\\\">\\tâ®</font>',\\n                    img: item.cover + '@Referer=',\\n                    url: 'hiker://page/Comments?p=fypage',\\n                    col_type: \\\"avatar\\\",\\n                    extra: {\\n                        \\\"id\\\": item.aid,\\n                        \\\"type\\\": 1\\n                    }\\n                });\\n            });\\n            setResult(d);\\n        });\\n    }),\\n    col_type: 'icon_5'\\n});\\n\\n// ç²¾å½©ç»§ç»­æ¨¡å—\\nd.push({\\n    title: 'å‘¨è¾¹',\\n    img: imgLink.å‘¨è¾¹,\\n    url: $('#noLoading#').lazyRule(() => {\\n        Data = JSON.parse(getMyVar('Data'));\\n        // æœ‰äº›æ²¡æœ‰ç›´æ¥å»æ‰æ‡’å¾—å¤„ç†~\\n        if (Data.section) {\\n            å‘¨è¾¹æ•°ç»„ = [\\\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\\\", \\\"ğŸ¤£PV&èŠ±çµ®\\\", \\\"ğŸ‰ç«–å±ä¹Ÿç²¾å½©\\\", \\\"ğŸ”¥ç²¾å½©äºŒåˆ›\\\"];\\n        } else {\\n            å‘¨è¾¹æ•°ç»„ = [\\\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\\\"];\\n        }\\n        // å‘¨è¾¹æ•°ç»„ = [\\\"ğŸ·ï¸ç›¸å…³ç³»åˆ—\\\", \\\"ğŸ¤£PV&èŠ±çµ®\\\", \\\"ç«–å±ä¹Ÿç²¾å½©\\\", \\\"ç²¾å½©äºŒåˆ›\\\"];\\n        return $(å‘¨è¾¹æ•°ç»„, 1, 'áƒ¦ç²¾å½©ç»§ç»­').select(() => {\\n            Data = JSON.parse(getMyVar('Data'));\\n            lazy = getMyVar('lazy');\\n            if (input === 'ğŸ·ï¸ç›¸å…³ç³»åˆ—') {\\n                ç³»åˆ—åç§° = Data.season_title\\n                ç³»åˆ—æ•°æ® = Data.seasons;\\n                return $().rule((ç³»åˆ—æ•°æ®) => {\\n                    d = [];\\n                    setPageTitle('ğŸ·ï¸ç›¸å…³ç³»åˆ—');\\n                    if (ç³»åˆ—æ•°æ® == [] || ç³»åˆ—æ•°æ® == '') {\\n                        d.push({\\n                            title: 'â€˜â€˜â€™â€™<big><font color=\\\"red\\\">â­è¯¥å½±ç‰‡æ²¡æœ‰ç›¸å…³ç³»åˆ—å“¦~â­</font></big>',\\n                            url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\\n                            desc: 'æ•¬è¯·æœŸå¾…~',\\n                            col_type: 'text_center_1'\\n                        });\\n                    }\\n                    ç³»åˆ—æ•°æ®.forEach(list => {\\n                        d.push({\\n                            title: list.season_title,\\n                            img: (list.horizontal_cover_1610 == '' ? (list.horizontal_cover_169 == '' ? list.cover : list.horizontal_cover_169) : list.horizontal_cover_1610) + \\\"@Referer=\\\",\\n                            url: 'hiker://page/filmerji#immersiveTheme#',\\n                            desc: list.new_ep.index_show,\\n                            col_type: 'movie_1_left_pic',\\n                            extra: {\\n                                \\\"ep_id\\\": list.new_ep.id\\n                            }\\n                        });\\n                    });\\n                    setHomeResult(d);\\n                }, ç³»åˆ—æ•°æ®)\\n            } else if (input === 'ğŸ¤£PV&èŠ±çµ®') {\\n                try {\\n                    PVå’ŒèŠ±çµ®æ•°æ® = Data.section[0].episodes;\\n                    return $().rule((PVå’ŒèŠ±çµ®æ•°æ®, lazy) => {\\n                        d = [];\\n                        setPageTitle('ğŸ¤£PV&èŠ±çµ®');\\n                        if (PVå’ŒèŠ±çµ®æ•°æ® == [] || PVå’ŒèŠ±çµ®æ•°æ® == '') {\\n                            d.push({\\n                                title: 'â€˜â€˜â€™â€™<big><font color=\\\"red\\\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰ç›¸å…³PVå’ŒèŠ±çµ®å“¦~â­</font></big>',\\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\\n                                desc: 'æ•¬è¯·æœŸå¾…~',\\n                                col_type: 'text_center_1'\\n                            });\\n                        }\\n                        PVå’ŒèŠ±çµ®æ•°æ®.forEach(list => {\\n                            d.push({\\n                                title: list.title,\\n                                img: list.cover + \\\"@Referer=\\\",\\n                                url: list.link + lazy,\\n                                desc: list.subtitle + '\\\\n' + list.long_title,\\n                                col_type: 'movie_1_left_pic',\\n                                extra: {\\n                                    id: list.link,\\n                                    aid: list.aid,\\n                                    bvid: list.bvid,\\n                                    cid: list.cid,\\n                                    badge: list.badge\\n                                }\\n                            });\\n                        });\\n                        setHomeResult(d);\\n                    }, PVå’ŒèŠ±çµ®æ•°æ®, lazy)\\n                } catch (e) {\\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\\n                }\\n            } else if (input === 'ğŸ‰ç«–å±ä¹Ÿç²¾å½©') {\\n                try {\\n                    ç«–å±ä¹Ÿç²¾å½©æ•°æ® = Data.section[1].episodes;\\n                    return $().rule((ç«–å±ä¹Ÿç²¾å½©æ•°æ®, lazy) => {\\n                        d = [];\\n                        setPageTitle('ğŸ‰ç«–å±ä¹Ÿç²¾å½©');\\n                        if (ç«–å±ä¹Ÿç²¾å½©æ•°æ® == [] || ç«–å±ä¹Ÿç²¾å½©æ•°æ® == '') {\\n                            d.push({\\n                                title: 'â€˜â€˜â€™â€™<big><font color=\\\"red\\\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰ç›¸å…³ç«–å±çŸ­è§†é¢‘å“¦~â­</font></big>',\\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\\n                                desc: 'æ•¬è¯·æœŸå¾…~',\\n                                col_type: 'text_center_1'\\n                            });\\n                        }\\n                        ç«–å±ä¹Ÿç²¾å½©æ•°æ®.forEach(list => {\\n                            d.push({\\n                                title: list.title,\\n                                img: list.cover + \\\"@Referer=\\\",\\n                                url: list.link + lazy,\\n                                desc: list.subtitle + '\\\\n' + list.long_title,\\n                                col_type: 'movie_1_left_pic',\\n                                extra: {\\n                                    id: list.link,\\n                                    aid: list.aid,\\n                                    bvid: list.bvid,\\n                                    cid: list.cid,\\n                                    badge: list.badge\\n                                }\\n                            });\\n                        });\\n                        setHomeResult(d);\\n                    }, ç«–å±ä¹Ÿç²¾å½©æ•°æ®, lazy)\\n                } catch (e) {\\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\\n                }\\n            } else if (input === 'ğŸ”¥ç²¾å½©äºŒåˆ›') {\\n                try {\\n                    ç²¾å½©äºŒåˆ›æ•°æ® = Data.section[2].episodes;\\n                    return $().rule((ç²¾å½©äºŒåˆ›æ•°æ®, lazy) => {\\n                        d = [];\\n                        setPageTitle('ğŸ”¥ç²¾å½©äºŒåˆ›');\\n                        if (ç²¾å½©äºŒåˆ›æ•°æ® == [] || ç²¾å½©äºŒåˆ›æ•°æ® == '') {\\n                            d.push({\\n                                title: 'â€˜â€˜â€™â€™<big><font color=\\\"red\\\">â­è¯¥å½±ç‰‡/è§†é¢‘æ²¡æœ‰äºŒåˆ›ä½œå“å“¦~â­</font></big>',\\n                                url: 'toast://éƒ½æ²¡æœ‰ï¼Œï¼Œä½ ç‚¹å•¥å‘€~',\\n                                desc: 'æ•¬è¯·æœŸå¾…~',\\n                                col_type: 'text_center_1'\\n                            });\\n                        }\\n                        ç²¾å½©äºŒåˆ›æ•°æ®.forEach(list => {\\n                            // é’ˆå¯¹éƒ¨åˆ†å‚æ•°ç¼ºå¤±çš„æƒ…å†µå¦‚å‡¡äººä¿®ä»™ä¼ å†™çš„ï¼Œï¼Œ\\n                            if (list.aid == 0 || list.cid == 0) {\\n                                viedeoData = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + list.link.split('av')[1], {\\n                                    headers: {\\n                                        \\\"User-Agent\\\": PC_UA,\\n                                        \\\"Referer\\\": 'https://www.bilibili.com/'\\n                                    },\\n                                    method: \\\"GET\\\"\\n                                })).data;\\n                                aid = viedeoData.aid;\\n                                bvid = viedeoData.bvid;\\n                                cid = viedeoData.cid;\\n                            } else {\\n                                aid = list.aid;\\n                                bvid = list.bvid;\\n                                cid = list.cid;\\n                            }\\n                            d.push({\\n                                title: list.title,\\n                                img: list.cover + \\\"@Referer=\\\",\\n                                url: list.link + lazy,\\n                                desc: list.subtitle + '\\\\n' + list.long_title,\\n                                col_type: 'movie_1_left_pic',\\n                                extra: {\\n                                    id: list.link,\\n                                    aid: aid,\\n                                    bvid: bvid,\\n                                    cid: cid,\\n                                    badge: list.badge\\n                                }\\n                            });\\n                        });\\n                        setHomeResult(d);\\n                    }, ç²¾å½©äºŒåˆ›æ•°æ®, lazy)\\n                } catch (e) {\\n                    return 'toast://æ²¡æœ‰æ•°æ®å“¦~'\\n                }\\n            }\\n            return \\\"toast://æ­£åœ¨è¿›å…¥\\\" + input + \\\"ç•Œé¢...\\\";\\n        })\\n    }),\\n    col_type: \\\"icon_5\\\",\\n    extra: {\\n        id: 'ç²¾å½©ç»§ç»­'\\n    }\\n});\\n// æ˜¾ç¤ºæ¨¡å¼æ›´æ”¹æ¨¡å—\\nd.push({\\n    title: getItem('æ¨¡å¼', 'åŒè¾¹'),\\n    img: getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨' ? imgLink.åˆ—è¡¨ : imgLink.åŒè¾¹,\\n    url: $('#noLoading#').lazyRule(() => {\\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨'));\\n        if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\\n            æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\\n                updateItem(el.link, {\\n                    col_type: 'movie_2',\\n                });\\n            });\\n            setItem('æ¨¡å¼', 'åŒè¾¹')\\n        } else {\\n            æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\\n                updateItem(el.link, {\\n                    col_type: 'movie_1_left_pic',\\n                });\\n            });\\n            setItem('æ¨¡å¼', 'åˆ—è¡¨')\\n        }\\n        imgLink = storage0.getMyVar('å›¾æ ‡');\\n        updateItem('æ˜¾ç¤ºæ¨¡å¼', {\\n            title: getItem('æ¨¡å¼', 'åŒè¾¹'),\\n            img: getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨' ? imgLink.åˆ—è¡¨ : imgLink.åŒè¾¹,\\n        });\\n        return 'toast://å·²åˆ‡æ¢æ¨¡å¼ä¸º:' + getItem('æ¨¡å¼', 'åŒè¾¹')\\n    }),\\n    col_type: 'icon_5',\\n    extra: {\\n        id: 'æ˜¾ç¤ºæ¨¡å¼'\\n    }\\n}, {\\n    col_type: 'line_blank',\\n});\\n// é€‰æ’æ¨¡å—â€”â€”å±€éƒ¨åˆ·æ–°ç‰ˆ\\næ¥æº = 'bl';\\nputMyVar('ç®€æ’', $.toString(() => {\\n    let titleArr = []\\n    setFile = readFile('hiker://files/rules/DuanNian/MyParse.json');\\n    try {\\n        eval('json=' + setFile);\\n    } catch (e) {\\n        log('Jsonè§£æå‘ç”Ÿäº†é”™è¯¯:' + e.message);\\n    }\\n    titleArr = json.title;\\n    let barry1 = ['âœï¸è¾…åŠ©'];\\n    let barry2 = ['ğŸ“¦ï¸é­”æ–­'];\\n    let barry3 = ['ğŸ”æœç´¢'];\\n    titleArr = barry3.concat(titleArr);\\n    titleArr = barry2.concat(titleArr);\\n    titleArr = barry1.concat(titleArr);\\n    eval('op=json.settings.' + æ¥æº);\\n    titleArr = titleArr.map((it) => {\\n        return it === op ? 'ğŸ‘‰' + it : it;\\n    });\\n    putMyVar('è§£ææ•°ç»„', titleArr);\\n    putMyVar('setFile', setFile);\\n}))\\neval(getMyVar('ç®€æ’'));\\nd.push({\\n    title: 'è§£æï¼šğŸ”˜<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\té¡µç ï¼š<font color=\\\"' + Color + '\\\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\\n    url: $('#noLoading#').lazyRule((json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°) => {\\n        eval(getMyVar('ç®€æ’'));\\n        return $(eval(getMyVar('è§£ææ•°ç»„')), 3).select((json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°) => {\\n            setFile = getMyVar('setFile');\\n            input = input.replace(/ğŸ‘‰/g, '');\\n            if (input === 'âœï¸è¾…åŠ©') {\\n                return $().rule(() => {\\n                    eval(JSON.parse(request('hiker://page/home?rule=é…ç½®åŠ©æ‰‹')).rule);\\n                })\\n            } else if (input === 'ğŸ“¦ï¸é­”æ–­') {\\n                return \\\"hiker://page/Route?rule=MyFieldá´°â¿&type=ç¼–è¾‘#noHistory#\\\";\\n            } else if (input === 'ğŸ”æœç´¢') {\\n                if (æœç´¢æ¨¡å¼ == 'åˆ†ç»„') {\\n                    return \\\"hiker://search?s=\\\" + å½±ç‰‡åç§° + \\\"&group=\\\" + è°ƒç”¨åç§°;\\n                } else {\\n                    return \\\"hiker://search?s=\\\" + å½±ç‰‡åç§° + \\\"&rule=\\\" + è°ƒç”¨åç§°;\\n                }\\n            }\\n            // åŸå…ˆçš„é…ç½®\\n            originSettings = JSON.stringify(json.settings);\\n            // ä¿®æ”¹é…ç½®\\n            eval('json.settings.' + æ¥æº + '=input;');\\n            setFile = setFile.replace(originSettings, JSON.stringify(json.settings));\\n            saveFile('hiker://files/rules/DuanNian/MyParse.json', setFile);\\n            // åˆ·æ–°å…ƒç´ \\n            eval(getMyVar('ç®€æ’'));\\n            updateItem('op', {\\n                title: 'è§£æï¼šğŸ”˜<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\té¡µç ï¼š<font color=\\\"' + Color + '\\\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\\n            });\\n            return \\\"toast://åˆ‡æ¢è§£æå£ä¸º:\\\" + input;\\n        }, json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°)\\n    }, json, æ¥æº, Color, op, å½±ç‰‡åç§°, æœç´¢æ¨¡å¼, è°ƒç”¨åç§°),\\n    img: 'hiker://files/rules/cy/tubiao/bilibili.svg',\\n    col_type: \\\"avatar\\\",\\n    extra: {\\n        id: 'op'\\n    }\\n});\\n// æ»šåŠ¨å‰§é›†æ¡æ \\nå‰§é›†é•¿åº¦ = å‰§é›†åˆ—è¡¨.length;\\nif (å‰§é›†é•¿åº¦ > æ¯é¡µé›†æ•°) {\\n    putMyVar('åˆ·æ–°é€‰é›†', $.toString(() => {\\n        putMyVar('åˆ†é›†èµ·', start);\\n        putMyVar('åˆ†é›†ç»ˆ', end);\\n        eval(getMyVar('ç®€æ’'));\\n        updateItem('op', {\\n            title: 'è§£æï¼šğŸ”˜<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\té¡µç ï¼š<font color=\\\"' + Color + '\\\">' + ((getMyVar('åˆ†é›†èµ·', 'é¦–é¡µ') == 'é¦–é¡µ') ? 'é¦–é¡µ' : (getMyVar('åˆ†é›†èµ·') + '-' + getMyVar('åˆ†é›†ç»ˆ'))) + '</font>',\\n        })\\n        // åˆ é™¤\\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨'));\\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(el => {\\n            deleteItem(el.link);\\n        });\\n        // æ·»åŠ \\n        lazy = getMyVar('lazy');\\n        å‰§é›†åˆ—è¡¨ = JSON.parse(getMyVar('å‰§é›†åˆ—è¡¨'));\\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = å‰§é›†åˆ—è¡¨.slice(start - 1, end);\\n        newArray = [];\\n        index = 1;\\n        æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(list => {\\n            if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\\n                newArray.push({\\n                    title: list.long_title,\\n                    img: list.cover + \\\"@Referer=\\\",\\n                    url: list.link + lazy,\\n                    desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\\n                    col_type: 'movie_1_left_pic',\\n                    extra: {\\n                        id: list.link,\\n                        aid: list.aid,\\n                        bvid: list.bvid,\\n                        cid: list.cid,\\n                        badge: list.badge\\n                    }\\n                });\\n            } else {\\n                newArray.push({\\n                    title: list.long_title,\\n                    img: list.cover + \\\"@Referer=\\\",\\n                    url: list.link + lazy,\\n                    desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\\n                    col_type: 'movie_2',\\n                    extra: {\\n                        id: list.link,\\n                        aid: list.aid,\\n                        bvid: list.bvid,\\n                        cid: list.cid,\\n                        badge: list.badge\\n                    }\\n                });\\n            }\\n            index += 1;\\n        });\\n        addItemAfter(getMyVar('æœ«é¡µ'), newArray);\\n        putMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨', æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨);\\n    }));\\n    d.push({\\n        col_type: 'scroll_button',\\n        url: 'hiker://empty',\\n        title: 'âˆ·',\\n        extra: {\\n            id: 'å ä½ç¬¦',\\n        }\\n    })\\n    putMyVar('åˆ†é›†èµ·', 1);\\n    putMyVar('åˆ†é›†ç»ˆ', æ¯é¡µé›†æ•°);\\n    putMyVar('å‰§é›†åˆ—è¡¨', å‰§é›†åˆ—è¡¨);\\n    æ€»é¡µæ•° = Math.ceil(å‰§é›†é•¿åº¦ / æ¯é¡µé›†æ•°);\\n    start = 1;\\n    end = æ¯é¡µé›†æ•°;\\n    for (let page = 1; page <= æ€»é¡µæ•°; page++) {\\n        if (end > å‰§é›†é•¿åº¦) {\\n            end = å‰§é›†é•¿åº¦;\\n        }\\n        d.push({\\n            title: start + '-' + end,\\n            url: $('#noLoading##noHistory#').lazyRule((start, end, Color, æ¥æº) => {\\n                eval(getMyVar('åˆ·æ–°é€‰é›†'));\\n                return \\\"hiker://empty\\\";\\n            }, start, end, Color, æ¥æº),\\n            col_type: 'scroll_button',\\n            extra: {\\n                id: start + '-' + end\\n            }\\n        });\\n        if (end < å‰§é›†é•¿åº¦) {\\n            start += æ¯é¡µé›†æ•°;\\n            end += æ¯é¡µé›†æ•°;\\n        }\\n    }\\n    // è®°å½•æœ«é¡µçš„id\\n    putMyVar('æœ«é¡µ', start + '-' + end);\\n} else {\\n    putMyVar('åˆ†é›†èµ·', 1);\\n    putMyVar('åˆ†é›†ç»ˆ', å‰§é›†é•¿åº¦);\\n}\\n// å±•ç¤ºå‰§é›†:\\næ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨ = å‰§é›†åˆ—è¡¨.slice(0, getMyVar('åˆ†é›†ç»ˆ'));\\nputMyVar('æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨', æ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨);\\nindex = 1;\\næ˜¾ç¤ºçš„å‰§é›†åˆ—è¡¨.forEach(list => {\\n    if (getItem('æ¨¡å¼', 'åŒè¾¹') == 'åˆ—è¡¨') {\\n        d.push({\\n            title: list.long_title,\\n            img: list.cover + \\\"@Referer=\\\",\\n            url: list.link + lazy,\\n            desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\\n            col_type: 'movie_1_left_pic',\\n            extra: {\\n                id: list.link,\\n                aid: list.aid,\\n                bvid: list.bvid,\\n                cid: list.cid,\\n                badge: list.badge\\n            }\\n        });\\n    } else {\\n        d.push({\\n            title: list.long_title,\\n            img: list.cover + \\\"@Referer=\\\",\\n            url: list.link + lazy,\\n            desc: list.title.match(/[0-9]/) ? (list.badge + 'ç¬¬' + list.title + 'è¯') : list.title,\\n            col_type: 'movie_2',\\n            extra: {\\n                id: list.link,\\n                aid: list.aid,\\n                bvid: list.bvid,\\n                cid: list.cid,\\n                badge: list.badge\\n            }\\n        });\\n    }\\n    index += 1;\\n});\\nsetResult(d);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"upä¸»é¡µ\",\"path\":\"upHome\",\"rule\":\"js:\\nvar d = [];\\n// é¢„å¤„ç†\\nputMyVar('upInfo', 'å…³');\\nsetPageTitle(MY_PARAMS.title);\\nimgLink = storage0.getMyVar('å›¾æ ‡');\\n// é˜²æ­¢åçˆ¬è™«ï¼Œä»ä¸Šä¸€ä¸ªé¡µé¢ä¼ é€’æ•°æ®â€”â€”åçˆ¬è™«ä¸¥é‡\\nupMid = MY_PARAMS.mid + \\\"\\\";\\nupName = MY_PARAMS.title;\\nupFace = MY_PARAMS.face;\\nrelation = $.require(\\\"hiker://page/api\\\").userMapping(upMid);\\n// å¤´åƒæ \\nd.push({\\n    title: '<font color=\\\"blue\\\">' + upName + '</font>',\\n    url: $('#noLoading#').lazyRule((upMid) => {\\n        if (getMyVar('upInfo', 'å…³') == 'å¼€') {\\n            deleteItem('upInfo');\\n            putMyVar('upInfo', 'å…³');\\n        } else {\\n            try {\\n                // ç”¨æˆ·åŸºæœ¬ä¿¡æ¯\\n                queryJson = {\\n                    mid: upMid,\\n                    token: '',\\n                    platform: 'web',\\n                    web_location: 1550101\\n                }\\n                parms = $.require(\\\"hiker://page/api\\\").getWbiEnc(queryJson);\\n                infoLink = 'https://api.bilibili.com/x/space/wbi/acc/info?' + parms;\\n                upData = JSON.parse(fetch(infoLink, {\\n                    headers: {\\n                        \\\"User-Agent\\\": PC_UA,\\n                        \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n                        \\\"Cookie\\\": cookie=JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n                    }\\n                })).data;\\n                upName = upData.name;\\n                upSex = upData.sex;\\n                upSign = upData.sign;\\n                upBirthday = upData.birthday;\\n                try {\\n                    upSchool = upData.school.name;\\n                } catch (e) {\\n                    upSchool = '';\\n                }\\n                try {\\n                    upIdentification = upData.official.title;\\n                } catch (e) {\\n                    upIdentification = '';\\n                }\\n                addItemAfter('currentUp', {\\n                    title: 'up:' + upName + '\\\\nmid:' + upMid + '\\\\næ€§åˆ«:' + upSex + '\\\\nç”Ÿæ—¥:' + (upBirthday == '' ? 'æœªå¡«å†™' : upBirthday) + '\\\\n' + (upSchool == '' ? '' : 'å­¦æ ¡:' + upSchool + '\\\\n') + (upSign == '' ? '\\\\n' : upSign + '\\\\n') + (upIdentification == '' ? '' : 'è®¤è¯:'),\\n                    url: 'hiker://empty',\\n                    col_type: 'long_text',\\n                    extra: {\\n                        id: 'upInfo'\\n                    }\\n                });\\n            } catch (e) {\\n                addItemAfter('currentUp', {\\n                    title: 'å¥½åƒå‡ºäº†ç‚¹æ„å¤–ï¼Ÿä»€ä¹ˆéƒ½æœ¨æœ‰å‘¢~',\\n                    url: 'hiker://empty',\\n                    col_type: 'long_text',\\n                    extra: {\\n                        id: 'upInfo'\\n                    }\\n                });\\n            }\\n            putMyVar('upInfo', 'å¼€');\\n        }\\n        return 'toast://ä¿¡æ¯æŠ˜å :' + getMyVar('upInfo', 'å¼€')\\n    }, upMid),\\n    img: upFace + \\\"@Referer=\\\",\\n    col_type: \\\"avatar\\\",\\n    extra: {\\n        id: 'currentUp'\\n    }\\n}, {\\n    col_type: 'line'\\n});\\n// å…¬å‘Š\\nnoticeText = JSON.parse(fetch('https://api.bilibili.com/x/space/notice?mid=' + upMid + '&jsonp=jsonp', {\\n    headers: {\\n        \\\"User-Agent\\\": PC_UA,\\n        \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n        \\\"Cookie\\\": cookie=JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n    }\\n})).data;\\nif (noticeText != '') {\\n    d.push({\\n        title: 'å…¬å‘Š',\\n        url: $().rule((noticeText) => {\\n            var d = [];\\n            d.push({\\n                title: 'å…¬å‘Šï¼š' + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + noticeText,\\n                col_type: 'long_text'\\n            });\\n            setHomeResult(d);\\n        }, noticeText),\\n        desc: noticeText == '' ? 'æš‚æ— å…¬å‘Š' : noticeText,\\n        col_type: 'text_1',\\n    });\\n}\\nd.push({\\n    col_type: 'line'\\n}, {\\n    title: relation,\\n    img: relation == 'æœªå…³æ³¨' ? imgLink.æ·»åŠ å…³æ³¨ : imgLink.å·²å…³æ³¨,\\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\\n        return $.require(\\\"hiker://page/api\\\").changeUserRelation(upMid, 11)\\n    }, upMid),\\n    col_type: \\\"icon_small_4\\\",\\n    extra: {\\n        id: 'relation'\\n    }\\n}, {\\n    title: 'åŠ¨æ€',\\n    img: imgLink.åŠ¨æ€,\\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\\n        return $('hiker://empty?p=fypage').rule((upMid) => {\\n            let d = [];\\n            latenews = $.require(\\\"hiker://page/api\\\").getDynamicData('upSpace', upMid);\\n            eval($.require(\\\"hiker://page/api\\\").showDynamicData());\\n            setResult(d);\\n        }, upMid)\\n    }, upMid),\\n    col_type: \\\"icon_small_4\\\",\\n}, {\\n    title: 'ä¸“æ ',\\n    img: imgLink.ä¸“æ ,\\n    url: \\\"hiker://page/acticleList?p=fypage\\\",\\n    col_type: \\\"icon_small_4\\\",\\n    extra: {\\n        mid: upMid\\n    }\\n})\\n// ç”¨æˆ·è§†é¢‘-åˆé›†ã€ç³»åˆ—\\nupVideo = JSON.parse(fetch('https://api.bilibili.com/x/polymer/space/seasons_series_list?mid=' + upMid + '&page_num=1&page_size=10', {\\n    headers: {\\n        \\\"User-Agent\\\": PC_UA,\\n        \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n    }\\n})).data.items_lists;\\n// è§†é¢‘åˆé›†ã€ç³»åˆ—\\ntry {\\n    upVideo.seasons_list.forEach(list => {\\n        season_id = list.meta.season_id;\\n        // æ ‡é¢˜-è·³è½¬æ›´å¤š\\n        d.push({\\n            title: '<font color=\\\"#33cccc\\\">' + list.meta.name.substring(0, 30) + '</font>\\\\t\\\\t<font color=\\\"red\\\">' + list.meta.total + '</font>\\tâ®',\\n            img: imgLink.åˆé›†æ–‡ä»¶å¤¹,\\n            // img: list.meta.cover+'@Referer=',\\n            col_type: 'avatar',\\n            url: $('#noLoading##noHistory#').lazyRule((upMid, season_id) => {\\n                return $('hiker://empty?fypage').rule((upMid, season_id) => {\\n                    var d = [];\\n                    let u = 'https://api.bilibili.com/x/polymer/space/seasons_archives_list?mid=' + upMid + '&season_id=' + season_id + '&sort_reverse=false&page_num=' + MY_PAGE + '&page_size=30';\\n                    Video = JSON.parse(fetch(u, {\\n                        headers: {\\n                            \\\"User-Agent\\\": PC_UA,\\n                            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n                        }\\n                    })).data;\\n                    maxPage = Math.ceil(Video.page.total / Video.page.page_size);\\n                    if (MY_PAGE <= maxPage) {\\n                        d.push({\\n                            title: 'å½“å‰:ç¬¬' + Video.page.page_num + 'é¡µ\\\\t\\\\t\\\\tå…±æœ‰' + maxPage + 'é¡µ,' + Video.page.total + 'æ¡æ•°æ®',\\n                            url: \\\"hiker://empty\\\",\\n                            col_type: \\\"text_center_1\\\",\\n                        });\\n                        Video.archives.forEach(list => {\\n                            d.push({\\n                                title: list.title,\\n                                img: list.pic + '@Referer=',\\n                                desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\\n                                col_type: 'movie_1_left_pic',\\n                                url: \\\"hiker://page/video\\\",\\n                                extra: {\\n                                    aid: list.aid\\n                                }\\n                            });\\n                        });\\n                    }\\n                    setHomeResult(d);\\n                }, upMid, season_id)\\n            }, upMid, season_id)\\n        });\\n        if (list.archives === undefined) {\\n            log(list.meta.name + 'ä¸ºç©º');\\n        } else {\\n            if (list.archives.length < 2) {\\n                list.archives.forEach(list => {\\n                    d.push({\\n                        title: list.title,\\n                        img: list.pic + '@Referer=',\\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        extra: {\\n                            aid: list.aid\\n                        }\\n                    });\\n                });\\n            } else if (list.archives.length == 0) {\\n                d.push({\\n                    title: \\\"å¥½å®¶ä¼™ï¼Œè¿™å®¶ä¼™æ²¡æœ‰åˆé›†è§†é¢‘ï¼\\\",\\n                    desc: \\\"è¦ä¸å»ç‚¹å‡»å…¨éƒ¨è§†é¢‘çœ‹çœ‹~\\\",\\n                    col_type: 'text_center_1',\\n                    url: \\\"hiker://empty\\\",\\n                });\\n            } else {\\n                for (let i = 0; i < 2; i++) {\\n                    d.push({\\n                        title: list.archives[i].title,\\n                        img: list.archives[i].pic + '@Referer=',\\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.archives[i].stat.view,\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        extra: {\\n                            aid: list.archives[i].aid\\n                        }\\n                    });\\n                }\\n            }\\n        }\\n    });\\n} catch (e) {\\n    d.push({\\n        title: 'åˆé›†ä¸ºç©º',\\n        url: 'hiker://empty',\\n        desc: 'Sorry,æ²¡æœ‰æ•°æ®å‘¢~',\\n        col_type: 'text_center_1',\\n    });\\n}\\ntry {\\n    upVideo.series_list.forEach(list => {\\n        series_id = list.meta.series_id;\\n        // æ ‡é¢˜-è·³è½¬æ›´å¤š\\n        d.push({\\n            title: '<font color=\\\"#33cccc\\\">' + list.meta.name.substring(0, 30) + '</font>\\\\t\\\\t<font color=\\\"red\\\">' + list.meta.total + '</font>\\tâ®',\\n            img: imgLink.åˆé›†æ–‡ä»¶å¤¹,\\n            // img: list.meta.cover+'@Referer=',\\n            col_type: 'avatar',\\n            url: $('#noLoading##noHistory#').lazyRule((upMid, series_id) => {\\n                return $('hiker://empty?fypage').rule((upMid, series_id) => {\\n                    var d = [];\\n                    let u = 'https://api.bilibili.com/x/series/archives?mid=' + upMid + '&series_id=' + series_id + '&only_normal=true&sort=desc&pn=' + MY_PAGE + '&ps=30';\\n                    Video = JSON.parse(fetch(u, {\\n                        headers: {\\n                            \\\"User-Agent\\\": PC_UA,\\n                            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n                        }\\n                    })).data;\\n                    maxPage = Math.ceil(Video.page.total / Video.page.size);\\n                    if (MY_PAGE <= maxPage) {\\n                        d.push({\\n                            title: 'å½“å‰:ç¬¬' + Video.page.num + 'é¡µ\\\\t\\\\t\\\\tå…±æœ‰' + maxPage + 'é¡µ,' + Video.page.total + 'æ¡æ•°æ®',\\n                            url: \\\"hiker://empty\\\",\\n                            col_type: \\\"text_center_1\\\",\\n                        });\\n                        Video.archives.forEach(list => {\\n                            d.push({\\n                                title: list.title,\\n                                img: list.pic + '@Referer=',\\n                                desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\\n                                col_type: 'movie_1_left_pic',\\n                                url: \\\"hiker://page/video\\\",\\n                                extra: {\\n                                    aid: list.aid\\n                                }\\n                            });\\n                        });\\n                    }\\n                    setHomeResult(d);\\n                }, upMid, series_id)\\n            }, upMid, series_id)\\n        });\\n        if (list.archives === undefined) {\\n            log(list.meta.name + 'ä¸ºç©º');\\n        } else {\\n            if (list.archives.length < 2) {\\n                list.archives.forEach(list => {\\n                    d.push({\\n                        title: list.title,\\n                        img: list.pic + '@Referer=',\\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.stat.view,\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        extra: {\\n                            aid: list.aid\\n                        }\\n                    });\\n                });\\n            } else if (list.archives.length == 0) {\\n                d.push({\\n                    title: \\\"å¥½å®¶ä¼™ï¼Œè¿™å®¶ä¼™æ²¡æœ‰åˆé›†è§†é¢‘ï¼\\\",\\n                    desc: \\\"è¦ä¸å»ç‚¹å‡»å…¨éƒ¨è§†é¢‘çœ‹çœ‹~\\\",\\n                    col_type: 'text_center_1',\\n                    url: \\\"hiker://empty\\\",\\n                });\\n            } else {\\n                for (let i = 0; i < 2; i++) {\\n                    d.push({\\n                        title: list.archives[i].title,\\n                        img: list.archives[i].pic + '@Referer=',\\n                        desc: 'æ’­æ”¾é‡ï¼š' + list.archives[i].stat.view,\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        extra: {\\n                            aid: list.archives[i].aid\\n                        }\\n                    });\\n                }\\n            }\\n        }\\n    });\\n} catch (e) {\\n    d.push({\\n        title: 'ç³»åˆ—ä¸ºç©º',\\n        url: 'hiker://empty',\\n        desc: 'Sorry,æ²¡æœ‰æ•°æ®å‘¢~',\\n        col_type: 'text_center_1',\\n    });\\n}\\n// upæŠ•ç¨¿\\nd.push({\\n    title: 'TAçš„è§†é¢‘,ç‚¹å‡»å±•å¼€å…¨éƒ¨',\\n    col_type: 'text_center_1',\\n    url: $('#noLoading##noHistory#').lazyRule((upMid) => {\\n        return $().rule((upMid) => {\\n            var d = [];\\n            try {\\n                queryJson = {\\n                    mid: upMid,\\n                    ps: 30,\\n                    tid: getMyVar('_tid', '0'),\\n                    special_type: '',\\n                    pn: getMyVar('_page', '1'),\\n                    keyword: '',\\n                    order: 'pubdate',\\n                    platform: 'web',\\n                    // web_location: 1550101,\\n                    order_avoided: true\\n                }\\n                parms = $.require(\\\"hiker://page/api\\\").getWbiEnc(queryJson);\\n                dataLink = 'https://api.bilibili.com/x/space/wbi/arc/search?' + parms;\\n                upVideoData = JSON.parse(fetch(dataLink, {\\n                    headers: {\\n                        \\\"User-Agent\\\": PC_UA,\\n                        \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n                        \\\"Cookie\\\": cookie=JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n                    }\\n                })).data;\\n                tlist = upVideoData.list.tlist;\\n                vlist = upVideoData.list.vlist;\\n                // åˆ†ç±»å’Œé¡µç \\n                d.push({\\n                    title: getMyVar('_tid', '0') == 0 ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">å…¨éƒ¨</font>' : 'å…¨éƒ¨',\\n                    url: $('#noLoading##noHistory#').lazyRule(() => {\\n                        putMyVar('_tid', (0 + \\\"\\\"));\\n                        putMyVar('_page', (1 + \\\"\\\"));\\n                        refreshPage(true);\\n                        return \\\"hiker://empty\\\";\\n                    }),\\n                    col_type: 'scroll_button'\\n                });\\n                for (item in tlist) {\\n                    d.push({\\n                        title: (tlist[item].tid + \\\"\\\") == getMyVar('_tid', '0') ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">' + (tlist[item].name + `(${tlist[item].count})`) + '</font>' : (tlist[item].name + `(${tlist[item].count})`),\\n                        url: $('#noLoading##noHistory#').lazyRule((tid) => {\\n                            putMyVar('_tid', (tid + \\\"\\\"));\\n                            putMyVar('_page', (1 + \\\"\\\"));\\n                            refreshPage(true);\\n                            return \\\"hiker://empty\\\";\\n                        }, tlist[item].tid),\\n                        col_type: 'scroll_button'\\n                    });\\n                }\\n                d.push({\\n                    col_type: 'blank_block',\\n                });\\n                maxPage = Math.ceil(upVideoData.page.count / upVideoData.page.ps);\\n                for (let page = 1; page <= maxPage; page++) {\\n                    d.push({\\n                        title: (page + \\\"\\\") == getMyVar('_page', '1') ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">' + (page + \\\"\\\") + '</font>' : (page + \\\"\\\"),\\n                        url: $('#noLoading##noHistory#').lazyRule((page) => {\\n                            putMyVar('_page', (page + \\\"\\\"));\\n                            refreshPage(true);\\n                            return \\\"hiker://empty\\\";\\n                        }, page),\\n                        col_type: 'scroll_button',\\n                    });\\n                }\\n                // å¹³é“ºè§†é¢‘\\n                vlist.forEach(item => {\\n                    pubtime = $.require(\\\"hiker://page/api\\\").timeConvert(item.created);\\n                    d.push({\\n                        title: item.title,\\n                        img: item.pic + '@Referer=',\\n                        desc: 'æ’­æ”¾é‡ï¼š' + item.play + '\\\\n' + pubtime,\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        extra: {\\n                            aid: item.aid\\n                        }\\n                    });\\n                });\\n            } catch (e) {\\n                d.push({\\n                    title: 'é¡µé¢èµ°ä¸¢äº†...',\\n                    img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\\n                    url: 'hiker://empty',\\n                    desc: 'å¤ªé¢‘ç¹äº†ï¼ç¨åå†è¯•~',\\n                    col_type: \\\"pic_1\\\"\\n                });\\n            }\\n            setHomeResult(d);\\n        }, upMid)\\n    }, upMid)\\n});\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"upæœç´¢\",\"path\":\"upSearch\",\"rule\":\"js:\\nseaword = MY_PARAMS.seaword;\\nvar d = [];\\nresultData=$.require(\\\"hiker://page/api\\\").getSearchRes('bili_user',seaword,MY_PAGE,36);\\nif (MY_PAGE <= resultData.numPages) {\\n    d.push({\\n        title: 'å½“å‰:ç¬¬' + resultData.page + 'é¡µ\\\\t\\\\t\\\\tå…±æœ‰' + resultData.numPages + 'é¡µ,' + resultData.numResults + 'æ¡æ•°æ®',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n    });\\n    resultData.result.forEach(list => {\\n        d.push({\\n            title: \\\"<big><font color='blue'>\\\" + list.uname + \\\"</font></big><small>\\\" + list.usign + \\\"</small>\\\",\\n            img: 'https://' + list.upic + \\\"@Referer=\\\",\\n            col_type: 'avatar',\\n            url: \\\"hiker://page/upHome\\\",\\n            extra: {\\n                mid: list.mid,\\n                title: list.uname,\\n                face: 'https://' + list.upic\\n            }\\n        });\\n    });\\n}\\nsetSearchResult(d);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"videoæœç´¢\",\"path\":\"videoSearch\",\"rule\":\"js:\\nseaword = MY_PARAMS.seaword;\\nvar d = [];\\nvar resultData=$.require(\\\"hiker://page/api\\\").getSearchRes('video',seaword,MY_PAGE,42);\\nvar {timeConvert}=$.require(\\\"hiker://page/api\\\");\\nif (MY_PAGE <= resultData.numPages) {\\n    d.push({\\n        title: 'å½“å‰:ç¬¬' + resultData.page + 'é¡µ\\\\t\\\\t\\\\tå…±æœ‰' + resultData.numPages + 'é¡µ,' + resultData.numResults + 'æ¡æ•°æ®',\\n        url: \\\"hiker://empty\\\",\\n        col_type: \\\"text_center_1\\\",\\n    });\\n    resultData.result.forEach(list => {\\n        // title=list.title.replace('<em class=\\\\\\\"keyword\\\\\\\">','<font color=\\\"red\\\">').replace('</em>','</font>')\\n        title = list.title.replace(/<em class=\\\\\\\"keyword\\\\\\\">/g, '').replace(/<\\\\/em>/g, '')\\n        pbtime=timeConvert(list.pubdate);\\n        d.push({\\n            title: title,\\n            img: 'https://' + list.pic + \\\"@Referer=\\\",\\n            desc: 'â€œâ€œâ€â€<small><small><font color=\\\"grey\\\">æ’­æ”¾é‡:'+list.play+'\\\\t\\\\t\\\\tå¼¹å¹•:'+list.danmaku+'\\\\t\\\\t\\\\tå–œæ¬¢:'+list.like+'\\\\nå‘å¸ƒæ—¶é—´:'+pbtime+'</font></small></small>',\\n            col_type: 'movie_1_left_pic',\\n            url: \\\"hiker://page/video\\\",\\n            extra: {\\n                // è§†é¢‘æ ‡è¯†\\n                aid: list.aid,\\n                bvid:list.bvid,\\n                title: title\\n            }\\n        });\\n    });\\n}\\nsetSearchResult(d);\\n\"},{\"col_type\":\"movie_1_left_pic\",\"name\":\"æ¨é€\",\"path\":\"feed\",\"rule\":\"$.require(\\\"hiker://page/api\\\").getFeed().forEach(item => {\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: item.title,\\n\\nÂ  Â  Â  Â  img: item.pic+'@Referer=',\\n\\nÂ  Â  Â  Â  desc: 'up:' + item.owner.name + '\\\\n' + item.stat.view + \\\"æ’­æ”¾â€»\\\" + item.stat.like + \\\"ç‚¹èµ\\\",\\n\\nÂ  Â  Â  Â  url: \\\"hiker://page/video\\\",\\n\\nÂ  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  // idå…¶å®æ˜¯aid\\n\\nÂ  Â  Â  Â  Â  Â  aid: item.id,\\n\\nÂ  Â  Â  Â  Â  Â  cid: item.cid,\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })\\n\\n})\\n\\n\\n\"},{\"col_type\":\"text_1\",\"name\":\"API\",\"path\":\"api\",\"rule\":\"// part1:èšåˆå‡½æ•°----------------\\n// ç™»å½•éªŒè¯\\n$.exports.isLoggedIn = function () {\\n    if (fileExist(\\\"hiker://files/rules/cy/bili.txt\\\")) {\\n        biliData = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\"));\\n        if (biliData.userList.length == 0) {\\n            return JSON.stringify({\\n                \\\"userName\\\": 'æœªç™»å½•',\\n                \\\"userMid\\\": '',\\n                \\\"userFace\\\": '',\\n                \\\"type\\\": false\\n            })\\n        }\\n        currentUser = biliData.userList[0];\\n        var cookie = currentUser.cookie;\\n        let userinfo = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/nav\\\", {\\n            headers: {\\n                \\\"Cookie\\\": cookie\\n            }\\n        })).data;\\n        if (userinfo.isLogin === false) {\\n            return JSON.stringify({\\n                \\\"userName\\\": 'æœªç™»å½•',\\n                \\\"userMid\\\": '',\\n                \\\"userFace\\\": '',\\n                \\\"type\\\": false\\n            })\\n        } else {\\n            currentUser.userName = userinfo.uname;\\n            currentUser.userMid = userinfo.mid;\\n            // 1ï¼šä¼šå‘˜å¼€é€šï¼›0ï¼šæœªå¼€é€š\\n            currentUser.vipStatus = userinfo.vipStatus;\\n            currentUser.face = userinfo.face + \\\"@Referer=\\\";\\n            saveFile('hiker://files/rules/cy/bili.txt', JSON.stringify(biliData));\\n            // return true;\\n            return JSON.stringify({\\n                \\\"userName\\\": currentUser.userName,\\n                \\\"userMid\\\": currentUser.userMid,\\n                \\\"userFace\\\": currentUser.face,\\n                \\\"type\\\": true\\n            });\\n        }\\n    } else {\\n        return JSON.stringify({\\n            \\\"userName\\\": 'æœªç™»å½•',\\n            \\\"userMid\\\": '',\\n            \\\"userFace\\\": '',\\n            \\\"type\\\": false\\n        });\\n    }\\n}\\n// å“”å“©è§†é¢‘è§£æï¼šè·å–æ’­æ”¾åœ°å€+æäº¤æ’­æ”¾è®°å½•\\n$.exports.biliLazy = function (id, cid, qn) {\\n    // é‡ç½®åŸç”Ÿå¼¹å¹•ç»Ÿä¸€å¼¹å¹•å¤§å°ã€ä¿®æ”¹æ­¥é•¿\\n    function overrideSave(dm) {\\n        var danmuData = request(dm);\\n        // å­—ä½“å¤§å°ã€å¼¹å¹•æ­¥é•¿\\n        var danmuSetting = JSON.parse(readFile('hiker://files/dmç›’å­/settings.json'));\\n        var size = danmuSetting.fontSize;\\n        var step = danmuSetting.step;\\n        var data = '';\\n        td = pdfa(danmuData, 'i&&d');\\n        for (let i = 0; i < td.length; i += step) {\\n            timepoint = pdfh(td[i], 'd&&p').split(\\\",\\\")[0];\\n            ct = pdfh(td[i], 'd&&p').split(\\\",\\\")[1];\\n            color = pdfh(td[i], 'd&&p').split(\\\",\\\")[3];\\n            // å¼¹å¹•å†…å®¹\\n            content = pdfh(td[i], 'd&&Text');\\n            if (content.indexOf('<') != -1 || content.indexOf('>') != -1 || content.indexOf('&') != -1 || content.indexOf('\\\\u0000') != -1 || content.indexOf('\\\\b') != -1) {\\n                continue;\\n            }\\n            tempdata = `<d p=\\\"${Math.round(timepoint)},${ct},${size},${color},0\\\">${content}</d>\\\\n`;\\n            data += tempdata;\\n        }\\n        danmustr = `<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?>\\\\n<i>\\\\n${data}</i>`;\\n        saveFile(dm, danmustr);\\n    }\\n    // åˆ¤æ–­æ˜¯å¦é‡å†™\\n    var dm = 'https://comment.bilibili.com/' + cid + '.xml';\\n    if (getItem('isOverrideSave', 'false') == 'true') {\\n        file = 'https://comment.bilibili.com/' + cid + '.xml';\\n        dm = 'hiker://files/cache/danmu/' + 'bili_from_' + getPageTitle() + '.xml';\\n        downloadFile(file, dm);\\n        overrideSave(dm);\\n    }\\n    var data = $.require(\\\"hiker://page/api\\\").getUrl(id, cid, qn);\\n    // æäº¤å†å²è®°å½•\\n    $.require(\\\"hiker://page/api\\\").reportProcess(id, cid);\\n    // qualityNum=dash.audio.length;ä¸éœ€è¦äº†ï¼Œæ‰¾åˆ°äº†æ›´å¥½çš„åˆ¤æ–­æ–¹æ³•ï¼Œè™½ç„¶æˆ‘å¹¶ä¸çŸ¥é“è¿™äº›å‚æ•°çš„å«ä¹‰æ˜¯ä»€ä¹ˆ\\n    videoList = [];\\n    audioList = [];\\n    nameList = [];\\n    headers = [];\\n    try {\\n        data.audio.forEach(item => {\\n            audioList.push(item.baseUrl);\\n            headers.push({\\n                \\\"Referer\\\": \\\"https://www.bilibili.com\\\",\\n                \\\"User-Agent\\\": PC_UA\\n            });\\n        });\\n        data.video.forEach(item => {\\n            if (item.codecid == 7) {\\n                videoList.push(item.baseUrl + \\\"#isVideo=true#\\\");\\n                if (item.id == 126) {\\n                    nameList.push('æœæ¯”è§†ç•Œ');\\n                } else if (item.id == 125) {\\n                    nameList.push('HDR çœŸå½©è‰²');\\n                } else if (item.id == 120) {\\n                    nameList.push('4Kè¶…æ¸…');\\n                } else if (item.id == 116) {\\n                    nameList.push('1080P60é«˜å¸§ç‡');\\n                } else if (item.id == 112) {\\n                    nameList.push('1080P+é«˜ç ç‡');\\n                } else if (item.id == 80) {\\n                    nameList.push('1080Pé«˜æ¸…');\\n                } else if (item.id == 74) {\\n                    nameList.push('720P60é«˜å¸§ç‡');\\n                } else if (item.id == 64) {\\n                    nameList.push('720Pé«˜æ¸…');\\n                } else if (item.id == 32) {\\n                    nameList.push('480Pæ¸…æ™°');\\n                } else if (item.id == 16) {\\n                    nameList.push('360Pæµç•…');\\n                } else if (item.id == 6) {\\n                    nameList.push('240Pæé€Ÿ');\\n                }\\n            }\\n        });\\n        // ä¿æŒé•¿åº¦ä¸€è‡´\\n        while (audioList.length < videoList.length) {\\n            // å¤åˆ¶ audioList ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿½åŠ åˆ°æ•°ç»„æœ«å°¾\\n            audioList.push(audioList[audioList.length - 1]);\\n            // å¤åˆ¶ headers ä¸­æœ€åä¸€ä¸ªå…ƒç´ å¹¶è¿½åŠ åˆ°æ•°ç»„æœ«å°¾\\n            headers.push(headers[headers.length - 1]);\\n        }\\n        return JSON.stringify({\\n            urls: videoList,\\n            audioUrls: audioList,\\n            headers: headers,\\n            names: nameList,\\n            danmu: dm\\n        })\\n    } catch (e) {\\n        log(\\\"æ­£å¸¸è§£é‡Šå¤±è´¥ï¼Œè¿›è¡Œæœ€åå°è¯•:\\\");\\n        return JSON.stringify({\\n            urls: [data.durl[0].url + \\\"#isVideo=true#\\\"],\\n            names: [data.quality + \\\"\\\"],\\n            danmu: dm,\\n            headers: [{\\n                \\\"Referer\\\": \\\"https://www.bilibili.com\\\",\\n                \\\"User-Agent\\\": PC_UA\\n            }]\\n        })\\n    }\\n}\\n// ç¨ååœ¨çœ‹â€”â€”æ€»æ“ä½œåˆ¤æ–­\\n$.exports.judgeToview = function (aid) {\\n    selection = ['æ·»åŠ ', 'ç§»é™¤'];\\n    return $(selection, 1).select((aid) => {\\n        if (input == 'æ·»åŠ ') {\\n            res = $.require(\\\"hiker://page/api\\\").addToview(aid);\\n            if (res == 0) {\\n                return \\\"toast://æ·»åŠ æˆåŠŸ\\\"\\n            } else if (res == -101) {\\n                return \\\"toast://è´¦å·æœªç™»å½•\\\"\\n            } else if (res == -111) {\\n                return \\\"toast://csrfæ ¡éªŒå¤±è´¥\\\"\\n            } else if (res == -400) {\\n                return \\\"toast://è¯·æ±‚é”™è¯¯\\\"\\n            } else if (res == 90001) {\\n                return \\\"toast://åˆ—è¡¨å·²æ»¡\\\"\\n            } else if (res == 90003) {\\n                return \\\"toast://ç¨¿ä»¶å·²ç»è¢«åˆ é™¤\\\"\\n            } else {\\n                return \\\"toast://æœªçŸ¥é”™è¯¯\\\"\\n            }\\n        } else {\\n            res = $.require(\\\"hiker://page/api\\\").delToview(aid);\\n            if (res == 0) {\\n                return \\\"toast://ç§»é™¤æˆåŠŸ\\\"\\n            } else if (res == -101) {\\n                return \\\"toast://è´¦å·æœªç™»å½•\\\"\\n            } else if (res == -111) {\\n                return \\\"toast://csrfæ ¡éªŒå¤±è´¥\\\"\\n            } else if (res == -400) {\\n                return \\\"toast://è¯·æ±‚é”™è¯¯\\\"\\n            } else {\\n                return \\\"toast://æœªçŸ¥é”™è¯¯\\\"\\n            }\\n        }\\n    }, aid)\\n}\\n// æ“ä½œç”¨æˆ·å…³ç³»\\n$.exports.changeUserRelation = function (mid, re_src) {\\n    selection = ['å…³æ³¨', 'å–å…³', 'æ‚„æ‚„å…³æ³¨', 'å–æ¶ˆæ‚„æ‚„å…³æ³¨', 'æ‹‰é»‘', 'å–æ¶ˆæ‹‰é»‘', 'è¸¢å‡ºç²‰ä¸', 'ç§»åŠ¨åˆ†ç»„'];\\n    return $(selection, 2).select((mid, re_src) => {\\n        if (input == 'ç§»åŠ¨åˆ†ç»„') {\\n            beforeTagids = [];\\n            groups = $.require(\\\"hiker://page/api\\\").getUserGroup(mid);\\n            if (JSON.stringify(groups) == '{}') {\\n                beforeTagids.push(0);\\n            } else {\\n                for (var prop in groups) {\\n                    beforeTagids.push(parseInt(prop));\\n                }\\n            }\\n            // è·å–æˆ‘çš„åˆ†ç»„\\n            focusGroupList = [];\\n            $.require(\\\"hiker://page/api\\\").getMyAttentionGroupList().forEach(list => {\\n                focusGroupList.push(list.name + ' ' + list.tagid);\\n            });\\n            return $(focusGroupList, 1).select((beforeTagids, mid) => {\\n                afterTagids = [];\\n                afterTagids.push(parseInt(input.split(' ')[1]));\\n                fids = [];\\n                fids.push(Number(mid));\\n                res = $.require(\\\"hiker://page/api\\\").moveUsers(beforeTagids, afterTagids, fids);\\n                if (res == 0) {\\n                    return \\\"toast://ç§»åŠ¨ç”¨æˆ·åˆ°\\\" + input.split(' ')[0] + \\\"åˆ†ç»„æˆåŠŸ\\\"\\n                } else if (res == -101) {\\n                    return \\\"toast://è´¦å·æœªç™»å½•\\\"\\n                } else if (res == -111) {\\n                    return \\\"toast://csrfæ ¡éªŒå¤±è´¥\\\"\\n                } else if (res == -400) {\\n                    return \\\"toast://è¯·æ±‚é”™è¯¯\\\"\\n                } else if (res == 22104) {\\n                    return \\\"toast://æ— æƒé™\\\"\\n                } else if (res == 22105) {\\n                    return \\\"toast://æœªå…³æ³¨\\\"\\n                } else {\\n                    return \\\"toast://æœªçŸ¥é”™è¯¯\\\"\\n                }\\n            }, beforeTagids, mid);\\n        } else {\\n            if (input == 'å…³æ³¨') {\\n                var act = 1;\\n            } else if (input == 'å–å…³') {\\n                var act = 2;\\n            } else if (input == 'æ‚„æ‚„å…³æ³¨') {\\n                var act = 3;\\n            } else if (input == 'å–æ¶ˆæ‚„æ‚„å…³æ³¨') {\\n                var act = 4;\\n            } else if (input == 'æ‹‰é»‘') {\\n                var act = 5;\\n            } else if (input == 'å–æ¶ˆæ‹‰é»‘') {\\n                var act = 6;\\n            } else if (input == 'è¸¢å‡ºç²‰ä¸') {\\n                var act = 7;\\n            }\\n            res = $.require(\\\"hiker://page/api\\\").addAttention(mid, act, re_src);\\n            relation = $.require(\\\"hiker://page/api\\\").userMapping(mid);\\n            updateItem('relation', {\\n                title: relation,\\n                img: relation == 'æœªå…³æ³¨' ? storage0.getMyVar('å›¾æ ‡').æ·»åŠ å…³æ³¨ : storage0.getMyVar('å›¾æ ‡').å·²å…³æ³¨\\n            });\\n            if (res == 0) {\\n                return \\\"toast://\\\" + input + \\\"æˆåŠŸ\\\"\\n            } else if (res == -101) {\\n                return \\\"toast://è´¦å·æœªç™»å½•\\\"\\n            } else if (res == -111) {\\n                return \\\"toast://csrfæ ¡éªŒå¤±è´¥\\\"\\n            } else if (res == -400) {\\n                return \\\"toast://è¯·æ±‚é”™è¯¯\\\"\\n            } else if (res == 22001) {\\n                return \\\"toast://ä¸èƒ½å¯¹è‡ªå·±è¿›è¡Œæ­¤æ“ä½œ\\\"\\n            } else if (res == 22003) {\\n                return \\\"toast://ç”¨æˆ·ä½äºé»‘åå•\\\"\\n            } else {\\n                return \\\"toast://æœªçŸ¥é”™è¯¯\\\"\\n            }\\n        }\\n    }, mid, re_src)\\n}\\n// æ˜ å°„ç”¨æˆ·å…³ç³»\\n$.exports.userMapping = function (mid) {\\n    relationRes = $.require(\\\"hiker://page/api\\\").getRelation(mid);\\n    if (relationRes.relation.attribute == 0) {\\n        relation = 'æœªå…³æ³¨'\\n    } else if (relationRes.relation.attribute == 1) {\\n        relation = 'æ‚„æ‚„å…³æ³¨'\\n    } else if (relationRes.relation.attribute == 2) {\\n        relation = 'å·²å…³æ³¨'\\n    } else if (relationRes.relation.attribute == 6) {\\n        relation = 'å·²äº’ç²‰'\\n    } else if (relationRes.relation.attribute == 128) {\\n        relation = 'å·²æ‹‰é»‘'\\n    }\\n    return relation;\\n}\\n// ç‚¹èµæ“ä½œé€»è¾‘\\n$.exports.likeLogic = function (aid) {\\n    hasLike = $.require(\\\"hiker://page/api\\\").hasLike(aid);\\n    if (hasLike == 0) {\\n        res = $.require(\\\"hiker://page/api\\\").setLike(aid, 1);\\n        if (res == 0) {\\n            like = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data.stat.like;\\n            updateItem('setLike', {\\n                title: (like + 1) + '',\\n                img: storage0.getMyVar('å›¾æ ‡').å·²ç‚¹èµ\\n            });\\n            return \\\"toast://ç‚¹èµæˆåŠŸ\\\";\\n        } else {\\n            return \\\"toast://ç‚¹èµå‡ºé”™äº†~\\\";\\n        }\\n    } else {\\n        res = $.require(\\\"hiker://page/api\\\").setLike(aid, 2);\\n        if (res == 0) {\\n            like = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data.stat.like;\\n            updateItem('setLike', {\\n                title: (like - 1) + '',\\n                img: storage0.getMyVar('å›¾æ ‡').æœªç‚¹èµ\\n            });\\n            return \\\"toast://å–æ¶ˆç‚¹èµæˆåŠŸ\\\";\\n        } else {\\n            return \\\"toast://å–æ¶ˆç‚¹èµå‡ºé”™äº†~\\\";\\n        }\\n    }\\n}\\n// æ”¶è—æ“ä½œé€»è¾‘\\n$.exports.favourLogic = function (aid, mid) {\\n    hasFavour = $.require(\\\"hiker://page/api\\\").hasFavour(aid);\\n    if (hasFavour) {\\n        // ç§»å‡ºæ”¶è—\\n        favourIdList = $.require(\\\"hiker://page/api\\\").getFavourIdList(aid, mid);\\n        res = $.require(\\\"hiker://page/api\\\").setFavour(aid, '', favourIdList);\\n        if (res == 0) {\\n            like = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data.stat.favorite;\\n            updateItem('setFavour', {\\n                title: (like - 1) + '',\\n                img: storage0.getMyVar('å›¾æ ‡').æœªæ”¶è—\\n            });\\n            return \\\"toast://å–æ¶ˆæ”¶è—æˆåŠŸ\\\";\\n        } else {\\n            return \\\"toast://å–æ¶ˆæ”¶è—å‡ºé”™äº†~\\\";\\n        }\\n    } else {\\n        // é€‰æ‹©æ”¶è—\\n        res = $.require(\\\"hiker://page/api\\\").getCollectionGroupList()[0].mediaListResponse.list;\\n        GroupList = [];\\n        res.forEach(item => {\\n            GroupList.push(item.title + ' ' + item.id);\\n        });\\n        return $(GroupList, 1).select((aid) => {\\n            selectId = parseInt(input.split(' ')[1])\\n            res = $.require(\\\"hiker://page/api\\\").setFavour(aid, selectId, '');\\n            if (res == 0) {\\n                like = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data.stat.favorite;\\n                updateItem('setFavour', {\\n                    title: (like + 1) + '',\\n                    img: storage0.getMyVar('å›¾æ ‡').å·²æ”¶è—\\n                });\\n                return \\\"toast://æ”¶è—æˆåŠŸ\\\";\\n            } else {\\n                return \\\"toast://æ”¶è—å‡ºé”™äº†~\\\";\\n            }\\n        }, aid);\\n    }\\n}\\n\\n// part2:æ•£è£…API----------------\\n// è·å–æœç´¢ç»“æœ\\n$.exports.getSearchRes = function (search_type, seaword, page, pageSize) {\\n    queryJson = {\\n        __refresh__: true,\\n        _extra: '',\\n        context: '',\\n        page: page,\\n        page_size: pageSize,\\n        order: '',\\n        duration: '',\\n        from_source: '',\\n        from_spmid: 333.337,\\n        platform: 'pc',\\n        highlight: 1,\\n        single_column: 0,\\n        keyword: seaword,\\n        search_type: search_type,\\n        preload: true,\\n        com2co: true\\n    }\\n    parms = $.require(\\\"hiker://page/api\\\").getWbiEnc(queryJson);\\n    dataLink = 'https://api.bilibili.com/x/web-interface/wbi/search/type?' + parms;\\n    cookie = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie;\\n    res = JSON.parse(fetch(dataLink, {\\n        headers: {\\n            \\\"User-Agent\\\": PC_UA,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": cookie\\n        },\\n        method: \\\"GET\\\"\\n    })).data;\\n    return res;\\n}\\n// è§†é¢‘æ¨è\\n$.exports.getFeed = function () {\\n    let u = \\\"https://api.bilibili.com/x/web-interface/index/top/feed/rcmd\\\";\\n    var res = JSON.parse(fetch(u, {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    }));\\n    return res.data.item\\n}\\n// è·å–æ’­æ”¾åœ°å€\\n$.exports.getUrl = function (avid, cid, qn) {\\n    var setting = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\"));\\n    var Cookie = setting.bfKey != '' ? base64Decode(base64Decode(setting.bfKey)) : setting.userList[0].cookie;\\n    try {\\n        let u = request(buildUrl(\\\"http://api.bilibili.com/x/player/playurl\\\", {\\n            \\\"avid\\\": avid,\\n            \\\"cid\\\": cid,\\n            \\\"qn\\\": qn,\\n            \\\"fnver\\\": 0,\\n            // \\\"fnval\\\": 4048,\\n            \\\"fnval\\\": 16,\\n            \\\"fourk\\\": 1\\n        }), {\\n            headers: {\\n                Cookie: Cookie\\n            }\\n        })\\n        res = JSON.parse(u);\\n        if (res.data.dash) {\\n            return res.data.dash;\\n        } else {\\n            log(\\\"æ²¡æœ‰æ‰¾åˆ°dashå­—æ®µ\\\");\\n            if (res.data.support_formats) {\\n                if (u.includes(\\\"è¯•çœ‹\\\")) {\\n                    msg = \\\"æ‚¨åˆšæ‰è§‚çœ‹çš„è§†é¢‘æ˜¯è¯•çœ‹è§†é¢‘ï¼Œè§‚çœ‹å®Œæ•´ç‰‡æ®µè¯·å‰å¾€å®˜ç½‘è´­ä¹°ï¼\\\";\\n                    log(msg);\\n                    confirm({\\n                        title: 'æ¸©é¦¨æç¤º', content: msg, confirm: $.toString(() => {\\n                        }), cancel: $.toString(() => {})\\n                    })\\n                }\\n            }\\n            return res.data;\\n        }\\n    } catch (e) {\\n        try {\\n            // ä¸€äººä¹‹ä¸‹ç¬¬ä¸€å­£çš„ç¬¬1ï¼Œ2é›†â€”â€”å¯ä»¥è·å–å¤§ä¼šå‘˜å‰§é›†çš„å‰3min\\n            log('å°è¯•æ›´æ”¹è¯·æ±‚æ¥å£...:' + e);\\n            let u = request(buildUrl(\\\"https://api.bilibili.com/pgc/player/web/playurl\\\", {\\n                \\\"avid\\\": avid,\\n                \\\"cid\\\": cid,\\n                \\\"qn\\\": qn,\\n                \\\"fnver\\\": 0,\\n                // \\\"fnval\\\": 4048,\\n                \\\"fnval\\\": 16,\\n                \\\"fourk\\\": 1\\n            }), {\\n                headers: {\\n                    Cookie: Cookie\\n                }\\n            })\\n            // ä»™ç‹çš„æ—¥å¸¸ç¬¬ä¸‰å­£ç¬¬10é›†ï¼Œæ²¡æœ‰dashï¼Œæœäº†\\n            if (JSON.parse(u).result.dash) {\\n                return JSON.parse(u).result.dash;\\n            } else {\\n                log('å°è¯•èµ°å•çº¿è·¯ç”»è´¨~');\\n                return JSON.parse(u).result;\\n            }\\n        } catch (error) {\\n            log('cookieæœ‰æ²¡æœ‰å¯èƒ½å¤±æ•ˆäº†å‘¢~');\\n            return '';\\n        }\\n    }\\n}\\n// æäº¤æ’­æ”¾è®°å½•\\n$.exports.reportProcess = function (avid, cid) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let res = post(\\\"http://api.bilibili.com/x/v2/history/report\\\", {\\n        body: {\\n            \\\"aid\\\": avid,\\n            \\\"cid\\\": cid,\\n            \\\"csrf\\\": csrf,\\n            \\\"progress\\\": 0\\n        },\\n        headers: {\\n            Cookie: JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })\\n}\\n\\n// è·å–è¯„è®º\\n$.exports.getComments = function (id, type, page) {\\n    let u = buildUrl(\\\"http://api.bilibili.com/x/v2/reply\\\", {\\n        \\\"type\\\": type,\\n        \\\"oid\\\": id,\\n        \\\"pn\\\": page\\n    });\\n    let res = request(u, {\\n        headers: {\\n            Cookie: JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })\\n    return JSON.parse(res).data.replies\\n}\\n// æ·»åŠ ç¨ååœ¨çœ‹â€”â€”çœŸçš„éº»äº†ï¼Œä¸ºä»€ä¹ˆfetchå°±é”™å‘¢~\\n$.exports.addToview = function (aid) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"https://api.bilibili.com/x/v2/history/toview/add\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"aid\\\": aid,\\n        \\\"csrf\\\": csrf,\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).code;\\n}\\n// åˆ é™¤ç¨ååœ¨çœ‹\\n$.exports.delToview = function (aid) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"http://api.bilibili.com/x/v2/history/toview/del\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"aid\\\": aid,\\n        \\\"csrf\\\": csrf,\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).code;\\n}\\n// è®¢é˜…å½±è§†(è¿½ç•ªã€è¿½å‰§)\\n$.exports.subscribeFilm = function (season_id) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"https://api.bilibili.com/pgc/web/follow/add\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"season_id\\\": season_id,\\n        \\\"csrf\\\": csrf,\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).result.toast;\\n}\\n// å–æ¶ˆè®¢é˜…\\n$.exports.cancelSubscribeFilm = function (season_id) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"https://api.bilibili.com/pgc/web/follow/del\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"season_id\\\": season_id,\\n        \\\"csrf\\\": csrf,\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).result.toast;\\n}\\n/*æ“ä½œç”¨æˆ·å…³ç³»\\nfid:ç”¨æˆ·mid\\nact:æ“ä½œä»£ç \\nre_srcï¼šå…³æ³¨æ¥æº\\n*/\\n$.exports.addAttention = function (mid, act, re_src) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"https://api.bilibili.com/x/relation/modify\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"fid\\\": mid,\\n        \\\"act\\\": act,\\n        \\\"re_src\\\": re_src,\\n        \\\"csrf\\\": csrf\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).code;\\n}\\n// ç§»åŠ¨å…³æ³¨ç”¨æˆ·åˆ†ç»„\\n$.exports.moveUsers = function (beforeTagids, afterTagids, fids) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let u = \\\"https://api.bilibili.com/x/relation/tags/moveUsers\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"beforeTagids\\\": beforeTagids.toString(),\\n        \\\"afterTagids\\\": afterTagids.toString(),\\n        \\\"fids\\\": fids.toString(),\\n        \\\"csrf\\\": csrf\\n    }), {\\n        headers: {\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        },\\n        method: \\\"POST\\\"\\n    })\\n    return JSON.parse(res).code;\\n}\\n// è·å–ç”¨æˆ·å…³ç³»\\n$.exports.getRelation = function (mid) {\\n    // https://api.bilibili.com/x/space/acc/relation?mid=,æ—§æ¥å£\\n    parms = $.require(\\\"hiker://page/api\\\").getWbiEnc({ mid: mid });\\n    infoLink = 'https://api.bilibili.com/x/space/wbi/acc/relation?' + parms;\\n    return JSON.parse(request(infoLink, {\\n        headers: {\\n            \\\"User-Agent\\\": PC_UA,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\",\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })).data\\n}\\n// æŸ¥è¯¢ç›®æ ‡ç”¨æˆ·æ‰€åœ¨çš„åˆ†ç»„\\n$.exports.getUserGroup = function (mid) {\\n    return JSON.parse(request(\\\"https://api.bilibili.com/x/relation/tag/user?fid=\\\" + mid, {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })).data\\n}\\n// è·å–å…³æ³¨åˆ†ç»„\\n$.exports.getMyAttentionGroupList = function () {\\n    return JSON.parse(fetch(\\\"https://api.bilibili.com/x/relation/tags?jsonp=jsonp\\\", {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n            \\\"User-Agent\\\": PC_UA,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n        }\\n    })).data;\\n}\\n// æ˜¯å¦ç‚¹èµ\\n$.exports.hasLike = function (aid) {\\n    return JSON.parse(request(buildUrl(\\\"http://api.bilibili.com/x/web-interface/archive/has/like\\\", {\\n        \\\"aid\\\": aid\\n    }), {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })).data\\n}\\n// æ˜¯å¦æ”¶è—\\n$.exports.hasFavour = function (aid) {\\n    return JSON.parse(request(buildUrl(\\\"http://api.bilibili.com/x/v2/fav/video/favoured\\\", {\\n        \\\"aid\\\": aid\\n    }), {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })).data.favoured\\n}\\n// è§†é¢‘ç‚¹èµ\\n$.exports.setLike = function (aid, dealWay) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let res = post(\\\"http://api.bilibili.com/x/web-interface/archive/like\\\", {\\n        body: {\\n            \\\"aid\\\": aid,\\n            \\\"like\\\": dealWay,\\n            \\\"csrf\\\": csrf\\n        },\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    })\\n    return JSON.parse(res).code;\\n}\\n// è·å–æ”¶è—åˆ—è¡¨\\n$.exports.getCollectionGroupList = function () {\\n    return collections = JSON.parse(fetch(\\\"https://api.bilibili.com/x/v3/fav/folder/list4navigate\\\", {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n        }\\n    })).data;\\n}\\n// æ”¶è—/å–æ¶ˆè§†é¢‘API\\n$.exports.setFavour = function (aid, add_media_ids, del_media_ids) {\\n    let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/) === null ? JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.split('bili_jct=')[1] : JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie.match(/bili_jct=(.*?);/)[1];\\n    let res = post(\\\"http://api.bilibili.com/medialist/gateway/coll/resource/deal\\\", {\\n        body: {\\n            \\\"rid\\\": aid,\\n            \\\"type\\\": 2,\\n            \\\"add_media_ids\\\": add_media_ids.toString(),\\n            \\\"del_media_ids\\\": del_media_ids.toString(),\\n            \\\"csrf\\\": csrf\\n        },\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com\\\"\\n        }\\n    })\\n    return JSON.parse(res).code;\\n}\\n// è·å–è§†é¢‘æ‰€åœ¨æ”¶è—å¤¹\\n$.exports.getFavourIdList = function (aid, userMid) {\\n    let u = \\\"https://api.bilibili.com/x/v3/fav/folder/created/list-all\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"type\\\": 2,\\n        \\\"rid\\\": aid,\\n        \\\"up_mid\\\": userMid,\\n    }), {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com\\\"\\n        }\\n    });\\n    favourIdList = [];\\n    JSON.parse(res).data.list.forEach((item) => {\\n        if (item.fav_state == 1) {\\n            favourIdList.push(item.id);\\n        }\\n    })\\n    return favourIdList;\\n}\\n// çƒ­æ˜ å‰§é›†æ—¶é—´è½´\\n$.exports.getMovies = function (type, before, after) {\\n    let u = buildUrl(\\\"http://api.bilibili.com/pgc/web/timeline\\\", {\\n        \\\"types\\\": type,\\n        \\\"before\\\": before,\\n        \\\"after\\\": after\\n    })\\n    let res = JSON.parse(request(u, {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n        }\\n    }))\\n    return res.result\\n}\\n// è·å–ä¸“æ æ–‡ç« \\n$.exports.getUserArticle = function (upMid, page) {\\n    let u = \\\"https://api.bilibili.com/x/space/article\\\";\\n    let res = request(buildUrl(u, {\\n        \\\"mid\\\": upMid,\\n        \\\"pn\\\": page,\\n        \\\"ps\\\": 12,\\n        \\\"sort\\\": 'publish_time'\\n    }), {\\n        headers: {\\n            \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n            \\\"Referer\\\": \\\"https://www.bilibili.com\\\"\\n        }\\n    });\\n    return JSON.parse(res).data;\\n}\\n// è·å–åŠ¨æ€æ•°æ®\\n$.exports.getDynamicData = function (from, upMid) {\\n    var nextInfo = {};\\n    if (MY_PAGE == 1) {\\n        if (from == 'upSpace') {\\n            var u = \\\"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space?offset=&host_mid=\\\" + upMid + \\\"&timezone_offset=-480\\\";\\n        } else {\\n            var u = \\\"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/all?timezone_offset=-480&type=all\\\";\\n        }\\n        latenews = JSON.parse(fetch(u, {\\n            headers: {\\n                \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie,\\n                \\\"User-Agent\\\": PC_UA,\\n                \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n            }\\n        })).data;\\n        nextInfo.offset = latenews.offset;\\n    } else {\\n        if (from == 'upSpace') {\\n            var u = \\\"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/space?offset=\\\" + storage0.getMyVar(JSON.stringify(MY_PAGE)).offset + \\\"&host_mid=\\\" + upMid + \\\"&timezone_offset=-480\\\";\\n        } else {\\n            var u = \\\"https://api.bilibili.com/x/polymer/web-dynamic/v1/feed/all?timezone_offset=-480&type=all&offset=\\\" + storage0.getMyVar(JSON.stringify(MY_PAGE)).offset;\\n        }\\n        latenews = JSON.parse(fetch(u, {\\n            headers: {\\n                \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userList[0].cookie\\n            }\\n        })).data;\\n        nextInfo.offset = latenews.offset;\\n    }\\n    storage0.putMyVar(JSON.stringify(MY_PAGE + 1), nextInfo);\\n    return latenews;\\n}\\n\\n// â€”â€”ç‰¹åˆ«çš„è¡Œä¸ºã€å·¥å…·å‡½æ•°â€”â€”\\n// å±•ç¤ºåŠ¨æ€æ•°æ®(è¿”å›å‡½æ•°æ–¹æ³•çš„å¯æ‰§è¡Œå­—ç¬¦ä¸²)\\n$.exports.showDynamicData = function () {\\n    return $.toString(() => {\\n        imgLink = storage0.getMyVar('å›¾æ ‡');\\n        latenews.items.forEach(list => {\\n            if (list.type == 'DYNAMIC_TYPE_AV') {\\n                // æŠ•ç¨¿è§†é¢‘ï¼ˆå½“å‰å‘å¸ƒï¼‰âˆš\\n                d.push({\\n                    title: list.modules.module_author.name,\\n                    desc: '<small><small><font color=\\\"grey\\\">' + list.modules.module_author.pub_time + '-' + list.modules.module_author.pub_action + '</font></small></small>',\\n                    img: list.modules.module_author.face + \\\"@Referer=\\\",\\n                    url: 'hiker://page/upHome',\\n                    col_type: 'avatar',\\n                    extra: {\\n                        mid: list.modules.module_author.mid,\\n                        title: list.modules.module_author.name,\\n                        face: list.modules.module_author.face\\n                    }\\n                }, {\\n                    col_type: 'line'\\n                }, {\\n                    // ä¸ä¸€å®šæœ‰æ–‡å­—å•Š\\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                    url: 'hiker://page/Comments?p=fypage',\\n                    // è¿™ä¸ªä¸èƒ½ç”¨long_text\\n                    col_type: 'rich_text',\\n                    extra: {\\n                        id: list.basic.comment_id_str,\\n                        type: 1\\n                    }\\n                }, {\\n                    title: list.modules.module_dynamic.major.archive.title,\\n                    img: list.modules.module_dynamic.major.archive.cover + \\\"@Referer=\\\",\\n                    col_type: 'movie_1_left_pic',\\n                    url: \\\"hiker://page/video\\\",\\n                    desc: list.modules.module_dynamic.major.archive.desc,\\n                    extra: {\\n                        aid: list.modules.module_dynamic.major.archive.aid,\\n                        lineVisible: false\\n                    }\\n                }, {\\n                    desc: '<small><small><font color=\\\"grey\\\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\\\t\\\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\\\t\\\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\\n                    url: 'hiker://empty',\\n                    col_type: 'avatar'\\n                }, {\\n                    col_type: 'line_blank'\\n                });\\n            } else if (list.type == 'DYNAMIC_TYPE_FORWARD') {\\n                // å¼•ç”¨ï¼Œå¤šå‡ºäº†origæŒ‡å‘ä¸€ä¸ª(è¿‡å»)å·²å‘å¸ƒçš„è§†é¢‘,å‡†ç¡®çš„è¯´æ˜¯å¼•ç”¨ä¹‹å‰çš„å¸–å­ä¸ä¸€å®šæ˜¯è§†é¢‘âˆš\\n                d.push({\\n                    title: list.modules.module_author.name,\\n                    img: list.modules.module_author.face + \\\"@Referer=\\\",\\n                    desc: '<small><small><font color=\\\"grey\\\">' + list.modules.module_author.pub_time + '</font></small></small>',\\n                    url: 'hiker://page/upHome',\\n                    col_type: 'avatar',\\n                    extra: {\\n                        mid: list.modules.module_author.mid,\\n                        title: list.modules.module_author.name,\\n                        face: list.modules.module_author.face\\n                    }\\n                }, {\\n                    col_type: 'line'\\n                }, {\\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                    url: 'hiker://page/Comments?p=fypage',\\n                    col_type: 'rich_text',\\n                    extra: {\\n                        id: list.basic.comment_id_str,\\n                        // ä¹Ÿæ˜¯çº¯æ–‡å­—ï¼Œå› ä¸ºåªæ˜¯æ–‡å­—+å¼•ç”¨æ—©å·²æŠ•ç¨¿çš„è§†é¢‘\\n                        type: 17\\n                    }\\n                });\\n                // å¼•ç”¨çš„å†…å®¹â€”â€”æˆªæ–­ï¼ˆæ ¹æ®ä¸åŒçš„å¼•ç”¨ç±»å‹è¿›è¡Œå¤„ç†ï¼‰\\n                d.push({\\n                    title: '<small><small>ä¸‹é¢å†…å®¹æ¥è‡ªå¼•ç”¨çš„å¸–å­,upæ˜¯:<a href=\\\"hiker://page/upHome\\\">' + list.orig.modules.module_author.name + '</a></small></small>',\\n                    col_type: \\\"rich_text\\\",\\n                    extra: {\\n                        mid: list.orig.modules.module_author.mid,\\n                        title: list.orig.modules.module_author.name,\\n                        face: list.orig.modules.module_author.face\\n                    }\\n                }, {\\n                    col_type: \\\"line\\\"\\n                });\\n                if (list.orig.type == 'DYNAMIC_TYPE_AV') {\\n                    // å¼•ç”¨è§†é¢‘è¯´è¯´\\n                    d.push({\\n                        title: list.orig.modules.module_dynamic.major.archive.title,\\n                        img: list.orig.modules.module_dynamic.major.archive.cover + \\\"@Referer=\\\",\\n                        col_type: 'movie_1_left_pic',\\n                        url: \\\"hiker://page/video\\\",\\n                        desc: list.orig.modules.module_dynamic.major.archive.desc,\\n                        extra: {\\n                            aid: list.orig.modules.module_dynamic.major.archive.aid,\\n                            lineVisible: false\\n                        }\\n                    });\\n                } else if (list.orig.type == 'DYNAMIC_TYPE_WORD') {\\n                    // å¼•ç”¨æ–‡å­—è¯´è¯´\\n                    d.push({\\n                        title: (list.orig.modules.module_dynamic.desc.text === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.orig.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                        url: 'hiker://page/Comments?p=fypage',\\n                        col_type: 'rich_text',\\n                        extra: {\\n                            // è¯„è®ºidæ¥æºéƒ½ä¸ä¸€æ ·\\n                            id: list.orig.id_str,\\n                            // çº¯æ–‡å­—\\n                            type: 17\\n                        }\\n                    });\\n\\n                } else if (list.orig.type == 'DYNAMIC_TYPE_DRAW') {\\n                    // å¼•ç”¨å›¾ç‰‡è¯´è¯´\\n                    d.push({\\n                        title: (list.orig.modules.module_dynamic.desc.text === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.orig.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                        col_type: 'rich_text',\\n                        url: \\\"hiker://page/Comments?p=fypage\\\",\\n                        extra: {\\n                            id: list.orig.modules.module_dynamic.major.draw.id,\\n                            type: 11\\n                        }\\n                    });\\n                    list.orig.modules.module_dynamic.major.draw.items.forEach(item => {\\n                        d.push({\\n                            img: item.src + \\\"@Referer=\\\",\\n                            col_type: 'pic_3_square',\\n                            url: item.src + \\\"@Referer=\\\",\\n                        });\\n                    });\\n                } else {\\n                    log('å¯èƒ½è¿˜æœ‰æœªé€‚é…çš„è¯´è¯´ç±»å‹');\\n                }\\n                // åˆ†å‰²\\n                d.push({\\n                    desc: '<small><small><font color=\\\"grey\\\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\\\t\\\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\\\t\\\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\\n                    url: 'hiker://empty',\\n                    col_type: 'avatar'\\n                }, {\\n                    col_type: 'line_blank'\\n                });\\n            } else if (list.type == 'DYNAMIC_TYPE_WORD') {\\n                // çº¯æ–‡å­—\\n                d.push({\\n                    title: list.modules.module_author.name,\\n                    desc: '<small><small><font color=\\\"grey\\\">' + list.modules.module_author.pub_time + '</font></small></small>',\\n                    img: list.modules.module_author.face + \\\"@Referer=\\\",\\n                    url: 'hiker://page/upHome',\\n                    col_type: 'avatar',\\n                    extra: {\\n                        mid: list.modules.module_author.mid,\\n                        title: list.modules.module_author.name,\\n                        face: list.modules.module_author.face\\n                    }\\n                }, {\\n                    col_type: 'line'\\n                }, {\\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                    url: 'hiker://page/Comments?p=fypage',\\n                    col_type: 'rich_text',\\n                    extra: {\\n                        id: list.basic.comment_id_str,\\n                        // çº¯æ–‡å­—\\n                        type: 17\\n                    }\\n                }, {\\n                    desc: '<small><small><font color=\\\"grey\\\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\\\t\\\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\\\t\\\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\\n                    url: 'hiker://empty',\\n                    col_type: 'avatar'\\n                }, {\\n                    col_type: 'line_blank'\\n                });\\n            } else if (list.type == 'DYNAMIC_TYPE_DRAW') {\\n                // å›¾ç‰‡è¯´è¯´\\n                d.push({\\n                    title: list.modules.module_author.name,\\n                    desc: '<small><small><font color=\\\"grey\\\">' + list.modules.module_author.pub_time + '</font></small></small>',\\n                    img: list.modules.module_author.face + \\\"@Referer=\\\",\\n                    url: 'hiker://page/upHome',\\n                    col_type: 'avatar',\\n                    extra: {\\n                        mid: list.modules.module_author.mid,\\n                        title: list.modules.module_author.name,\\n                        face: list.modules.module_author.face\\n                    }\\n                }, {\\n                    col_type: 'line'\\n                }, {\\n                    title: (list.modules.module_dynamic.desc === null ? '<font color=\\\"grey\\\">upå¤ªæ‡’äº†ï¼Œè¿æ–‡æ¡ˆéƒ½ä¸æƒ³é…...</font>' : list.modules.module_dynamic.desc.text).replace(/\\\\n/g, '<br>') + '<br><a href=\\\"hiker://page/Comments?p=fypage\\\">æŸ¥çœ‹è¯„è®º</a>',\\n                    url: 'hiker://page/Comments?p=fypage',\\n                    col_type: 'rich_text',\\n                    extra: {\\n                        id: list.basic.comment_id_str,\\n                        // ç›¸ç°¿ï¼ˆå›¾ç‰‡åŠ¨æ€ï¼‰\\n                        type: 11\\n                    }\\n                });\\n                list.modules.module_dynamic.major.draw.items.forEach(item => {\\n                    d.push({\\n                        img: item.src + \\\"@Referer=\\\",\\n                        col_type: 'pic_3_square',\\n                        url: item.src + \\\"@Referer=\\\",\\n                    });\\n                });\\n                d.push({\\n                    desc: '<small><small><font color=\\\"grey\\\">ç•™è¨€:' + list.modules.module_stat.comment.count + '\\\\t\\\\tåˆ†äº«:' + list.modules.module_stat.forward.count + '\\\\t\\\\tå–œæ¬¢:' + list.modules.module_stat.like.count + '</font></small></small>',\\n                    img: imgLink.åŠ¨æ€è¶³è¿¹,\\n                    url: 'hiker://empty',\\n                    col_type: 'avatar'\\n                }, {\\n                    col_type: 'line_blank'\\n                });\\n            }\\n        });\\n    })\\n}\\n// æ—¶é—´æ—¥æœŸè½¬æ¢å‡½æ•°\\n$.exports.timeConvert = function (time) {\\n    function formatDate(e, t) {\\n        e = new Date(e * 1000); //æ—¶é—´æˆ³ä¸º10ä½éœ€*1000ï¼Œæ—¶é—´æˆ³ä¸º13ä½çš„è¯ä¸éœ€ä¹˜1000\\n        return t.replace(/yyyy|YYYY/, e.getFullYear())\\n            .replace(/yy|YY/, r(e.getFullYear() % 100, 2))\\n            .replace(/mm|MM/, r(e.getMonth() + 1, 2))\\n            .replace(/m|M/g, e.getMonth() + 1)\\n            .replace(/dd|DD/, r(e.getDate(), 2))\\n            .replace(/d|D/g, e.getDate())\\n            .replace(/hh|HH/, r(e.getHours(), 2))\\n            .replace(/h|H/g, e.getHours())\\n            .replace(/ii|II/, r(e.getMinutes(), 2))\\n            .replace(/i|I/g, e.getMinutes())\\n            .replace(/ss|SS/, r(e.getSeconds(), 2))\\n            .replace(/s|S/g, e.getSeconds())\\n            .replace(/w/g, e.getDay())\\n            .replace(/W/g, [\\\"æ—¥\\\", \\\"ä¸€\\\", \\\"äºŒ\\\", \\\"ä¸‰\\\", \\\"å››\\\", \\\"äº”\\\", \\\"å…­\\\"][e.getDay()])\\n    }\\n\\n    function r(e, t) {\\n        for (var r = 0, n = t - (e + \\\"\\\").length; r < n; r++) e = \\\"0\\\" + e;\\n        return e + \\\"\\\"\\n    }\\n    return formatDate(time, 'YYYY-MM-DD hh:ii:ss');\\n    // console.log(formatDate(1664089532, 'YYYY-MM-DD hh:ii:ss'));\\n}\\n// ç§’æ•°åˆ†é’Ÿè¡¨è¾¾è½¬æ¢å‡½æ•°\\n$.exports.formatSeconds = function (seconds) {\\n    let minutes = Math.floor(seconds / 60); // è®¡ç®—åˆ†é’Ÿæ•°\\n    let remainingSeconds = seconds % 60; // è®¡ç®—å‰©ä½™çš„ç§’æ•°\\n    let formattedTime = `${minutes}:${String(remainingSeconds).padStart(2, '0')}`;\\n    return formattedTime;\\n}\\n\\n// Bç«™Wbiç­¾åç®—æ³•(After 2023-3,get request with wbi.)\\n$.exports.getWbiEnc = function (queryJson) {\\n    const mixinKeyEncTab = [\\n        46, 47, 18, 2, 53, 8, 23, 32, 15, 50, 10, 31, 58, 3, 45, 35, 27, 43, 5, 49,\\n        33, 9, 42, 19, 29, 28, 14, 39, 12, 38, 41, 13, 37, 48, 7, 16, 24, 55, 40,\\n        61, 26, 17, 0, 1, 60, 51, 30, 4, 22, 25, 54, 21, 56, 59, 6, 63, 57, 62, 11,\\n        36, 20, 34, 44, 52\\n    ];\\n\\n    // å¯¹ imgKey å’Œ subKey è¿›è¡Œå­—ç¬¦é¡ºåºæ‰“ä¹±ç¼–ç \\n    function getMixinKey(orig) {\\n        let temp = '';\\n        mixinKeyEncTab.forEach((n) => {\\n            temp += orig[n]\\n        });\\n        return temp.slice(0, 32);\\n    }\\n\\n    // ä¸ºè¯·æ±‚å‚æ•°è¿›è¡Œ wbi ç­¾å\\n    function encWbi(params, img_key, sub_key) {\\n        const mixin_key = getMixinKey(img_key + sub_key),\\n            curr_time = Math.round(Date.now() / 1000),\\n            chr_filter = /[!'\\\\(\\\\)*]/g\\n        let query = [];\\n        params = Object.assign(params, { wts: curr_time });    // æ·»åŠ  wts å­—æ®µ\\n        // æŒ‰ç…§ key é‡æ’å‚æ•°\\n        Object.keys(params).sort().forEach((key) => {\\n            query.push(\\n                encodeURIComponent(key) +\\n                '=' +\\n                // è¿‡æ»¤ value ä¸­çš„ \\\"!'()*\\\" å­—ç¬¦\\n                encodeURIComponent(('' + params[key]).replace(chr_filter, ''))\\n            )\\n        })\\n        query = query.join('&');\\n        const wbi_sign = md5(query + mixin_key); // è®¡ç®— w_rid\\n        return query + '&w_rid=' + wbi_sign;\\n    }\\n\\n    // è·å–æœ€æ–°çš„ img_key å’Œ sub_key\\n    function getWbiKeys() {\\n        const json_content = JSON.parse(fetch('https://api.bilibili.com/x/web-interface/nav', {\\n            headers: {\\n                \\\"User-Agent\\\": PC_UA,\\n                \\\"Referer\\\": \\\"https://www.bilibili.com/\\\"\\n            },\\n            method: 'GET'\\n        })).data;\\n        img_url = json_content.wbi_img.img_url;\\n        sub_url = json_content.wbi_img.sub_url;\\n        return {\\n            img_key: img_url.substring(img_url.lastIndexOf('/') + 1, img_url.length).split('.')[0],\\n            sub_key: sub_url.substring(sub_url.lastIndexOf('/') + 1, sub_url.length).split('.')[0]\\n        }\\n    }\\n\\n    const wbi_keys = getWbiKeys();\\n\\n    const query = encWbi(\\n        queryJson,\\n        wbi_keys.img_key,\\n        wbi_keys.sub_key\\n    );\\n    return query;\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"videoPage\",\"path\":\"video\",\"rule\":\"js:\\nvar d = [];\\n// é¢„å¤„ç†\\nputMyVar('åŠŸèƒ½æŠ˜å ', 'å…³');\\nimgLink = storage0.getMyVar('å›¾æ ‡');\\naid = MY_PARAMS.aid + \\\"\\\";\\n// bvid = MY_PARAMS.bvid + \\\"\\\";\\nmid = MY_PARAMS.mid + \\\"\\\";\\nvar {formatSeconds}=$.require(\\\"hiker://page/api\\\");\\ntry {\\n    //è·å–è§†é¢‘åˆ†Pä¿¡æ¯\\n    var p = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data;\\n    hasLike = $.require(\\\"hiker://page/api\\\").hasLike(aid);\\n    hasFavour = $.require(\\\"hiker://page/api\\\").hasFavour(aid);\\n    setPageTitle(p.title);\\n    setPagePicUrl(p.pic + '@Referer=');\\n    // åªæœ‰1Pçš„æƒ…å†µ\\n    if (p.pages.length == 1) {\\n        cid = p.pages[0].cid;\\n        d.push({\\n            title: p.title,\\n            img: p.pic + '@Referer=',\\n            url: $().lazyRule((aid, cid, qn) => {\\n                // çœŸç¦»äº†ä¸ªå¤§è°±ï¼Œæ˜æ˜æ›¿æ¢æ‰äº†ï¼Œuaå­—ç¬¦ä¸²åˆå˜å›æ¥äº†ï¼Œåˆè¦å¤„ç†ä¸€æ¬¡\\n                return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, qn).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n            }, aid + \\\"\\\", cid + \\\"\\\", '112'),\\n            col_type: \\\"pic_1\\\",\\n            desc:'æ’­æ”¾é‡:'+p.stat.view+'\\\\t\\\\t\\\\tå¼¹å¹•æ•°:'+p.stat.danmaku+'\\\\nå‘å¸ƒæ—¥æœŸ:'+$.require(\\\"hiker://page/api\\\").timeConvert(p.ctime),\\n            extra: {\\n                id:'aid-'+aid+'|cid-'+cid,\\n                longClick: [{\\n                    title: 'dmç›’å­', js: $.toString(() => {\\n                        return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\\n                    })\\n                }, {\\n                    title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\\n                        if (getItem('isOverrideSave', 'false') == 'true') {\\n                            setItem('isOverrideSave', 'false');\\n                            return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\\n                        } else {\\n                            setItem('isOverrideSave', 'true');\\n                            return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\\n                        }\\n                    })\\n                }]\\n            }\\n        });\\n        d.push({\\n            title: '<font color=\\\"blue\\\">' + p.owner.name + '</font>',\\n            url: \\\"hiker://page/upHome\\\",\\n            img: p.owner.face + \\\"@Referer=\\\",\\n            col_type: \\\"avatar\\\",\\n            extra: {\\n                mid: p.owner.mid,\\n                title: p.owner.name,\\n                face: p.owner.face\\n            }\\n        });\\n        // è™½ç„¶åªæœ‰1P,ä½†å¯èƒ½å¤„äºåˆé›†è§†é¢‘ä¸­ï¼Œå¾€å¾€åœ¨upä¸Šä¼ ä¸­å±äºä¸€å¥—å½±ç‰‡\\n        if (p.ugc_season) {\\n            d.push({\\n                title: 'ğŸ“æ‰€å±åˆé›†ï¼š<a href=\\\"hiker://page/collectionViedo\\\">'+p.ugc_season.title+'</a>',\\n                url: \\\"hiker://page/collectionViedo#noHistory#\\\",\\n                col_type: 'rich_text',\\n                extra: { \\\"textSize\\\": 12, aid: aid }\\n            })\\n        }\\n        d.push({\\n            col_type: 'line'\\n        }, {\\n            title: p.stat.like,\\n            img: hasLike == 1 ? imgLink.å·²ç‚¹èµ : imgLink.æœªç‚¹èµ,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                return $.require(\\\"hiker://page/api\\\").likeLogic(aid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                id: 'setLike'\\n            }\\n        }, {\\n            title: p.stat.favorite,\\n            img: hasFavour ? imgLink.å·²æ”¶è— : imgLink.æœªæ”¶è—,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                upMid = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userMid;\\n                return $.require(\\\"hiker://page/api\\\").favourLogic(aid, upMid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                id: 'setFavour'\\n            }\\n        }, {\\n            title: 'ç¨åå†çœ‹',\\n            img: imgLink.ç¨åå†çœ‹,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                return $.require(\\\"hiker://page/api\\\").judgeToview(aid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n        }, {\\n            title: 'æŸ¥çœ‹è¯„è®º',\\n            url: 'hiker://page/Comments?p=fypage',\\n            img: imgLink.æŸ¥çœ‹è¯„è®º,\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                \\\"id\\\": aid,\\n                \\\"type\\\": 1\\n            }\\n        }, {\\n            col_type: 'line_blank'\\n        }, {\\n            title: p.desc,\\n            col_type: \\\"long_text\\\",\\n        });\\n    } else {\\n        // å­˜åœ¨å¤šé›†åˆ†P\\n        d.push({\\n            title: p.title,\\n            img: p.pic + '@Referer=',\\n            desc:'æ’­æ”¾é‡:'+p.stat.view+'\\\\t\\\\t\\\\tå¼¹å¹•æ•°:'+p.stat.danmaku+'\\\\nå‘å¸ƒæ—¥æœŸ:'+$.require(\\\"hiker://page/api\\\").timeConvert(p.ctime),\\n            url: $('#noLoading##noHistory#').lazyRule((p) => {\\n                return $('hiker://empty?fypage').rule((p) => {\\n                    d = [];\\n                    d.push({\\n                        title: p.desc,\\n                        col_type: \\\"long_text\\\",\\n                    })\\n                    setResult(d);\\n                }, p)\\n            }, p),\\n            col_type: \\\"pic_1\\\",\\n            extra: {\\n                longClick: [{\\n                    title: 'dmç›’å­', js: $.toString(() => {\\n                        return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\\n                    })\\n                }, {\\n                    title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\\n                        if (getItem('isOverrideSave', 'false') == 'true') {\\n                            setItem('isOverrideSave', 'false');\\n                            return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\\n                        } else {\\n                            setItem('isOverrideSave', 'true');\\n                            return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\\n                        }\\n                    })\\n                }]\\n            }\\n        }, {\\n            title: '<font color=\\\"blue\\\">' + p.owner.name + '</font>',\\n            url: \\\"hiker://page/upHome\\\",\\n            img: p.owner.face + \\\"@Referer=\\\",\\n            col_type: \\\"avatar\\\",\\n            extra: {\\n                mid: p.owner.mid,\\n                title: p.owner.name,\\n                face: p.owner.face\\n            }\\n        }, {\\n            col_type: 'line'\\n        }, {\\n            title: p.stat.like,\\n            img: hasLike == 1 ? imgLink.å·²ç‚¹èµ : imgLink.æœªç‚¹èµ,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                return $.require(\\\"hiker://page/api\\\").likeLogic(aid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                id: 'setLike'\\n            }\\n        }, {\\n            title: p.stat.favorite,\\n            img: hasFavour ? imgLink.å·²æ”¶è— : imgLink.æœªæ”¶è—,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                upMid = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).userMid;\\n                return $.require(\\\"hiker://page/api\\\").favourLogic(aid, upMid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                id: 'setFavour'\\n            }\\n        }, {\\n            title: 'ç¨åå†çœ‹',\\n            img: imgLink.ç¨åå†çœ‹,\\n            url: $('#noLoading##noHistory#').lazyRule((aid) => {\\n                return $.require(\\\"hiker://page/api\\\").judgeToview(aid)\\n            }, aid),\\n            col_type: \\\"icon_small_4\\\",\\n        }, {\\n            title: 'æŸ¥çœ‹è¯„è®º',\\n            url: 'hiker://page/Comments?p=fypage',\\n            img: imgLink.æŸ¥çœ‹è¯„è®º,\\n            col_type: \\\"icon_small_4\\\",\\n            extra: {\\n                \\\"id\\\": aid,\\n                \\\"type\\\": 1\\n            }\\n        })\\n        d.push({\\n            col_type: 'line_blank'\\n        }, {\\n            title: 'é€‰é›†åˆ—è¡¨',\\n            url: \\\"hiker://empty\\\",\\n            desc:'<small><small>å…±' + p.videos + 'æ¡è§†é¢‘</small></small>',\\n            img: imgLink.åˆ—è¡¨,\\n            col_type: \\\"avatar\\\",\\n        }, {\\n            col_type: 'line'\\n        });\\n        p.pages.forEach(item => {\\n            cid = item.cid;\\n            d.push({\\n                title: item.part,\\n                desc:formatSeconds(item.duration),\\n                // img:imgLink.åˆ†Påˆ—è¡¨é¡¹,\\n                img:item.first_frame+'@Referer=',\\n                url: $().lazyRule((aid, cid, qn) => {\\n                    return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, qn).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n                }, aid + \\\"\\\", cid + \\\"\\\", '116'),\\n                col_type: \\\"avatar\\\",\\n                extra:{\\n                    id:'aid-'+aid+'|cid-'+cid,\\n                }\\n            })\\n        })\\n    }\\n} catch (e) {\\n    log(e);\\n    d.push({\\n        title: 'é¡µé¢èµ°ä¸¢äº†...',\\n        img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\\n        url: 'hiker://empty',\\n        desc: 'å¤§æ¦‚ç‡è§†é¢‘è¢«å°ç¦ï¼Œæˆ–è€…upå·²è·‘è·¯~',\\n        col_type: \\\"pic_1\\\"\\n    });\\n}\\nsetResult(d);\\n\"},{\"col_type\":\"long_text\",\"name\":\"è¯„è®º\",\"path\":\"Comments\",\"rule\":\"js:\\nvar d = [];\\nvar id = MY_PARAMS.id;\\nvar type = MY_PARAMS.type;\\nlog(id);\\nif (MY_PAGE == 1) {\\n    // è²Œä¼¼æš‚æ—¶åªèƒ½æ–‡å­—+æ•°å­—\\n    d.unshift({\\n        title: \\\"å‘æ¡è¯„è®ºå§\\\",\\n        col_type: \\\"input\\\",\\n        url: $.toString((id,type) => {\\n            let csrf = JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).cookie.match(/bili_jct=(.*?);/)[1];\\n            post(\\\"http://api.bilibili.com/x/v2/reply/add\\\", {\\n                body: {\\n                    \\\"type\\\": type,\\n                    \\\"oid\\\": id,\\n                    \\\"csrf\\\": csrf,\\n                    \\\"message\\\": input\\n                },\\n                headers: {\\n                    \\\"Cookie\\\": JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).cookie\\n                }\\n            })\\n            refreshPage()\\n        }, id,type)\\n    })\\n}\\nlet data = $.require(\\\"hiker://page/api\\\").getComments(id,type,MY_PAGE);\\n// log(data);\\nif(data){\\n    data.forEach(item => {\\n        d.push({\\n            title: item.member.uname,\\n            img: item.member.avatar+'@Referer=',\\n            url:'hiker://page/upHome',\\n            desc:'<small><small><font color=\\\"grey\\\">'+item.reply_control.location + \\\" \\\" + item.reply_control.time_desc+'</font></small></small>',\\n            col_type: \\\"avatar\\\",\\n            extra: {\\n                mid: item.member.mid,\\n                title: item.member.uname,\\n                face: item.member.avatar\\n            }\\n        })\\n        d.push({\\n            title: item.content.message,\\n        })\\n    })\\n}else{\\n    d.push({\\n        title: 'å¥½åƒæ²¡æœ‰è¯„è®ºäº†å•¦ï¼Œï¼',\\n        col_type: \\\"text_center_1\\\",\\n    })\\n}\\nsetResult(d);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"è®¢é˜…åˆ—è¡¨\",\"path\":\"subscription\",\"rule\":\"if (getItem('è®¢é˜…ç±»å‹', '1') == '1') {\\n\\nÂ  Â  typerName = 'è¿½ç•ª';\\n\\n} else {\\n\\nÂ  Â  typerName = 'è¿½å‰§';\\n\\n}\\n\\nd.push({\\n\\nÂ  Â  title: 'è¿½ç•ª' == typerName ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">è¿½ç•ª</font>' : 'è¿½ç•ª',\\n\\nÂ  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\\n\\nÂ  Â  Â  Â  setItem('è®¢é˜…ç±»å‹', '1')\\n\\nÂ  Â  Â  Â  refreshPage(true);\\n\\nÂ  Â  Â  Â  return \\\"hiker://empty\\\";\\n\\nÂ  Â  }),\\n\\nÂ  Â  col_type: 'scroll_button'\\n\\n},{\\n\\nÂ  Â  title: 'è¿½å‰§' == typerName ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">è¿½å‰§</font>' : 'è¿½å‰§',\\n\\nÂ  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\\n\\nÂ  Â  Â  Â  setItem('è®¢é˜…ç±»å‹', '2')\\n\\nÂ  Â  Â  Â  refreshPage(true);\\n\\nÂ  Â  Â  Â  return \\\"hiker://empty\\\";\\n\\nÂ  Â  }),\\n\\nÂ  Â  col_type: 'scroll_button'\\n\\n});\\n\\nsubscriptions = JSON.parse(fetch(\\\"https://api.bilibili.com/x/space/bangumi/follow/list?type=\\\" + getItem('è®¢é˜…ç±»å‹', '1') + \\\"&follow_status=0&pn=\\\" + page + \\\"&ps=15&vmid=\\\" + mid, {\\n\\nÂ  Â  headers: {\\n\\nÂ  Â  Â  Â  \\\"Cookie\\\": cookie\\n\\nÂ  Â  }\\n\\n})).data;\\n\\nif (page == 1) {\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: \\\"å½“å‰\\\" + typerName + \\\"æ•°é‡:\\\" + subscriptions.total,\\n\\nÂ  Â  Â  Â  url: \\\"hiker://empty\\\",\\n\\nÂ  Â  Â  Â  col_type: \\\"text_center_1\\\"\\n\\nÂ  Â  })\\n\\n}\\n\\nsubscriptions.list.forEach(list => {\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: list.title,\\n\\nÂ  Â  Â  Â  img: list.cover + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  url: \\\"hiker://page/filmerji#immersiveTheme#\\\",\\n\\nÂ  Â  Â  Â  desc: list.evaluate.substring(0, 12) + 'â€˜â€˜â€™â€™â€¦<font color=\\\"#1C1C1C\\\">è¯¦æƒ…</font>' + '\\\\n' + list.season_type_name + '|' + (list.areas===undefined?'':list.areas[0].name + '\\\\n') + (list.progress == '' ? 'å°šæœªè§‚çœ‹' : list.progress) + (list.new_ep.index_show===undefined?'':'|'+(list.new_ep.index_show.match(/æ›´æ–°|å³å°†/) ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">' + list.new_ep.index_show + '</font>': list.new_ep.index_show)),\\n\\nÂ  Â  Â  Â  col_type: 'movie_1_vertical_pic',\\n\\nÂ  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  season_id: list.season_id\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  });\\n\\n});\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"å…³æ³¨åˆ—è¡¨\",\"path\":\"attention\",\"rule\":\"if (MY_PAGE == 1) {\\n\\nÂ  Â  focusGroups=$.require(\\\"hiker://page/api\\\").getMyAttentionGroupList();\\n\\nÂ  Â  putMyVar('tempId', JSON.stringify(focusGroups[1].tagid));\\n\\nÂ  Â  focusGroups.forEach(list => {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: list.tagid == getItem('å…³æ³¨åˆ†ç»„', JSON.stringify(focusGroups[1].id)) ? \\\"â€œâ€œâ€â€<font color='red'>\\\" + list.name + list.count + \\\"</font>\\\" : list.name + list.count,\\n\\nÂ  Â  Â  Â  Â  Â  url: $('#noLoading##noHistory#').lazyRule((list) => {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  setItem('å…³æ³¨åˆ†ç»„', JSON.stringify(list.tagid));\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  refreshPage(true);\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  return \\\"toast://åˆ‡æ¢å…³æ³¨åˆ†ç»„ä¸º:\\\" + list.name;\\n\\nÂ  Â  Â  Â  Â  Â  }, list),\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'scroll_button',\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  });\\n\\nÂ  Â  // æœ«å°¾è¡¥å……æ‚„æ‚„å…³æ³¨åˆ†ç»„\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: 'æ‚„æ‚„å…³æ³¨' == getItem('å…³æ³¨åˆ†ç»„', JSON.stringify(focusGroups[0].id)) ? \\\"â€œâ€œâ€â€<font color='red'>æ‚„æ‚„å…³æ³¨</font>\\\" : \\\"æ‚„æ‚„å…³æ³¨\\\",\\n\\nÂ  Â  Â  Â  url: $('#noLoading##noHistory#').lazyRule(() => {\\n\\nÂ  Â  Â  Â  Â  Â  setItem('å…³æ³¨åˆ†ç»„', \\\"æ‚„æ‚„å…³æ³¨\\\");\\n\\nÂ  Â  Â  Â  Â  Â  refreshPage(true);\\n\\nÂ  Â  Â  Â  Â  Â  return \\\"toast://åˆ‡æ¢å…³æ³¨åˆ†ç»„ä¸º:\\\" + \\\"æ‚„æ‚„å…³æ³¨\\\";\\n\\nÂ  Â  Â  Â  }),\\n\\nÂ  Â  Â  Â  col_type: 'scroll_button',\\n\\nÂ  Â  },{\\n\\nÂ  Â  Â  Â  col_type: 'line'\\n\\nÂ  Â  });\\n\\n}\\n\\nif (getItem('å…³æ³¨åˆ†ç»„')=='æ‚„æ‚„å…³æ³¨') {\\n\\nÂ  Â  groupContent = JSON.parse(fetch(\\\"https://api.bilibili.com/x/relation/whispers?pn=\\\"+page+\\\"&ps=20&jsonp=jsonp\\\", {\\n\\nÂ  Â  Â  Â  headers: {\\n\\nÂ  Â  Â  Â  Â  Â  \\\"Cookie\\\": cookie\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })).data.list;\\n\\nÂ  Â  groupContent.forEach(list => {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: \\\"<big><font color='blue'>\\\" + list.uname + \\\"</font></big><small>\\\" + list.sign + \\\"</small>\\\",\\n\\nÂ  Â  Â  Â  Â  Â  img: list.face + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'avatar',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/upHome\\\",\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  mid: list.mid,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.uname,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  face: list.face\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  });\\n\\n}else{\\n\\nÂ  Â  groupContent = JSON.parse(fetch(\\\"https://api.bilibili.com/x/relation/tag?mid=\\\" + mid + \\\"&tagid=\\\" + getItem('å…³æ³¨åˆ†ç»„', getMyVar('tempId')) + \\\"&pn=\\\" + page + \\\"&ps=20&jsonp=jsonp\\\", {\\n\\nÂ  Â  Â  Â  headers: {\\n\\nÂ  Â  Â  Â  Â  Â  \\\"Cookie\\\": cookie\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })).data;\\n\\nÂ  Â  groupContent.forEach(list => {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: \\\"<big><font color='blue'>\\\" + list.uname + \\\"</font></big><small>\\\" + list.sign + \\\"</small>\\\",\\n\\nÂ  Â  Â  Â  Â  Â  img: list.face + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'avatar',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/upHome\\\",\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  mid: list.mid,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.uname,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  face: list.face\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  });\\n\\n}\\n\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"æ”¶è—åˆ—è¡¨\",\"path\":\"colection\",\"rule\":\"if (page == 1) {\\r\\n    d.push({\\r\\n        title: 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹' == getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹</font>' : 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹',\\r\\n        url: $('#noLoading##noHistory#').lazyRule(() => {\\r\\n            setItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹')\\r\\n            refreshPage(true);\\r\\n            return \\\"hiker://empty\\\";\\r\\n        }),\\r\\n        col_type: 'scroll_button'\\r\\n    }, {\\r\\n        title: 'ç¨ååœ¨çœ‹' == getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') ? 'â€˜â€˜â€™â€™<font color=\\\"red\\\">ç¨ååœ¨çœ‹</font>' : 'ç¨ååœ¨çœ‹',\\r\\n        url: $('#noLoading##noHistory#').lazyRule(() => {\\r\\n            setItem('æ”¶è—ç±»å‹', 'ç¨ååœ¨çœ‹')\\r\\n            refreshPage(true);\\r\\n            return \\\"hiker://empty\\\";\\r\\n        }),\\r\\n        col_type: 'scroll_button'\\r\\n    });\\r\\n}\\r\\nif (getItem('æ”¶è—ç±»å‹', 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') == 'æˆ‘åˆ›å»ºçš„æ”¶è—å¤¹') {\\r\\n    try {\\r\\n        if (page == 1) {\\r\\n            d.push({\\r\\n                // col_type: 'blank_block'\\r\\n                col_type: 'line'\\r\\n            }, );\\r\\n        }\\r\\n        collections = JSON.parse(fetch(\\\"https://api.bilibili.com/x/v3/fav/folder/list4navigate\\\", {\\r\\n            headers: {\\r\\n                \\\"Cookie\\\": cookie\\r\\n            }\\r\\n        })).data;\\r\\n        groups = collections[0].mediaListResponse.list;\\r\\n        putMyVar('tempId', JSON.stringify(groups[0].id));\\r\\n        groups.forEach(list => {\\r\\n            d.push({\\r\\n                title: list.id == getItem('æ”¶è—å¤¹', JSON.stringify(groups[0].id)) ? \\\"â€œâ€œâ€â€<font color='red'>\\\" + list.title + \\\"</font>\\\" : list.title,\\r\\n                url: $('#noLoading##noHistory#').lazyRule((list) => {\\r\\n                    setItem('æ”¶è—å¤¹', JSON.stringify(list.id));\\r\\n                    refreshPage(true);\\r\\n                    return \\\"toast://åˆ‡æ¢æ”¶è—å¤¹ä¸º:\\\" + list.title;\\r\\n                }, list),\\r\\n                col_type: 'scroll_button',\\r\\n            });\\r\\n        });\\r\\n        d.push({\\r\\n            col_type: 'line'\\r\\n        });\\r\\n        groupContent = JSON.parse(fetch(\\\"https://api.bilibili.com/x/v3/fav/resource/list?media_id=\\\" + getItem('æ”¶è—å¤¹', getMyVar('tempId')) + \\\"&pn=\\\" + page + \\\"&ps=20&keyword=&order=mtime&type=0&tid=0&platform=web&jsonp=jsonp\\\", {\\r\\n            headers: {\\r\\n                \\\"Cookie\\\": cookie\\r\\n            }\\r\\n        })).data.medias;\\r\\n        groupContent.forEach(list => {\\r\\n            d.push({\\r\\n                title: list.title,\\r\\n                img: list.cover + \\\"@Referer=\\\",\\r\\n                col_type: 'movie_1_left_pic',\\r\\n                url: \\\"hiker://page/video\\\",\\r\\n                desc: 'UP:' + list.upper.name + '\\\\n' + list.intro,\\r\\n                extra: {\\r\\n                    aid: list.id,\\r\\n                    mid: list.upper.mid\\r\\n                }\\r\\n            });\\r\\n        });\\r\\n    } catch (e) {\\r\\n        showLoading('å…„å¼Ÿï¼Œä½ ç¡®è®¤ä½ æœ‰æ”¶è—å—ï¼Œå¿«å»æ”¶è—ä¸€ä¸ªè§†é¢‘~');\\r\\n    }\\r\\n} else {\\r\\n    laterViews = JSON.parse(fetch(\\\"https://api.bilibili.com/x/v2/history/toview/web?jsonp=jsonp\\\", {\\r\\n        headers: {\\r\\n            \\\"Cookie\\\": cookie\\r\\n        }\\r\\n    })).data;\\r\\n    count = laterViews.count;\\r\\n    d.push({\\r\\n        title: \\\"å…±æœ‰\\\" + count + \\\"æ¡å¾…çœ‹è§†é¢‘è®°å½•\\\",\\r\\n        url: \\\"hiker://empty\\\",\\r\\n        col_type: \\\"text_center_1\\\"\\r\\n    });\\r\\n    laterViews.list.forEach(list => {\\r\\n        d.push({\\r\\n            title: list.title,\\r\\n            img: list.pic + \\\"@Referer=\\\",\\r\\n            col_type: 'movie_1_left_pic',\\r\\n            url: \\\"hiker://page/video\\\",\\r\\n            desc: 'UP:' + list.owner.name + '\\\\n' + list.desc,\\r\\n            extra: {\\r\\n                aid: list.aid,\\r\\n                mid: list.owner.mid\\r\\n            }\\r\\n        });\\r\\n    });\\r\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"è¶³è¿¹\",\"path\":\"track\",\"rule\":\"var nextInfo = {};\\n\\nif (page == 1) {\\n\\nÂ  Â  histories = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/history/cursor?max=0&view_at=0&business=\\\", {\\n\\nÂ  Â  Â  Â  headers: {\\n\\nÂ  Â  Â  Â  Â  Â  \\\"Cookie\\\": cookie\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })).data;\\n\\nÂ  Â  nextInfo.max = histories.cursor.max;\\n\\nÂ  Â  nextInfo.view_at = histories.cursor.view_at;\\n\\nÂ  Â  nextInfo.business = histories.cursor.business;\\n\\n} else {\\n\\nÂ  Â  histories = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/history/cursor?max=\\\" + storage0.getMyVar(JSON.stringify(page)).max + \\\"&view_at=\\\" + storage0.getMyVar(JSON.stringify(page)).view_at + \\\"&business=\\\" + storage0.getMyVar(JSON.stringify(page)).business, {\\n\\nÂ  Â  Â  Â  headers: {\\n\\nÂ  Â  Â  Â  Â  Â  \\\"Cookie\\\": cookie\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })).data;\\n\\nÂ  Â  nextInfo.max = histories.cursor.max;\\n\\nÂ  Â  nextInfo.view_at = histories.cursor.view_at;\\n\\nÂ  Â  nextInfo.business = histories.cursor.business;\\n\\n}\\n\\nstorage0.putMyVar(JSON.stringify(page + 1), nextInfo);\\n\\nhistories.list.forEach(list => {\\n\\nÂ  Â  viewTime=pbtime = $.require(\\\"hiker://page/api\\\").timeConvert(list.view_at);\\n\\nÂ  Â  if (list.history.business == 'article') {\\n\\nÂ  Â  Â  Â  // ä¸“æ æ–‡ç« \\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\\n\\nÂ  Â  Â  Â  Â  Â  img: list.covers[0] + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/articleDetail\\\",\\n\\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?viewTime:'UP:' + list.author_name+'\\\\n' )+ viewTime,\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  id: list.history.oid,\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  } else if(list.history.business == 'article-list'){\\n\\nÂ  Â  Â  Â  // æ–‡ç« åˆ—è¡¨ï¼Ÿï¼ˆåæ­£idå­˜æ”¾ä½ç½®ä¸ä¸€æ ·ï¼‰\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\\n\\nÂ  Â  Â  Â  Â  Â  img: list.covers[0] + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/articleDetail\\\",\\n\\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?viewTime:'UP:' + list.author_name+'\\\\n' )+ viewTime,\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  id: list.history.cid,\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  }else if(list.history.business == 'pgc'){\\n\\nÂ  Â  Â  Â  // ç³»åˆ—å‰§é›†ï¼ˆå•é›†ï¼‰\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\\n\\nÂ  Â  Â  Â  Â  Â  img: list.cover + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/filmerji#immersiveTheme#\\\",\\n\\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?list.tag_name+'\\\\t\\\\t'+list.new_desc+'\\\\n'+viewTime:'UP:' + list.author_name+'\\\\n'+viewTime),\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  ep_id:list.history.epid\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  }else {\\n\\nÂ  Â  Â  Â  // æ™®é€švideo\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: list.show_title==''?list.title:list.show_title,\\n\\nÂ  Â  Â  Â  Â  Â  img: list.cover + \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://page/video\\\",\\n\\nÂ  Â  Â  Â  Â  Â  desc: (list.author_name==''?list.tag_name+'\\\\t\\\\t'+list.new_desc+'\\\\n'+viewTime:'UP:' + list.author_name+'\\\\n'+viewTime),\\n\\nÂ  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  aid: list.history.oid,\\n\\nÂ  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  }\\n\\n});\\n\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"åŠ¨æ€\",\"path\":\"latetNews\",\"rule\":\"d.push({\\n\\nÂ  Â  col_type: 'line_blank'\\n\\n});\\n\\nlatenews=$.require(\\\"hiker://page/api\\\").getDynamicData('myHome');\\n\\neval($.require(\\\"hiker://page/api\\\").showDynamicData());\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"ä¸“æ åˆ—è¡¨\",\"path\":\"acticleList\",\"rule\":\"js:\\n\\nvar d=[];\\n\\npage=MY_PAGE;\\n\\nupMid = MY_PARAMS.mid + \\\"\\\";\\n\\narticleList=$.require(\\\"hiker://page/api\\\").getUserArticle(upMid,page);\\n\\narticleNum=articleList.count;\\n\\nif (articleNum==undefined) {\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: 'è¿™upæ²¡æœ‰ä¸“æ æ–‡ç« ',\\n\\nÂ  Â  Â  Â  url: \\\"hiker://empty\\\",\\n\\nÂ  Â  Â  Â  col_type: \\\"text_center_1\\\",\\n\\nÂ  Â  });\\n\\n}else{\\n\\nÂ  Â  maxPage = Math.ceil(articleNum / articleList.ps);\\n\\nÂ  Â  if (page <= maxPage) {\\n\\nÂ  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  title: 'å½“å‰:ç¬¬' + articleList.pn + 'é¡µ\\\\t\\\\t\\\\tå…±æœ‰' + maxPage + 'é¡µ,' + articleNum + 'æ¡æ•°æ®',\\n\\nÂ  Â  Â  Â  Â  Â  url: \\\"hiker://empty\\\",\\n\\nÂ  Â  Â  Â  Â  Â  col_type: \\\"text_center_1\\\",\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  Â  Â  articleList.articles.forEach(list => {\\n\\nÂ  Â  Â  Â  Â  Â  pbtime=$.require(\\\"hiker://page/api\\\").timeConvert(list.publish_time);\\n\\nÂ  Â  Â  Â  Â  Â  d.push({\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  title: list.title,\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  img: list.banner_url==''? (list.image_urls+ '@Referer='):(list.banner_url+ '@Referer='),\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  desc: 'â€˜â€˜â€™â€™<small>'+list.stats.view+'çœ‹è¿‡\\\\t\\\\t'+list.stats.like+'å–œæ¬¢\\\\t\\\\t'+list.stats.favorite+'æ”¶è—\\\\n' + pbtime+'</small>',\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  col_type: 'movie_1_left_pic',\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  url: \\\"hiker://page/articleDetail\\\",\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  // ä¸“æ æ–‡ç« id\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  Â  Â  id: list.id\\n\\nÂ  Â  Â  Â  Â  Â  Â  Â  }\\n\\nÂ  Â  Â  Â  Â  Â  });\\n\\nÂ  Â  Â  Â  });\\n\\nÂ  Â  }\\n\\n}\\n\\nsetResult(d);\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"ä¸“æ æ–‡ç« X5\",\"path\":\"articleDetail\",\"rule\":\"js:\\n\\nvar d = [];\\n\\npage = MY_PAGE;\\n\\ncvid = MY_PARAMS.id + \\\"\\\";\\n\\nd.push({\\n\\nÂ  Â  url: \\\"https://www.bilibili.com/read/cv\\\"+cvid,\\n\\nÂ  Â  col_type: \\\"x5_webview_single\\\",\\n\\nÂ  Â  desc: \\\"100%&&float\\\",\\n\\nÂ  Â  extra: {\\n\\nÂ  Â  Â  Â  canBack: true\\n\\nÂ  Â  }\\n\\n})\\n\\nsetResult(d);\\n\\n\"},{\"col_type\":\"movie_3\",\"name\":\"ç»¼åˆçƒ­é—¨\",\"path\":\"hotVideo\",\"rule\":\"let res = JSON.parse(request(\\\"https://api.bilibili.com/x/web-interface/popular?pn=\\\" + MY_PAGE, {\\n\\nÂ  Â  headers: {\\n\\nÂ  Â  Â  Â  Cookie: JSON.parse(request(\\\"hiker://files/rules/cy/bili.txt\\\")).cookie\\n\\nÂ  Â  }\\n\\n})).data\\n\\nres.list.forEach(item => {\\n\\nÂ  Â  d.push({\\n\\nÂ  Â  Â  Â  title: item.title,\\n\\nÂ  Â  Â  Â  img: item.pic+ \\\"@Referer=\\\",\\n\\nÂ  Â  Â  Â  url: \\\"hiker://page/video\\\",\\n\\nÂ  Â  Â  Â  desc: item.pub_location,\\n\\nÂ  Â  Â  Â  col_type: \\\"movie_2\\\",\\n\\nÂ  Â  Â  Â  extra: {\\n\\nÂ  Â  Â  Â  Â  Â  \\\"aid\\\": item.aid,\\n\\nÂ  Â  Â  Â  Â  Â  \\\"cid\\\": item.cid,\\n\\nÂ  Â  Â  Â  }\\n\\nÂ  Â  })\\n\\n})\\n\\n\\n\"},{\"name\":\"å“”å“©æœ€æ–°ç« èŠ‚\",\"path\":\"getUpdate\",\"rule\":\"if (MY_PARAMS.season_id) {\\n    season_id = MY_PARAMS.season_id + \\\"\\\";\\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?season_id=' + season_id)).result;\\n} else {\\n    Data = JSON.parse(fetch('https://api.bilibili.com/pgc/view/web/season?ep_id=' + MY_PARAMS.ep_id)).result;\\n}\\nè¿½å‰§æ—¥å† = Data.new_ep.desc;\\næ›´æ–°è¿›åº¦ = Data.new_ep.title;\\næ›´æ–°çŠ¶æ€ = è¿½å‰§æ—¥å†.match(/å®Œç»“|æœŸå¾…/) ? è¿½å‰§æ—¥å† : 'æ›´æ–°è‡³' + (æ›´æ–°è¿›åº¦.match(/[\\\\u4e00-\\\\u9fa5]/) ? æ›´æ–°è¿›åº¦ : ('ç¬¬' + (æ›´æ–°è¿›åº¦ == '' ? 0 : æ›´æ–°è¿›åº¦)) + 'è¯')\\nsetResult(æ›´æ–°çŠ¶æ€);\"},{\"name\":\"upåˆé›†è§†é¢‘\",\"path\":\"collectionViedo\",\"rule\":\"js:\\nvar d = [];\\n// é¢„å¤„ç†\\nputMyVar('åŠŸèƒ½æŠ˜å ', 'å…³');\\nimgLink = storage0.getMyVar('å›¾æ ‡');\\naid = MY_PARAMS.aid + \\\"\\\";\\n// bvid = MY_PARAMS.bvid + \\\"\\\";\\n// mid = MY_PARAMS.mid + \\\"\\\";\\ntry {\\n    //è·å–è§†é¢‘åˆ†Pä¿¡æ¯\\n    var p = JSON.parse(fetch(\\\"https://api.bilibili.com/x/web-interface/view?aid=\\\" + aid)).data;\\n    // åˆé›†ä¿¡æ¯\\n    var videoData = p.ugc_season;\\n    setPageTitle(videoData.title);\\n    setPagePicUrl(videoData.cover + '@Referer=');\\n    d.push({\\n        title: videoData.title,\\n        desc:videoData.intro,\\n        img: videoData.cover + '@Referer=',\\n        url: $('#noLoading##noHistory#').lazyRule((intro) => {\\n            return $('hiker://empty?fypage').rule((intro) => {\\n                let d = [];\\n                d.push({\\n                    title: intro,\\n                    col_type: \\\"long_text\\\",\\n                })\\n                setResult(d);\\n            }, intro)\\n        }, videoData.intro),\\n        col_type: \\\"pic_1\\\",\\n        extra: {\\n            longClick: [{\\n                title: 'dmç›’å­', js: $.toString(() => {\\n                    return 'hiker://page/setting#noHistory#?rule=dmç›’å­';\\n                })\\n            }, {\\n                title: 'å¼¹å¹•æ§åˆ¶', js: $.toString(() => {\\n                    if (getItem('isOverrideSave', 'false') == 'true') {\\n                        setItem('isOverrideSave', 'false');\\n                        return 'toast://å¼¹å¹•å°†ä¸å—dmç›’å­å‚æ•°æ§åˆ¶';\\n                    } else {\\n                        setItem('isOverrideSave', 'true');\\n                        return 'toast://å¼¹å¹•å°†å—åˆ°dmç›’å­å‚æ•°æ§åˆ¶';\\n                    }\\n                })\\n            }]\\n        }\\n    }, {\\n        title: '<font color=\\\"blue\\\">' + p.owner.name + '</font>',\\n        url: \\\"hiker://page/upHome\\\",\\n        img: p.owner.face + \\\"@Referer=\\\",\\n        col_type: \\\"avatar\\\",\\n        desc: '<small><small>å…±æœ‰' + videoData.ep_count + 'æ¡è§†é¢‘æ•°æ®</small></small>',\\n        extra: {\\n            mid: p.owner.mid,\\n            title: p.owner.name,\\n            face: p.owner.face\\n        }\\n    }, {\\n        col_type: 'line'\\n    });\\n    var index = 1;\\n    storage0.putVar('videoSections', videoData.sections);\\n    videoData.sections.forEach(el => {\\n        d.push({\\n            title: 'ğŸ“' + el.title,\\n            url: $('#noLoading##noHistory#').lazyRule((index) => {\\n                if (getMyVar('isFold_'+index, 'y') == 'y') {\\n                    putMyVar('isFold_'+index, 'n');\\n                    deleteItemByCls('section' + index + '-part');\\n                    return 'toast://å·²æŠ˜å ';\\n                } else {\\n                    putMyVar('isFold_'+index, 'y');\\n                    videoSections = storage0.getVar('videoSections');\\n                    sectionPartList = [];\\n                    videoSections[index - 1].episodes.forEach(item => {\\n                        aid = item.aid;\\n                        cid = item.cid;\\n                        stat = item.arc.stat;\\n                        sectionPartList.push({\\n                            title: 'â€œâ€œâ€â€\\\\t\\\\t\\\\t<small></font>â–¶ï¸' + item.title + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</font></small><small><small><font color=gray>æ’­æ”¾é‡ï¼š' + stat.view + '\\\\t\\\\t\\\\tå¼¹å¹•ï¼š' + stat.danmaku + '\\\\t\\\\t\\\\tå–œæ¬¢ï¼š' + stat.like + '</font></small></small>',\\n                            url: $().lazyRule((aid, cid, qn) => {\\n                                return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, qn).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n                            }, aid + \\\"\\\", cid + \\\"\\\", '116'),\\n                            col_type: \\\"text_1\\\",\\n                            extra: { lineVisible: false, cls: 'section' + index + '-part',id:'aid-'+aid+'|cid-'+cid }\\n                        })\\n                    });\\n                    addItemAfter('Section' + index, sectionPartList);\\n                    return 'toast://å·²å±•å¼€';\\n                }\\n            }, index),\\n            col_type: 'text_1',\\n            extra: { id: 'Section' + index }\\n        });\\n        el.episodes.forEach(item => {\\n            aid = item.aid;\\n            cid = item.cid;\\n            stat = item.arc.stat;\\n            d.push({\\n                title: 'â€œâ€œâ€â€\\\\t\\\\t\\\\t<small></font>â–¶ï¸' + item.title + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</font></small><small><small><font color=gray>æ’­æ”¾é‡ï¼š' + stat.view + '\\\\t\\\\t\\\\tå¼¹å¹•ï¼š' + stat.danmaku + '\\\\t\\\\t\\\\tå–œæ¬¢ï¼š' + stat.like + '</font></small></small>',\\n                url: $().lazyRule((aid, cid, qn) => {\\n                    return $.require(\\\"hiker://page/api\\\").biliLazy(aid, cid, qn).replace(/;/g, \\\"ï¼›ï¼›\\\");\\n                }, aid + \\\"\\\", cid + \\\"\\\", '116'),\\n                col_type: \\\"text_1\\\",\\n                extra: { lineVisible: false, cls: 'section' + index + '-part',id:'aid-'+aid+'|cid-'+cid }\\n            })\\n        });\\n        index++;\\n    })\\n} catch (e) {\\n    log(e);\\n    d.push({\\n        title: 'é¡µé¢èµ°ä¸¢äº†...',\\n        img: 'https://i0.hdslb.com/bfs/general/f7b667011a46615732c701f4bb1d07f793f8d1df.png@Referer=',\\n        url: 'hiker://empty',\\n        desc: 'å¤§æ¦‚ç‡è§†é¢‘è¢«å°ç¦ï¼Œæˆ–è€…upå·²è·‘è·¯~',\\n        col_type: \\\"pic_1\\\"\\n    });\\n}\\nsetResult(d);\\n\"},{\"name\":\"å›¾æ ‡ä¸‹è½½\",\"path\":\"saveLocal\",\"rule\":\"$.exports.saveLocal = () => {\\n    const base64ToHex = (base64Str) => {\\n        // åˆ é™¤å‰ç¼€å¹¶è§£ç Base64å­—ç¬¦ä¸²\\n        var binaryStr = window0.atob(base64Str.split(',')[1]);\\n\\n        // è½¬æ¢ä¸º16è¿›åˆ¶å­—ç¬¦ä¸²\\n        var hexStr = '';\\n        for (var i = 0; i < binaryStr.length; i++) {\\n            var hex = binaryStr.charCodeAt(i).toString(16);\\n            hexStr += (hex.length === 2 ? hex : '0' + hex);\\n        }\\n        return hexStr;\\n    };\\n    showLoading(\\\"å›¾æ ‡åˆå§‹åŒ–ä¸­...\\\");\\n    var tubiao = {};\\n    try {\\n        // å‰ªè´´æ¿çº¿è·¯\\n        html = request('https://netcut.cn/p/a1fcf0d3b0a27f13');\\n        data = html.match(/{.*note_content.*updated_at.*}/)[0];\\n        eval('tubiao =' + JSON.parse(data).note_content);\\n    } catch (e) {\\n        log('å‰ªè´´æ¿å‡ºé”™,åˆ‡æ¢æ‰˜ç®¡çº¿è·¯');\\n        route = [\\n            'https://gitcode.net/qq_23847819/hiker/-/raw/master/tubiao.json',\\n            'https://gitea.com/cy/hiker/raw/commit/be2160c6a01db873d9f9681ba7e86eebfa118d86/tubiao.json',\\n            'https://raw.codehub.cn/p/hiker/d/tubiao/git/raw/master/tubiao.json?token=GGdlIuVGqY3b3LydIowrksbUBCfMyx2fF31WUZeo4m',\\n            'https://gitee.com/mxxl-cy/hiker/raw/master/tubiao.json'\\n        ];\\n        for (let i = 0; i < route.length; i++) {\\n            try {\\n                eval('tubiao =' + request(route[i]));\\n                if (tubiao[\\\"äº”å¤§\\\"] && tubiao[\\\"å“”å“©\\\"]) {\\n                    break;\\n                } else {\\n                    log('çº¿è·¯ï¼š' + tubiao[i] + 'è¢«å¢™äº†...');\\n                }\\n            } catch (e) {\\n                log('çº¿è·¯ï¼š' + tubiao[i] + 'å‡ºé”™äº†...');\\n            }\\n        }\\n    }\\n    try {\\n        var wuda = tubiao[\\\"äº”å¤§\\\"];\\n        var bili = tubiao[\\\"å“”å“©\\\"];\\n        var index = 0;\\n        for (let item in wuda) {\\n            writeHexFile(`hiker://files/rules/cy/tubiao/${item}.svg`, base64ToHex(wuda[item]));\\n            log(`åˆå§‹åŒ–ç¬¬${index++}ä¸ªå›¾æ ‡:${item}...`);\\n        }\\n        for (let item in bili) {\\n            writeHexFile(`hiker://files/rules/cy/bili_pic/${item}.png`, base64ToHex(bili[item]));\\n            log(`åˆå§‹åŒ–ç¬¬${index++}ä¸ªå›¾æ ‡:${item}...`);\\n        }\\n        showLoading('å›¾æ ‡åˆå§‹åŒ–å®Œæˆï¼šå…±è®¡' + index + 'ä¸ªå›¾æ ‡');\\n        hideLoading();\\n    } catch (e) {\\n        showLoading('å›¾æ ‡åˆå§‹åŒ–å¤±è´¥');\\n        log('å›¾æ ‡åˆå§‹åŒ–å¤±è´¥:' + e);\\n        hideLoading();\\n    }\\n\\n};\\n\"}]","proxy":"","icon":"hiker://files/rules/cy/tubiao/bilibili.svg"}