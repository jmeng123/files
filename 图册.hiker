{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"å‡½æ•°å·¥å…·ç®±","path":"api","rule":"// ä¸€ã€å·¥å…·ç±»å°è£… \n// è·å–å½“å‰æ—¶é—´\n$.exports.getCurrentDate = function (format) {\n    var now = new Date();\n    var year = now.getFullYear(); //å¾—åˆ°å¹´ä»½\n    var month = now.getMonth(); //å¾—åˆ°æœˆä»½\n    var date = now.getDate(); //å¾—åˆ°æ—¥æœŸ\n    var day = now.getDay(); //å¾—åˆ°å‘¨å‡ \n    var hour = now.getHours(); //å¾—åˆ°å°æ—¶\n    var minu = now.getMinutes(); //å¾—åˆ°åˆ†é’Ÿ\n    var sec = now.getSeconds(); //å¾—åˆ°ç§’\n    month = month + 1;\n    if (month < 10) month = \"0\" + month;\n    if (date < 10) date = \"0\" + date;\n    if (hour < 10) hour = \"0\" + hour;\n    if (minu < 10) minu = \"0\" + minu;\n    if (sec < 10) sec = \"0\" + sec;\n    var time = \"\";\n    //ç²¾ç¡®åˆ°å¤©\n    if (format == 1) {\n        time = year + \"å¹´\" + month + \"æœˆ\" + date + \"æ—¥\";\n    }\n    //ç²¾ç¡®åˆ°åˆ†\n    else if (format == 2) {\n        time = year + \"-\" + month + \"-\" + date + \" \" + hour + \":\" + minu + \":\" + sec;\n    }\n    return time;\n}\n// æ³¨å†Œé‡å†™Arrayå¯¹è±¡çš„indexOfå’Œremoveæ–¹æ³•\n$.exports.overwriteArray = function () {\n    Array.prototype.indexOf = function (val) {\n        for (var i = 0; i < this.length; i++) {\n            if (this[i].link == val) return i;\n        }\n        return -1;\n    };\n    Array.prototype.remove = function (val) {\n        var index = this.indexOf(val);\n        if (index > -1) {\n            this.splice(index, 1);\n        }\n    };\n}\n\n\n// äºŒã€åŠŸèƒ½ç±»å‡½æ•°å°è£…\n// é¢„å¤„ç†\n$.exports.pretreatment = function () {\n    if (fileExist('hiker://files/cache/PhotoAlbum_temp.json')) {\n        saveFile('hiker://files/cache/PhotoAlbum_temp.json', 'ä½ æƒ³å¹²å˜›ï¼');\n    }\n    if (!fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\n        date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n        PhotoAlbum = {\n            \"ç›¸å†Œ\": {\n                \"gifå£çº¸\": [{\n                    link: 'https://p0.meituan.net/csc/d797e865aaa4334699479c2fef6cab181597933.gif',\n                    date: date,\n                    title: 'ç†ŠçŒ«åƒç«¹å­',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei03.cfp.cn/creative/vcg/nowater800/new/VCG211293929470.gif',\n                    date: date,\n                    title: 'æ‘‡å°¾ç‹—',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei04.cfp.cn/creative/vcg/nowarter800/new/VCG211178908145.gif',\n                    date: date,\n                    title: 'è¡ç§‹åƒ',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei03.cfp.cn/creative/vcg/nowarter800/new/VCG211229245788.gif',\n                    date: date,\n                    title: 'å¤œé—´åŠ¨å›¾',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei01.cfp.cn/creative/vcg/nowarter800/new/VCG211223467674.gif',\n                    date: date,\n                    title: 'å¤œæœˆ',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei04.cfp.cn/creative/vcg/nowarter800/new/VCG211151553894.gif',\n                    date: date,\n                    title: 'æ³¨æ„åŠ›',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowarter800/new/VCG211166346104.gif',\n                    date: date,\n                    title: 'å¤œé¸¦',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151545477.gif',\n                    date: date,\n                    title: 'æ±Ÿæ²³æµåŠ¨',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151550604.gif',\n                    date: date,\n                    title: 'æµ·æ»©é˜…è¯»',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151555608.gif',\n                    date: date,\n                    title: 'æ‰“æ°´æ¼‚',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei05.cfp.cn/creative/vcg/nowarter800/new/VCG211166359866.gif',\n                    title: \"\",\n                    date: date,\n                    title: 'æµ·æ»©ç™½é¹­',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei03.cfp.cn/creative/vcg/nowarter800/new/VCG211166304561.gif',\n                    title: \"\",\n                    date: date,\n                    title: 'æ‹›æ‰‹è´è¶-åŠ¨ç‰©å‹è°Š',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowater800/new/VCG211370485521.gif',\n                    date: date,\n                    title: 'åŒºå—é“¾-ç§‘æŠ€',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowater800/new/VCG211370483714.gif',\n                    date: date,\n                    title: 'é­”æ–¹-ç§‘æŠ€',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei02.cfp.cn/creative/vcg/nowater800/new/VCG211366094791.gif',\n                    date: date,\n                    title: 'ç§‘æŠ€æ„Ÿåè¶³',\n                    group: 'gifå£çº¸'\n                }, {\n                    link: 'https://tenfei01.cfp.cn/creative/vcg/nowater800/new/VCG211345500353.gif',\n                    date: date,\n                    title: 'è¾…å¯¼åŠŸè¯¾',\n                    group: 'gifå£çº¸'\n                }]\n            },\n            \"å›æ”¶ç«™\": [],\n            \"keyMap\": {},\n            \"isSecret\": 'yes',\n            \"singleMax\": 30,\n            \"showType\": 'pic_2',\n            \"user_password\": ''\n        };\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n    }\n}\n// æ£€ç´¢\n$.exports.search = function () {\n    if (input == '') {\n        return 'toast://æ£€ç´¢å…³é”®å­—ä¸èƒ½ä¸ºç©º'\n    } else {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        if (PhotoAlbum.isSecret == 'yes') {\n            if (PhotoAlbum.user_password == '') {\n                return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    PhotoAlbum.user_password = base64Encode(base64Encode(input));\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                })\n            } else {\n                return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\n                        putMyVar('currentPage', 'search_res');\n                        refreshPage(true);\n                        return 'hiker://empty';\n                    } else {\n                        return 'toast://å¯†ç é”™è¯¯ï¼'\n                    }\n                })\n            }\n        } else {\n            putMyVar('currentPage', 'search_res');\n            refreshPage(true);\n            return 'hiker://empty';\n        }\n    }\n}\n// åˆ‡æ¢åˆ†ç»„\n$.exports.SwitchGroup = function (item) {\n    // ç›‘å¬åˆ·æ–°äº‹ä»¶æ²¡æ•ˆå°±æ‰‹åŠ¨è§¦å‘å§\n    clearMyVar('selectArray');\n    clearMyVar('selectNum');\n    clearMyVar('selectGroup');\n    clearMyVar('currentPage');\n    clearMyVar('isOpen_ğŸ—‘ï¸');\n    clearMyVar('addSwitch');\n    // é¡µç å¤„ç†\n    clearMyVar('thePageNum');\n    putMyVar('lastPage', '1');\n    // clearMyVar('editor_mode');ä¸è¦æ¸…é™¤ç¼–è¾‘æ¨¡å¼è®°å½•\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    for (i in PhotoAlbum.ç›¸å†Œ) {\n        clearMyVar('isOpen_' + i);\n    }\n    // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n    showImg = [];\n    keyArray = [];\n    for (i in PhotoAlbum.keyMap) {\n        keyArray.push(i);\n    }\n    for (group in PhotoAlbum.ç›¸å†Œ) {\n        if (!keyArray.includes(group)) {\n            showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n        }\n    }\n    maxNum = showImg.length;\n    for (let index = 1; index <= maxNum; index++) {\n        clearMyVar('isChoose_' + index);\n    }\n    // log('æ¸…é™¤indexçš„æ•°é‡:' + maxNum);\n    putMyVar(\"Select_group\", item);\n    refreshPage();\n    return 'hiker://empty'\n}\n// åˆ†ç»„æ›´å\n$.exports.reGroupName = function (item) {\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n    if (groupFuns.includes(item)) {\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\n    }\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (PhotoAlbum.isSecret == 'yes') {\n        keyArray = [];\n        for (i in PhotoAlbum.keyMap) {\n            keyArray.push(i);\n        }\n        if (keyArray.includes(item)) {\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                keyMap = PhotoAlbum.keyMap;\n                password = base64Decode(base64Decode(keyMap[group]));\n                if (input == password) {\n                    return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\n                        groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n                        if (groupFuns.includes(input)) {\n                            return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\n                        }\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        // æ—¥å¿—å¤‡ä»½\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\n                        if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                            PhotoAlbum.ç›¸å†Œ[input] = [];\n                        }\n                        PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\n                            item.group = input;\n                            return item;\n                        }).concat(PhotoAlbum.ç›¸å†Œ[input]);\n                        PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\n                        // åˆ é™¤åŸç›¸å†Œæ•°æ®\n                        delete PhotoAlbum.ç›¸å†Œ[group];\n                        delete PhotoAlbum.keyMap[group];\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        clearMyVar('selectNum');\n                        clearMyVar('selectArray');\n                        for (var group in PhotoAlbum.ç›¸å†Œ) {\n                            clearMyVar('isChoose_' + group);\n                        }\n                        putMyVar('Select_group', input);\n                        refreshPage(true);\n                        return \"toast://è¯¥åŠ å¯†ç›¸å†Œå·²æ”¹å~\";\n                    }, group)\n                } else {\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                }\n            }, item)\n        } else {\n            return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\n                groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n                if (groupFuns.includes(input)) {\n                    return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\n                }\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                // æ—¥å¿—å¤‡ä»½\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\n                }\n                PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\n                    item.group = input;\n                    return item;\n                }).concat(PhotoAlbum.ç›¸å†Œ[input]);\n                PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\n                // åˆ é™¤åŸç›¸å†Œæ•°æ®\n                delete PhotoAlbum.ç›¸å†Œ[group];\n                delete PhotoAlbum.keyMap[group];\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                clearMyVar('selectNum');\n                clearMyVar('selectArray');\n                for (i in PhotoAlbum.ç›¸å†Œ) {\n                    clearMyVar('isChoose_' + i);\n                }\n                putMyVar('Select_group', input);\n                refreshPage(true);\n                return \"toast://è¯¥ç›¸å†Œå·²æ”¹å~\";\n            }, item)\n        }\n    } else {\n        return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\n            groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n            if (groupFuns.includes(input)) {\n                return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\n            }\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\n            if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                PhotoAlbum.ç›¸å†Œ[input] = [];\n            }\n            PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\n                item.group = input;\n                return item;\n            }).concat(PhotoAlbum.ç›¸å†Œ[input]);\n            PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\n            // åˆ é™¤åŸç›¸å†Œæ•°æ®\n            delete PhotoAlbum.ç›¸å†Œ[group];\n            delete PhotoAlbum.keyMap[group];\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            clearMyVar('selectNum');\n            clearMyVar('selectArray');\n            for (i in PhotoAlbum.ç›¸å†Œ) {\n                clearMyVar('isChoose_' + i);\n            }\n            putMyVar('Select_group', input);\n            refreshPage(true);\n            return \"toast://è¯¥ç›¸å†Œå·²æ”¹å~\";\n        }, item)\n    }\n}\n// åˆ é™¤åˆ†ç»„\n$.exports.deleteGroup = function (item) {\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n    if (groupFuns.includes(item)) {\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\n    }\n    return $('ä½ ç¡®å®šè¦åˆ é™¤è¯¥ç›¸å†Œå—ï¼Ÿ').confirm((item) => {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        if (PhotoAlbum.isSecret == 'yes') {\n            keyArray = [];\n            for (i in PhotoAlbum.keyMap) {\n                keyArray.push(i);\n            }\n            if (keyArray.includes(item)) {\n                return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    keyMap = PhotoAlbum.keyMap;\n                    password = base64Decode(base64Decode(keyMap[group]));\n                    if (input == password) {\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        // æ—¥å¿—å¤‡ä»½\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        delete PhotoAlbum.ç›¸å†Œ[group];\n                        // æ¸…é™¤å¯†é’¥å¯¹\n                        delete PhotoAlbum.keyMap[group];\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        selectNum = getMyVar('selectNum', '0');\n                        clearMyVar('selectNum');\n                        clearMyVar('selectArray');\n                        putMyVar('Select_group', 'å…¨éƒ¨');\n                        refreshPage(true);\n                        return \"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\";\n                    } else {\n                        return 'toast://å¯†ç é”™è¯¯ï¼'\n                    }\n                }, item);\n            } else {\n                // æ—¥å¿—å¤‡ä»½\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                // æ”¾å…¥å›æ”¶ç«™\n                date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n                    item.date = date;\n                });\n                PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[item].concat(PhotoAlbum.å›æ”¶ç«™);\n                // åˆ é™¤ç›¸å†Œ\n                delete PhotoAlbum.ç›¸å†Œ[item];\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                putMyVar('Select_group', 'å…¨éƒ¨');\n                refreshPage(true);\n                return \"toast://åˆ é™¤æˆåŠŸ~\";\n            }\n        } else {\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            // æ”¾å…¥å›æ”¶ç«™\n            date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n                item.date = date;\n            });\n            PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[item].concat(PhotoAlbum.å›æ”¶ç«™);\n            // åˆ é™¤ç›¸å†Œ\n            delete PhotoAlbum.ç›¸å†Œ[item];\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            putMyVar('Select_group', 'å…¨éƒ¨');\n            refreshPage(true);\n            return \"toast://åˆ é™¤æˆåŠŸ~\";\n        }\n    }, item)\n}\n// å¯¼å‡ºIDMæ‰¹æ–‡ä»¶\n$.exports.toIDM = function (item) {\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n    if (groupFuns.includes(item)) {\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\n    }\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (PhotoAlbum.isSecret == 'yes') {\n        keyArray = [];\n        for (i in PhotoAlbum.keyMap) {\n            keyArray.push(i);\n        }\n        if (keyArray.includes(item)) {\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                keyMap = PhotoAlbum.keyMap;\n                password = base64Decode(base64Decode(keyMap[group]));\n                if (input == password) {\n                    var linkData = '';\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n                        if (item.link.match(/#isVideo=true#/)) {\n                            link = item.link.split('#isVideo=true#')[0];\n                        } else {\n                            link = item.link;\n                        }\n                        linkData = linkData + link + '\\n';\n                    });\n                    saveFile('hiker://files/cache/PhotoAlbum_' + group + '.txt', linkData);\n                    return 'share://hiker://files/cache/PhotoAlbum_' + group + '.txt';\n                } else {\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                }\n            }, item);\n        } else {\n            var linkData = '';\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n                if (item.link.match(/#isVideo=true#/)) {\n                    link = item.link.split('#isVideo=true#')[0];\n                } else {\n                    link = item.link;\n                }\n                linkData = linkData + link + '\\n';\n            });\n            saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\n            return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\n        }\n    } else {\n        var linkData = '';\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n            if (item.link.match(/#isVideo=true#/)) {\n                link = item.link.split('#isVideo=true#')[0];\n            } else {\n                link = item.link;\n            }\n            linkData = linkData + link + '\\n';\n        });\n        saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\n        return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\n    }\n}\n// å¯¼å‡ºè‡ªå®šä¹‰æ‰¹æ–‡ä»¶\n$.exports.toSelfFile = function (item) {\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n    if (groupFuns.includes(item)) {\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\n    }\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (PhotoAlbum.isSecret == 'yes') {\n        keyArray = [];\n        for (i in PhotoAlbum.keyMap) {\n            keyArray.push(i);\n        }\n        if (keyArray.includes(item)) {\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                keyMap = PhotoAlbum.keyMap;\n                password = base64Decode(base64Decode(keyMap[group]));\n                if (input == password) {\n                    var linkData = '';\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n                        if (item.link.match(/#isVideo=true#/)) {\n                            link = item.link.split('#isVideo=true#')[0];\n                        } else {\n                            link = item.link;\n                        }\n                        linkData = linkData + item.title + ',' + link + '\\n';\n                    });\n                    saveFile('hiker://files/cache/PhotoAlbum_' + group + '.txt', linkData);\n                    return 'share://hiker://files/cache/PhotoAlbum_' + group + '.txt';\n                } else {\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                }\n            }, item);\n        } else {\n            var linkData = '';\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n                if (item.link.match(/#isVideo=true#/)) {\n                    link = item.link.split('#isVideo=true#')[0];\n                } else {\n                    link = item.link;\n                }\n                linkData = linkData + item.title + ',' + link + '\\n';\n            });\n            saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\n            return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\n        }\n    } else {\n        var linkData = '';\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\n            if (item.link.match(/#isVideo=true#/)) {\n                link = item.link.split('#isVideo=true#')[0];\n            } else {\n                link = item.link;\n            }\n            linkData = linkData + item.title + ',' + link + '\\n';\n        });\n        saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\n        return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\n    }\n}\n// åˆ†ç»„é•¿æŒ‰äº‹ä»¶-éšè—\n$.exports.groupFun = function (item) {\n    return [{\n        title: 'æ›´å', js: $.toString((item) => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").reGroupName(item)\n        }, item)\n    }, {\n        title: 'åˆ é™¤', js: $.toString((item) => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").deleteGroup(item)\n        }, item)\n    }, {\n        title: 'IDMæ‰¹æ–‡ä»¶', js: $.toString((item) => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").toIDM(item)\n        }, item)\n    }, {\n        title: 'è‡ªå®šä¹‰æ‰¹æ–‡ä»¶', js: $.toString((item) => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").toSelfFile(item)\n        }, item)\n    }];\n}\n// æ¦‚è§ˆ/å¤šé€‰åˆ‡æ¢\n$.exports.SwitchMode = function (MY_PAGE_add) {\n    // ç›‘å¬åˆ·æ–°äº‹ä»¶æ²¡æ•ˆå°±æ‰‹åŠ¨è§¦å‘å§\n    clearMyVar('selectArray');\n    clearMyVar('selectNum');\n    clearMyVar('selectGroup');\n    clearMyVar('currentPage');\n    clearMyVar('isOpen_ğŸ—‘ï¸');\n    clearMyVar('addSwitch');\n    // clearMyVar('editor_mode');ä¸è¦æ¸…é™¤ç¼–è¾‘æ¨¡å¼è®°å½•\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    for (i in PhotoAlbum.ç›¸å†Œ) {\n        clearMyVar('isOpen_' + i);\n    }\n    // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n    showImg = [];\n    keyArray = [];\n    for (i in PhotoAlbum.keyMap) {\n        keyArray.push(i);\n    }\n    for (group in PhotoAlbum.ç›¸å†Œ) {\n        if (!keyArray.includes(group)) {\n            showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n        }\n    }\n    maxNum = showImg.length;\n    for (let index = 1; index <= maxNum; index++) {\n        clearMyVar('isChoose_' + index);\n    }\n    // log('æ¸…é™¤indexçš„æ•°é‡:' + maxNum);\n    if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\n        putMyVar('showPage', 'â˜‘ï¸å¤šé€‰');\n    } else {\n        putMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ');\n    }\n    putMyVar('thePageNum', MY_PAGE_add);\n    putMyVar('lastPage', '1');\n    refreshPage(false);\n    return 'toast://åˆ‡æ¢æˆåŠŸ';\n}\n// å‘ˆç°æ ·å¼åˆ‡æ¢\n$.exports.switchShowType = function () {\n    return $(['pic_2', 'movie_2', 'pic_1', 'pic_1_full', 'card_pic_1', 'card_pic_2', 'movie_1', 'movie_1_left_pic', 'card_pic_3', 'movie_3', 'movie_3_marquee', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'avatar'], 3, 'æ ·å¼åˆ—è¡¨').select(() => {\n        if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'â˜‘ï¸å¤šé€‰') {\n            banList = ['icon_round_4', 'pic_1_full', 'card_pic_1', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'card_pic_3'];\n            if (banList.includes(input)) {\n                return 'toast://â˜‘ï¸å¤šé€‰ä¸‹ä¸¥ç¦åˆ‡æ¢æˆè¯¥æ ·å¼~';\n            }\n        }\n        var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        PhotoAlbum.showType = input;\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        clearMyVar('addSwitch');\n        refreshPage(true);\n        return 'toast://åˆ‡æ¢æˆåŠŸ~';\n    })\n}\n// æ–°å¢å›¾ç‰‡\n$.exports.addNewPic = function () {\n    if (getMyVar('addSwitch', 'fold') == 'fold') {\n        newArray = [{\n            desc: 'è¯·è¾“å…¥æ ‡é¢˜ï¼Œä¸€è¡Œä¸€æ¡',\n            col_type: 'input',\n            extra: {\n                titleVisible: false,\n                type: 'textarea',\n                height: -1,\n                highlight: true,\n                onChange: \"putMyVar('titleArray',input)\",\n                cls: 'addMorePhotos'\n            }\n        }, {\n            desc: 'è¯·è¾“å…¥é“¾æ¥ï¼Œä¸€è¡Œä¸€æ¡',\n            col_type: 'input',\n            extra: {\n                titleVisible: false,\n                type: 'textarea',\n                height: -1,\n                highlight: true,\n                onChange: \"putMyVar('linkArray',input)\",\n                cls: 'addMorePhotos'\n            }\n        }, {\n            title: 'å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªåˆ†ç»„'),\n            url: $('hiker://empty#noLoading#').lazyRule(() => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                groupArray = [];\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\n                    groupArray.push(group);\n                }\n                return $(groupArray, 3, 'æ ·å¼åˆ—è¡¨').select(() => {\n                    putMyVar('selectGroup', input)\n                    updateItem('group_btn', {\n                        title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªåˆ†ç»„'),\n                    });\n                    return 'toast://åˆ‡æ¢æˆåŠŸ~';\n                })\n            }),\n            col_type: 'text_1',\n            extra: {\n                id: 'group_btn',\n                cls: 'addMorePhotos'\n            }\n        }, {\n            title: 'â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">æ·» åŠ </span></big>',\n            url: $('#noLoading#').lazyRule(() => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                // ä¾æ¬¡æ˜¯windowã€Unix/Linuxã€Macçš„æ¢è¡Œç¬¦ï¼ˆç³»ç»Ÿæ¢è¡Œäº§ç”Ÿçš„ä¸å¯è§å­—ç¬¦ï¼‰\n                titleArray = getMyVar('titleArray', '[]').split(/\\r\\n|\\n|\\r/);\n                linkArray = getMyVar('linkArray', '[]').split(/\\r\\n|\\n|\\r/);\n                group = getMyVar('selectGroup', 'æœªåˆ†ç»„');\n                if (group == 'æœªåˆ†ç»„') {\n                    return 'toast://è¯·å…ˆé€‰æ‹©åˆ†ç»„ï¼'\n                } else {\n                    if (PhotoAlbum.isSecret == 'yes') {\n                        keyArray = [];\n                        for (i in PhotoAlbum.keyMap) {\n                            keyArray.push(i);\n                        }\n                        if (keyArray.includes(group)) {\n                            return $('', group + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                keyMap = PhotoAlbum.keyMap;\n                                password = base64Decode(base64Decode(keyMap[group]));\n                                if (input == password) {\n                                    // æ—¥å¿—å¤‡ä»½\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                    // ä¾æ¬¡æ˜¯windowã€Unix/Linuxã€Macçš„æ¢è¡Œç¬¦ï¼ˆç³»ç»Ÿæ¢è¡Œäº§ç”Ÿçš„ä¸å¯è§å­—ç¬¦ï¼‰\n                                    titleArray = getMyVar('titleArray', '[]').split(/\\r\\n|\\n|\\r/);\n                                    linkArray = getMyVar('linkArray', '[]').split(/\\r\\n|\\n|\\r/);\n                                    date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                                    dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\n                                    if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                                        PhotoAlbum.ç›¸å†Œ[group] = [];\n                                    }\n                                    for (let i = 0; i < dataLength; i++) {\n                                        title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\n                                        link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\n                                        PhotoAlbum.ç›¸å†Œ[group].unshift({\n                                            link: link,\n                                            date: date,\n                                            title: title,\n                                            group: group\n                                        });\n                                    }\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                    clearMyVar('addSwitch');\n                                    refreshPage(true);\n                                    return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n                                } else {\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                                }\n                            }, group)\n                        } else {\n                            // æ—¥å¿—å¤‡ä»½\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                            dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\n                            }\n                            for (let i = 0; i < dataLength; i++) {\n                                title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\n                                link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\n                                    link: link,\n                                    date: date,\n                                    title: title,\n                                    group: group\n                                });\n                            }\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            clearMyVar('addSwitch');\n                            refreshPage(true);\n                            return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n                        }\n                    } else {\n                        // æ—¥å¿—å¤‡ä»½\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                        dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\n                        if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                            PhotoAlbum.ç›¸å†Œ[group] = [];\n                        }\n                        for (let i = 0; i < dataLength; i++) {\n                            title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\n                            link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\n                            PhotoAlbum.ç›¸å†Œ[group].unshift({\n                                link: link,\n                                date: date,\n                                title: title,\n                                group: group\n                            });\n                        }\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        clearMyVar('addSwitch');\n                        refreshPage(true);\n                        return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n                    }\n                }\n            }),\n            col_type: 'text_center_1',\n            extra: {\n                cls: 'addMorePhotos'\n            }\n        }];\n        addItemAfter('addMoreBtn', newArray);\n        putMyVar('addSwitch', 'open');\n    } else {\n        deleteItemByCls('addMorePhotos');\n        putMyVar('addSwitch', 'fold');\n    }\n    return \"hiker://empty\";\n}\n// æ–°å¢é•¿æŒ‰-æ‰¹é‡å¯¼å…¥\n$.exports.long_click_addNewPic = function () {\n    return $('', 'è¯·è¾“å…¥é“¾æ¥').input(() => {\n        var link = input;\n        return $('', 'è¯·è¾“å…¥å¯¼å…¥çš„åˆ†ç»„åç§°').input((link) => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            if (PhotoAlbum.isSecret == 'yes') {\n                keyArray = [];\n                for (i in PhotoAlbum.keyMap) {\n                    keyArray.push(i);\n                }\n                if (keyArray.includes(input)) {\n                    return $('', input + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group, link) => {\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        keyMap = PhotoAlbum.keyMap;\n                        password = base64Decode(base64Decode(keyMap[group]));\n                        if (input == password) {\n                            // æ—¥å¿—å¤‡ä»½\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            data = request(link).split(/\\r\\n|\\n|\\r/);\n                            date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\n                            }\n                            data.forEach(item => {\n                                if (item == '') {\n                                    return;\n                                } else {\n                                    title = item.split(/,|ï¼Œ/)[0];\n                                    link = item.split(/,|ï¼Œ/)[1];\n                                }\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\n                                    link: link,\n                                    date: date,\n                                    title: title,\n                                    group: group\n                                });\n                            });\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            refreshPage(true);\n                            return \"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\";\n                        } else {\n                            return 'toast://å¯†ç é”™è¯¯ï¼'\n                        }\n                    }, input, link)\n                } else {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    // æ—¥å¿—å¤‡ä»½\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    data = request(link).split(/\\r\\n|\\n/);\n                    date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                    if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                        PhotoAlbum.ç›¸å†Œ[input] = [];\n                    }\n                    data.forEach(item => {\n                        if (item == '') {\n                            return;\n                        } else {\n                            title = item.split(/,|ï¼Œ/)[0];\n                            link = item.split(/,|ï¼Œ/)[1];\n                        }\n                        PhotoAlbum.ç›¸å†Œ[input].unshift({\n                            link: link,\n                            date: date,\n                            title: title,\n                            group: input\n                        });\n                    });\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    refreshPage(true);\n                    return \"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\";\n                }\n            } else {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                // æ—¥å¿—å¤‡ä»½\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                data = request(link).split(/\\r\\n|\\n/);\n                date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\n                }\n                data.forEach(item => {\n                    if (item == '') {\n                        return;\n                    } else {\n                        title = item.split(/,|ï¼Œ/)[0];\n                        link = item.split(/,|ï¼Œ/)[1];\n                    }\n                    PhotoAlbum.ç›¸å†Œ[input].unshift({\n                        link: link,\n                        date: date,\n                        title: title,\n                        group: input\n                    });\n                });\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                refreshPage(true);\n                return \"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\";\n            }\n        }, link)\n    })\n}\n//æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ\n$.exports.revoke = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum_workBack.json'))));\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n    refreshPage(false);\n    return 'toast://æ’¤é”€æˆåŠŸ';\n}\n// åˆ†é¡µæŒ‰é’®é•¿æŒ‰äº‹ä»¶\n$.exports.long_click_pageBtn = function (MY_PAGE_add) {\n    if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\n        title = 'è¿›å…¥å¤šé€‰æ‰¹é‡æ¨¡å¼æ“ä½œ';\n    } else {\n        title = 'é€€å‡ºæ‰¹é‡æ¨¡å¼';\n    }\n    return [{\n        title: title, js: $.toString((MY_PAGE_add) => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").SwitchMode(MY_PAGE_add)\n        }, MY_PAGE_add)\n    }, {\n        title: 'æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ', js: $.toString(() => {\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").revoke()\n        })\n    }];\n}\n// åˆ†é¡µé€‰æ‹©å¼¹çª—\n$.exports.refreshPageNum = function () {\n    // åŠ è½½å›¾å†Œé…ç½®\n    var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    Select_group = getMyVar('Select_group', 'å…¨éƒ¨');\n    singleMax = PhotoAlbum.singleMax;\n    // è·å–å½“å‰çš„å…¨éƒ¨showImg\n    if (getMyVar('currentPage', 'whole') == 'search_res') {\n        var keyWord = getMyVar('condition');\n        var reg = new RegExp(keyWord);\n        var showImg = [];\n        if (Select_group == 'ğŸ—‘ï¸') {\n            res_source = 'å›æ”¶ç«™';\n            PhotoAlbum.å›æ”¶ç«™.forEach(item => {\n                if (item.title.match(reg) && item.title != 'æœªå‘½å') {\n                    showImg.push(item);\n                }\n            });\n        } else {\n            res_source = 'å›¾åº“';\n            for (group in PhotoAlbum.ç›¸å†Œ) {\n                PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n                    if (item.title.match(reg) && item.title != 'æœªå‘½å') {\n                        showImg.push(item);\n                    }\n                });\n            }\n        }\n    } else if (Select_group == 'å…¨éƒ¨') {\n        showImg = [];\n        keyArray = [];\n        for (i in PhotoAlbum.keyMap) {\n            keyArray.push(i);\n        }\n        for (group in PhotoAlbum.ç›¸å†Œ) {\n            if (!keyArray.includes(group)) {\n                showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n            }\n        }\n    } else if (Select_group == 'ğŸ—‘ï¸') {\n        var showImg = PhotoAlbum.å›æ”¶ç«™;\n    } else {\n        var showImg = PhotoAlbum.ç›¸å†Œ[Select_group];\n    }\n    // å¼€å§‹åˆ†é¡µå·¥ä½œ\n    maxNum = showImg.length;\n    maxPage = Math.ceil(maxNum / singleMax);\n    thePageNum = getMyVar('thePageNum', 1 + '');\n    pageList = ['âˆ·'];\n    if (maxNum <= singleMax) {\n        pageList.push('â€œâ€œâ€â€<font color=\"red\">1/1</font>');\n    } else {\n        for (let page = 1; page <= maxPage; page++) {\n            start = (page - 1) * singleMax + 1;\n            if (thePageNum == page) {\n                pageList.push('â€œâ€œâ€â€<font color=\"red\">' + page + '/' + start + '</font>');\n            } else {\n                pageList.push('â€œâ€œâ€â€<font color=\"gray\">' + page + '/' + start + '</font>');\n            }\n        }\n    }\n    return $(pageList, 3).select((singleMax) => {\n        if (input == 'âˆ·') {\n            return $(singleMax, 'è¯·è®¾ç½®å•é¡µæœ€å¤§æ•°é‡').input(() => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                PhotoAlbum.singleMax = parseInt(input);\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                refreshPage(false);\n                return 'toast://limitè®¾ç½®ç”Ÿæ•ˆ'\n            })\n        }\n        thePageNum = input.split('/')[0].split('>')[1];\n        putMyVar('thePageNum', thePageNum);\n        putMyVar('lastPage', '1');\n        refreshPage(true);\n        return 'hiker://empty';\n    }, singleMax)\n}\n\n// ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡(è¿”å›å‡½æ•°æ–¹æ³•çš„å¯æ‰§è¡Œå­—ç¬¦ä¸²)\n$.exports.refreshPicArrayNum = function () {\n    return $.toString(() => {\n        pic_len = showImg.length - videoArray.length;\n        d[getMyVar('indexOfArray')].title = '<b>å›¾ç‰‡</b>\\t\\t\\tæœ¬é¡µ<font color=' + color + '>' + pic_len + '</font>æ¡æ•°æ®\\t\\t\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\t\\t\\tç¬¬<font color=\"red\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ';\n    })\n}\n\n\n// æ¢å¤åŸä½\n$.exports.reinstate = function (group, link) {\n    if (group && link) {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        // æ—¥å¿—å¤‡ä»½\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\n        // æ¢å¤åˆ°åŸåˆ†ç»„\n        if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n            PhotoAlbum.ç›¸å†Œ[group] = [];\n        }\n        PhotoAlbum.ç›¸å†Œ[group].unshift(PhotoAlbum.å›æ”¶ç«™[i]);\n        // ä»å›æ”¶ç«™åˆ é™¤\n        PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        refreshPage(false);\n        return 'toast://å·²ä»å›æ”¶ç«™æ¢å¤';\n    } else {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        if (getMyVar('selectNum', '0') == '0') {\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦æ¢å¤çš„å›¾ç‰‡ï¼'\n        } else {\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            selectArray = JSON.parse(getMyVar('selectArray'));\n            selectArray.forEach(item => {\n                group = item.group;\n                link = item.link;\n                // æ¢å¤åˆ°åŸåˆ†ç»„\n                if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                    PhotoAlbum.ç›¸å†Œ[group] = [];\n                }\n                PhotoAlbum.ç›¸å†Œ[group].unshift(item);\n                // ä»å›æ”¶ç«™åˆ é™¤\n                // PhotoAlbum.å›æ”¶ç«™.pop(item);â€”â€”æœæ°”ï¼Œæä¸æ˜è¿™æ ·å†™ä¸ºä»€ä¹ˆä¼šå‡ºç°å„ç§bug...\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\n                PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\n            });\n            selectNum = getMyVar('selectNum', '0');\n            clearMyVar('selectNum');\n            clearMyVar('selectArray');\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n            showImg = [];\n            keyArray = [];\n            for (i in PhotoAlbum.keyMap) {\n                keyArray.push(i);\n            }\n            for (group in PhotoAlbum.ç›¸å†Œ) {\n                if (!keyArray.includes(group)) {\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                }\n            }\n            maxNum = showImg.length;\n            for (let index = 1; index <= maxNum; index++) {\n                clearMyVar('isChoose_' + index);\n            }\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            refreshPage(false);\n            return \"toast://å…±æ¢å¤\" + selectNum + 'å¼ å›¾ç‰‡';\n        }\n    }\n}\n\n// åˆ é™¤(ç§»åŠ¨åˆ°å›æ”¶ç«™)\n$.exports.removeBin = function (group, link, title) {\n    if (group && link && title) {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        // æ—¥å¿—å¤‡ä»½\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n        // æ”¾å…¥å›æ”¶ç«™\n        date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n        PhotoAlbum.å›æ”¶ç«™.unshift({\n            link: link,\n            date: date,\n            title: title,\n            group: group\n        });\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        refreshPage(false);\n        return \"toast://åˆ é™¤æˆåŠŸ\";\n    } else {\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        if (getMyVar('selectNum', '0') == '0') {\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å›¾ç‰‡ï¼'\n        } else {\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            selectArray = JSON.parse(getMyVar('selectArray'));\n            selectArray.forEach(item => {\n                link = item.link;\n                title = item.title;\n                group = item.group;\n                // iæ˜¯åŠ¨æ€è·å–çš„\n                i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n                // æ”¾å…¥å›æ”¶ç«™\n                date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                PhotoAlbum.å›æ”¶ç«™.unshift({\n                    link: link,\n                    date: date,\n                    title: title,\n                    group: group\n                });\n            });\n            selectNum = getMyVar('selectNum', '0');\n            clearMyVar('selectNum');\n            clearMyVar('selectArray');\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n            showImg = [];\n            keyArray = [];\n            for (i in PhotoAlbum.keyMap) {\n                keyArray.push(i);\n            }\n            for (group in PhotoAlbum.ç›¸å†Œ) {\n                if (!keyArray.includes(group)) {\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                }\n            }\n            maxNum = showImg.length;\n            for (let index = 1; index <= maxNum; index++) {\n                clearMyVar('isChoose_' + index);\n            }\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            refreshPage(false);\n            return \"toast://å…±åˆ é™¤\" + selectNum + 'å¼ å›¾ç‰‡';\n        }\n    }\n}\n// å½»åº•åˆ é™¤\n$.exports.completelyDelete = function (link) {\n    if (link) {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        // æ—¥å¿—å¤‡ä»½\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\n        PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        refreshPage(false);\n        return 'toast://å·²å½»åº•åˆ é™¤';\n    } else {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        if (getMyVar('selectNum', '0') == '0') {\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å›¾ç‰‡ï¼'\n        } else {\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            selectArray = JSON.parse(getMyVar('selectArray'));\n            selectArray.forEach(item => {\n                link = item.link;\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\n                PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\n            });\n            selectNum = getMyVar('selectNum', '0');\n            clearMyVar('selectNum');\n            clearMyVar('selectArray');\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n            showImg = [];\n            keyArray = [];\n            for (i in PhotoAlbum.keyMap) {\n                keyArray.push(i);\n            }\n            for (group in PhotoAlbum.ç›¸å†Œ) {\n                if (!keyArray.includes(group)) {\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                }\n            }\n            maxNum = showImg.length;\n            for (let index = 1; index <= maxNum; index++) {\n                clearMyVar('isChoose_' + index);\n            }\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            refreshPage(false);\n            return \"toast://å…±å½»åº•åˆ é™¤\" + selectNum + 'å¼ å›¾ç‰‡';\n        }\n    }\n}\n// åŠ å…¥éšæœº\n$.exports.JoinRandom = function (link,group) {\n    if (link) {\n        if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json')) {\n            return 'toast://ä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜å“¦ï¼'\n        } else {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n            if (group) {\n                i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\n                self_way = String(data.self_way);\n                data.gif_list.unshift(PhotoAlbum.ç›¸å†Œ[group][i].link);\n            }else{\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\n                self_way = String(data.self_way);\n                data.gif_list.unshift(PhotoAlbum.å›æ”¶ç«™[i].link);\n            }\n            saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\"gif_list\":' + JSON.stringify(data.gif_list) + ',\"showType\":' + JSON.stringify(data.showType) + ',\"self_way\":' + self_way + '}');\n            return 'toast://åŠ å…¥æˆåŠŸ~'\n        }\n    } else {\n        if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json')) {\n            return 'toast://ä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜å“¦ï¼'\n        } else {\n            if (getMyVar('selectNum', '0') == '0') {\n                return 'toast://è¯·å…ˆé€‰æ‹©å›¾ç‰‡ï¼'\n            } else {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\n                self_way = String(data.self_way);\n                selectArray = JSON.parse(getMyVar('selectArray'));\n                selectArray.forEach(item => {\n                    data.gif_list.unshift(item.link);\n                });\n                selectNum = getMyVar('selectNum', '0');\n                clearMyVar('selectNum');\n                clearMyVar('selectArray');\n                // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n                showImg = [];\n                keyArray = [];\n                for (i in PhotoAlbum.keyMap) {\n                    keyArray.push(i);\n                }\n                for (group in PhotoAlbum.ç›¸å†Œ) {\n                    if (!keyArray.includes(group)) {\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                    }\n                }\n                maxNum = showImg.length;\n                for (let index = 1; index <= maxNum; index++) {\n                    clearMyVar('isChoose_' + index);\n                }\n                // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\n                saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\"gif_list\":' + JSON.stringify(data.gif_list) + ',\"showType\":' + JSON.stringify(data.showType) + ',\"self_way\":' + self_way + '}');\n                refreshPage(false);\n                return \"toast://å…±æœ‰\" + selectNum + 'å¼ å›¾ç‰‡åŠ å…¥äº†éšæœºå›¾åº“';\n            }\n        }\n    }\n}\n// é‡å‘½å\n$.exports.reName = function (title, link, group) {\n    return $(title).input((link, group) => {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        // æ—¥å¿—å¤‡ä»½\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n        PhotoAlbum.ç›¸å†Œ[group][i].title = input;\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        refreshPage(false);\n        return 'toast://é‡å‘½åæˆåŠŸ'\n    }, link, group)\n}\n// æ”¹é“¾æ¥\n$.exports.changeLinke = function (link, group) {\n    return $(link).input((link, group) => {\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        // æ—¥å¿—å¤‡ä»½\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n        PhotoAlbum.ç›¸å†Œ[group][i].link = input;\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n        refreshPage(false);\n        return 'toast://ä¿®æ”¹é“¾æ¥æˆåŠŸ'\n    }, link, group)\n}\n// ç§»åŠ¨åˆ†ç»„\n$.exports.moveGroup = function (group, link, title) {\n    if (group && link && title) {\n        return $(group).input((group, link, title) => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            // æ—¥å¿—å¤‡ä»½\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n            i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n            if (input == 'å›æ”¶ç«™') {\n                // ç§»åŠ¨åˆ°å›æ”¶ç«™\n                date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                PhotoAlbum.å›æ”¶ç«™.unshift({\n                    link: link,\n                    date: date,\n                    title: title,\n                    group: group\n                });\n                // ä»åŸåˆ†ç»„åˆ é™¤\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                refreshPage(false);\n                return 'toast://å·²ç§»åŠ¨åˆ°å›æ”¶ç«™';\n            } else {\n                // ä¿®æ”¹åˆ†ç»„ä¿¡æ¯\n                PhotoAlbum.ç›¸å†Œ[group][i].group = input;\n                // ç§»åŠ¨åˆ°æ–°åˆ†ç»„\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\n                }\n                PhotoAlbum.ç›¸å†Œ[input].unshift(PhotoAlbum.ç›¸å†Œ[group][i]);\n                // ä»åŸåˆ†ç»„åˆ é™¤\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                refreshPage(false);\n                return 'toast://ç§»åŠ¨æˆåŠŸ';\n            }\n        }, group, link, title)\n    } else {\n        if (getMyVar('selectNum', '0') == '0') {\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦ç§»åŠ¨çš„å›¾ç‰‡ï¼'\n        } else {\n            return $('', 'è¯·è¾“å…¥è¦ç§»åŠ¨åˆ°çš„åˆ†ç»„').input(() => {\n                $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                // æ—¥å¿—å¤‡ä»½\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                selectArray = JSON.parse(getMyVar('selectArray'));\n                selectArray.forEach(item => {\n                    link = item.link;\n                    title = item.title;\n                    group = item.group;\n                    $.require(\"hiker://page/api?rule=å›¾å†Œ\").overwriteArray();\n                    i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\n                    if (input == 'å›æ”¶ç«™') {\n                        // ç§»åŠ¨åˆ°å›æ”¶ç«™\n                        date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                        PhotoAlbum.å›æ”¶ç«™.unshift({\n                            link: link,\n                            date: date,\n                            title: title,\n                            group: group\n                        });\n                        // ä»åŸåˆ†ç»„åˆ é™¤\n                        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n                    } else {\n                        // ä¿®æ”¹åˆ†ç»„ä¿¡æ¯\n                        PhotoAlbum.ç›¸å†Œ[group][i].group = input;\n                        // ç§»åŠ¨åˆ°æ–°åˆ†ç»„\n                        if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                            PhotoAlbum.ç›¸å†Œ[input] = [];\n                        }\n                        PhotoAlbum.ç›¸å†Œ[input].unshift(PhotoAlbum.ç›¸å†Œ[group][i]);\n                        // ä»åŸåˆ†ç»„åˆ é™¤\n                        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\n                    }\n                });\n                selectNum = getMyVar('selectNum', '0');\n                clearMyVar('selectNum');\n                clearMyVar('selectArray');\n                // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\n                showImg = [];\n                keyArray = [];\n                for (i in PhotoAlbum.keyMap) {\n                    keyArray.push(i);\n                }\n                for (group in PhotoAlbum.ç›¸å†Œ) {\n                    if (!keyArray.includes(group)) {\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                    }\n                }\n                maxNum = showImg.length;\n                for (let index = 1; index <= maxNum; index++) {\n                    clearMyVar('isChoose_' + index);\n                }\n                // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                refreshPage(false);\n                return \"toast://å…±ç§»åŠ¨\" + selectNum + 'å¼ å›¾ç‰‡';\n            });\n        }\n    }\n}\n// é¢„è§ˆ-å¤šé€‰\n$.exports.preview = function (item) {\n    if (item.link.match(/#isVideo=true#/)) {\n        link = item.link;\n        if (link.match(/-dir/)) {\n            link = item.link.split('-dir')[0];\n        } else {\n            lazy = $(\"\").lazyRule(() => {\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\n            });\n            link = item.link.split('#isVideo=true#')[0] + lazy;\n        }\n    } else {\n        link = item.link;\n        if (!link.match(/jpg|jpeg|gif|png|svg|webp|bmp|tif/)) {\n            link = link + '.png';\n        }\n    }\n    return link;\n}\n\n// å›¾ç‰‡è§†é¢‘-å›æ”¶ç«™é•¿æŒ‰äº‹ä»¶\n$.exports.long_click_binPage = function (group, link, from, item) {\n    if (from) {\n        return [{\n            title: 'é¢„è§ˆ', js: $.toString((item) => {\n                return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\n            }, item)\n        }, {\n            title: 'æ¢å¤', js: $.toString(() => {\n                return $.require('hiker://page/api?rule=å›¾å†Œ').reinstate();\n            })\n        }, {\n            title: 'å½»åº•åˆ é™¤', js: $.toString(() => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").completelyDelete();\n            })\n        }, {\n            title: 'åŠ å…¥éšæœº', js: $.toString(() => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").JoinRandom();\n            })\n        }];\n    } else {\n        return [{\n            title: 'æ¢å¤åŸä½', js: $.toString((group, link) => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").reinstate(group, link);\n            }, group, link)\n        }, {\n            title: 'å½»åº•åˆ é™¤', js: $.toString((link) => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").completelyDelete(link);\n            }, link)\n        }, {\n            title: 'åŠ å…¥éšæœº', js: $.toString((link) => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").JoinRandom(link);\n            }, link)\n        }];\n    }\n}\n// å›¾ç‰‡è§†é¢‘-åˆ†ç»„é•¿æŒ‰äº‹ä»¶\n$.exports.long_click_truePage = function (title, link, group, from, item, type) {\n    switch (arguments.length) {\n        case 6:\n            return [{\n                title: 'é¢„è§ˆ', js: $.toString((item) => {\n                    return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\n                }, item)\n            }, {\n                title: 'ç§»åŠ¨', js: $.toString(() => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").moveGroup();\n                })\n            }, {\n                title: 'åˆ é™¤', js: $.toString(() => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").removeBin();\n                })\n            }]\n            break;\n        case 4:\n            return [{\n                title: 'é‡å‘½å', js: $.toString((title, link, group) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").reName(title, link, group);\n                }, title, link, group)\n            }, {\n                title: 'æ”¹é“¾æ¥', js: $.toString((link, group) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").changeLinke(link, group);\n                }, link, group)\n            }, {\n                title: 'ç§»åŠ¨åˆ†ç»„', js: $.toString((group, link, title) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").moveGroup(group, link, title);\n                }, group, link, title)\n            }, {\n                title: 'åˆ é™¤', js: $.toString((group, link, title) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").removeBin(group, link, title);\n                }, group, link, title)\n            }];\n            break;\n        case 5:\n            return [{\n                title: 'é¢„è§ˆ', js: $.toString((item) => {\n                    return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\n                }, item)\n            }, {\n                title: 'ç§»åŠ¨', js: $.toString(() => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").moveGroup();\n                })\n            }, {\n                title: 'åˆ é™¤', js: $.toString(() => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").removeBin();\n                })\n            }, {\n                title: 'åŠ å…¥éšæœº', js: $.toString(() => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").JoinRandom();\n                })\n            }]\n            break;\n        case 3:\n            return [{\n                title: 'é‡å‘½å', js: $.toString((title, link, group) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").reName(title, link, group);\n                }, title, link, group)\n            }, {\n                title: 'æ”¹é“¾æ¥', js: $.toString((link, group) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").changeLinke(link, group);\n                }, link, group)\n            }, {\n                title: 'ç§»åŠ¨åˆ†ç»„', js: $.toString((group, link, title) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").moveGroup(group, link, title);\n                }, group, link, title)\n            }, {\n                title: 'åˆ é™¤', js: $.toString((group, link, title) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").removeBin(group, link, title);\n                }, group, link, title)\n            }, {\n                title: 'åŠ å…¥éšæœº', js: $.toString((link,group) => {\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").JoinRandom(link,group);\n                }, link,group)\n            }];\n            break;\n    }\n}\n// åˆ†ç»„æƒé™éªŒè¯\n$.exports.Authentication = function (Select_group) {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (Select_group == 'ğŸ—‘ï¸') {\n        password = base64Decode(base64Decode(PhotoAlbum.user_password))\n    } else {\n        keyMap = PhotoAlbum.keyMap;\n        password = base64Decode(base64Decode(keyMap[Select_group]));\n    }\n    if (password != getMyVar('password')) {\n        return \"toast://å¯†ç é”™è¯¯ï¼\"\n    } else {\n        putMyVar('isOpen_' + Select_group, 'y')\n        refreshPage(true);\n        return \"toast://ç§˜é’¥æ­£ç¡®~\";\n    }\n}\n// å¤šé€‰ç›¸å†Œï¼ˆåˆ é™¤ï¼‰\n$.exports.selectGroupToDel = function (group) {\n    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\n    if (selectArray.includes(group)) {\n        selectNum = Number(getMyVar('selectNum', '0')) - 1;\n        selectArray = selectArray.filter(item => item != group);\n        putMyVar('selectArray', selectArray);\n        putMyVar('selectNum', selectNum);\n    } else {\n        selectNum = Number(getMyVar('selectNum', '0')) + 1;\n        selectArray.push(group);\n        putMyVar('selectArray', selectArray);\n        putMyVar('selectNum', selectNum);\n    }\n    // refreshPage(true);\n    updateItem('del_select_' + group, {\n        title: JSON.parse(getMyVar('selectArray', '[]')).includes(group) ? 'â€œâ€œâ€â€<font color=red>' + group + '</font>' : group,\n    });\n    return 'hiker://empty'\n}\n// åˆ é™¤å¤šé€‰ç›¸å†Œ\n$.exports.DelselectGroup = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (getMyVar('selectNum', '0') == '0') {\n        return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„ç›¸å†Œï¼'\n    } else {\n        keyArray = [];\n        for (var item in PhotoAlbum.keyMap) {\n            keyArray.push(item);\n        }\n        selectArray = JSON.parse(getMyVar('selectArray'));\n        for (var group in PhotoAlbum.ç›¸å†Œ) {\n            if (selectArray.includes(group)) {\n                if (keyArray.includes(group) && selectArray.length != 1) {\n                    return 'toast://é€‰ä¸­åˆ†ç»„ä¸­æœ‰ç›¸å†Œè®¾æœ‰ç§˜é’¥ï¼Œè¯·å•ç‹¬è¿›è¡Œåˆ é™¤ï¼'\n                } else if (keyArray.includes(group) && selectArray.length == 1) {\n                    if (PhotoAlbum.isSecret == 'yes') {\n                        return $('', group + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                            keyMap = PhotoAlbum.keyMap;\n                            password = base64Decode(base64Decode(keyMap[group]));\n                            if (input == password) {\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                // æ—¥å¿—å¤‡ä»½\n                                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                delete PhotoAlbum.ç›¸å†Œ[group];\n                                // æ¸…é™¤å¯†é’¥å¯¹\n                                delete PhotoAlbum.keyMap[group];\n                                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                selectNum = getMyVar('selectNum', '0');\n                                clearMyVar('selectNum');\n                                clearMyVar('selectArray');\n                                refreshPage(true);\n                                return \"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\";\n                            } else {\n                                return 'toast://å¯†ç é”™è¯¯ï¼'\n                            }\n                        }, group)\n                    } else {\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        // æ—¥å¿—å¤‡ä»½\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        delete PhotoAlbum.ç›¸å†Œ[group];\n                        // æ¸…é™¤å¯†é’¥å¯¹\n                        delete PhotoAlbum.keyMap[group];\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        selectNum = getMyVar('selectNum', '0');\n                        clearMyVar('selectNum');\n                        clearMyVar('selectArray');\n                        refreshPage(true);\n                        return \"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\";\n                    }\n                } else {\n                    // æ—¥å¿—å¤‡ä»½\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    // æ”¾å…¥å›æ”¶ç«™\n                    date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n                        item.date = date;\n                    });\n                    PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[group].concat(PhotoAlbum.å›æ”¶ç«™);\n                    // åˆ é™¤ç›¸å†Œ\n                    delete PhotoAlbum.ç›¸å†Œ[group];\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                }\n            }\n        };\n        // å¯¹äºå¤šé€‰æ¥è¯´ï¼Œè¦åœ¨å¾ªç¯å¤–è¿”å›ç»“æœ\n        selectNum = getMyVar('selectNum', '0');\n        clearMyVar('selectNum');\n        clearMyVar('selectArray');\n        refreshPage(true);\n        return \"toast://å…±åˆ é™¤\" + selectNum + 'ä¸ªç›¸å†Œ';\n    }\n}\n// åˆ›å»ºç›¸å†Œ\n$.exports.creatGroup = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    PhotoAlbum_Name = getMyVar('PhotoAlbum_Name', 'æœªå‘½å');\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n    if (groupFuns.includes(PhotoAlbum_Name)) {\n        return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\n    }\n    for (group in PhotoAlbum.ç›¸å†Œ) {\n        if (PhotoAlbum_Name == group) {\n            return 'toast://å·²å­˜åœ¨åŒåç›¸å†Œï¼'\n        }\n    };\n    PhotoAlbum.ç›¸å†Œ[PhotoAlbum_Name] = [];\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n    refreshPage(true);\n    return \"toast://ç›¸å†Œåˆ›å»ºæˆåŠŸ~\";\n}\n// å‹¾é€‰ç›¸å†Œï¼ˆå¤šé€‰æ¨¡å¼ï¼‰\n$.exports.CheckGroup = function (index, item, showType) {\n    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\n    if (getMyVar('isChoose_' + index, 'no') == 'yes') {\n        selectNum = Number(getMyVar('selectNum', '0')) - 1;\n        selectArray.pop(item);\n        putMyVar('selectArray', selectArray);\n        putMyVar('selectNum', selectNum);\n        putMyVar('isChoose_' + index, 'no');\n    } else {\n        selectNum = Number(getMyVar('selectNum', '0')) + 1;\n        selectArray.push(item);\n        putMyVar('selectArray', selectArray);\n        putMyVar('selectNum', selectNum);\n        putMyVar('isChoose_' + index, 'yes');\n    }\n    updateItem('selfMap' + index, {\n        desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : index + ''))),\n    });\n    return 'hiker://empty'\n}\n// é«˜çº§rootæƒé™\n$.exports.rootFun = function () {\n    return $('', 'ä½ æ²¡æœ‰æƒé™å“¦').input(() => {\n        if (input == 'root') {\n            // åŠ è½½å›¾å†Œé…ç½®\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            isSecret = PhotoAlbum.isSecret;\n            addItemAfter('root', [{\n                title: 'å¯¼å‡ºè§£ç æ–‡ä»¶',\n                url: $('#noLoading#').lazyRule(() => {\n                    saveFile('hiker://files/cache/PhotoAlbum_temp.json', base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    return 'share://hiker://files/cache/PhotoAlbum_temp.json';\n                }),\n                col_type: 'text_1'\n            }, {\n                title: 'å¯¼å…¥è§£ç æ–‡ä»¶ï¼ˆè¦†ç›–ï¼‰',\n                url: $('#noLoading#').lazyRule(() => {\n                    return $('', 'å¡«å†™æ–‡ä»¶æ‰€åœ¨è·¯å¾„|æ”¯æŒæ–‡ä»¶ç›´é“¾').input(() => {\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        // æ—¥å¿—å¤‡ä»½\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                        PhotoAlbum = request(input);\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(PhotoAlbum)));\n                        return \"toast://å¯¼å…¥æˆåŠŸ~\";\n                    })\n                }),\n                col_type: 'text_1'\n            }, {\n                title: 'æ¸…ç©ºç§˜é’¥',\n                desc: 'æ¸…é™¤æ‰€æœ‰ç”¨æˆ·ç§˜é’¥å’Œç›¸å†Œç§˜é’¥',\n                url: $('#noLoading#').lazyRule(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    // æ—¥å¿—å¤‡ä»½\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    PhotoAlbum.keyMap = {};\n                    PhotoAlbum.user_password = '';\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(PhotoAlbum)));\n                    return \"toast://æ¸…é™¤æˆåŠŸ~\";\n                }),\n                col_type: 'text_1'\n            }, {\n                title: '<b>è£¸å¥”æ¨¡å¼</b>',\n                img: (isSecret == 'yes' ? 'https://lanmeiguojiang.com/tubiao/messy/63.svg' : 'https://lanmeiguojiang.com/tubiao/messy/55.svg') + '@Referer=',\n                url: $('#noLoading#').lazyRule(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    if (PhotoAlbum.isSecret == 'yes') {\n                        PhotoAlbum.isSecret = 'no';\n                    } else {\n                        PhotoAlbum.isSecret = 'yes';\n                    }\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    refreshPage(true);\n                    return \"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\";\n                }),\n                col_type: 'text_icon'\n            }, {\n                title: 'æ— éœ€è®¾ç½®å¯†ç ï¼Œå¼€æ”¾æœç´¢ç­‰åŠŸèƒ½ã€‚è‹¥è®¾ç½®äº†å¯†ç è¿˜è¯·å…³é—­è¯¥é€‰é¡¹',\n                col_type: 'rich_text',\n                extra: { \"textSize\": \"12\" }\n            }]);\n        } else {\n            return 'toast://ä½ æ˜¯è°ï¼Ÿä½ æƒ³å¹²å˜›ï¼'\n        }\n    })\n}\n// ä¸Šé”\n$.exports.lockUp = function () {\n    return $('hiker://empty').rule(() => {\n        var d = [];\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n        keyMap = PhotoAlbum.keyMap;\n        if (JSON.stringify(keyMap) == '{}') {\n            d.push({\n                title: 'æš‚æ— ä¸Šé”çš„ç›¸å†Œ',\n                url: 'hiker://empty',\n                col_type: 'text_1'\n            })\n        } else {\n            for (var item in keyMap) {\n                d.push({\n                    title: 'ğŸ”’' + item,\n                    url: $(['æ›´æ”¹å¯†ç ', 'æ¸…é™¤å¯†ç '], 2, 'è¯·é€‰æ‹©æ“ä½œ').select((group) => {\n                        if (input == 'æ›´æ”¹å¯†ç ') {\n                            return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input((group) => {\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                keyMap = PhotoAlbum.keyMap;\n                                password = base64Decode(base64Decode(keyMap[group]));\n                                if (input == password) {\n                                    return $('', 'è¯·è¾“å…¥æ–°å¯†ç ').input((group) => {\n                                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                        keyMap = PhotoAlbum.keyMap;\n                                        keyMap[group] = base64Encode(base64Encode(input));\n                                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                        refreshPage(true);\n                                        return \"toast://ç›¸å†Œç§˜é’¥æ›´æ”¹æˆåŠŸ~\";\n                                    }, group);\n                                } else {\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                                }\n                            }, group)\n                        } else {\n                            return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input((group) => {\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                keyMap = PhotoAlbum.keyMap;\n                                password = base64Decode(base64Decode(keyMap[group]));\n                                if (input == password) {\n                                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                                    delete PhotoAlbum.keyMap[group];\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                    refreshPage(true);\n                                    return \"toast://ç›¸å†Œç§˜é’¥å·²æ¸…é™¤~\";\n                                } else {\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\n                                }\n                            }, group)\n                        }\n                    }, item),\n                    col_type: 'text_1'\n                })\n            }\n        }\n        d.push({\n            title: 'â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">æ·» åŠ ğŸ”’</span></big>',\n            url: 'hiker://empty',\n            col_type: 'text_1'\n        }, {\n            title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªé€‰æ‹©'),\n            url: $('hiker://empty#noLoading#').lazyRule(() => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                groupArray = [];\n                keyArray = [];\n                for (var item in PhotoAlbum.keyMap) {\n                    keyArray.push(item);\n                }\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\n                    if (!keyArray.includes(group)) {\n                        groupArray.push(group);\n                    }\n                }\n                return $(groupArray, 3, 'æœªä¸Šé”åˆ†ç»„').select(() => {\n                    putMyVar('selectGroup', input)\n                    updateItem('group_btn', {\n                        title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªé€‰æ‹©'),\n                    });\n                    return 'hiker://empty';\n                })\n            }),\n            col_type: 'text_1',\n            extra: {\n                id: 'group_btn'\n            }\n        }, {\n            desc: 'è¯·è¾“å…¥å¯†ç ',\n            col_type: 'input',\n            extra: {\n                titleVisible: false,\n                type: 'textarea',\n                height: 1,\n                highlight: true,\n                onChange: \"putMyVar('password',input)\",\n            }\n        }, {\n            title: 'ç¡®è®¤æ·»åŠ ',\n            url: $('#noLoading#').lazyRule(() => {\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                keyMap = PhotoAlbum.keyMap;\n                selectGroup = getMyVar('selectGroup', 'æœªé€‰æ‹©');\n                password = getMyVar('password');\n                if (selectGroup == 'æœªé€‰æ‹©') {\n                    return \"toast://è¯·å…ˆé€‰æ‹©è¦ä¸Šé”çš„ç›¸å†Œ\"\n                } else if (password == '') {\n                    return \"toast://å¯†ç ä¸èƒ½ä¸ºç©ºï¼\"\n                } else {\n                    if (PhotoAlbum.user_password == '') {\n                        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                            PhotoAlbum.user_password = base64Encode(base64Encode(input));\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            return \"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\";\n                        })\n                    } else {\n                        return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                            keyMap = PhotoAlbum.keyMap;\n                            selectGroup = getMyVar('selectGroup', 'æœªé€‰æ‹©');\n                            password = getMyVar('password');\n                            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\n                                keyMap[selectGroup] = base64Encode(base64Encode(password));\n                                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                                refreshPage(true);\n                                return \"toast://ç›¸å†Œç§˜é’¥æ·»åŠ æˆåŠŸ~\";\n                            } else {\n                                return 'toast://å¯†ç é”™è¯¯ï¼'\n                            }\n                        })\n                    }\n                }\n            }),\n            col_type: 'text_center_1'\n        });\n        setResult(d);\n    });\n}\n// è®¾ç½®æˆ–ä¿®æ”¹å¯†ç \n$.exports.setPassword = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (PhotoAlbum.user_password == '') {\n        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            PhotoAlbum.user_password = base64Encode(base64Encode(input));\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            return \"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\";\n        })\n    } else {\n        return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input(() => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\n                return $('', 'è¯·è¾“å…¥æ–°å¯†ç ').input(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    PhotoAlbum.user_password = base64Encode(base64Encode(input));\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    return \"toast://ç”¨æˆ·å¯†ç æ›´æ”¹æˆåŠŸ~\";\n                });\n            } else {\n                return 'toast://å¯†ç é”™è¯¯ï¼'\n            }\n        })\n    }\n}\n// æ¸…ç©ºå›æ”¶ç«™\n$.exports.clearBin = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    if (PhotoAlbum.user_password == '') {\n        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            PhotoAlbum.user_password = base64Encode(base64Encode(input));\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n            return \"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\";\n        })\n    } else {\n        return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\n                return $(\"æ…é‡è€ƒè™‘~\").confirm(() => {\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                    PhotoAlbum.å›æ”¶ç«™ = [];\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    return \"toast://å›æ”¶ç«™å·²æ¸…ç©ºï¼\";\n                });\n            } else {\n                return 'toast://å¯†ç é”™è¯¯ï¼'\n            }\n        })\n    }\n}\n// å»é‡\n$.exports.dedup = function () {\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    // è·å–å…¨éƒ¨æ•°æ®\n    allData = []\n    for (group in PhotoAlbum.ç›¸å†Œ) {\n        allData = allData.concat(PhotoAlbum.ç›¸å†Œ[group]);\n    }\n    allData = allData.concat(PhotoAlbum.å›æ”¶ç«™);\n    // é“¾æ¥å»é‡æ•°ç»„å®šä¹‰ä¸ºå…¨å±€\n    var newArr = [];\n    var repetNum = 0;\n    for (group in PhotoAlbum.ç›¸å†Œ) {\n        tempArray = [];\n        PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n            if (!newArr.includes(item.link)) {\n                // å°†é“¾æ¥å­˜å…¥å»é‡æ•°ç»„\n                newArr.push(item.link);\n                // å­˜å‚¨åˆ°ä¸´æ—¶æ•°ç»„å€’æ‰‹\n                tempArray.push(item);\n            } else {\n                repetNum++;\n            };\n\n        });\n        // å€’æ‰‹å­˜å…¥\n        PhotoAlbum.ç›¸å†Œ[group] = tempArray;\n    }\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n    return \"toast://æœ¬æ¬¡å»é‡\" + repetNum + 'æ¡æ•°æ®';\n}\n// å¤–éƒ¨æ¥å£1-åŠ å…¥éšæœºå›¾\n$.exports.addToRandomPool = function (linkArray) {\n    if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json') || !fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\n        return 'toast://æœ‹å‹ï¼Œä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜æˆ–è€…è¯´ä½ æ²¡æœ‰å›¾å†Œå“¦ï¼'\n    } else {\n        eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\n        self_way = String(data.self_way);\n        data.gif_list = linkArray.concat(data.gif_list);\n        saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\"gif_list\":' + JSON.stringify(data.gif_list) + ',\"showType\":' + JSON.stringify(data.showType) + ',\"self_way\":' + self_way + '}');\n        return 'toast://åŠ å…¥æˆåŠŸ~'\n    }\n}\n// å¤–éƒ¨æ¥å£2-åŠ å…¥å›¾å†Œåˆ†ç»„,å‚æ•°ä¸ºJSONæ•°ç»„:[{title:'',link:''}]\n$.exports.addToPhotoAlbum = function (data) {\n    if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json') || !fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\n        return 'toast://æœ‹å‹ï¼Œä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜æˆ–è€…è¯´ä½ æ²¡æœ‰å›¾å†Œå“¦ï¼'\n    } else {\n        return $('', 'è¯·è¾“å…¥ç›¸å†Œåˆ†ç»„åç§°').input((data) => {\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n            if (PhotoAlbum.isSecret == 'yes') {\n                keyArray = [];\n                for (i in PhotoAlbum.keyMap) {\n                    keyArray.push(i);\n                }\n                if (keyArray.includes(input)) {\n                    return $('', input + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group, data) => {\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n                        keyMap = PhotoAlbum.keyMap;\n                        password = base64Decode(base64Decode(keyMap[group]));\n                        if (input == password) {\n                            // æ—¥å¿—å¤‡ä»½\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\n                            }\n                            data.forEach(item => {\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\n                                    link: item.link,\n                                    date: date,\n                                    title: item.title,\n                                    group: group\n                                });\n                            });\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                            return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n                        } else {\n                            return 'toast://å¯†ç é”™è¯¯ï¼'\n                        }\n                    }, input, data)\n                } else {\n                    // æ—¥å¿—å¤‡ä»½\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                    if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                        PhotoAlbum.ç›¸å†Œ[input] = [];\n                    }\n                    data.forEach(item => {\n                        PhotoAlbum.ç›¸å†Œ[input].unshift({\n                            link: item.link,\n                            date: date,\n                            title: item.title,\n                            group: input\n                        });\n                    });\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                    return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n                }\n            } else {\n                // æ—¥å¿—å¤‡ä»½\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                date = $.require(\"hiker://page/api?rule=å›¾å†Œ\").getCurrentDate(1);\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\n                }\n                data.forEach(item => {\n                    PhotoAlbum.ç›¸å†Œ[input].unshift({\n                        link: item.link,\n                        date: date,\n                        title: item.title,\n                        group: input\n                    });\n                });\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n                return \"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\";\n            }\n        }, data)\n    }\n}\n"},{"col_type":"movie_3","name":"å®¶","path":"homePage","rule":"js:\n// é™é»˜å¤‡ä»½\ntry {\n    var d = [];\n    // é¢„å¤„ç†\n    $.require(\"hiker://page/api?rule=å›¾å†Œ\").pretreatment();\n    // åŠ è½½å›¾å†Œé…ç½®å’Œåˆå§‹åŒ–é¡µé¢ã€é¡µç \n    var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\n    Select_group = getMyVar('Select_group', 'å…¨éƒ¨');\n    showType = PhotoAlbum.showType;\n    keyMap = PhotoAlbum.keyMap;\n    singleMax = PhotoAlbum.singleMax;\n    isSecret = PhotoAlbum.isSecret;\n    color = \"#19B89D\";\n    // é¡µç å·®è·\n    margin = MY_PAGE - getMyVar('lastPage', '1');\n    // ä½¿ç”¨MY_PAGE_addæ‰¿æ¥é¡µç \n    MY_PAGE_add = parseInt(getMyVar('thePageNum', '1')) + margin;\n    log('é¡µç :' + MY_PAGE_add);\n    putMyVar('lastPage', MY_PAGE);\n    // å€’æ‰‹å˜é‡è®°å½•æœ€æ–°çš„MY_PAGE_add\n    putMyVar('thePageNum', MY_PAGE_add);\n    // ç¬¬ä¸€é¡µå±•ç¤ºåŠŸèƒ½åŒº\n    if (MY_PAGE == 1) {\n        // æ£€ç´¢\n        d.unshift({\n            title: \"æ£€ç´¢\",\n            desc: 'è¯·è¾“å…¥æ£€ç´¢å…³é”®å­—~',\n            col_type: \"input\",\n            url: $.toString(() => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").search()\n            }),\n            extra: {\n                type: 'textarea',\n                defaultValue: getMyVar('condition', ''),\n                height: 1,\n                onChange: \"putMyVar('condition',input)\",\n            }\n        })\n        groupItems = ['å…¨éƒ¨'];\n        groupFuns = ['ğŸ—‘ï¸', 'â•', 'â–'];\n        for (i in PhotoAlbum.ç›¸å†Œ) {\n            groupItems.push(i);\n        }\n        groupItems.push.apply(groupItems, groupFuns);\n        groupItems.forEach(item => {\n            groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\n            if (groupFuns.includes(item)) {\n                d.push({\n                    title: getMyVar('Select_group', 'å…¨éƒ¨') == item ? ('â€œâ€œâ€â€<b> <font color=' + color + '>' + item + ' </font></b>') : item,\n                    col_type: 'scroll_button',\n                    url: $('hiker://empty#noLoading#').lazyRule((item) => {\n                        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").SwitchGroup(item)\n                    }, item)\n                })\n            } else {\n                d.push({\n                    title: getMyVar('Select_group', 'å…¨éƒ¨') == item ? ('â€œâ€œâ€â€<b> <font color=' + color + '>' + item + ' </font></b>') : item,\n                    col_type: 'scroll_button',\n                    url: $('hiker://empty#noLoading#').lazyRule((item) => {\n                        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").SwitchGroup(item)\n                    }, item),\n                    extra: {\n                        longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").groupFun(item)\n                    }\n                })\n            }\n        });\n        d.push({\n            col_type: 'blank_block'\n        })\n        // æ·»åŠ æ›´å¤šæŒ‰é’®\n        d.push({\n            title: getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ' ? 'ğŸ–¼ï¸æ¦‚è§ˆ' : 'â˜‘ï¸å¤šé€‰',\n            url: $('#noLoading#').lazyRule((MY_PAGE_add) => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").SwitchMode(MY_PAGE_add)\n            }, MY_PAGE_add),\n            col_type: 'scroll_button'\n        }, {\n            title: 'ğŸ¨' + showType,\n            url: $('#noLoading#').lazyRule(() => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").switchShowType()\n            }),\n            col_type: 'scroll_button',\n            extra: {\n                id: 'showType_btn'\n            }\n        }, {\n            title: 'âš™ï¸è®¾ç½®',\n            url: $('#noLoading##noHistory#').lazyRule(() => {\n                return $('hiker://empty##fypage#fullTheme#').rule(() => {\n                    require(\"hiker://page/setting?rule=å›¾å†Œ\");\n                })\n            }),\n            col_type: 'scroll_button'\n        }, {\n            title: 'â•',\n            url: $('#noLoading#').lazyRule(() => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").addNewPic()\n            }),\n            col_type: 'scroll_button',\n            extra: {\n                id: 'addMoreBtn',\n                longClick: [{\n                    title: 'æ‰¹é‡å¯¼å…¥ï¼Œæ”¯æŒæœ¬åœ°ç›´é“¾ã€äº‘é“¾', js: $.toString(() => {\n                        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_addNewPic()\n                    })\n                }]\n            }\n        });\n    }\n    d.push({\n        url: 'hiker://empty',\n        col_type: 'line_blank'\n    },);\n    // æ•°æ®åŒ¹é…\n    keyArray = [];\n    for (i in PhotoAlbum.keyMap) {\n        keyArray.push(i);\n    }\n    if ((keyArray.includes(Select_group) || (Select_group == 'ğŸ—‘ï¸') && PhotoAlbum.user_password != '') && getMyVar('currentPage', 'whole') != 'search_res' && getMyVar('isOpen_' + Select_group, 'n') == 'n' && isSecret == 'yes') {\n        d.push({\n            desc: 'è¯·è¾“å…¥å¯†ç ',\n            col_type: 'input',\n            extra: {\n                titleVisible: false,\n                type: 'textarea',\n                height: 1,\n                highlight: true,\n                onChange: \"putMyVar('password',input)\",\n            }\n        }, {\n            title: 'ç¡®è®¤',\n            url: $('#noLoading#').lazyRule((Select_group) => {\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").Authentication(Select_group);\n            }, Select_group),\n            col_type: 'text_center_1'\n        });\n    } else {\n        if (getMyVar('currentPage', 'whole') == 'search_res') {\n            var keyWord = getMyVar('condition');\n            var reg = new RegExp(keyWord);\n            var showImg = [];\n            if (Select_group == 'ğŸ—‘ï¸') {\n                res_source = 'å›æ”¶ç«™';\n                PhotoAlbum.å›æ”¶ç«™.forEach(item => {\n                    if (item.title.match(reg) && item.title != 'æœªå‘½å') {\n                        showImg.push(item);\n                    }\n                });\n            } else {\n                res_source = 'å›¾åº“';\n                for (group in PhotoAlbum.ç›¸å†Œ) {\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\n                        if (item.title.match(reg) && item.title != 'æœªå‘½å') {\n                            showImg.push(item);\n                        }\n                    });\n                }\n            }\n        } else if (Select_group == 'å…¨éƒ¨') {\n            showImg = [];\n            if (isSecret == 'yes') {\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\n                    if (!keyArray.includes(group)) {\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                    }\n                }\n            } else {\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\n                }\n            }\n        } else if (Select_group == 'ğŸ—‘ï¸') {\n            var showImg = PhotoAlbum.å›æ”¶ç«™;\n        } else {\n            var showImg = PhotoAlbum.ç›¸å†Œ[Select_group];\n        }\n        // è·å–åˆ†é¡µdata\n        try {\n            maxPage = Math.ceil(showImg.length / singleMax);\n            startPage = (MY_PAGE_add - 1) * singleMax + 1;\n            endPage = singleMax * MY_PAGE_add;\n            showImg = showImg.slice(startPage - 1, endPage);\n        } catch (e) {\n            log('åœ¨å¯¹ç›¸å†Œè¿›è¡Œæ“ä½œ~');\n            showImg = ['temp'];\n            maxPage = Math.ceil(showImg.length / singleMax);\n            startPage = (MY_PAGE_add - 1) * singleMax + 1;\n            endPage = singleMax * MY_PAGE_add;\n            showImg = showImg.slice(startPage - 1, endPage);\n        }\n        // é¦–é¡µæ•°æ®å±•ç¤º\n        if (MY_PAGE_add > maxPage) {\n            d.push({\n                title: \"â€œâ€œâ€â€<small><font color='gray'>â€”åˆ°åº•äº†å“¦â€”</font></small>\",\n                url: 'hiker://empty',\n                col_type: 'text_center_1'\n            });\n        } else {\n            if (Select_group == 'â•') {\n                d.push({\n                    title: 'è¯·è¾“å…¥ç›¸å†Œåå­—',\n                    url: 'hiker://empty',\n                    col_type: 'text_1'\n                }, {\n                    desc: 'æ²¡å•¥è¦æ±‚,ä½†æ˜¯ä½ ä¹Ÿä¸è¦ä¹±æ¥~',\n                    col_type: 'input',\n                    extra: {\n                        titleVisible: false,\n                        type: 'textarea',\n                        height: -1,\n                        highlight: true,\n                        onChange: \"putMyVar('PhotoAlbum_Name',input)\",\n                    }\n                }, {\n                    title: 'â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">åˆ› å»º</span></big>',\n                    url: $('#noLoading#').lazyRule(() => {\n                        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").creatGroup();\n                    }),\n                    col_type: 'text_center_1'\n                });\n            } else if (Select_group == 'â–') {\n                d.push({\n                    title: 'è¯·é€‰ä¸­ä½ è¦åˆ é™¤çš„ç›¸å†Œ',\n                    url: 'hiker://empty',\n                    col_type: 'text_1'\n                });\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\n                    d.push({\n                        title: JSON.parse(getMyVar('selectArray', '[]')).includes(group) ? 'â€œâ€œâ€â€<font color=red>' + group + '</font>' : group,\n                        col_type: 'scroll_button',\n                        url: $('hiker://empty#noLoading#').lazyRule((group) => {\n                            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").selectGroupToDel(group);\n                        }, group),\n                        extra: {\n                            id: 'del_select_' + group\n                        }\n                    })\n                }\n                d.push({\n                    title: 'â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">åˆ  é™¤</span></big>',\n                    url: $('hiker://empty#noLoading#').lazyRule(() => {\n                        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").DelselectGroup();\n                    }),\n                    col_type: 'text_center_1'\n                });\n            } else {\n                if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\n                    eval(JSON.parse(request('hiker://page/overview?rule=å›¾å†Œ')).rule);\n                } else {\n                    eval(JSON.parse(request('hiker://page/editor?rule=å›¾å†Œ')).rule);\n                }\n            }\n        }\n    }\n    // å¤‡ä»½\n    saveFile('hiker://files/rules/cy/PhotoAlbum_back.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\n} catch (e) {\n    log(e.message);\n    showLoading('å¼‚å¸¸ï¼ï¼ï¼');\n    d.push({\n        title: 'æ¢å¤å¤‡ä»½',\n        desc: 'æ•°æ®å‘ç”Ÿäº†æŸåæˆ–è®¸å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯ï¼Œå¯ä»¥å°è¯•æ¢å¤~',\n        url: $('#noLoading#').lazyRule(() => {\n            PhotoAlbum_back = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum_back.json'))));\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum_back))));\n            refreshPage(true);\n            return \"toast://æ¢å¤æˆåŠŸ\";\n        }),\n        col_type: 'text_center_1'\n    });\n    setResult(d);\n}\nsetResult(d);\n"},{"col_type":"movie_3","name":"å¤šé€‰ç¼–è¾‘æ¨¡å¼","path":"editor","rule":"// åˆ¤æ–­å¤šé€‰æ ·å¼\r\nbanList = ['icon_round_4', 'pic_1_full', 'card_pic_1', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'card_pic_3'];\r\nif (banList.includes(showType)) {\r\n    showType = 'movie_3_marquee';\r\n}\r\nd.push({\r\n    col_type: 'blank_block'\r\n});\r\nif (Select_group == 'ğŸ—‘ï¸') {\r\n    videoArray = [];\r\n    // å›¾ç‰‡åºå·\r\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\r\n    d.push({\r\n        title: '<b>å›¾ç‰‡</b>',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            id: 'picArray_show',\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    putMyVar('indexOfArray', d.length - 1);\r\n    showImg.forEach(item => {\r\n        if (item.link.match(/#isVideo=true#/)) {\r\n            videoArray.push(item);\r\n        } else {\r\n            link = item.link;\r\n            group = item.group;\r\n            shwoUrl = \"pics://\" + link;\r\n            if (link.match(/http/)) {\r\n                showPic=link + '@Referer=';\r\n            }else{\r\n                showPic=link\r\n            }\r\n            d.push({\r\n                title: item.title,\r\n                desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + '')),\r\n                url: $('#noLoading#').lazyRule((index, item, showType) => {\r\n                    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\r\n                    if (getMyVar('isChoose_' + index, 'no') == 'yes') {\r\n                        selectNum = Number(getMyVar('selectNum', '0')) - 1;\r\n                        selectArray.pop(item);\r\n                        putMyVar('selectArray', selectArray);\r\n                        putMyVar('selectNum', selectNum);\r\n                        putMyVar('isChoose_' + index, 'no');\r\n                    } else {\r\n                        selectNum = Number(getMyVar('selectNum', '0')) + 1;\r\n                        selectArray.push(item);\r\n                        putMyVar('selectArray', selectArray);\r\n                        putMyVar('selectNum', selectNum);\r\n                        putMyVar('isChoose_' + index, 'yes');\r\n                    }\r\n                    updateItem('selfMap' + index, {\r\n                        desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : index + ''))),\r\n                    });\r\n                    return 'hiker://empty'\r\n                }, show_Index, item, showType),\r\n                img: showPic,\r\n                col_type: showType,\r\n                extra: {\r\n                    id: 'selfMap' + show_Index,\r\n                    longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_binPage(group, link,'select',item)\r\n                }\r\n            });\r\n            show_Index++;\r\n        }\r\n    })\r\n    d.push({\r\n        url: 'hiker://empty',\r\n        col_type: 'line'\r\n    }, {\r\n        title: '<b>è§†é¢‘</b>\\t\\t\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\t\\t\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\t\\t\\tç¬¬<font color=\"red\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\r\n    eval($.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPicArrayNum());\r\n    videoArray.forEach(item => {\r\n        link = item.link;\r\n        group = item.group;\r\n        if (link.match(/-dir/)) {\r\n            shwoUrl = item.link.split('-dir')[0];\r\n            if (link.match(/-u=/)) {\r\n                showPic = item.link.split('-u=')[1] + '@Referer=';\r\n            }else{\r\n                if (link.match(/-r=/)) {\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\r\n                }else{\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\r\n                }\r\n            }\r\n        } else {\r\n            lazy = $(\"\").lazyRule(() => {\r\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\r\n            });\r\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\r\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\r\n        }\r\n        d.push({\r\n            title: item.title,\r\n            desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + '')),\r\n            url: $('#noLoading#').lazyRule((index, item, showType) => {\r\n                selectArray = JSON.parse(getMyVar('selectArray', '[]'));\r\n                if (getMyVar('isChoose_' + index, 'no') == 'yes') {\r\n                    selectNum = Number(getMyVar('selectNum', '0')) - 1;\r\n                    selectArray.pop(item);\r\n                    putMyVar('selectArray', selectArray);\r\n                    putMyVar('selectNum', selectNum);\r\n                    putMyVar('isChoose_' + index, 'no');\r\n                } else {\r\n                    selectNum = Number(getMyVar('selectNum', '0')) + 1;\r\n                    selectArray.push(item);\r\n                    putMyVar('selectArray', selectArray);\r\n                    putMyVar('selectNum', selectNum);\r\n                    putMyVar('isChoose_' + index, 'yes');\r\n                }\r\n                updateItem('selfMap' + index, {\r\n                    desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : index + ''))),\r\n                });\r\n                return 'hiker://empty'\r\n            }, (pic_len + show_Index), item, showType),\r\n            img: showPic,\r\n            col_type: showType,\r\n            extra: {\r\n                id: 'selfMap' + (pic_len + show_Index),\r\n                longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_binPage(group, link,'select',item)\r\n            }\r\n        });\r\n        show_Index++;\r\n    })\r\n    if (MY_PAGE_add <= maxPage) {\r\n        d.push({\r\n            title: \"â€œâ€œâ€â€<small><font color='gray'>â€”\" + MY_PAGE_add + \"â€”</font></small>\",\r\n            url: 'hiker://empty',\r\n            col_type: 'text_center_1'\r\n        });\r\n    }\r\n} else {\r\n    videoArray = [];\r\n    // å›¾ç‰‡åºå·\r\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\r\n    d.push({\r\n        title: '<b>å›¾ç‰‡</b>',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            id: 'picArray_show',\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    putMyVar('indexOfArray', d.length - 1);\r\n    showImg.forEach(item => {\r\n        if (item.link.match(/#isVideo=true#/)) {\r\n            videoArray.push(item);\r\n        } else {\r\n            link = item.link;\r\n            group = item.group;\r\n            title = item.title;\r\n            shwoUrl = \"pics://\" + item.link;\r\n            if (link.match(/http/)) {\r\n                showPic=link + '@Referer=';\r\n            }else{\r\n                showPic=link\r\n            }\r\n            d.push({\r\n                title: item.title,\r\n                desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + '')),\r\n                url: $('#noLoading#').lazyRule((index, item, showType) => {\r\n                    return $.require(\"hiker://page/api?rule=å›¾å†Œ\").CheckGroup(index, item, showType)\r\n                }, show_Index, item, showType),\r\n                img: showPic,\r\n                col_type: showType,\r\n                extra: {\r\n                    id: 'selfMap' + show_Index,\r\n                    longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_truePage(title, link, group,'select',item)\r\n                }\r\n            });\r\n            show_Index++;\r\n        }\r\n    })\r\n    d.push({\r\n        url: 'hiker://empty',\r\n        col_type: 'line'\r\n    }, {\r\n        title: '<b>è§†é¢‘</b>\\t\\t\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\t\\t\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\t\\t\\tç¬¬<font color=\"red\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\r\n    eval($.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPicArrayNum());\r\n    videoArray.forEach(item => {\r\n        lazy = $(\"\").lazyRule(() => {\r\n            return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\r\n        });\r\n        link = item.link;\r\n        group = item.group;\r\n        title = item.title;\r\n        if (link.match(/-dir/)) {\r\n            if (link.match(/-u=/)) {\r\n                showPic = item.link.split('-u=')[1] + '@Referer=';\r\n            }else{\r\n                if (link.match(/-r=/)) {\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\r\n                }else{\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\r\n                }\r\n            }\r\n        } else {\r\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\r\n        }\r\n        d.push({\r\n            title: item.title,\r\n            desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + '')),\r\n            url: $('#noLoading#').lazyRule((index, item, showType) => {\r\n                return $.require(\"hiker://page/api?rule=å›¾å†Œ\").CheckGroup(index, item, showType)\r\n            }, (pic_len + show_Index), item, showType),\r\n            img: showPic,\r\n            col_type: showType,\r\n            extra: {\r\n                id: 'selfMap' + (pic_len + show_Index),\r\n                longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_truePage(title, link, group,'select',item,'video')\r\n            }\r\n        });\r\n        show_Index++;\r\n    })\r\n    if (MY_PAGE_add <= maxPage) {\r\n        d.push({\r\n            title: \"â€œâ€œâ€â€<small><font color='gray'>â€”\" + MY_PAGE_add + \"â€”</font></small>\",\r\n            url: 'hiker://empty',\r\n            col_type: 'text_center_1'\r\n        });\r\n    }\r\n}\r\n"},{"col_type":"movie_3","name":"è®¾ç½®é¡µé¢","path":"setting","rule":"js:\nvar d = [];\nd.push({\n    title: '<font color=#20b2aa> ä¾ åï¼šä½ å¥½å‘€ï¼Œæœ‹å‹...</font>',\n    img: 'https://lanmeiguojiang.com/tubiao/messy/19.svg@Referer=',\n    url: $('#noLoading#').lazyRule(() => {\n        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").rootFun()\n    }),\n    col_type: 'avatar',\n    extra: {\n        id: 'root'\n    }\n}, {\n    title: 'ä¸Šé”',\n    desc: 'ç»™æŒ‡å®šç›¸å†Œæ·»åŠ å¯†ç é”',\n    url: $('#noLoading#').lazyRule(() => {\n        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").lockUp()\n    }),\n    col_type: 'text_1'\n}, {\n    title: 'è®¾ç½®æˆ–ä¿®æ”¹å¯†ç ',\n    desc: 'è®¾ç½®ç”¨æˆ·å¯†ç ä»¥å¼€å¯æ¡ä»¶æ£€ç´¢ã€ç›¸å†ŒåŠ å¯†ç­‰åŠŸèƒ½',\n    url: $('#noLoading#').lazyRule(() => {\n        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").setPassword()\n    }),\n    col_type: 'text_1'\n}, {\n    title: 'æ¸…ç©ºå›æ”¶ç«™',\n    desc: 'å®šæœŸæ¸…ç†ï¼Œè°¨æ…æ“ä½œ',\n    url: $('#noLoading#').lazyRule(() => {\n        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").clearBin()\n    }),\n    col_type: 'text_1'\n}, {\n    title: 'å›¾å†Œå»é‡',\n    desc: ' å®šæœŸå»é‡ï¼Œè‰¯å¥½ä¹ æƒ¯ï¼ˆå›æ”¶ç«™ä¸å‚ä¸å»é‡ï¼‰',\n    url: $('#noLoading#').lazyRule(() => {\n        return $.require(\"hiker://page/api?rule=å›¾å†Œ\").dedup()\n    }),\n    col_type: 'text_1'\n}, {\n    title: 'è¿”å›ä¸»é¡µå¹¶åˆ·æ–°',\n    url: $('#noLoading#').lazyRule(() => {\n        // ç•™æ„ä¸€ä¸‹åˆ·æ–°è¿˜éœ€è¦é‚£äº›æ“ä½œ\n        back(true);\n        return \"toast://ä¸»é¡µåˆ·æ–°æˆåŠŸ~\";\n    }),\n    col_type: 'text_center_1'\n})\nsetResult(d);"},{"col_type":"movie_3","name":"æ¦‚è§ˆ","path":"overview","rule":"if (Select_group == 'ğŸ—‘ï¸') {\r\n    videoArray = [];\r\n    // å›¾ç‰‡åºå·\r\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\r\n    d.push({\r\n        title: '<b>å›¾ç‰‡</b>',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            id: 'picArray_show',\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    putMyVar('indexOfArray', d.length - 1);\r\n    showImg.forEach(item => {\r\n        if (item.link.match(/#isVideo=true#/)) {\r\n            videoArray.push(item);\r\n        } else {\r\n            link = item.link;\r\n            group = item.group;\r\n            shwoUrl = \"pics://\" + link;\r\n            if (link.match(/http/)) {\r\n                showPic = link + '@Referer=';\r\n            } else {\r\n                showPic = link\r\n            }\r\n            d.push({\r\n                title: item.title,\r\n                desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + ''),\r\n                url: shwoUrl,\r\n                img: showPic,\r\n                col_type: showType,\r\n                extra: {\r\n                    id: 'selfMap' + show_Index,\r\n                    longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_binPage(group, link)\r\n                }\r\n            });\r\n            show_Index++;\r\n        }\r\n    })\r\n    d.push({\r\n        url: 'hiker://empty',\r\n        col_type: 'line'\r\n    }, {\r\n        title: '<b>è§†é¢‘</b>\\t\\t\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\t\\t\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\t\\t\\tç¬¬<font color=\"red\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\r\n    eval($.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPicArrayNum());\r\n    videoArray.forEach(item => {\r\n        link = item.link;\r\n        group = item.group;\r\n        if (link.match(/-dir/)) {\r\n            shwoUrl = item.link.split('-dir')[0];\r\n            if (link.match(/-u=/)) {\r\n                showPic = item.link.split('-u=')[1] + '@Referer=';\r\n            }else{\r\n                if (link.match(/-r=/)) {\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\r\n                }else{\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\r\n                }\r\n            }\r\n        } else {\r\n            lazy = $(\"\").lazyRule(() => {\r\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\r\n            });\r\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\r\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\r\n        }\r\n        d.push({\r\n            title: item.title,\r\n            desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + ''),\r\n            url: shwoUrl,\r\n            img: showPic,\r\n            col_type: showType,\r\n            extra: {\r\n                id: 'selfMap' + (pic_len + show_Index),\r\n                longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_binPage(group, link)\r\n            }\r\n        });\r\n        show_Index++;\r\n    })\r\n    if (MY_PAGE_add <= maxPage) {\r\n        d.push({\r\n            title: \"â€œâ€œâ€â€<small><font color='gray'>â€”\" + MY_PAGE_add + \"â€”</font></small>\",\r\n            url: 'hiker://empty',\r\n            col_type: 'text_center_1'\r\n        });\r\n    }\r\n} else {\r\n    videoArray = [];\r\n    // å›¾ç‰‡åºå·\r\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\r\n    d.push({\r\n        title: '<b>å›¾ç‰‡</b>',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            id: 'picArray_show',\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    putMyVar('indexOfArray', d.length - 1);\r\n    showImg.forEach(item => {\r\n        if (item.link.match(/#isVideo=true#/)) {\r\n            videoArray.push(item);\r\n        } else {\r\n            link = item.link;\r\n            group = item.group;\r\n            title = item.title;\r\n            shwoUrl = \"pics://\" + item.link;\r\n            if (link.match(/http/)) {\r\n                showPic = link + '@Referer=';\r\n            } else {\r\n                showPic = link\r\n            }\r\n            d.push({\r\n                title: item.title,\r\n                desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + ''),\r\n                url: shwoUrl,\r\n                img: showPic,\r\n                col_type: showType,\r\n                extra: {\r\n                    id: 'selfMap' + show_Index,\r\n                    longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_truePage(title, link, group)\r\n                }\r\n            });\r\n            show_Index++;\r\n        }\r\n    })\r\n    d.push({\r\n        url: 'hiker://empty',\r\n        col_type: 'line'\r\n    }, {\r\n        title: '<b>è§†é¢‘</b>\\t\\t\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\t\\t\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\t\\t\\tç¬¬<font color=\"red\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\r\n        url: $('#noLoading#').lazyRule(() => {\r\n            return $.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPageNum();\r\n        }),\r\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\r\n        col_type: 'avatar',\r\n        extra: {\r\n            longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_pageBtn(MY_PAGE_add)\r\n        }\r\n    });\r\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\r\n    eval($.require(\"hiker://page/api?rule=å›¾å†Œ\").refreshPicArrayNum());\r\n    videoArray.forEach(item => {\r\n        link = item.link;\r\n        group = item.group;\r\n        title = item.title;\r\n        if (link.match(/-dir/)) {\r\n            shwoUrl = item.link.split('-dir')[0];\r\n            if (link.match(/-u=/)) {\r\n                showPic = item.link.split('-u=')[1] + '@Referer=';\r\n            }else{\r\n                if (link.match(/-r=/)) {\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\r\n                }else{\r\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\r\n                }\r\n            }\r\n        } else {\r\n            lazy = $(\"\").lazyRule(() => {\r\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\r\n            });\r\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\r\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\r\n        }\r\n        d.push({\r\n            title: item.title,\r\n            desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\t\\t' + item.date : show_Index + ''),\r\n            url: shwoUrl,\r\n            img: showPic,\r\n            col_type: showType,\r\n            extra: {\r\n                id: 'selfMap' + (pic_len + show_Index),\r\n                longClick: $.require(\"hiker://page/api?rule=å›¾å†Œ\").long_click_truePage(title, link, group, 'video')\r\n            }\r\n        });\r\n        show_Index++;\r\n    })\r\n    if (MY_PAGE_add <= maxPage) {\r\n        d.push({\r\n            title: \"â€œâ€œâ€â€<small><font color='gray'>â€”\" + MY_PAGE_add + \"â€”</font></small>\",\r\n            url: 'hiker://empty',\r\n            col_type: 'text_center_1'\r\n        });\r\n    }\r\n}\r\n"}],"title":"å›¾å†Œ","author":"cy","version":22,"type":"tool","url":"hiker://empty##fypage","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/homePage\")","searchFind":"","search_url":"","group":"â‘¦å·¥å…·","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"å‡½æ•°å·¥å…·ç®±\",\"path\":\"api\",\"rule\":\"// ä¸€ã€å·¥å…·ç±»å°è£… \\n// è·å–å½“å‰æ—¶é—´\\n$.exports.getCurrentDate = function (format) {\\n    var now = new Date();\\n    var year = now.getFullYear(); //å¾—åˆ°å¹´ä»½\\n    var month = now.getMonth(); //å¾—åˆ°æœˆä»½\\n    var date = now.getDate(); //å¾—åˆ°æ—¥æœŸ\\n    var day = now.getDay(); //å¾—åˆ°å‘¨å‡ \\n    var hour = now.getHours(); //å¾—åˆ°å°æ—¶\\n    var minu = now.getMinutes(); //å¾—åˆ°åˆ†é’Ÿ\\n    var sec = now.getSeconds(); //å¾—åˆ°ç§’\\n    month = month + 1;\\n    if (month < 10) month = \\\"0\\\" + month;\\n    if (date < 10) date = \\\"0\\\" + date;\\n    if (hour < 10) hour = \\\"0\\\" + hour;\\n    if (minu < 10) minu = \\\"0\\\" + minu;\\n    if (sec < 10) sec = \\\"0\\\" + sec;\\n    var time = \\\"\\\";\\n    //ç²¾ç¡®åˆ°å¤©\\n    if (format == 1) {\\n        time = year + \\\"å¹´\\\" + month + \\\"æœˆ\\\" + date + \\\"æ—¥\\\";\\n    }\\n    //ç²¾ç¡®åˆ°åˆ†\\n    else if (format == 2) {\\n        time = year + \\\"-\\\" + month + \\\"-\\\" + date + \\\" \\\" + hour + \\\":\\\" + minu + \\\":\\\" + sec;\\n    }\\n    return time;\\n}\\n// æ³¨å†Œé‡å†™Arrayå¯¹è±¡çš„indexOfå’Œremoveæ–¹æ³•\\n$.exports.overwriteArray = function () {\\n    Array.prototype.indexOf = function (val) {\\n        for (var i = 0; i < this.length; i++) {\\n            if (this[i].link == val) return i;\\n        }\\n        return -1;\\n    };\\n    Array.prototype.remove = function (val) {\\n        var index = this.indexOf(val);\\n        if (index > -1) {\\n            this.splice(index, 1);\\n        }\\n    };\\n}\\n\\n\\n// äºŒã€åŠŸèƒ½ç±»å‡½æ•°å°è£…\\n// é¢„å¤„ç†\\n$.exports.pretreatment = function () {\\n    if (fileExist('hiker://files/cache/PhotoAlbum_temp.json')) {\\n        saveFile('hiker://files/cache/PhotoAlbum_temp.json', 'ä½ æƒ³å¹²å˜›ï¼');\\n    }\\n    if (!fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\\n        date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n        PhotoAlbum = {\\n            \\\"ç›¸å†Œ\\\": {\\n                \\\"gifå£çº¸\\\": [{\\n                    link: 'https://p0.meituan.net/csc/d797e865aaa4334699479c2fef6cab181597933.gif',\\n                    date: date,\\n                    title: 'ç†ŠçŒ«åƒç«¹å­',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei03.cfp.cn/creative/vcg/nowater800/new/VCG211293929470.gif',\\n                    date: date,\\n                    title: 'æ‘‡å°¾ç‹—',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei04.cfp.cn/creative/vcg/nowarter800/new/VCG211178908145.gif',\\n                    date: date,\\n                    title: 'è¡ç§‹åƒ',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei03.cfp.cn/creative/vcg/nowarter800/new/VCG211229245788.gif',\\n                    date: date,\\n                    title: 'å¤œé—´åŠ¨å›¾',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei01.cfp.cn/creative/vcg/nowarter800/new/VCG211223467674.gif',\\n                    date: date,\\n                    title: 'å¤œæœˆ',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei04.cfp.cn/creative/vcg/nowarter800/new/VCG211151553894.gif',\\n                    date: date,\\n                    title: 'æ³¨æ„åŠ›',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowarter800/new/VCG211166346104.gif',\\n                    date: date,\\n                    title: 'å¤œé¸¦',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151545477.gif',\\n                    date: date,\\n                    title: 'æ±Ÿæ²³æµåŠ¨',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151550604.gif',\\n                    date: date,\\n                    title: 'æµ·æ»©é˜…è¯»',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei02.cfp.cn/creative/vcg/nowarter800/new/VCG211151555608.gif',\\n                    date: date,\\n                    title: 'æ‰“æ°´æ¼‚',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei05.cfp.cn/creative/vcg/nowarter800/new/VCG211166359866.gif',\\n                    title: \\\"\\\",\\n                    date: date,\\n                    title: 'æµ·æ»©ç™½é¹­',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei03.cfp.cn/creative/vcg/nowarter800/new/VCG211166304561.gif',\\n                    title: \\\"\\\",\\n                    date: date,\\n                    title: 'æ‹›æ‰‹è´è¶-åŠ¨ç‰©å‹è°Š',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowater800/new/VCG211370485521.gif',\\n                    date: date,\\n                    title: 'åŒºå—é“¾-ç§‘æŠ€',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://alifei04.cfp.cn/creative/vcg/nowater800/new/VCG211370483714.gif',\\n                    date: date,\\n                    title: 'é­”æ–¹-ç§‘æŠ€',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei02.cfp.cn/creative/vcg/nowater800/new/VCG211366094791.gif',\\n                    date: date,\\n                    title: 'ç§‘æŠ€æ„Ÿåè¶³',\\n                    group: 'gifå£çº¸'\\n                }, {\\n                    link: 'https://tenfei01.cfp.cn/creative/vcg/nowater800/new/VCG211345500353.gif',\\n                    date: date,\\n                    title: 'è¾…å¯¼åŠŸè¯¾',\\n                    group: 'gifå£çº¸'\\n                }]\\n            },\\n            \\\"å›æ”¶ç«™\\\": [],\\n            \\\"keyMap\\\": {},\\n            \\\"isSecret\\\": 'yes',\\n            \\\"singleMax\\\": 30,\\n            \\\"showType\\\": 'pic_2',\\n            \\\"user_password\\\": ''\\n        };\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n    }\\n}\\n// æ£€ç´¢\\n$.exports.search = function () {\\n    if (input == '') {\\n        return 'toast://æ£€ç´¢å…³é”®å­—ä¸èƒ½ä¸ºç©º'\\n    } else {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        if (PhotoAlbum.isSecret == 'yes') {\\n            if (PhotoAlbum.user_password == '') {\\n                return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    PhotoAlbum.user_password = base64Encode(base64Encode(input));\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                })\\n            } else {\\n                return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\\n                        putMyVar('currentPage', 'search_res');\\n                        refreshPage(true);\\n                        return 'hiker://empty';\\n                    } else {\\n                        return 'toast://å¯†ç é”™è¯¯ï¼'\\n                    }\\n                })\\n            }\\n        } else {\\n            putMyVar('currentPage', 'search_res');\\n            refreshPage(true);\\n            return 'hiker://empty';\\n        }\\n    }\\n}\\n// åˆ‡æ¢åˆ†ç»„\\n$.exports.SwitchGroup = function (item) {\\n    // ç›‘å¬åˆ·æ–°äº‹ä»¶æ²¡æ•ˆå°±æ‰‹åŠ¨è§¦å‘å§\\n    clearMyVar('selectArray');\\n    clearMyVar('selectNum');\\n    clearMyVar('selectGroup');\\n    clearMyVar('currentPage');\\n    clearMyVar('isOpen_ğŸ—‘ï¸');\\n    clearMyVar('addSwitch');\\n    // é¡µç å¤„ç†\\n    clearMyVar('thePageNum');\\n    putMyVar('lastPage', '1');\\n    // clearMyVar('editor_mode');ä¸è¦æ¸…é™¤ç¼–è¾‘æ¨¡å¼è®°å½•\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    for (i in PhotoAlbum.ç›¸å†Œ) {\\n        clearMyVar('isOpen_' + i);\\n    }\\n    // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n    showImg = [];\\n    keyArray = [];\\n    for (i in PhotoAlbum.keyMap) {\\n        keyArray.push(i);\\n    }\\n    for (group in PhotoAlbum.ç›¸å†Œ) {\\n        if (!keyArray.includes(group)) {\\n            showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n        }\\n    }\\n    maxNum = showImg.length;\\n    for (let index = 1; index <= maxNum; index++) {\\n        clearMyVar('isChoose_' + index);\\n    }\\n    // log('æ¸…é™¤indexçš„æ•°é‡:' + maxNum);\\n    putMyVar(\\\"Select_group\\\", item);\\n    refreshPage();\\n    return 'hiker://empty'\\n}\\n// åˆ†ç»„æ›´å\\n$.exports.reGroupName = function (item) {\\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n    if (groupFuns.includes(item)) {\\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\\n    }\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (PhotoAlbum.isSecret == 'yes') {\\n        keyArray = [];\\n        for (i in PhotoAlbum.keyMap) {\\n            keyArray.push(i);\\n        }\\n        if (keyArray.includes(item)) {\\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                keyMap = PhotoAlbum.keyMap;\\n                password = base64Decode(base64Decode(keyMap[group]));\\n                if (input == password) {\\n                    return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\\n                        groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n                        if (groupFuns.includes(input)) {\\n                            return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\\n                        }\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        // æ—¥å¿—å¤‡ä»½\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\\n                        if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                            PhotoAlbum.ç›¸å†Œ[input] = [];\\n                        }\\n                        PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\\n                            item.group = input;\\n                            return item;\\n                        }).concat(PhotoAlbum.ç›¸å†Œ[input]);\\n                        PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\\n                        // åˆ é™¤åŸç›¸å†Œæ•°æ®\\n                        delete PhotoAlbum.ç›¸å†Œ[group];\\n                        delete PhotoAlbum.keyMap[group];\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        clearMyVar('selectNum');\\n                        clearMyVar('selectArray');\\n                        for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                            clearMyVar('isChoose_' + group);\\n                        }\\n                        putMyVar('Select_group', input);\\n                        refreshPage(true);\\n                        return \\\"toast://è¯¥åŠ å¯†ç›¸å†Œå·²æ”¹å~\\\";\\n                    }, group)\\n                } else {\\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                }\\n            }, item)\\n        } else {\\n            return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\\n                groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n                if (groupFuns.includes(input)) {\\n                    return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\\n                }\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                // æ—¥å¿—å¤‡ä»½\\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\\n                }\\n                PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\\n                    item.group = input;\\n                    return item;\\n                }).concat(PhotoAlbum.ç›¸å†Œ[input]);\\n                PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\\n                // åˆ é™¤åŸç›¸å†Œæ•°æ®\\n                delete PhotoAlbum.ç›¸å†Œ[group];\\n                delete PhotoAlbum.keyMap[group];\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                clearMyVar('selectNum');\\n                clearMyVar('selectArray');\\n                for (i in PhotoAlbum.ç›¸å†Œ) {\\n                    clearMyVar('isChoose_' + i);\\n                }\\n                putMyVar('Select_group', input);\\n                refreshPage(true);\\n                return \\\"toast://è¯¥ç›¸å†Œå·²æ”¹å~\\\";\\n            }, item)\\n        }\\n    } else {\\n        return $('', 'ç›¸å†Œé‡å‘½å').input((group) => {\\n            groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n            if (groupFuns.includes(input)) {\\n                return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\\n            }\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            // æ•°æ®è½¬ç§»_åŒæ—¶å®Œæˆåˆ†ç»„ä¿¡æ¯çš„ä¿®æ”¹_å¹¶æ³¨æ„ç›¸å†Œåˆå¹¶\\n            if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                PhotoAlbum.ç›¸å†Œ[input] = [];\\n            }\\n            PhotoAlbum.ç›¸å†Œ[input] = PhotoAlbum.ç›¸å†Œ[group].map((item) => {\\n                item.group = input;\\n                return item;\\n            }).concat(PhotoAlbum.ç›¸å†Œ[input]);\\n            PhotoAlbum.keyMap[input] = PhotoAlbum.keyMap[group];\\n            // åˆ é™¤åŸç›¸å†Œæ•°æ®\\n            delete PhotoAlbum.ç›¸å†Œ[group];\\n            delete PhotoAlbum.keyMap[group];\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            clearMyVar('selectNum');\\n            clearMyVar('selectArray');\\n            for (i in PhotoAlbum.ç›¸å†Œ) {\\n                clearMyVar('isChoose_' + i);\\n            }\\n            putMyVar('Select_group', input);\\n            refreshPage(true);\\n            return \\\"toast://è¯¥ç›¸å†Œå·²æ”¹å~\\\";\\n        }, item)\\n    }\\n}\\n// åˆ é™¤åˆ†ç»„\\n$.exports.deleteGroup = function (item) {\\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n    if (groupFuns.includes(item)) {\\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\\n    }\\n    return $('ä½ ç¡®å®šè¦åˆ é™¤è¯¥ç›¸å†Œå—ï¼Ÿ').confirm((item) => {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        if (PhotoAlbum.isSecret == 'yes') {\\n            keyArray = [];\\n            for (i in PhotoAlbum.keyMap) {\\n                keyArray.push(i);\\n            }\\n            if (keyArray.includes(item)) {\\n                return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    keyMap = PhotoAlbum.keyMap;\\n                    password = base64Decode(base64Decode(keyMap[group]));\\n                    if (input == password) {\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        // æ—¥å¿—å¤‡ä»½\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        delete PhotoAlbum.ç›¸å†Œ[group];\\n                        // æ¸…é™¤å¯†é’¥å¯¹\\n                        delete PhotoAlbum.keyMap[group];\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        selectNum = getMyVar('selectNum', '0');\\n                        clearMyVar('selectNum');\\n                        clearMyVar('selectArray');\\n                        putMyVar('Select_group', 'å…¨éƒ¨');\\n                        refreshPage(true);\\n                        return \\\"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\\\";\\n                    } else {\\n                        return 'toast://å¯†ç é”™è¯¯ï¼'\\n                    }\\n                }, item);\\n            } else {\\n                // æ—¥å¿—å¤‡ä»½\\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                // æ”¾å…¥å›æ”¶ç«™\\n                date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n                    item.date = date;\\n                });\\n                PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[item].concat(PhotoAlbum.å›æ”¶ç«™);\\n                // åˆ é™¤ç›¸å†Œ\\n                delete PhotoAlbum.ç›¸å†Œ[item];\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                putMyVar('Select_group', 'å…¨éƒ¨');\\n                refreshPage(true);\\n                return \\\"toast://åˆ é™¤æˆåŠŸ~\\\";\\n            }\\n        } else {\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            // æ”¾å…¥å›æ”¶ç«™\\n            date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n                item.date = date;\\n            });\\n            PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[item].concat(PhotoAlbum.å›æ”¶ç«™);\\n            // åˆ é™¤ç›¸å†Œ\\n            delete PhotoAlbum.ç›¸å†Œ[item];\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            putMyVar('Select_group', 'å…¨éƒ¨');\\n            refreshPage(true);\\n            return \\\"toast://åˆ é™¤æˆåŠŸ~\\\";\\n        }\\n    }, item)\\n}\\n// å¯¼å‡ºIDMæ‰¹æ–‡ä»¶\\n$.exports.toIDM = function (item) {\\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n    if (groupFuns.includes(item)) {\\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\\n    }\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (PhotoAlbum.isSecret == 'yes') {\\n        keyArray = [];\\n        for (i in PhotoAlbum.keyMap) {\\n            keyArray.push(i);\\n        }\\n        if (keyArray.includes(item)) {\\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                keyMap = PhotoAlbum.keyMap;\\n                password = base64Decode(base64Decode(keyMap[group]));\\n                if (input == password) {\\n                    var linkData = '';\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n                        if (item.link.match(/#isVideo=true#/)) {\\n                            link = item.link.split('#isVideo=true#')[0];\\n                        } else {\\n                            link = item.link;\\n                        }\\n                        linkData = linkData + link + '\\\\n';\\n                    });\\n                    saveFile('hiker://files/cache/PhotoAlbum_' + group + '.txt', linkData);\\n                    return 'share://hiker://files/cache/PhotoAlbum_' + group + '.txt';\\n                } else {\\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                }\\n            }, item);\\n        } else {\\n            var linkData = '';\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n                if (item.link.match(/#isVideo=true#/)) {\\n                    link = item.link.split('#isVideo=true#')[0];\\n                } else {\\n                    link = item.link;\\n                }\\n                linkData = linkData + link + '\\\\n';\\n            });\\n            saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\\n            return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\\n        }\\n    } else {\\n        var linkData = '';\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n            if (item.link.match(/#isVideo=true#/)) {\\n                link = item.link.split('#isVideo=true#')[0];\\n            } else {\\n                link = item.link;\\n            }\\n            linkData = linkData + link + '\\\\n';\\n        });\\n        saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\\n        return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\\n    }\\n}\\n// å¯¼å‡ºè‡ªå®šä¹‰æ‰¹æ–‡ä»¶\\n$.exports.toSelfFile = function (item) {\\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n    if (groupFuns.includes(item)) {\\n        return 'toast://ä¸èƒ½æ“ä½œä¸å­˜åœ¨çš„ç›¸å†Œï¼'\\n    }\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (PhotoAlbum.isSecret == 'yes') {\\n        keyArray = [];\\n        for (i in PhotoAlbum.keyMap) {\\n            keyArray.push(i);\\n        }\\n        if (keyArray.includes(item)) {\\n            return $('', item + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                keyMap = PhotoAlbum.keyMap;\\n                password = base64Decode(base64Decode(keyMap[group]));\\n                if (input == password) {\\n                    var linkData = '';\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n                        if (item.link.match(/#isVideo=true#/)) {\\n                            link = item.link.split('#isVideo=true#')[0];\\n                        } else {\\n                            link = item.link;\\n                        }\\n                        linkData = linkData + item.title + ',' + link + '\\\\n';\\n                    });\\n                    saveFile('hiker://files/cache/PhotoAlbum_' + group + '.txt', linkData);\\n                    return 'share://hiker://files/cache/PhotoAlbum_' + group + '.txt';\\n                } else {\\n                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                }\\n            }, item);\\n        } else {\\n            var linkData = '';\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n                if (item.link.match(/#isVideo=true#/)) {\\n                    link = item.link.split('#isVideo=true#')[0];\\n                } else {\\n                    link = item.link;\\n                }\\n                linkData = linkData + item.title + ',' + link + '\\\\n';\\n            });\\n            saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\\n            return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\\n        }\\n    } else {\\n        var linkData = '';\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        PhotoAlbum.ç›¸å†Œ[item].forEach(item => {\\n            if (item.link.match(/#isVideo=true#/)) {\\n                link = item.link.split('#isVideo=true#')[0];\\n            } else {\\n                link = item.link;\\n            }\\n            linkData = linkData + item.title + ',' + link + '\\\\n';\\n        });\\n        saveFile('hiker://files/cache/PhotoAlbum_' + item + '.txt', linkData);\\n        return 'share://hiker://files/cache/PhotoAlbum_' + item + '.txt';\\n    }\\n}\\n// åˆ†ç»„é•¿æŒ‰äº‹ä»¶-éšè—\\n$.exports.groupFun = function (item) {\\n    return [{\\n        title: 'æ›´å', js: $.toString((item) => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").reGroupName(item)\\n        }, item)\\n    }, {\\n        title: 'åˆ é™¤', js: $.toString((item) => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").deleteGroup(item)\\n        }, item)\\n    }, {\\n        title: 'IDMæ‰¹æ–‡ä»¶', js: $.toString((item) => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").toIDM(item)\\n        }, item)\\n    }, {\\n        title: 'è‡ªå®šä¹‰æ‰¹æ–‡ä»¶', js: $.toString((item) => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").toSelfFile(item)\\n        }, item)\\n    }];\\n}\\n// æ¦‚è§ˆ/å¤šé€‰åˆ‡æ¢\\n$.exports.SwitchMode = function (MY_PAGE_add) {\\n    // ç›‘å¬åˆ·æ–°äº‹ä»¶æ²¡æ•ˆå°±æ‰‹åŠ¨è§¦å‘å§\\n    clearMyVar('selectArray');\\n    clearMyVar('selectNum');\\n    clearMyVar('selectGroup');\\n    clearMyVar('currentPage');\\n    clearMyVar('isOpen_ğŸ—‘ï¸');\\n    clearMyVar('addSwitch');\\n    // clearMyVar('editor_mode');ä¸è¦æ¸…é™¤ç¼–è¾‘æ¨¡å¼è®°å½•\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    for (i in PhotoAlbum.ç›¸å†Œ) {\\n        clearMyVar('isOpen_' + i);\\n    }\\n    // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n    showImg = [];\\n    keyArray = [];\\n    for (i in PhotoAlbum.keyMap) {\\n        keyArray.push(i);\\n    }\\n    for (group in PhotoAlbum.ç›¸å†Œ) {\\n        if (!keyArray.includes(group)) {\\n            showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n        }\\n    }\\n    maxNum = showImg.length;\\n    for (let index = 1; index <= maxNum; index++) {\\n        clearMyVar('isChoose_' + index);\\n    }\\n    // log('æ¸…é™¤indexçš„æ•°é‡:' + maxNum);\\n    if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\\n        putMyVar('showPage', 'â˜‘ï¸å¤šé€‰');\\n    } else {\\n        putMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ');\\n    }\\n    putMyVar('thePageNum', MY_PAGE_add);\\n    putMyVar('lastPage', '1');\\n    refreshPage(false);\\n    return 'toast://åˆ‡æ¢æˆåŠŸ';\\n}\\n// å‘ˆç°æ ·å¼åˆ‡æ¢\\n$.exports.switchShowType = function () {\\n    return $(['pic_2', 'movie_2', 'pic_1', 'pic_1_full', 'card_pic_1', 'card_pic_2', 'movie_1', 'movie_1_left_pic', 'card_pic_3', 'movie_3', 'movie_3_marquee', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'avatar'], 3, 'æ ·å¼åˆ—è¡¨').select(() => {\\n        if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'â˜‘ï¸å¤šé€‰') {\\n            banList = ['icon_round_4', 'pic_1_full', 'card_pic_1', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'card_pic_3'];\\n            if (banList.includes(input)) {\\n                return 'toast://â˜‘ï¸å¤šé€‰ä¸‹ä¸¥ç¦åˆ‡æ¢æˆè¯¥æ ·å¼~';\\n            }\\n        }\\n        var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        PhotoAlbum.showType = input;\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        clearMyVar('addSwitch');\\n        refreshPage(true);\\n        return 'toast://åˆ‡æ¢æˆåŠŸ~';\\n    })\\n}\\n// æ–°å¢å›¾ç‰‡\\n$.exports.addNewPic = function () {\\n    if (getMyVar('addSwitch', 'fold') == 'fold') {\\n        newArray = [{\\n            desc: 'è¯·è¾“å…¥æ ‡é¢˜ï¼Œä¸€è¡Œä¸€æ¡',\\n            col_type: 'input',\\n            extra: {\\n                titleVisible: false,\\n                type: 'textarea',\\n                height: -1,\\n                highlight: true,\\n                onChange: \\\"putMyVar('titleArray',input)\\\",\\n                cls: 'addMorePhotos'\\n            }\\n        }, {\\n            desc: 'è¯·è¾“å…¥é“¾æ¥ï¼Œä¸€è¡Œä¸€æ¡',\\n            col_type: 'input',\\n            extra: {\\n                titleVisible: false,\\n                type: 'textarea',\\n                height: -1,\\n                highlight: true,\\n                onChange: \\\"putMyVar('linkArray',input)\\\",\\n                cls: 'addMorePhotos'\\n            }\\n        }, {\\n            title: 'å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªåˆ†ç»„'),\\n            url: $('hiker://empty#noLoading#').lazyRule(() => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                groupArray = [];\\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                    groupArray.push(group);\\n                }\\n                return $(groupArray, 3, 'æ ·å¼åˆ—è¡¨').select(() => {\\n                    putMyVar('selectGroup', input)\\n                    updateItem('group_btn', {\\n                        title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªåˆ†ç»„'),\\n                    });\\n                    return 'toast://åˆ‡æ¢æˆåŠŸ~';\\n                })\\n            }),\\n            col_type: 'text_1',\\n            extra: {\\n                id: 'group_btn',\\n                cls: 'addMorePhotos'\\n            }\\n        }, {\\n            title: 'â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">æ·» åŠ </span></big>',\\n            url: $('#noLoading#').lazyRule(() => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                // ä¾æ¬¡æ˜¯windowã€Unix/Linuxã€Macçš„æ¢è¡Œç¬¦ï¼ˆç³»ç»Ÿæ¢è¡Œäº§ç”Ÿçš„ä¸å¯è§å­—ç¬¦ï¼‰\\n                titleArray = getMyVar('titleArray', '[]').split(/\\\\r\\\\n|\\\\n|\\\\r/);\\n                linkArray = getMyVar('linkArray', '[]').split(/\\\\r\\\\n|\\\\n|\\\\r/);\\n                group = getMyVar('selectGroup', 'æœªåˆ†ç»„');\\n                if (group == 'æœªåˆ†ç»„') {\\n                    return 'toast://è¯·å…ˆé€‰æ‹©åˆ†ç»„ï¼'\\n                } else {\\n                    if (PhotoAlbum.isSecret == 'yes') {\\n                        keyArray = [];\\n                        for (i in PhotoAlbum.keyMap) {\\n                            keyArray.push(i);\\n                        }\\n                        if (keyArray.includes(group)) {\\n                            return $('', group + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                keyMap = PhotoAlbum.keyMap;\\n                                password = base64Decode(base64Decode(keyMap[group]));\\n                                if (input == password) {\\n                                    // æ—¥å¿—å¤‡ä»½\\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                    // ä¾æ¬¡æ˜¯windowã€Unix/Linuxã€Macçš„æ¢è¡Œç¬¦ï¼ˆç³»ç»Ÿæ¢è¡Œäº§ç”Ÿçš„ä¸å¯è§å­—ç¬¦ï¼‰\\n                                    titleArray = getMyVar('titleArray', '[]').split(/\\\\r\\\\n|\\\\n|\\\\r/);\\n                                    linkArray = getMyVar('linkArray', '[]').split(/\\\\r\\\\n|\\\\n|\\\\r/);\\n                                    date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                                    dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\\n                                    if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                                        PhotoAlbum.ç›¸å†Œ[group] = [];\\n                                    }\\n                                    for (let i = 0; i < dataLength; i++) {\\n                                        title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\\n                                        link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\\n                                        PhotoAlbum.ç›¸å†Œ[group].unshift({\\n                                            link: link,\\n                                            date: date,\\n                                            title: title,\\n                                            group: group\\n                                        });\\n                                    }\\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                    clearMyVar('addSwitch');\\n                                    refreshPage(true);\\n                                    return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n                                } else {\\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                                }\\n                            }, group)\\n                        } else {\\n                            // æ—¥å¿—å¤‡ä»½\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                            dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\\n                            }\\n                            for (let i = 0; i < dataLength; i++) {\\n                                title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\\n                                link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\\n                                    link: link,\\n                                    date: date,\\n                                    title: title,\\n                                    group: group\\n                                });\\n                            }\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            clearMyVar('addSwitch');\\n                            refreshPage(true);\\n                            return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n                        }\\n                    } else {\\n                        // æ—¥å¿—å¤‡ä»½\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                        dataLength = titleArray.length > linkArray.length ? titleArray.length : linkArray.length;\\n                        if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                            PhotoAlbum.ç›¸å†Œ[group] = [];\\n                        }\\n                        for (let i = 0; i < dataLength; i++) {\\n                            title = i > titleArray.length - 1 ? 'æœªå‘½å' : (titleArray[i] == '' ? 'æœªå‘½å' : titleArray[i]);\\n                            link = i > linkArray.length - 1 ? 'ç©ºé“¾æ¥' : (linkArray[i] == '' ? 'ç©ºé“¾æ¥' : linkArray[i]);\\n                            PhotoAlbum.ç›¸å†Œ[group].unshift({\\n                                link: link,\\n                                date: date,\\n                                title: title,\\n                                group: group\\n                            });\\n                        }\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        clearMyVar('addSwitch');\\n                        refreshPage(true);\\n                        return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n                    }\\n                }\\n            }),\\n            col_type: 'text_center_1',\\n            extra: {\\n                cls: 'addMorePhotos'\\n            }\\n        }];\\n        addItemAfter('addMoreBtn', newArray);\\n        putMyVar('addSwitch', 'open');\\n    } else {\\n        deleteItemByCls('addMorePhotos');\\n        putMyVar('addSwitch', 'fold');\\n    }\\n    return \\\"hiker://empty\\\";\\n}\\n// æ–°å¢é•¿æŒ‰-æ‰¹é‡å¯¼å…¥\\n$.exports.long_click_addNewPic = function () {\\n    return $('', 'è¯·è¾“å…¥é“¾æ¥').input(() => {\\n        var link = input;\\n        return $('', 'è¯·è¾“å…¥å¯¼å…¥çš„åˆ†ç»„åç§°').input((link) => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            if (PhotoAlbum.isSecret == 'yes') {\\n                keyArray = [];\\n                for (i in PhotoAlbum.keyMap) {\\n                    keyArray.push(i);\\n                }\\n                if (keyArray.includes(input)) {\\n                    return $('', input + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group, link) => {\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        keyMap = PhotoAlbum.keyMap;\\n                        password = base64Decode(base64Decode(keyMap[group]));\\n                        if (input == password) {\\n                            // æ—¥å¿—å¤‡ä»½\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            data = request(link).split(/\\\\r\\\\n|\\\\n|\\\\r/);\\n                            date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\\n                            }\\n                            data.forEach(item => {\\n                                if (item == '') {\\n                                    return;\\n                                } else {\\n                                    title = item.split(/,|ï¼Œ/)[0];\\n                                    link = item.split(/,|ï¼Œ/)[1];\\n                                }\\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\\n                                    link: link,\\n                                    date: date,\\n                                    title: title,\\n                                    group: group\\n                                });\\n                            });\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            refreshPage(true);\\n                            return \\\"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\\\";\\n                        } else {\\n                            return 'toast://å¯†ç é”™è¯¯ï¼'\\n                        }\\n                    }, input, link)\\n                } else {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    // æ—¥å¿—å¤‡ä»½\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    data = request(link).split(/\\\\r\\\\n|\\\\n/);\\n                    date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                    if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                        PhotoAlbum.ç›¸å†Œ[input] = [];\\n                    }\\n                    data.forEach(item => {\\n                        if (item == '') {\\n                            return;\\n                        } else {\\n                            title = item.split(/,|ï¼Œ/)[0];\\n                            link = item.split(/,|ï¼Œ/)[1];\\n                        }\\n                        PhotoAlbum.ç›¸å†Œ[input].unshift({\\n                            link: link,\\n                            date: date,\\n                            title: title,\\n                            group: input\\n                        });\\n                    });\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    refreshPage(true);\\n                    return \\\"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\\\";\\n                }\\n            } else {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                // æ—¥å¿—å¤‡ä»½\\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                data = request(link).split(/\\\\r\\\\n|\\\\n/);\\n                date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\\n                }\\n                data.forEach(item => {\\n                    if (item == '') {\\n                        return;\\n                    } else {\\n                        title = item.split(/,|ï¼Œ/)[0];\\n                        link = item.split(/,|ï¼Œ/)[1];\\n                    }\\n                    PhotoAlbum.ç›¸å†Œ[input].unshift({\\n                        link: link,\\n                        date: date,\\n                        title: title,\\n                        group: input\\n                    });\\n                });\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                refreshPage(true);\\n                return \\\"toast://å›¾ç‰‡å¯¼å…¥æˆåŠŸ~\\\";\\n            }\\n        }, link)\\n    })\\n}\\n//æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ\\n$.exports.revoke = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum_workBack.json'))));\\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n    refreshPage(false);\\n    return 'toast://æ’¤é”€æˆåŠŸ';\\n}\\n// åˆ†é¡µæŒ‰é’®é•¿æŒ‰äº‹ä»¶\\n$.exports.long_click_pageBtn = function (MY_PAGE_add) {\\n    if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\\n        title = 'è¿›å…¥å¤šé€‰æ‰¹é‡æ¨¡å¼æ“ä½œ';\\n    } else {\\n        title = 'é€€å‡ºæ‰¹é‡æ¨¡å¼';\\n    }\\n    return [{\\n        title: title, js: $.toString((MY_PAGE_add) => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").SwitchMode(MY_PAGE_add)\\n        }, MY_PAGE_add)\\n    }, {\\n        title: 'æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ', js: $.toString(() => {\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").revoke()\\n        })\\n    }];\\n}\\n// åˆ†é¡µé€‰æ‹©å¼¹çª—\\n$.exports.refreshPageNum = function () {\\n    // åŠ è½½å›¾å†Œé…ç½®\\n    var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    Select_group = getMyVar('Select_group', 'å…¨éƒ¨');\\n    singleMax = PhotoAlbum.singleMax;\\n    // è·å–å½“å‰çš„å…¨éƒ¨showImg\\n    if (getMyVar('currentPage', 'whole') == 'search_res') {\\n        var keyWord = getMyVar('condition');\\n        var reg = new RegExp(keyWord);\\n        var showImg = [];\\n        if (Select_group == 'ğŸ—‘ï¸') {\\n            res_source = 'å›æ”¶ç«™';\\n            PhotoAlbum.å›æ”¶ç«™.forEach(item => {\\n                if (item.title.match(reg) && item.title != 'æœªå‘½å') {\\n                    showImg.push(item);\\n                }\\n            });\\n        } else {\\n            res_source = 'å›¾åº“';\\n            for (group in PhotoAlbum.ç›¸å†Œ) {\\n                PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n                    if (item.title.match(reg) && item.title != 'æœªå‘½å') {\\n                        showImg.push(item);\\n                    }\\n                });\\n            }\\n        }\\n    } else if (Select_group == 'å…¨éƒ¨') {\\n        showImg = [];\\n        keyArray = [];\\n        for (i in PhotoAlbum.keyMap) {\\n            keyArray.push(i);\\n        }\\n        for (group in PhotoAlbum.ç›¸å†Œ) {\\n            if (!keyArray.includes(group)) {\\n                showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n            }\\n        }\\n    } else if (Select_group == 'ğŸ—‘ï¸') {\\n        var showImg = PhotoAlbum.å›æ”¶ç«™;\\n    } else {\\n        var showImg = PhotoAlbum.ç›¸å†Œ[Select_group];\\n    }\\n    // å¼€å§‹åˆ†é¡µå·¥ä½œ\\n    maxNum = showImg.length;\\n    maxPage = Math.ceil(maxNum / singleMax);\\n    thePageNum = getMyVar('thePageNum', 1 + '');\\n    pageList = ['âˆ·'];\\n    if (maxNum <= singleMax) {\\n        pageList.push('â€œâ€œâ€â€<font color=\\\"red\\\">1/1</font>');\\n    } else {\\n        for (let page = 1; page <= maxPage; page++) {\\n            start = (page - 1) * singleMax + 1;\\n            if (thePageNum == page) {\\n                pageList.push('â€œâ€œâ€â€<font color=\\\"red\\\">' + page + '/' + start + '</font>');\\n            } else {\\n                pageList.push('â€œâ€œâ€â€<font color=\\\"gray\\\">' + page + '/' + start + '</font>');\\n            }\\n        }\\n    }\\n    return $(pageList, 3).select((singleMax) => {\\n        if (input == 'âˆ·') {\\n            return $(singleMax, 'è¯·è®¾ç½®å•é¡µæœ€å¤§æ•°é‡').input(() => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                PhotoAlbum.singleMax = parseInt(input);\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                refreshPage(false);\\n                return 'toast://limitè®¾ç½®ç”Ÿæ•ˆ'\\n            })\\n        }\\n        thePageNum = input.split('/')[0].split('>')[1];\\n        putMyVar('thePageNum', thePageNum);\\n        putMyVar('lastPage', '1');\\n        refreshPage(true);\\n        return 'hiker://empty';\\n    }, singleMax)\\n}\\n\\n// ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡(è¿”å›å‡½æ•°æ–¹æ³•çš„å¯æ‰§è¡Œå­—ç¬¦ä¸²)\\n$.exports.refreshPicArrayNum = function () {\\n    return $.toString(() => {\\n        pic_len = showImg.length - videoArray.length;\\n        d[getMyVar('indexOfArray')].title = '<b>å›¾ç‰‡</b>\\\\t\\\\t\\\\tæœ¬é¡µ<font color=' + color + '>' + pic_len + '</font>æ¡æ•°æ®\\\\t\\\\t\\\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\\\t\\\\t\\\\tç¬¬<font color=\\\"red\\\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ';\\n    })\\n}\\n\\n\\n// æ¢å¤åŸä½\\n$.exports.reinstate = function (group, link) {\\n    if (group && link) {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        // æ—¥å¿—å¤‡ä»½\\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\\n        // æ¢å¤åˆ°åŸåˆ†ç»„\\n        if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n            PhotoAlbum.ç›¸å†Œ[group] = [];\\n        }\\n        PhotoAlbum.ç›¸å†Œ[group].unshift(PhotoAlbum.å›æ”¶ç«™[i]);\\n        // ä»å›æ”¶ç«™åˆ é™¤\\n        PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        refreshPage(false);\\n        return 'toast://å·²ä»å›æ”¶ç«™æ¢å¤';\\n    } else {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        if (getMyVar('selectNum', '0') == '0') {\\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦æ¢å¤çš„å›¾ç‰‡ï¼'\\n        } else {\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            selectArray = JSON.parse(getMyVar('selectArray'));\\n            selectArray.forEach(item => {\\n                group = item.group;\\n                link = item.link;\\n                // æ¢å¤åˆ°åŸåˆ†ç»„\\n                if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                    PhotoAlbum.ç›¸å†Œ[group] = [];\\n                }\\n                PhotoAlbum.ç›¸å†Œ[group].unshift(item);\\n                // ä»å›æ”¶ç«™åˆ é™¤\\n                // PhotoAlbum.å›æ”¶ç«™.pop(item);â€”â€”æœæ°”ï¼Œæä¸æ˜è¿™æ ·å†™ä¸ºä»€ä¹ˆä¼šå‡ºç°å„ç§bug...\\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\\n                PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\\n            });\\n            selectNum = getMyVar('selectNum', '0');\\n            clearMyVar('selectNum');\\n            clearMyVar('selectArray');\\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n            showImg = [];\\n            keyArray = [];\\n            for (i in PhotoAlbum.keyMap) {\\n                keyArray.push(i);\\n            }\\n            for (group in PhotoAlbum.ç›¸å†Œ) {\\n                if (!keyArray.includes(group)) {\\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                }\\n            }\\n            maxNum = showImg.length;\\n            for (let index = 1; index <= maxNum; index++) {\\n                clearMyVar('isChoose_' + index);\\n            }\\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            refreshPage(false);\\n            return \\\"toast://å…±æ¢å¤\\\" + selectNum + 'å¼ å›¾ç‰‡';\\n        }\\n    }\\n}\\n\\n// åˆ é™¤(ç§»åŠ¨åˆ°å›æ”¶ç«™)\\n$.exports.removeBin = function (group, link, title) {\\n    if (group && link && title) {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        // æ—¥å¿—å¤‡ä»½\\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n        // æ”¾å…¥å›æ”¶ç«™\\n        date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n        PhotoAlbum.å›æ”¶ç«™.unshift({\\n            link: link,\\n            date: date,\\n            title: title,\\n            group: group\\n        });\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        refreshPage(false);\\n        return \\\"toast://åˆ é™¤æˆåŠŸ\\\";\\n    } else {\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        if (getMyVar('selectNum', '0') == '0') {\\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å›¾ç‰‡ï¼'\\n        } else {\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            selectArray = JSON.parse(getMyVar('selectArray'));\\n            selectArray.forEach(item => {\\n                link = item.link;\\n                title = item.title;\\n                group = item.group;\\n                // iæ˜¯åŠ¨æ€è·å–çš„\\n                i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n                // æ”¾å…¥å›æ”¶ç«™\\n                date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                PhotoAlbum.å›æ”¶ç«™.unshift({\\n                    link: link,\\n                    date: date,\\n                    title: title,\\n                    group: group\\n                });\\n            });\\n            selectNum = getMyVar('selectNum', '0');\\n            clearMyVar('selectNum');\\n            clearMyVar('selectArray');\\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n            showImg = [];\\n            keyArray = [];\\n            for (i in PhotoAlbum.keyMap) {\\n                keyArray.push(i);\\n            }\\n            for (group in PhotoAlbum.ç›¸å†Œ) {\\n                if (!keyArray.includes(group)) {\\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                }\\n            }\\n            maxNum = showImg.length;\\n            for (let index = 1; index <= maxNum; index++) {\\n                clearMyVar('isChoose_' + index);\\n            }\\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            refreshPage(false);\\n            return \\\"toast://å…±åˆ é™¤\\\" + selectNum + 'å¼ å›¾ç‰‡';\\n        }\\n    }\\n}\\n// å½»åº•åˆ é™¤\\n$.exports.completelyDelete = function (link) {\\n    if (link) {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        // æ—¥å¿—å¤‡ä»½\\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\\n        PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        refreshPage(false);\\n        return 'toast://å·²å½»åº•åˆ é™¤';\\n    } else {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        if (getMyVar('selectNum', '0') == '0') {\\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„å›¾ç‰‡ï¼'\\n        } else {\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            selectArray = JSON.parse(getMyVar('selectArray'));\\n            selectArray.forEach(item => {\\n                link = item.link;\\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\\n                PhotoAlbum.å›æ”¶ç«™.splice(i, 1);\\n            });\\n            selectNum = getMyVar('selectNum', '0');\\n            clearMyVar('selectNum');\\n            clearMyVar('selectArray');\\n            // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n            showImg = [];\\n            keyArray = [];\\n            for (i in PhotoAlbum.keyMap) {\\n                keyArray.push(i);\\n            }\\n            for (group in PhotoAlbum.ç›¸å†Œ) {\\n                if (!keyArray.includes(group)) {\\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                }\\n            }\\n            maxNum = showImg.length;\\n            for (let index = 1; index <= maxNum; index++) {\\n                clearMyVar('isChoose_' + index);\\n            }\\n            // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            refreshPage(false);\\n            return \\\"toast://å…±å½»åº•åˆ é™¤\\\" + selectNum + 'å¼ å›¾ç‰‡';\\n        }\\n    }\\n}\\n// åŠ å…¥éšæœº\\n$.exports.JoinRandom = function (link,group) {\\n    if (link) {\\n        if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json')) {\\n            return 'toast://ä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜å“¦ï¼'\\n        } else {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n            if (group) {\\n                i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\\n                self_way = String(data.self_way);\\n                data.gif_list.unshift(PhotoAlbum.ç›¸å†Œ[group][i].link);\\n            }else{\\n                i = PhotoAlbum.å›æ”¶ç«™.indexOf(link);\\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\\n                self_way = String(data.self_way);\\n                data.gif_list.unshift(PhotoAlbum.å›æ”¶ç«™[i].link);\\n            }\\n            saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\\\"gif_list\\\":' + JSON.stringify(data.gif_list) + ',\\\"showType\\\":' + JSON.stringify(data.showType) + ',\\\"self_way\\\":' + self_way + '}');\\n            return 'toast://åŠ å…¥æˆåŠŸ~'\\n        }\\n    } else {\\n        if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json')) {\\n            return 'toast://ä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜å“¦ï¼'\\n        } else {\\n            if (getMyVar('selectNum', '0') == '0') {\\n                return 'toast://è¯·å…ˆé€‰æ‹©å›¾ç‰‡ï¼'\\n            } else {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\\n                self_way = String(data.self_way);\\n                selectArray = JSON.parse(getMyVar('selectArray'));\\n                selectArray.forEach(item => {\\n                    data.gif_list.unshift(item.link);\\n                });\\n                selectNum = getMyVar('selectNum', '0');\\n                clearMyVar('selectNum');\\n                clearMyVar('selectArray');\\n                // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n                showImg = [];\\n                keyArray = [];\\n                for (i in PhotoAlbum.keyMap) {\\n                    keyArray.push(i);\\n                }\\n                for (group in PhotoAlbum.ç›¸å†Œ) {\\n                    if (!keyArray.includes(group)) {\\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                    }\\n                }\\n                maxNum = showImg.length;\\n                for (let index = 1; index <= maxNum; index++) {\\n                    clearMyVar('isChoose_' + index);\\n                }\\n                // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\\n                saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\\\"gif_list\\\":' + JSON.stringify(data.gif_list) + ',\\\"showType\\\":' + JSON.stringify(data.showType) + ',\\\"self_way\\\":' + self_way + '}');\\n                refreshPage(false);\\n                return \\\"toast://å…±æœ‰\\\" + selectNum + 'å¼ å›¾ç‰‡åŠ å…¥äº†éšæœºå›¾åº“';\\n            }\\n        }\\n    }\\n}\\n// é‡å‘½å\\n$.exports.reName = function (title, link, group) {\\n    return $(title).input((link, group) => {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        // æ—¥å¿—å¤‡ä»½\\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n        PhotoAlbum.ç›¸å†Œ[group][i].title = input;\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        refreshPage(false);\\n        return 'toast://é‡å‘½åæˆåŠŸ'\\n    }, link, group)\\n}\\n// æ”¹é“¾æ¥\\n$.exports.changeLinke = function (link, group) {\\n    return $(link).input((link, group) => {\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        // æ—¥å¿—å¤‡ä»½\\n        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n        i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n        PhotoAlbum.ç›¸å†Œ[group][i].link = input;\\n        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n        refreshPage(false);\\n        return 'toast://ä¿®æ”¹é“¾æ¥æˆåŠŸ'\\n    }, link, group)\\n}\\n// ç§»åŠ¨åˆ†ç»„\\n$.exports.moveGroup = function (group, link, title) {\\n    if (group && link && title) {\\n        return $(group).input((group, link, title) => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            // æ—¥å¿—å¤‡ä»½\\n            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n            i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n            if (input == 'å›æ”¶ç«™') {\\n                // ç§»åŠ¨åˆ°å›æ”¶ç«™\\n                date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                PhotoAlbum.å›æ”¶ç«™.unshift({\\n                    link: link,\\n                    date: date,\\n                    title: title,\\n                    group: group\\n                });\\n                // ä»åŸåˆ†ç»„åˆ é™¤\\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                refreshPage(false);\\n                return 'toast://å·²ç§»åŠ¨åˆ°å›æ”¶ç«™';\\n            } else {\\n                // ä¿®æ”¹åˆ†ç»„ä¿¡æ¯\\n                PhotoAlbum.ç›¸å†Œ[group][i].group = input;\\n                // ç§»åŠ¨åˆ°æ–°åˆ†ç»„\\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\\n                }\\n                PhotoAlbum.ç›¸å†Œ[input].unshift(PhotoAlbum.ç›¸å†Œ[group][i]);\\n                // ä»åŸåˆ†ç»„åˆ é™¤\\n                PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                refreshPage(false);\\n                return 'toast://ç§»åŠ¨æˆåŠŸ';\\n            }\\n        }, group, link, title)\\n    } else {\\n        if (getMyVar('selectNum', '0') == '0') {\\n            return 'toast://è¯·å…ˆé€‰æ‹©è¦ç§»åŠ¨çš„å›¾ç‰‡ï¼'\\n        } else {\\n            return $('', 'è¯·è¾“å…¥è¦ç§»åŠ¨åˆ°çš„åˆ†ç»„').input(() => {\\n                $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                // æ—¥å¿—å¤‡ä»½\\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                selectArray = JSON.parse(getMyVar('selectArray'));\\n                selectArray.forEach(item => {\\n                    link = item.link;\\n                    title = item.title;\\n                    group = item.group;\\n                    $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").overwriteArray();\\n                    i = PhotoAlbum.ç›¸å†Œ[group].indexOf(link);\\n                    if (input == 'å›æ”¶ç«™') {\\n                        // ç§»åŠ¨åˆ°å›æ”¶ç«™\\n                        date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                        PhotoAlbum.å›æ”¶ç«™.unshift({\\n                            link: link,\\n                            date: date,\\n                            title: title,\\n                            group: group\\n                        });\\n                        // ä»åŸåˆ†ç»„åˆ é™¤\\n                        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n                    } else {\\n                        // ä¿®æ”¹åˆ†ç»„ä¿¡æ¯\\n                        PhotoAlbum.ç›¸å†Œ[group][i].group = input;\\n                        // ç§»åŠ¨åˆ°æ–°åˆ†ç»„\\n                        if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                            PhotoAlbum.ç›¸å†Œ[input] = [];\\n                        }\\n                        PhotoAlbum.ç›¸å†Œ[input].unshift(PhotoAlbum.ç›¸å†Œ[group][i]);\\n                        // ä»åŸåˆ†ç»„åˆ é™¤\\n                        PhotoAlbum.ç›¸å†Œ[group].splice(i, 1);\\n                    }\\n                });\\n                selectNum = getMyVar('selectNum', '0');\\n                clearMyVar('selectNum');\\n                clearMyVar('selectArray');\\n                // ç›´æ¥æ¸…é™¤å…¨éƒ¨æœ€å¤§å¯èƒ½çš„index\\n                showImg = [];\\n                keyArray = [];\\n                for (i in PhotoAlbum.keyMap) {\\n                    keyArray.push(i);\\n                }\\n                for (group in PhotoAlbum.ç›¸å†Œ) {\\n                    if (!keyArray.includes(group)) {\\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                    }\\n                }\\n                maxNum = showImg.length;\\n                for (let index = 1; index <= maxNum; index++) {\\n                    clearMyVar('isChoose_' + index);\\n                }\\n                // log('æ¸…é™¤indexçš„æ•°é‡:'+maxNum);\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                refreshPage(false);\\n                return \\\"toast://å…±ç§»åŠ¨\\\" + selectNum + 'å¼ å›¾ç‰‡';\\n            });\\n        }\\n    }\\n}\\n// é¢„è§ˆ-å¤šé€‰\\n$.exports.preview = function (item) {\\n    if (item.link.match(/#isVideo=true#/)) {\\n        link = item.link;\\n        if (link.match(/-dir/)) {\\n            link = item.link.split('-dir')[0];\\n        } else {\\n            lazy = $(\\\"\\\").lazyRule(() => {\\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\\n            });\\n            link = item.link.split('#isVideo=true#')[0] + lazy;\\n        }\\n    } else {\\n        link = item.link;\\n        if (!link.match(/jpg|jpeg|gif|png|svg|webp|bmp|tif/)) {\\n            link = link + '.png';\\n        }\\n    }\\n    return link;\\n}\\n\\n// å›¾ç‰‡è§†é¢‘-å›æ”¶ç«™é•¿æŒ‰äº‹ä»¶\\n$.exports.long_click_binPage = function (group, link, from, item) {\\n    if (from) {\\n        return [{\\n            title: 'é¢„è§ˆ', js: $.toString((item) => {\\n                return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\\n            }, item)\\n        }, {\\n            title: 'æ¢å¤', js: $.toString(() => {\\n                return $.require('hiker://page/api?rule=å›¾å†Œ').reinstate();\\n            })\\n        }, {\\n            title: 'å½»åº•åˆ é™¤', js: $.toString(() => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").completelyDelete();\\n            })\\n        }, {\\n            title: 'åŠ å…¥éšæœº', js: $.toString(() => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").JoinRandom();\\n            })\\n        }];\\n    } else {\\n        return [{\\n            title: 'æ¢å¤åŸä½', js: $.toString((group, link) => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").reinstate(group, link);\\n            }, group, link)\\n        }, {\\n            title: 'å½»åº•åˆ é™¤', js: $.toString((link) => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").completelyDelete(link);\\n            }, link)\\n        }, {\\n            title: 'åŠ å…¥éšæœº', js: $.toString((link) => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").JoinRandom(link);\\n            }, link)\\n        }];\\n    }\\n}\\n// å›¾ç‰‡è§†é¢‘-åˆ†ç»„é•¿æŒ‰äº‹ä»¶\\n$.exports.long_click_truePage = function (title, link, group, from, item, type) {\\n    switch (arguments.length) {\\n        case 6:\\n            return [{\\n                title: 'é¢„è§ˆ', js: $.toString((item) => {\\n                    return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\\n                }, item)\\n            }, {\\n                title: 'ç§»åŠ¨', js: $.toString(() => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").moveGroup();\\n                })\\n            }, {\\n                title: 'åˆ é™¤', js: $.toString(() => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").removeBin();\\n                })\\n            }]\\n            break;\\n        case 4:\\n            return [{\\n                title: 'é‡å‘½å', js: $.toString((title, link, group) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").reName(title, link, group);\\n                }, title, link, group)\\n            }, {\\n                title: 'æ”¹é“¾æ¥', js: $.toString((link, group) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").changeLinke(link, group);\\n                }, link, group)\\n            }, {\\n                title: 'ç§»åŠ¨åˆ†ç»„', js: $.toString((group, link, title) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").moveGroup(group, link, title);\\n                }, group, link, title)\\n            }, {\\n                title: 'åˆ é™¤', js: $.toString((group, link, title) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").removeBin(group, link, title);\\n                }, group, link, title)\\n            }];\\n            break;\\n        case 5:\\n            return [{\\n                title: 'é¢„è§ˆ', js: $.toString((item) => {\\n                    return $.require('hiker://page/api?rule=å›¾å†Œ').preview(item);\\n                }, item)\\n            }, {\\n                title: 'ç§»åŠ¨', js: $.toString(() => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").moveGroup();\\n                })\\n            }, {\\n                title: 'åˆ é™¤', js: $.toString(() => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").removeBin();\\n                })\\n            }, {\\n                title: 'åŠ å…¥éšæœº', js: $.toString(() => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").JoinRandom();\\n                })\\n            }]\\n            break;\\n        case 3:\\n            return [{\\n                title: 'é‡å‘½å', js: $.toString((title, link, group) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").reName(title, link, group);\\n                }, title, link, group)\\n            }, {\\n                title: 'æ”¹é“¾æ¥', js: $.toString((link, group) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").changeLinke(link, group);\\n                }, link, group)\\n            }, {\\n                title: 'ç§»åŠ¨åˆ†ç»„', js: $.toString((group, link, title) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").moveGroup(group, link, title);\\n                }, group, link, title)\\n            }, {\\n                title: 'åˆ é™¤', js: $.toString((group, link, title) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").removeBin(group, link, title);\\n                }, group, link, title)\\n            }, {\\n                title: 'åŠ å…¥éšæœº', js: $.toString((link,group) => {\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").JoinRandom(link,group);\\n                }, link,group)\\n            }];\\n            break;\\n    }\\n}\\n// åˆ†ç»„æƒé™éªŒè¯\\n$.exports.Authentication = function (Select_group) {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (Select_group == 'ğŸ—‘ï¸') {\\n        password = base64Decode(base64Decode(PhotoAlbum.user_password))\\n    } else {\\n        keyMap = PhotoAlbum.keyMap;\\n        password = base64Decode(base64Decode(keyMap[Select_group]));\\n    }\\n    if (password != getMyVar('password')) {\\n        return \\\"toast://å¯†ç é”™è¯¯ï¼\\\"\\n    } else {\\n        putMyVar('isOpen_' + Select_group, 'y')\\n        refreshPage(true);\\n        return \\\"toast://ç§˜é’¥æ­£ç¡®~\\\";\\n    }\\n}\\n// å¤šé€‰ç›¸å†Œï¼ˆåˆ é™¤ï¼‰\\n$.exports.selectGroupToDel = function (group) {\\n    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\\n    if (selectArray.includes(group)) {\\n        selectNum = Number(getMyVar('selectNum', '0')) - 1;\\n        selectArray = selectArray.filter(item => item != group);\\n        putMyVar('selectArray', selectArray);\\n        putMyVar('selectNum', selectNum);\\n    } else {\\n        selectNum = Number(getMyVar('selectNum', '0')) + 1;\\n        selectArray.push(group);\\n        putMyVar('selectArray', selectArray);\\n        putMyVar('selectNum', selectNum);\\n    }\\n    // refreshPage(true);\\n    updateItem('del_select_' + group, {\\n        title: JSON.parse(getMyVar('selectArray', '[]')).includes(group) ? 'â€œâ€œâ€â€<font color=red>' + group + '</font>' : group,\\n    });\\n    return 'hiker://empty'\\n}\\n// åˆ é™¤å¤šé€‰ç›¸å†Œ\\n$.exports.DelselectGroup = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (getMyVar('selectNum', '0') == '0') {\\n        return 'toast://è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„ç›¸å†Œï¼'\\n    } else {\\n        keyArray = [];\\n        for (var item in PhotoAlbum.keyMap) {\\n            keyArray.push(item);\\n        }\\n        selectArray = JSON.parse(getMyVar('selectArray'));\\n        for (var group in PhotoAlbum.ç›¸å†Œ) {\\n            if (selectArray.includes(group)) {\\n                if (keyArray.includes(group) && selectArray.length != 1) {\\n                    return 'toast://é€‰ä¸­åˆ†ç»„ä¸­æœ‰ç›¸å†Œè®¾æœ‰ç§˜é’¥ï¼Œè¯·å•ç‹¬è¿›è¡Œåˆ é™¤ï¼'\\n                } else if (keyArray.includes(group) && selectArray.length == 1) {\\n                    if (PhotoAlbum.isSecret == 'yes') {\\n                        return $('', group + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group) => {\\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                            keyMap = PhotoAlbum.keyMap;\\n                            password = base64Decode(base64Decode(keyMap[group]));\\n                            if (input == password) {\\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                // æ—¥å¿—å¤‡ä»½\\n                                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                delete PhotoAlbum.ç›¸å†Œ[group];\\n                                // æ¸…é™¤å¯†é’¥å¯¹\\n                                delete PhotoAlbum.keyMap[group];\\n                                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                selectNum = getMyVar('selectNum', '0');\\n                                clearMyVar('selectNum');\\n                                clearMyVar('selectArray');\\n                                refreshPage(true);\\n                                return \\\"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\\\";\\n                            } else {\\n                                return 'toast://å¯†ç é”™è¯¯ï¼'\\n                            }\\n                        }, group)\\n                    } else {\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        // æ—¥å¿—å¤‡ä»½\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        delete PhotoAlbum.ç›¸å†Œ[group];\\n                        // æ¸…é™¤å¯†é’¥å¯¹\\n                        delete PhotoAlbum.keyMap[group];\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        selectNum = getMyVar('selectNum', '0');\\n                        clearMyVar('selectNum');\\n                        clearMyVar('selectArray');\\n                        refreshPage(true);\\n                        return \\\"toast://è¯¥åŠ å¯†ç›¸å†Œå·²åˆ é™¤~\\\";\\n                    }\\n                } else {\\n                    // æ—¥å¿—å¤‡ä»½\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    // æ”¾å…¥å›æ”¶ç«™\\n                    date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n                        item.date = date;\\n                    });\\n                    PhotoAlbum.å›æ”¶ç«™ = PhotoAlbum.ç›¸å†Œ[group].concat(PhotoAlbum.å›æ”¶ç«™);\\n                    // åˆ é™¤ç›¸å†Œ\\n                    delete PhotoAlbum.ç›¸å†Œ[group];\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                }\\n            }\\n        };\\n        // å¯¹äºå¤šé€‰æ¥è¯´ï¼Œè¦åœ¨å¾ªç¯å¤–è¿”å›ç»“æœ\\n        selectNum = getMyVar('selectNum', '0');\\n        clearMyVar('selectNum');\\n        clearMyVar('selectArray');\\n        refreshPage(true);\\n        return \\\"toast://å…±åˆ é™¤\\\" + selectNum + 'ä¸ªç›¸å†Œ';\\n    }\\n}\\n// åˆ›å»ºç›¸å†Œ\\n$.exports.creatGroup = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    PhotoAlbum_Name = getMyVar('PhotoAlbum_Name', 'æœªå‘½å');\\n    groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n    if (groupFuns.includes(PhotoAlbum_Name)) {\\n        return 'toast://ç›¸å†Œåä¸èƒ½æ˜¯å…³é”®å­—ï¼';\\n    }\\n    for (group in PhotoAlbum.ç›¸å†Œ) {\\n        if (PhotoAlbum_Name == group) {\\n            return 'toast://å·²å­˜åœ¨åŒåç›¸å†Œï¼'\\n        }\\n    };\\n    PhotoAlbum.ç›¸å†Œ[PhotoAlbum_Name] = [];\\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n    refreshPage(true);\\n    return \\\"toast://ç›¸å†Œåˆ›å»ºæˆåŠŸ~\\\";\\n}\\n// å‹¾é€‰ç›¸å†Œï¼ˆå¤šé€‰æ¨¡å¼ï¼‰\\n$.exports.CheckGroup = function (index, item, showType) {\\n    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\\n    if (getMyVar('isChoose_' + index, 'no') == 'yes') {\\n        selectNum = Number(getMyVar('selectNum', '0')) - 1;\\n        selectArray.pop(item);\\n        putMyVar('selectArray', selectArray);\\n        putMyVar('selectNum', selectNum);\\n        putMyVar('isChoose_' + index, 'no');\\n    } else {\\n        selectNum = Number(getMyVar('selectNum', '0')) + 1;\\n        selectArray.push(item);\\n        putMyVar('selectArray', selectArray);\\n        putMyVar('selectNum', selectNum);\\n        putMyVar('isChoose_' + index, 'yes');\\n    }\\n    updateItem('selfMap' + index, {\\n        desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : index + ''))),\\n    });\\n    return 'hiker://empty'\\n}\\n// é«˜çº§rootæƒé™\\n$.exports.rootFun = function () {\\n    return $('', 'ä½ æ²¡æœ‰æƒé™å“¦').input(() => {\\n        if (input == 'root') {\\n            // åŠ è½½å›¾å†Œé…ç½®\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            isSecret = PhotoAlbum.isSecret;\\n            addItemAfter('root', [{\\n                title: 'å¯¼å‡ºè§£ç æ–‡ä»¶',\\n                url: $('#noLoading#').lazyRule(() => {\\n                    saveFile('hiker://files/cache/PhotoAlbum_temp.json', base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    return 'share://hiker://files/cache/PhotoAlbum_temp.json';\\n                }),\\n                col_type: 'text_1'\\n            }, {\\n                title: 'å¯¼å…¥è§£ç æ–‡ä»¶ï¼ˆè¦†ç›–ï¼‰',\\n                url: $('#noLoading#').lazyRule(() => {\\n                    return $('', 'å¡«å†™æ–‡ä»¶æ‰€åœ¨è·¯å¾„|æ”¯æŒæ–‡ä»¶ç›´é“¾').input(() => {\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        // æ—¥å¿—å¤‡ä»½\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                        PhotoAlbum = request(input);\\n                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(PhotoAlbum)));\\n                        return \\\"toast://å¯¼å…¥æˆåŠŸ~\\\";\\n                    })\\n                }),\\n                col_type: 'text_1'\\n            }, {\\n                title: 'æ¸…ç©ºç§˜é’¥',\\n                desc: 'æ¸…é™¤æ‰€æœ‰ç”¨æˆ·ç§˜é’¥å’Œç›¸å†Œç§˜é’¥',\\n                url: $('#noLoading#').lazyRule(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    // æ—¥å¿—å¤‡ä»½\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    PhotoAlbum.keyMap = {};\\n                    PhotoAlbum.user_password = '';\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(PhotoAlbum)));\\n                    return \\\"toast://æ¸…é™¤æˆåŠŸ~\\\";\\n                }),\\n                col_type: 'text_1'\\n            }, {\\n                title: '<b>è£¸å¥”æ¨¡å¼</b>',\\n                img: (isSecret == 'yes' ? 'https://lanmeiguojiang.com/tubiao/messy/63.svg' : 'https://lanmeiguojiang.com/tubiao/messy/55.svg') + '@Referer=',\\n                url: $('#noLoading#').lazyRule(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    if (PhotoAlbum.isSecret == 'yes') {\\n                        PhotoAlbum.isSecret = 'no';\\n                    } else {\\n                        PhotoAlbum.isSecret = 'yes';\\n                    }\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    refreshPage(true);\\n                    return \\\"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\\\";\\n                }),\\n                col_type: 'text_icon'\\n            }, {\\n                title: 'æ— éœ€è®¾ç½®å¯†ç ï¼Œå¼€æ”¾æœç´¢ç­‰åŠŸèƒ½ã€‚è‹¥è®¾ç½®äº†å¯†ç è¿˜è¯·å…³é—­è¯¥é€‰é¡¹',\\n                col_type: 'rich_text',\\n                extra: { \\\"textSize\\\": \\\"12\\\" }\\n            }]);\\n        } else {\\n            return 'toast://ä½ æ˜¯è°ï¼Ÿä½ æƒ³å¹²å˜›ï¼'\\n        }\\n    })\\n}\\n// ä¸Šé”\\n$.exports.lockUp = function () {\\n    return $('hiker://empty').rule(() => {\\n        var d = [];\\n        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n        keyMap = PhotoAlbum.keyMap;\\n        if (JSON.stringify(keyMap) == '{}') {\\n            d.push({\\n                title: 'æš‚æ— ä¸Šé”çš„ç›¸å†Œ',\\n                url: 'hiker://empty',\\n                col_type: 'text_1'\\n            })\\n        } else {\\n            for (var item in keyMap) {\\n                d.push({\\n                    title: 'ğŸ”’' + item,\\n                    url: $(['æ›´æ”¹å¯†ç ', 'æ¸…é™¤å¯†ç '], 2, 'è¯·é€‰æ‹©æ“ä½œ').select((group) => {\\n                        if (input == 'æ›´æ”¹å¯†ç ') {\\n                            return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input((group) => {\\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                keyMap = PhotoAlbum.keyMap;\\n                                password = base64Decode(base64Decode(keyMap[group]));\\n                                if (input == password) {\\n                                    return $('', 'è¯·è¾“å…¥æ–°å¯†ç ').input((group) => {\\n                                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                        keyMap = PhotoAlbum.keyMap;\\n                                        keyMap[group] = base64Encode(base64Encode(input));\\n                                        saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                        refreshPage(true);\\n                                        return \\\"toast://ç›¸å†Œç§˜é’¥æ›´æ”¹æˆåŠŸ~\\\";\\n                                    }, group);\\n                                } else {\\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                                }\\n                            }, group)\\n                        } else {\\n                            return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input((group) => {\\n                                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                keyMap = PhotoAlbum.keyMap;\\n                                password = base64Decode(base64Decode(keyMap[group]));\\n                                if (input == password) {\\n                                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                                    delete PhotoAlbum.keyMap[group];\\n                                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                    refreshPage(true);\\n                                    return \\\"toast://ç›¸å†Œç§˜é’¥å·²æ¸…é™¤~\\\";\\n                                } else {\\n                                    return 'toast://å¯†ç é”™è¯¯ï¼'\\n                                }\\n                            }, group)\\n                        }\\n                    }, item),\\n                    col_type: 'text_1'\\n                })\\n            }\\n        }\\n        d.push({\\n            title: 'â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">æ·» åŠ ğŸ”’</span></big>',\\n            url: 'hiker://empty',\\n            col_type: 'text_1'\\n        }, {\\n            title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªé€‰æ‹©'),\\n            url: $('hiker://empty#noLoading#').lazyRule(() => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                groupArray = [];\\n                keyArray = [];\\n                for (var item in PhotoAlbum.keyMap) {\\n                    keyArray.push(item);\\n                }\\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                    if (!keyArray.includes(group)) {\\n                        groupArray.push(group);\\n                    }\\n                }\\n                return $(groupArray, 3, 'æœªä¸Šé”åˆ†ç»„').select(() => {\\n                    putMyVar('selectGroup', input)\\n                    updateItem('group_btn', {\\n                        title: 'ğŸ¨å½“å‰é€‰ä¸­åˆ†ç»„ï¼š' + getMyVar('selectGroup', 'æœªé€‰æ‹©'),\\n                    });\\n                    return 'hiker://empty';\\n                })\\n            }),\\n            col_type: 'text_1',\\n            extra: {\\n                id: 'group_btn'\\n            }\\n        }, {\\n            desc: 'è¯·è¾“å…¥å¯†ç ',\\n            col_type: 'input',\\n            extra: {\\n                titleVisible: false,\\n                type: 'textarea',\\n                height: 1,\\n                highlight: true,\\n                onChange: \\\"putMyVar('password',input)\\\",\\n            }\\n        }, {\\n            title: 'ç¡®è®¤æ·»åŠ ',\\n            url: $('#noLoading#').lazyRule(() => {\\n                PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                keyMap = PhotoAlbum.keyMap;\\n                selectGroup = getMyVar('selectGroup', 'æœªé€‰æ‹©');\\n                password = getMyVar('password');\\n                if (selectGroup == 'æœªé€‰æ‹©') {\\n                    return \\\"toast://è¯·å…ˆé€‰æ‹©è¦ä¸Šé”çš„ç›¸å†Œ\\\"\\n                } else if (password == '') {\\n                    return \\\"toast://å¯†ç ä¸èƒ½ä¸ºç©ºï¼\\\"\\n                } else {\\n                    if (PhotoAlbum.user_password == '') {\\n                        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                            PhotoAlbum.user_password = base64Encode(base64Encode(input));\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            return \\\"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\\\";\\n                        })\\n                    } else {\\n                        return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\\n                            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                            keyMap = PhotoAlbum.keyMap;\\n                            selectGroup = getMyVar('selectGroup', 'æœªé€‰æ‹©');\\n                            password = getMyVar('password');\\n                            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\\n                                keyMap[selectGroup] = base64Encode(base64Encode(password));\\n                                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                                refreshPage(true);\\n                                return \\\"toast://ç›¸å†Œç§˜é’¥æ·»åŠ æˆåŠŸ~\\\";\\n                            } else {\\n                                return 'toast://å¯†ç é”™è¯¯ï¼'\\n                            }\\n                        })\\n                    }\\n                }\\n            }),\\n            col_type: 'text_center_1'\\n        });\\n        setResult(d);\\n    });\\n}\\n// è®¾ç½®æˆ–ä¿®æ”¹å¯†ç \\n$.exports.setPassword = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (PhotoAlbum.user_password == '') {\\n        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            PhotoAlbum.user_password = base64Encode(base64Encode(input));\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            return \\\"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\\\";\\n        })\\n    } else {\\n        return $('', 'è¯·è¾“å…¥åŸå¯†ç ').input(() => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\\n                return $('', 'è¯·è¾“å…¥æ–°å¯†ç ').input(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    PhotoAlbum.user_password = base64Encode(base64Encode(input));\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    return \\\"toast://ç”¨æˆ·å¯†ç æ›´æ”¹æˆåŠŸ~\\\";\\n                });\\n            } else {\\n                return 'toast://å¯†ç é”™è¯¯ï¼'\\n            }\\n        })\\n    }\\n}\\n// æ¸…ç©ºå›æ”¶ç«™\\n$.exports.clearBin = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    if (PhotoAlbum.user_password == '') {\\n        return $('', 'è¯·è®¾ç½®ç”¨æˆ·å¯†ç (è¯·ç‰¢è®°)').input(() => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            PhotoAlbum.user_password = base64Encode(base64Encode(input));\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n            return \\\"toast://ç”¨æˆ·å¯†ç è®¾ç½®æˆåŠŸ~\\\";\\n        })\\n    } else {\\n        return $('', 'è¯·è¾“å…¥å¯†ç ').input(() => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            if (input == base64Decode(base64Decode(PhotoAlbum.user_password))) {\\n                return $(\\\"æ…é‡è€ƒè™‘~\\\").confirm(() => {\\n                    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                    PhotoAlbum.å›æ”¶ç«™ = [];\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    return \\\"toast://å›æ”¶ç«™å·²æ¸…ç©ºï¼\\\";\\n                });\\n            } else {\\n                return 'toast://å¯†ç é”™è¯¯ï¼'\\n            }\\n        })\\n    }\\n}\\n// å»é‡\\n$.exports.dedup = function () {\\n    PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    // è·å–å…¨éƒ¨æ•°æ®\\n    allData = []\\n    for (group in PhotoAlbum.ç›¸å†Œ) {\\n        allData = allData.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n    }\\n    allData = allData.concat(PhotoAlbum.å›æ”¶ç«™);\\n    // é“¾æ¥å»é‡æ•°ç»„å®šä¹‰ä¸ºå…¨å±€\\n    var newArr = [];\\n    var repetNum = 0;\\n    for (group in PhotoAlbum.ç›¸å†Œ) {\\n        tempArray = [];\\n        PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n            if (!newArr.includes(item.link)) {\\n                // å°†é“¾æ¥å­˜å…¥å»é‡æ•°ç»„\\n                newArr.push(item.link);\\n                // å­˜å‚¨åˆ°ä¸´æ—¶æ•°ç»„å€’æ‰‹\\n                tempArray.push(item);\\n            } else {\\n                repetNum++;\\n            };\\n\\n        });\\n        // å€’æ‰‹å­˜å…¥\\n        PhotoAlbum.ç›¸å†Œ[group] = tempArray;\\n    }\\n    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n    return \\\"toast://æœ¬æ¬¡å»é‡\\\" + repetNum + 'æ¡æ•°æ®';\\n}\\n// å¤–éƒ¨æ¥å£1-åŠ å…¥éšæœºå›¾\\n$.exports.addToRandomPool = function (linkArray) {\\n    if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json') || !fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\\n        return 'toast://æœ‹å‹ï¼Œä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜æˆ–è€…è¯´ä½ æ²¡æœ‰å›¾å†Œå“¦ï¼'\\n    } else {\\n        eval('data=' + fetch('hiker://files/rules/cy/Theme/pic_list.json'));\\n        self_way = String(data.self_way);\\n        data.gif_list = linkArray.concat(data.gif_list);\\n        saveFile('hiker://files/rules/cy/Theme/pic_list.json', '{\\\"gif_list\\\":' + JSON.stringify(data.gif_list) + ',\\\"showType\\\":' + JSON.stringify(data.showType) + ',\\\"self_way\\\":' + self_way + '}');\\n        return 'toast://åŠ å…¥æˆåŠŸ~'\\n    }\\n}\\n// å¤–éƒ¨æ¥å£2-åŠ å…¥å›¾å†Œåˆ†ç»„,å‚æ•°ä¸ºJSONæ•°ç»„:[{title:'',link:''}]\\n$.exports.addToPhotoAlbum = function (data) {\\n    if (!fileExist('hiker://files/rules/cy/Theme/pic_list.json') || !fileExist('hiker://files/rules/cy/PhotoAlbum.json')) {\\n        return 'toast://æœ‹å‹ï¼Œä½ è¿˜æ²¡æœ‰ä½¿ç”¨è¿‡æˆ‘çš„ä¸»é¢˜æˆ–è€…è¯´ä½ æ²¡æœ‰å›¾å†Œå“¦ï¼'\\n    } else {\\n        return $('', 'è¯·è¾“å…¥ç›¸å†Œåˆ†ç»„åç§°').input((data) => {\\n            PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n            if (PhotoAlbum.isSecret == 'yes') {\\n                keyArray = [];\\n                for (i in PhotoAlbum.keyMap) {\\n                    keyArray.push(i);\\n                }\\n                if (keyArray.includes(input)) {\\n                    return $('', input + 'å›¾å†Œ|è®¾æœ‰å¯†ç ').input((group, data) => {\\n                        PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n                        keyMap = PhotoAlbum.keyMap;\\n                        password = base64Decode(base64Decode(keyMap[group]));\\n                        if (input == password) {\\n                            // æ—¥å¿—å¤‡ä»½\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                            if (PhotoAlbum.ç›¸å†Œ[group] == undefined) {\\n                                PhotoAlbum.ç›¸å†Œ[group] = [];\\n                            }\\n                            data.forEach(item => {\\n                                PhotoAlbum.ç›¸å†Œ[group].unshift({\\n                                    link: item.link,\\n                                    date: date,\\n                                    title: item.title,\\n                                    group: group\\n                                });\\n                            });\\n                            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                            return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n                        } else {\\n                            return 'toast://å¯†ç é”™è¯¯ï¼'\\n                        }\\n                    }, input, data)\\n                } else {\\n                    // æ—¥å¿—å¤‡ä»½\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                    if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                        PhotoAlbum.ç›¸å†Œ[input] = [];\\n                    }\\n                    data.forEach(item => {\\n                        PhotoAlbum.ç›¸å†Œ[input].unshift({\\n                            link: item.link,\\n                            date: date,\\n                            title: item.title,\\n                            group: input\\n                        });\\n                    });\\n                    saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                    return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n                }\\n            } else {\\n                // æ—¥å¿—å¤‡ä»½\\n                saveFile('hiker://files/rules/cy/PhotoAlbum_workBack.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                date = $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").getCurrentDate(1);\\n                if (PhotoAlbum.ç›¸å†Œ[input] == undefined) {\\n                    PhotoAlbum.ç›¸å†Œ[input] = [];\\n                }\\n                data.forEach(item => {\\n                    PhotoAlbum.ç›¸å†Œ[input].unshift({\\n                        link: item.link,\\n                        date: date,\\n                        title: item.title,\\n                        group: input\\n                    });\\n                });\\n                saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n                return \\\"toast://å›¾ç‰‡æ·»åŠ æˆåŠŸ~\\\";\\n            }\\n        }, data)\\n    }\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"å®¶\",\"path\":\"homePage\",\"rule\":\"js:\\n// é™é»˜å¤‡ä»½\\ntry {\\n    var d = [];\\n    // é¢„å¤„ç†\\n    $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").pretreatment();\\n    // åŠ è½½å›¾å†Œé…ç½®å’Œåˆå§‹åŒ–é¡µé¢ã€é¡µç \\n    var PhotoAlbum = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum.json'))));\\n    Select_group = getMyVar('Select_group', 'å…¨éƒ¨');\\n    showType = PhotoAlbum.showType;\\n    keyMap = PhotoAlbum.keyMap;\\n    singleMax = PhotoAlbum.singleMax;\\n    isSecret = PhotoAlbum.isSecret;\\n    color = \\\"#19B89D\\\";\\n    // é¡µç å·®è·\\n    margin = MY_PAGE - getMyVar('lastPage', '1');\\n    // ä½¿ç”¨MY_PAGE_addæ‰¿æ¥é¡µç \\n    MY_PAGE_add = parseInt(getMyVar('thePageNum', '1')) + margin;\\n    log('é¡µç :' + MY_PAGE_add);\\n    putMyVar('lastPage', MY_PAGE);\\n    // å€’æ‰‹å˜é‡è®°å½•æœ€æ–°çš„MY_PAGE_add\\n    putMyVar('thePageNum', MY_PAGE_add);\\n    // ç¬¬ä¸€é¡µå±•ç¤ºåŠŸèƒ½åŒº\\n    if (MY_PAGE == 1) {\\n        // æ£€ç´¢\\n        d.unshift({\\n            title: \\\"æ£€ç´¢\\\",\\n            desc: 'è¯·è¾“å…¥æ£€ç´¢å…³é”®å­—~',\\n            col_type: \\\"input\\\",\\n            url: $.toString(() => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").search()\\n            }),\\n            extra: {\\n                type: 'textarea',\\n                defaultValue: getMyVar('condition', ''),\\n                height: 1,\\n                onChange: \\\"putMyVar('condition',input)\\\",\\n            }\\n        })\\n        groupItems = ['å…¨éƒ¨'];\\n        groupFuns = ['ğŸ—‘ï¸', 'â•', 'â–'];\\n        for (i in PhotoAlbum.ç›¸å†Œ) {\\n            groupItems.push(i);\\n        }\\n        groupItems.push.apply(groupItems, groupFuns);\\n        groupItems.forEach(item => {\\n            groupFuns = ['å…¨éƒ¨', 'ğŸ—‘ï¸', 'â•', 'â–'];\\n            if (groupFuns.includes(item)) {\\n                d.push({\\n                    title: getMyVar('Select_group', 'å…¨éƒ¨') == item ? ('â€œâ€œâ€â€<b> <font color=' + color + '>' + item + ' </font></b>') : item,\\n                    col_type: 'scroll_button',\\n                    url: $('hiker://empty#noLoading#').lazyRule((item) => {\\n                        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").SwitchGroup(item)\\n                    }, item)\\n                })\\n            } else {\\n                d.push({\\n                    title: getMyVar('Select_group', 'å…¨éƒ¨') == item ? ('â€œâ€œâ€â€<b> <font color=' + color + '>' + item + ' </font></b>') : item,\\n                    col_type: 'scroll_button',\\n                    url: $('hiker://empty#noLoading#').lazyRule((item) => {\\n                        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").SwitchGroup(item)\\n                    }, item),\\n                    extra: {\\n                        longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").groupFun(item)\\n                    }\\n                })\\n            }\\n        });\\n        d.push({\\n            col_type: 'blank_block'\\n        })\\n        // æ·»åŠ æ›´å¤šæŒ‰é’®\\n        d.push({\\n            title: getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ' ? 'ğŸ–¼ï¸æ¦‚è§ˆ' : 'â˜‘ï¸å¤šé€‰',\\n            url: $('#noLoading#').lazyRule((MY_PAGE_add) => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").SwitchMode(MY_PAGE_add)\\n            }, MY_PAGE_add),\\n            col_type: 'scroll_button'\\n        }, {\\n            title: 'ğŸ¨' + showType,\\n            url: $('#noLoading#').lazyRule(() => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").switchShowType()\\n            }),\\n            col_type: 'scroll_button',\\n            extra: {\\n                id: 'showType_btn'\\n            }\\n        }, {\\n            title: 'âš™ï¸è®¾ç½®',\\n            url: $('#noLoading##noHistory#').lazyRule(() => {\\n                return $('hiker://empty##fypage#fullTheme#').rule(() => {\\n                    require(\\\"hiker://page/setting?rule=å›¾å†Œ\\\");\\n                })\\n            }),\\n            col_type: 'scroll_button'\\n        }, {\\n            title: 'â•',\\n            url: $('#noLoading#').lazyRule(() => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").addNewPic()\\n            }),\\n            col_type: 'scroll_button',\\n            extra: {\\n                id: 'addMoreBtn',\\n                longClick: [{\\n                    title: 'æ‰¹é‡å¯¼å…¥ï¼Œæ”¯æŒæœ¬åœ°ç›´é“¾ã€äº‘é“¾', js: $.toString(() => {\\n                        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_addNewPic()\\n                    })\\n                }]\\n            }\\n        });\\n    }\\n    d.push({\\n        url: 'hiker://empty',\\n        col_type: 'line_blank'\\n    },);\\n    // æ•°æ®åŒ¹é…\\n    keyArray = [];\\n    for (i in PhotoAlbum.keyMap) {\\n        keyArray.push(i);\\n    }\\n    if ((keyArray.includes(Select_group) || (Select_group == 'ğŸ—‘ï¸') && PhotoAlbum.user_password != '') && getMyVar('currentPage', 'whole') != 'search_res' && getMyVar('isOpen_' + Select_group, 'n') == 'n' && isSecret == 'yes') {\\n        d.push({\\n            desc: 'è¯·è¾“å…¥å¯†ç ',\\n            col_type: 'input',\\n            extra: {\\n                titleVisible: false,\\n                type: 'textarea',\\n                height: 1,\\n                highlight: true,\\n                onChange: \\\"putMyVar('password',input)\\\",\\n            }\\n        }, {\\n            title: 'ç¡®è®¤',\\n            url: $('#noLoading#').lazyRule((Select_group) => {\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").Authentication(Select_group);\\n            }, Select_group),\\n            col_type: 'text_center_1'\\n        });\\n    } else {\\n        if (getMyVar('currentPage', 'whole') == 'search_res') {\\n            var keyWord = getMyVar('condition');\\n            var reg = new RegExp(keyWord);\\n            var showImg = [];\\n            if (Select_group == 'ğŸ—‘ï¸') {\\n                res_source = 'å›æ”¶ç«™';\\n                PhotoAlbum.å›æ”¶ç«™.forEach(item => {\\n                    if (item.title.match(reg) && item.title != 'æœªå‘½å') {\\n                        showImg.push(item);\\n                    }\\n                });\\n            } else {\\n                res_source = 'å›¾åº“';\\n                for (group in PhotoAlbum.ç›¸å†Œ) {\\n                    PhotoAlbum.ç›¸å†Œ[group].forEach(item => {\\n                        if (item.title.match(reg) && item.title != 'æœªå‘½å') {\\n                            showImg.push(item);\\n                        }\\n                    });\\n                }\\n            }\\n        } else if (Select_group == 'å…¨éƒ¨') {\\n            showImg = [];\\n            if (isSecret == 'yes') {\\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                    if (!keyArray.includes(group)) {\\n                        showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                    }\\n                }\\n            } else {\\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                    showImg = showImg.concat(PhotoAlbum.ç›¸å†Œ[group]);\\n                }\\n            }\\n        } else if (Select_group == 'ğŸ—‘ï¸') {\\n            var showImg = PhotoAlbum.å›æ”¶ç«™;\\n        } else {\\n            var showImg = PhotoAlbum.ç›¸å†Œ[Select_group];\\n        }\\n        // è·å–åˆ†é¡µdata\\n        try {\\n            maxPage = Math.ceil(showImg.length / singleMax);\\n            startPage = (MY_PAGE_add - 1) * singleMax + 1;\\n            endPage = singleMax * MY_PAGE_add;\\n            showImg = showImg.slice(startPage - 1, endPage);\\n        } catch (e) {\\n            log('åœ¨å¯¹ç›¸å†Œè¿›è¡Œæ“ä½œ~');\\n            showImg = ['temp'];\\n            maxPage = Math.ceil(showImg.length / singleMax);\\n            startPage = (MY_PAGE_add - 1) * singleMax + 1;\\n            endPage = singleMax * MY_PAGE_add;\\n            showImg = showImg.slice(startPage - 1, endPage);\\n        }\\n        // é¦–é¡µæ•°æ®å±•ç¤º\\n        if (MY_PAGE_add > maxPage) {\\n            d.push({\\n                title: \\\"â€œâ€œâ€â€<small><font color='gray'>â€”åˆ°åº•äº†å“¦â€”</font></small>\\\",\\n                url: 'hiker://empty',\\n                col_type: 'text_center_1'\\n            });\\n        } else {\\n            if (Select_group == 'â•') {\\n                d.push({\\n                    title: 'è¯·è¾“å…¥ç›¸å†Œåå­—',\\n                    url: 'hiker://empty',\\n                    col_type: 'text_1'\\n                }, {\\n                    desc: 'æ²¡å•¥è¦æ±‚,ä½†æ˜¯ä½ ä¹Ÿä¸è¦ä¹±æ¥~',\\n                    col_type: 'input',\\n                    extra: {\\n                        titleVisible: false,\\n                        type: 'textarea',\\n                        height: -1,\\n                        highlight: true,\\n                        onChange: \\\"putMyVar('PhotoAlbum_Name',input)\\\",\\n                    }\\n                }, {\\n                    title: 'â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">åˆ› å»º</span></big>',\\n                    url: $('#noLoading#').lazyRule(() => {\\n                        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").creatGroup();\\n                    }),\\n                    col_type: 'text_center_1'\\n                });\\n            } else if (Select_group == 'â–') {\\n                d.push({\\n                    title: 'è¯·é€‰ä¸­ä½ è¦åˆ é™¤çš„ç›¸å†Œ',\\n                    url: 'hiker://empty',\\n                    col_type: 'text_1'\\n                });\\n                for (var group in PhotoAlbum.ç›¸å†Œ) {\\n                    d.push({\\n                        title: JSON.parse(getMyVar('selectArray', '[]')).includes(group) ? 'â€œâ€œâ€â€<font color=red>' + group + '</font>' : group,\\n                        col_type: 'scroll_button',\\n                        url: $('hiker://empty#noLoading#').lazyRule((group) => {\\n                            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").selectGroupToDel(group);\\n                        }, group),\\n                        extra: {\\n                            id: 'del_select_' + group\\n                        }\\n                    })\\n                }\\n                d.push({\\n                    title: 'â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">åˆ  é™¤</span></big>',\\n                    url: $('hiker://empty#noLoading#').lazyRule(() => {\\n                        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").DelselectGroup();\\n                    }),\\n                    col_type: 'text_center_1'\\n                });\\n            } else {\\n                if (getMyVar('showPage', 'ğŸ–¼ï¸æ¦‚è§ˆ') == 'ğŸ–¼ï¸æ¦‚è§ˆ') {\\n                    eval(JSON.parse(request('hiker://page/overview?rule=å›¾å†Œ')).rule);\\n                } else {\\n                    eval(JSON.parse(request('hiker://page/editor?rule=å›¾å†Œ')).rule);\\n                }\\n            }\\n        }\\n    }\\n    // å¤‡ä»½\\n    saveFile('hiker://files/rules/cy/PhotoAlbum_back.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum))));\\n} catch (e) {\\n    log(e.message);\\n    showLoading('å¼‚å¸¸ï¼ï¼ï¼');\\n    d.push({\\n        title: 'æ¢å¤å¤‡ä»½',\\n        desc: 'æ•°æ®å‘ç”Ÿäº†æŸåæˆ–è®¸å‘ç”Ÿäº†æœªçŸ¥é”™è¯¯ï¼Œå¯ä»¥å°è¯•æ¢å¤~',\\n        url: $('#noLoading#').lazyRule(() => {\\n            PhotoAlbum_back = JSON.parse(base64Decode(base64Decode(request('hiker://files/rules/cy/PhotoAlbum_back.json'))));\\n            saveFile('hiker://files/rules/cy/PhotoAlbum.json', base64Encode(base64Encode(JSON.stringify(PhotoAlbum_back))));\\n            refreshPage(true);\\n            return \\\"toast://æ¢å¤æˆåŠŸ\\\";\\n        }),\\n        col_type: 'text_center_1'\\n    });\\n    setResult(d);\\n}\\nsetResult(d);\\n\"},{\"col_type\":\"movie_3\",\"name\":\"å¤šé€‰ç¼–è¾‘æ¨¡å¼\",\"path\":\"editor\",\"rule\":\"// åˆ¤æ–­å¤šé€‰æ ·å¼\\r\\nbanList = ['icon_round_4', 'pic_1_full', 'card_pic_1', 'pic_2_card', 'pic_3', 'pic_3_square', 'icon_2', 'icon_2_round', 'icon_round_4', 'card_pic_3'];\\r\\nif (banList.includes(showType)) {\\r\\n    showType = 'movie_3_marquee';\\r\\n}\\r\\nd.push({\\r\\n    col_type: 'blank_block'\\r\\n});\\r\\nif (Select_group == 'ğŸ—‘ï¸') {\\r\\n    videoArray = [];\\r\\n    // å›¾ç‰‡åºå·\\r\\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\\r\\n    d.push({\\r\\n        title: '<b>å›¾ç‰‡</b>',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            id: 'picArray_show',\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    putMyVar('indexOfArray', d.length - 1);\\r\\n    showImg.forEach(item => {\\r\\n        if (item.link.match(/#isVideo=true#/)) {\\r\\n            videoArray.push(item);\\r\\n        } else {\\r\\n            link = item.link;\\r\\n            group = item.group;\\r\\n            shwoUrl = \\\"pics://\\\" + link;\\r\\n            if (link.match(/http/)) {\\r\\n                showPic=link + '@Referer=';\\r\\n            }else{\\r\\n                showPic=link\\r\\n            }\\r\\n            d.push({\\r\\n                title: item.title,\\r\\n                desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + '')),\\r\\n                url: $('#noLoading#').lazyRule((index, item, showType) => {\\r\\n                    selectArray = JSON.parse(getMyVar('selectArray', '[]'));\\r\\n                    if (getMyVar('isChoose_' + index, 'no') == 'yes') {\\r\\n                        selectNum = Number(getMyVar('selectNum', '0')) - 1;\\r\\n                        selectArray.pop(item);\\r\\n                        putMyVar('selectArray', selectArray);\\r\\n                        putMyVar('selectNum', selectNum);\\r\\n                        putMyVar('isChoose_' + index, 'no');\\r\\n                    } else {\\r\\n                        selectNum = Number(getMyVar('selectNum', '0')) + 1;\\r\\n                        selectArray.push(item);\\r\\n                        putMyVar('selectArray', selectArray);\\r\\n                        putMyVar('selectNum', selectNum);\\r\\n                        putMyVar('isChoose_' + index, 'yes');\\r\\n                    }\\r\\n                    updateItem('selfMap' + index, {\\r\\n                        desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : index + ''))),\\r\\n                    });\\r\\n                    return 'hiker://empty'\\r\\n                }, show_Index, item, showType),\\r\\n                img: showPic,\\r\\n                col_type: showType,\\r\\n                extra: {\\r\\n                    id: 'selfMap' + show_Index,\\r\\n                    longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_binPage(group, link,'select',item)\\r\\n                }\\r\\n            });\\r\\n            show_Index++;\\r\\n        }\\r\\n    })\\r\\n    d.push({\\r\\n        url: 'hiker://empty',\\r\\n        col_type: 'line'\\r\\n    }, {\\r\\n        title: '<b>è§†é¢‘</b>\\\\t\\\\t\\\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\\\t\\\\t\\\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\\\t\\\\t\\\\tç¬¬<font color=\\\"red\\\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\\r\\n    eval($.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPicArrayNum());\\r\\n    videoArray.forEach(item => {\\r\\n        link = item.link;\\r\\n        group = item.group;\\r\\n        if (link.match(/-dir/)) {\\r\\n            shwoUrl = item.link.split('-dir')[0];\\r\\n            if (link.match(/-u=/)) {\\r\\n                showPic = item.link.split('-u=')[1] + '@Referer=';\\r\\n            }else{\\r\\n                if (link.match(/-r=/)) {\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\\r\\n                }else{\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\\r\\n                }\\r\\n            }\\r\\n        } else {\\r\\n            lazy = $(\\\"\\\").lazyRule(() => {\\r\\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\\r\\n            });\\r\\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\\r\\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\\r\\n        }\\r\\n        d.push({\\r\\n            title: item.title,\\r\\n            desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + '')),\\r\\n            url: $('#noLoading#').lazyRule((index, item, showType) => {\\r\\n                selectArray = JSON.parse(getMyVar('selectArray', '[]'));\\r\\n                if (getMyVar('isChoose_' + index, 'no') == 'yes') {\\r\\n                    selectNum = Number(getMyVar('selectNum', '0')) - 1;\\r\\n                    selectArray.pop(item);\\r\\n                    putMyVar('selectArray', selectArray);\\r\\n                    putMyVar('selectNum', selectNum);\\r\\n                    putMyVar('isChoose_' + index, 'no');\\r\\n                } else {\\r\\n                    selectNum = Number(getMyVar('selectNum', '0')) + 1;\\r\\n                    selectArray.push(item);\\r\\n                    putMyVar('selectArray', selectArray);\\r\\n                    putMyVar('selectNum', selectNum);\\r\\n                    putMyVar('isChoose_' + index, 'yes');\\r\\n                }\\r\\n                updateItem('selfMap' + index, {\\r\\n                    desc: getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (getMyVar('isChoose_' + index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : index + ''))),\\r\\n                });\\r\\n                return 'hiker://empty'\\r\\n            }, (pic_len + show_Index), item, showType),\\r\\n            img: showPic,\\r\\n            col_type: showType,\\r\\n            extra: {\\r\\n                id: 'selfMap' + (pic_len + show_Index),\\r\\n                longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_binPage(group, link,'select',item)\\r\\n            }\\r\\n        });\\r\\n        show_Index++;\\r\\n    })\\r\\n    if (MY_PAGE_add <= maxPage) {\\r\\n        d.push({\\r\\n            title: \\\"â€œâ€œâ€â€<small><font color='gray'>â€”\\\" + MY_PAGE_add + \\\"â€”</font></small>\\\",\\r\\n            url: 'hiker://empty',\\r\\n            col_type: 'text_center_1'\\r\\n        });\\r\\n    }\\r\\n} else {\\r\\n    videoArray = [];\\r\\n    // å›¾ç‰‡åºå·\\r\\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\\r\\n    d.push({\\r\\n        title: '<b>å›¾ç‰‡</b>',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            id: 'picArray_show',\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    putMyVar('indexOfArray', d.length - 1);\\r\\n    showImg.forEach(item => {\\r\\n        if (item.link.match(/#isVideo=true#/)) {\\r\\n            videoArray.push(item);\\r\\n        } else {\\r\\n            link = item.link;\\r\\n            group = item.group;\\r\\n            title = item.title;\\r\\n            shwoUrl = \\\"pics://\\\" + item.link;\\r\\n            if (link.match(/http/)) {\\r\\n                showPic=link + '@Referer=';\\r\\n            }else{\\r\\n                showPic=link\\r\\n            }\\r\\n            d.push({\\r\\n                title: item.title,\\r\\n                desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + '')),\\r\\n                url: $('#noLoading#').lazyRule((index, item, showType) => {\\r\\n                    return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").CheckGroup(index, item, showType)\\r\\n                }, show_Index, item, showType),\\r\\n                img: showPic,\\r\\n                col_type: showType,\\r\\n                extra: {\\r\\n                    id: 'selfMap' + show_Index,\\r\\n                    longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_truePage(title, link, group,'select',item)\\r\\n                }\\r\\n            });\\r\\n            show_Index++;\\r\\n        }\\r\\n    })\\r\\n    d.push({\\r\\n        url: 'hiker://empty',\\r\\n        col_type: 'line'\\r\\n    }, {\\r\\n        title: '<b>è§†é¢‘</b>\\\\t\\\\t\\\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\\\t\\\\t\\\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\\\t\\\\t\\\\tç¬¬<font color=\\\"red\\\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\\r\\n    eval($.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPicArrayNum());\\r\\n    videoArray.forEach(item => {\\r\\n        lazy = $(\\\"\\\").lazyRule(() => {\\r\\n            return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\\r\\n        });\\r\\n        link = item.link;\\r\\n        group = item.group;\\r\\n        title = item.title;\\r\\n        if (link.match(/-dir/)) {\\r\\n            if (link.match(/-u=/)) {\\r\\n                showPic = item.link.split('-u=')[1] + '@Referer=';\\r\\n            }else{\\r\\n                if (link.match(/-r=/)) {\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\\r\\n                }else{\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\\r\\n                }\\r\\n            }\\r\\n        } else {\\r\\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\\r\\n        }\\r\\n        d.push({\\r\\n            title: item.title,\\r\\n            desc: getMyVar('isChoose_' + show_Index, 'no') == 'yes' ? 'âœ…' : (showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + '')),\\r\\n            url: $('#noLoading#').lazyRule((index, item, showType) => {\\r\\n                return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").CheckGroup(index, item, showType)\\r\\n            }, (pic_len + show_Index), item, showType),\\r\\n            img: showPic,\\r\\n            col_type: showType,\\r\\n            extra: {\\r\\n                id: 'selfMap' + (pic_len + show_Index),\\r\\n                longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_truePage(title, link, group,'select',item,'video')\\r\\n            }\\r\\n        });\\r\\n        show_Index++;\\r\\n    })\\r\\n    if (MY_PAGE_add <= maxPage) {\\r\\n        d.push({\\r\\n            title: \\\"â€œâ€œâ€â€<small><font color='gray'>â€”\\\" + MY_PAGE_add + \\\"â€”</font></small>\\\",\\r\\n            url: 'hiker://empty',\\r\\n            col_type: 'text_center_1'\\r\\n        });\\r\\n    }\\r\\n}\\r\\n\"},{\"col_type\":\"movie_3\",\"name\":\"è®¾ç½®é¡µé¢\",\"path\":\"setting\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    title: '<font color=#20b2aa> ä¾ åï¼šä½ å¥½å‘€ï¼Œæœ‹å‹...</font>',\\n    img: 'https://lanmeiguojiang.com/tubiao/messy/19.svg@Referer=',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").rootFun()\\n    }),\\n    col_type: 'avatar',\\n    extra: {\\n        id: 'root'\\n    }\\n}, {\\n    title: 'ä¸Šé”',\\n    desc: 'ç»™æŒ‡å®šç›¸å†Œæ·»åŠ å¯†ç é”',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").lockUp()\\n    }),\\n    col_type: 'text_1'\\n}, {\\n    title: 'è®¾ç½®æˆ–ä¿®æ”¹å¯†ç ',\\n    desc: 'è®¾ç½®ç”¨æˆ·å¯†ç ä»¥å¼€å¯æ¡ä»¶æ£€ç´¢ã€ç›¸å†ŒåŠ å¯†ç­‰åŠŸèƒ½',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").setPassword()\\n    }),\\n    col_type: 'text_1'\\n}, {\\n    title: 'æ¸…ç©ºå›æ”¶ç«™',\\n    desc: 'å®šæœŸæ¸…ç†ï¼Œè°¨æ…æ“ä½œ',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").clearBin()\\n    }),\\n    col_type: 'text_1'\\n}, {\\n    title: 'å›¾å†Œå»é‡',\\n    desc: ' å®šæœŸå»é‡ï¼Œè‰¯å¥½ä¹ æƒ¯ï¼ˆå›æ”¶ç«™ä¸å‚ä¸å»é‡ï¼‰',\\n    url: $('#noLoading#').lazyRule(() => {\\n        return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").dedup()\\n    }),\\n    col_type: 'text_1'\\n}, {\\n    title: 'è¿”å›ä¸»é¡µå¹¶åˆ·æ–°',\\n    url: $('#noLoading#').lazyRule(() => {\\n        // ç•™æ„ä¸€ä¸‹åˆ·æ–°è¿˜éœ€è¦é‚£äº›æ“ä½œ\\n        back(true);\\n        return \\\"toast://ä¸»é¡µåˆ·æ–°æˆåŠŸ~\\\";\\n    }),\\n    col_type: 'text_center_1'\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"æ¦‚è§ˆ\",\"path\":\"overview\",\"rule\":\"if (Select_group == 'ğŸ—‘ï¸') {\\r\\n    videoArray = [];\\r\\n    // å›¾ç‰‡åºå·\\r\\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\\r\\n    d.push({\\r\\n        title: '<b>å›¾ç‰‡</b>',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            id: 'picArray_show',\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    putMyVar('indexOfArray', d.length - 1);\\r\\n    showImg.forEach(item => {\\r\\n        if (item.link.match(/#isVideo=true#/)) {\\r\\n            videoArray.push(item);\\r\\n        } else {\\r\\n            link = item.link;\\r\\n            group = item.group;\\r\\n            shwoUrl = \\\"pics://\\\" + link;\\r\\n            if (link.match(/http/)) {\\r\\n                showPic = link + '@Referer=';\\r\\n            } else {\\r\\n                showPic = link\\r\\n            }\\r\\n            d.push({\\r\\n                title: item.title,\\r\\n                desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + ''),\\r\\n                url: shwoUrl,\\r\\n                img: showPic,\\r\\n                col_type: showType,\\r\\n                extra: {\\r\\n                    id: 'selfMap' + show_Index,\\r\\n                    longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_binPage(group, link)\\r\\n                }\\r\\n            });\\r\\n            show_Index++;\\r\\n        }\\r\\n    })\\r\\n    d.push({\\r\\n        url: 'hiker://empty',\\r\\n        col_type: 'line'\\r\\n    }, {\\r\\n        title: '<b>è§†é¢‘</b>\\\\t\\\\t\\\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\\\t\\\\t\\\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\\\t\\\\t\\\\tç¬¬<font color=\\\"red\\\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\\r\\n    eval($.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPicArrayNum());\\r\\n    videoArray.forEach(item => {\\r\\n        link = item.link;\\r\\n        group = item.group;\\r\\n        if (link.match(/-dir/)) {\\r\\n            shwoUrl = item.link.split('-dir')[0];\\r\\n            if (link.match(/-u=/)) {\\r\\n                showPic = item.link.split('-u=')[1] + '@Referer=';\\r\\n            }else{\\r\\n                if (link.match(/-r=/)) {\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\\r\\n                }else{\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\\r\\n                }\\r\\n            }\\r\\n        } else {\\r\\n            lazy = $(\\\"\\\").lazyRule(() => {\\r\\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\\r\\n            });\\r\\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\\r\\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\\r\\n        }\\r\\n        d.push({\\r\\n            title: item.title,\\r\\n            desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + ''),\\r\\n            url: shwoUrl,\\r\\n            img: showPic,\\r\\n            col_type: showType,\\r\\n            extra: {\\r\\n                id: 'selfMap' + (pic_len + show_Index),\\r\\n                longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_binPage(group, link)\\r\\n            }\\r\\n        });\\r\\n        show_Index++;\\r\\n    })\\r\\n    if (MY_PAGE_add <= maxPage) {\\r\\n        d.push({\\r\\n            title: \\\"â€œâ€œâ€â€<small><font color='gray'>â€”\\\" + MY_PAGE_add + \\\"â€”</font></small>\\\",\\r\\n            url: 'hiker://empty',\\r\\n            col_type: 'text_center_1'\\r\\n        });\\r\\n    }\\r\\n} else {\\r\\n    videoArray = [];\\r\\n    // å›¾ç‰‡åºå·\\r\\n    show_Index = (MY_PAGE_add - 1) * singleMax + 1;\\r\\n    d.push({\\r\\n        title: '<b>å›¾ç‰‡</b>',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/more/39.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            id: 'picArray_show',\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    putMyVar('indexOfArray', d.length - 1);\\r\\n    showImg.forEach(item => {\\r\\n        if (item.link.match(/#isVideo=true#/)) {\\r\\n            videoArray.push(item);\\r\\n        } else {\\r\\n            link = item.link;\\r\\n            group = item.group;\\r\\n            title = item.title;\\r\\n            shwoUrl = \\\"pics://\\\" + item.link;\\r\\n            if (link.match(/http/)) {\\r\\n                showPic = link + '@Referer=';\\r\\n            } else {\\r\\n                showPic = link\\r\\n            }\\r\\n            d.push({\\r\\n                title: item.title,\\r\\n                desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + ''),\\r\\n                url: shwoUrl,\\r\\n                img: showPic,\\r\\n                col_type: showType,\\r\\n                extra: {\\r\\n                    id: 'selfMap' + show_Index,\\r\\n                    longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_truePage(title, link, group)\\r\\n                }\\r\\n            });\\r\\n            show_Index++;\\r\\n        }\\r\\n    })\\r\\n    d.push({\\r\\n        url: 'hiker://empty',\\r\\n        col_type: 'line'\\r\\n    }, {\\r\\n        title: '<b>è§†é¢‘</b>\\\\t\\\\t\\\\tæœ¬é¡µ<font color=' + color + '>' + videoArray.length + '</font>æ¡æ•°æ®\\\\t\\\\t\\\\tlimit:<font color=' + color + '>' + singleMax + '</font>\\\\t\\\\t\\\\tç¬¬<font color=\\\"red\\\">' + MY_PAGE_add + '</font>/<font color=' + color + '>' + maxPage + '</font>é¡µ',\\r\\n        url: $('#noLoading#').lazyRule(() => {\\r\\n            return $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPageNum();\\r\\n        }),\\r\\n        img: 'https://hikerfans.com/tubiao/q/49.png@Referer=',\\r\\n        col_type: 'avatar',\\r\\n        extra: {\\r\\n            longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_pageBtn(MY_PAGE_add)\\r\\n        }\\r\\n    });\\r\\n    // ä¿®æ”¹å‰é¢å›¾ç‰‡çš„æ•°é‡ç»Ÿè®¡\\r\\n    eval($.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").refreshPicArrayNum());\\r\\n    videoArray.forEach(item => {\\r\\n        link = item.link;\\r\\n        group = item.group;\\r\\n        title = item.title;\\r\\n        if (link.match(/-dir/)) {\\r\\n            shwoUrl = item.link.split('-dir')[0];\\r\\n            if (link.match(/-u=/)) {\\r\\n                showPic = item.link.split('-u=')[1] + '@Referer=';\\r\\n            }else{\\r\\n                if (link.match(/-r=/)) {\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer='+item.link.split('-r=')[1];\\r\\n                }else{\\r\\n                    showPic = item.link.split('#isVideo=true#')[0] + '@Referer=';\\r\\n                }\\r\\n            }\\r\\n        } else {\\r\\n            lazy = $(\\\"\\\").lazyRule(() => {\\r\\n                return $.require('hiker://page/globalParse?rule=é“é•¿ä»“åº“Pro').lazyParse(input);\\r\\n            });\\r\\n            shwoUrl = item.link.split('#isVideo=true#')[0] + lazy;\\r\\n            showPic = item.link.split('#isVideo=true#')[1] + '@Referer=';\\r\\n        }\\r\\n        d.push({\\r\\n            title: item.title,\\r\\n            desc: showType.match(/card/) ? 0 + '' : (showType == 'pic_1' || showType.match(/movie_1/) ? '#' + item.group + '\\\\t\\\\t' + item.date : show_Index + ''),\\r\\n            url: shwoUrl,\\r\\n            img: showPic,\\r\\n            col_type: showType,\\r\\n            extra: {\\r\\n                id: 'selfMap' + (pic_len + show_Index),\\r\\n                longClick: $.require(\\\"hiker://page/api?rule=å›¾å†Œ\\\").long_click_truePage(title, link, group, 'video')\\r\\n            }\\r\\n        });\\r\\n        show_Index++;\\r\\n    })\\r\\n    if (MY_PAGE_add <= maxPage) {\\r\\n        d.push({\\r\\n            title: \\\"â€œâ€œâ€â€<small><font color='gray'>â€”\\\" + MY_PAGE_add + \\\"â€”</font></small>\\\",\\r\\n            url: 'hiker://empty',\\r\\n            col_type: 'text_center_1'\\r\\n        });\\r\\n    }\\r\\n}\\r\\n\"}]","proxy":"","icon":"https://lanmeiguojiang.com/tubiao/more/38.png"}