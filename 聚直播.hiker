{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"åŠ è½½æ•°æ®","path":"config","rule":"function getConfig() {\n    try {\n        let config = fetch(\"hiker://files/rules/live/config.json\");\n        if (!config || config == \"\") {\n            return {\n                data: [],\n                version: 0\n            }\n        } else {\n            return JSON.parse(config)\n        }\n    } catch (e) {\n        try {\n            toast(\"é…ç½®æ–‡ä»¶æ ¼å¼æœ‰è¯¯\")\n        } catch (e) {}\n        return {\n            data: [],\n            version: 0\n        }\n    }\n}"},{"col_type":"movie_3","name":"æ‰¹é‡å¯¼å…¥","path":"batchIm","rule":"function batchImport(input, rule) {\n    input = input.trim();\n    if (input.length < 3 || input[0] != \"{\") {\n        return \"toast://è¯·è¾“å…¥æ­£ç¡®çš„æ ¼å¼\"\n    }\n    let im = JSON.parse(input);\n    if (im.data == null || im.data.length < 1) {\n        return \"toast://è¯·è¾“å…¥æ­£ç¡®çš„æ ¼å¼\"\n    }\n    eval(JSON.parse(request(\"hiker://page/config?rule=\" + rule)).rule);\n    let config = getConfig();\n    let count = 0;\n    let all = config.data.map(it => it.url + \"&&&\").join();\n    for (let i of im.data) {\n        if (all.indexOf(i.url + \"&&&\") >= 0) {\n            //é‡å¤çš„ä¸è¦\n            continue;\n        }\n        count++;\n        config.data.push(i)\n    }\n    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n    refreshPage();\n    return \"toast://å·²å¯¼å…¥\" + count + \"æ¡è®¢é˜…æº\";\n}"},{"col_type":"movie_3","name":"ç›´æ’­æ•°æ®","path":"renderData","rule":"function renderLiveData(url,ua) {\n    let m3u = \"\";\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\n        m3u = fetch(url);\n    } else {\n        let interval = Number(getItem('interval', '24')),\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\n            remoteData = '';\n        try {\n            remoteData = fetchCache(url, interval, {\n                headers:{\n                    'User-Agent' : ua || MOBILE_UA\n                },\n                timeout: 50000\n            });\n        } catch (e) {}\n        if (!remoteData.includes('http') || remoteData.includes('<body>')) { \n            log('æ›´æ–°å¤±è´¥');\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData);\n            m3u = oldData;\n        } else {\n            m3u = remoteData;\n        }\n    }\n\n    let mode =  m3u.indexOf('#EXTM3U') == 0 , re;\n    if(mode){\n        re = /(.*),(.*)\\s*?((?:http|rtmp)[^#\\s]*)/g;\n    }else{\n        re = /()(?:\\B\\$c_start|\\B#{1,2})?(.*?),?(##|å¤´#|\\$c_end|,?#genre#|(?:http|rtmp)[^\\s]*)/g;\n    }\n        \n    let items = {},\n        group = 'æœªåˆ†ç»„';\n    for (let i = re.exec(m3u); i != null; i = re.exec(m3u)) {\n        if (mode) {\n            group = (i[1].match(/group-title=\"(.*?)\"/) || [null, group])[1];\n        } else if (['#genre#','##','å¤´#','$c_end'].includes(i[3])) {\n            group = i[2];\n            continue;\n        }\n        let title = i[2],\n            url = i[3].includes('#') ? i[3].split('#') : [i[3]],\n            headers = [];\n        if(!url[url.length-1]) url.pop();\n        url.forEach((v,index,array)=>{\n            if(/;\\{(.*)\\}/.test(v)){\n                let obj = {},\n                     con = v.match(/;\\{(.*)\\}/)[1],\n                     arr = con.split('&&');\n                arr.forEach((i)=>{\n                    let [key,value] = i.split('@');\n                    obj[key] = value.replace(/;/g,'ï¼›ï¼›');\n                })\n                array[index] = v.match(/^([^;]*);\\{/)[1]\n                headers.push(obj);\n            }else{\n                headers.push({'User-Agent' : MOBILE_UA.replace(/;/g,'ï¼›ï¼›')});\n            }\n            array[index] = array[index].replace(/;/g,'ï¼›ï¼›')+'#isVideo=true#';\n        });\n        if (items[group]) {\n            if (items[group][title]) {\n                items[group][title].url = items[group][title].url.concat(url);\n                items[group][title].headers = items[group][title].headers.concat(headers);\n            } else {\n                items[group][title] = {url:url,headers:headers};\n            }\n        } else {\n            items[group] = {};\n            items[group][title] = {url:url,headers:headers};\n        };\n    }\n    return items;\n}\n\n$.exports = {\n    renderLiveData: renderLiveData\n}\n"},{"col_type":"movie_3","name":"è®¾ç½®é¡µ","path":"renderSetting","rule":"function renderSetting() {\n    function getColoredText(text) {\n        return 'â€œâ€œâ€â€<span style=\"color: #19B89D\">' + text + '</span>';\n    }\n    const d = [];\n    let interval = getItem('interval', '24');\n    d.push({\n        title: interval == -1 ? 'å·²ç¦æ­¢è‡ªåŠ¨æ›´æ–°'.fontcolor(\"#19B89D\").bold() : ('æ›´æ–°é—´éš”:' + interval + 'å°æ—¶').fontcolor(\"#19B89D\").bold(),\n        url: $(interval, 'è¾“å…¥nä¸ºæ­£æ•´æ•°æ—¶ï¼Œæ¯éš”nå°æ—¶è‡ªåŠ¨æ›´æ–°\\nä¸º0æ—¶ï¼Œæ¯æ¬¡æ‰“å¼€éƒ½ä¼šæ›´æ–°\\nä¸º-1æ—¶ï¼Œç¦æ­¢è‡ªåŠ¨æ›´æ–°').input(() => {\n            if (parseInt(input) >= -1) {\n                setItem('interval', input);\n            }\n            refreshPage();\n            return 'hiker://empty'\n        }),\n        pic_url: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fis4.mzstatic.com%2Fimage%2Fthumb%2FPurple3%2Fv4%2Fdf%2Ff6%2Fda%2Fdff6da83-47d7-9cb6-2398-1919c13837b4%2Fmzl.kgmnwodo.png%2F0x0ss-85.jpg&refer=http%3A%2F%2Fis4.mzstatic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638629349&t=2f6d967185fe2b9c54e8b230eb83e66c',\n        col_type: \"avatar\"\n    });\n\n    d.push({\n        col_type: \"big_blank_block\"\n    });\n\n    d.push({\n        title: getColoredText(\"æ–°å»ºè®¢é˜…\"),\n        col_type: \"scroll_button\",\n        desc: \"è¯·è¾“å…¥ç›´æ’­æºè®¢é˜…åœ°å€\",\n        url: $('', 'è¯·è¾“å…¥è®¢é˜…åœ°å€\\nå¯ä»¥åœ¨åœ°å€ååŠ ua\\n(ä½¿ç”¨$$$åˆ†å‰²)').input((rule) => {\n            if (input == \"\") {\n                return \"toast://ä¸èƒ½ä¸ºç©º\"\n            } else if (input.indexOf(\"http\") != 0 && input.indexOf(\"file\") != 0 && input.indexOf(\"hiker\") != 0) {\n                return \"toast://é“¾æ¥æ ¼å¼æœ‰è¯¯\"\n            } else {\n                let [url,ua] = input.split('$$$');\n                return $('', \"è¯·è¾“å…¥è®¢é˜…æ ‡é¢˜\").input((url, rule,ua) => {\n                    eval(JSON.parse(request(\"hiker://page/config?rule=\" + rule)).rule);\n                    let config = getConfig();\n                    config.data.push({\n                        name: input,\n                        url: url,\n                        ua: ua || ''\n                    });\n                    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                    refreshPage();\n                    return \"toast://å·²ä¿å­˜\";\n                }, url, rule,ua)\n            }\n        }, getMyVar('title'))\n    });\n\n    d.push({\n        title: getColoredText(\"å¯¼å…¥è®¢é˜…\"),\n        col_type: \"scroll_button\",\n        url: $('', 'æ”¯æŒåŸå§‹æ•°æ®å’Œäº‘å‰ªè´´æ¿åˆ†äº«é“¾æ¥').input((rule) => {\n            eval(JSON.parse(request(\"hiker://page/batchIm?rule=\" + rule)).rule);\n            if (input.startsWith('èšç›´æ’­åˆ†äº«##')) {\n                input = parsePaste(input.split('##\\n')[1]);\n            }\n            return batchImport(input, rule);\n        }, getMyVar('title'))\n    });\n    d.push({\n        title: getColoredText(\"å¯¼å…¥æœ¬åœ°æº\"),\n        col_type: \"scroll_button\",\n        desc: \"è¯·è¾“å…¥ç›´æ’­æºåç§°\",\n        url: $('', 'è¯·è¾“å…¥ç›´æ’­æºåç§°').input((rule) => {\n            if (input == \"\") {\n                return \"toast://ä¸èƒ½ä¸ºç©º\"\n            } else {\n                return \"fileSelect://\" + $.toString((name) => {\n                    let s = input.split(\"/\")\n                    var url = \"hiker://files/cache/live/\" + name + \".m3u\"\n                    var c = fetch(\"hiker://files/cache/\" + s[s.length - 1])\n                    if (!c.includes('http')) {\n                        return 'toast://éæ³•æ–‡ä»¶'\n                    }\n                    writeFile(url, c)\n                    eval(JSON.parse(request(\"hiker://page/config?rule=èšç›´æ’­\")).rule);\n                    let config = getConfig();\n                    config.data.push({\n                        name: name,\n                        url: url\n                    });\n                    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                    refreshPage();\n                    return 'toast://å·²ä¿å­˜'\n                }, input)\n            }\n        })\n    });\n    d.push({\n        title: getColoredText(\"åˆ†äº«è®¢é˜…\"),\n        col_type: \"scroll_button\",\n        url: $([\"åŸå§‹æ•°æ®\", \"äº‘å‰ªè´´æ¿\", \"äº‘å£ä»¤\"], 3).select(() => {\n            return $('ç¡®å®šå¯¼å‡ºï¼Ÿ\\n(ç¦ç”¨è®¢é˜…ä¸ä¼šå¯¼å‡º)').confirm((type) => {\n                eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                config = getConfig();\n                config.data = config.data.filter(v => !v.inVisible);\n                if (type == \"äº‘å‰ªè´´æ¿\") {\n                    var data = 'èšç›´æ’­åˆ†äº«##\\n' + sharePaste(JSON.stringify(config));\n                } else if (type == \"äº‘å£ä»¤\") {\n                    var data = 'èšç›´æ’­åˆ†äº«,å¤åˆ¶åæ‰“å¼€è½¯ä»¶å³å¯å¯¼å…¥\\n' + sharePaste(JSON.stringify(config)) + '@import=js:eval(JSON.parse(fetch(\"hiker://page/cloud?rule=èšç›´æ’­\")).rule)';\n                } else {\n                    var data = JSON.stringify(config);\n                }\n                return \"copy://\" + data;\n            }, input)\n        })\n    });\n    d.push({\n        title: getColoredText(\"ç¼–è¾‘å…¨éƒ¨\"),\n        col_type: \"scroll_button\",\n        url: \"editFile://hiker://files/rules/live/config.json\"\n    });\n\n    d.push({\n        col_type: \"blank_block\"\n    });\n\n    eval(JSON.parse(request(\"hiker://page/config\")).rule);\n    config = getConfig();\n    let editMode = getMyVar('editMode', 'å¯ç”¨ç¦ç”¨');\n    ['å¯ç”¨ç¦ç”¨', 'åˆ é™¤è®¢é˜…', 'é‡æ–°æ’åº', 'ç¼–è¾‘è®¢é˜…', 'æ¸…é™¤ç¼“å­˜'].forEach((v) => {\n        d.push({\n            title: v == editMode ? 'â€œâ€œâ€â€' + v.bold().fontcolor('#19B89D') : v,\n            url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\n                putMyVar('editMode', v)\n                refreshPage(false)\n                return 'hiker://empty'\n            }, v),\n            col_type: 'scroll_button'\n        })\n    });\n    config.data.forEach((v, i) => {\n        let el = {\n            title: v.name,\n            col_type: \"text_3\"\n        }\n        switch (editMode) {\n            case 'å¯ç”¨ç¦ç”¨':\n                el.title = (v.inVisible ? 'ğŸ”´ ' : 'ğŸŸ¢ ') + el.title\n                el.url = $('#noLoading#').lazyRule((i) => {\n                    eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                    config = getConfig();\n                    config.data[i].inVisible = !config.data[i].inVisible;\n                    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                    refreshPage(false);\n                    return 'hiker://empty'\n                }, i)\n                break\n            case 'åˆ é™¤è®¢é˜…':\n                el.url = \"confirm://ç¡®è®¤åˆ é™¤â€œ\" + v.name + \"â€è®¢é˜…ï¼Ÿ.js:\" + $.toString((i) => {\n                    eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                    config = getConfig();\n                    config.data.splice(i, 1);\n                    writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                    refreshPage(false);\n                    return \"toast://å·²åˆ é™¤\";\n                }, i)\n                break\n            case 'é‡æ–°æ’åº':\n                let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\n                el.title = (sortFlag == i ? 'ğŸ”ƒ  ' : '') + el.title\n                if (sortFlag == -1)\n                    el.url = $('#noLoading#').lazyRule((i) => {\n                        putMyVar('sortFlag', i.toString())\n                        refreshPage(false)\n                        return 'toast://é€‰æ‹©è¦ç§»åŠ¨åˆ°çš„ä½ç½®'\n                    }, i)\n                else\n                    el.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\n                        eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                        config = getConfig();\n                        config.data.splice(newIndex, 0, config.data.splice(oldIndex, 1)[0])\n                        writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                        putMyVar('sortFlag', '-1')\n                        refreshPage(false)\n                        return 'hiker://empty'\n                    }, sortFlag, i)\n                break\n            case 'ç¼–è¾‘è®¢é˜…':\n                let arr = ['ç¼–è¾‘åç§°', 'ç¼–è¾‘åœ°å€', 'ç¼–è¾‘å†…å®¹'];\n                el.url = $(arr, 3).select((v, i) => {\n                    if (input == 'ç¼–è¾‘åç§°') {\n                        return $(v.name, 'è¾“å…¥æ–°åç§°').input((i) => {\n                            eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                            config = getConfig();\n                            if (input) {\n                                config.data[i].name = input\n                                writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                                refreshPage(false)\n                                return 'toast://ä¿®æ”¹æˆåŠŸ'\n                            } else {\n                                return 'toast://ä¸èƒ½ä¸ºç©º'\n                            }\n                        }, i);\n                    } else if (input == 'ç¼–è¾‘åœ°å€') {\n                        return $(v.ua ? v.url + '$$$' + v.ua : v.url, 'è¾“å…¥æ–°åœ°å€').input((i) => {\n                            eval(JSON.parse(request(\"hiker://page/config\")).rule);\n                            config = getConfig();\n                            if (input == \"\") {\n                                return \"toast://ä¸èƒ½ä¸ºç©º\"\n                            } else if (input.indexOf(\"http\") != 0 && input.indexOf(\"file\") != 0 && input.indexOf(\"hiker\") != 0) {\n                                return \"toast://é“¾æ¥æ ¼å¼æœ‰è¯¯\"\n                            } else {\n                                let [url,ua] = input.split('$$$');\n                                config.data[i].url = url;\n                                config.data[i].ua = ua;\n                                writeFile(\"hiker://files/rules/live/config.json\", JSON.stringify(config));\n                                refreshPage(false)\n                                return 'toast://ä¿®æ”¹æˆåŠŸ'\n                            }\n                        }, i);\n                    } else if (input == 'ç¼–è¾‘å†…å®¹') {\n                        if (v.url.startsWith('file://') || v.url.startsWith('hiker://files')) {\n                            return 'editFile://' + v.url;\n                        }\n                        return 'editFile://hiker://files/libs/' + md5(v.url) + '.js'\n                    }\n                }, v, i);\n                break;\n            case 'æ¸…é™¤ç¼“å­˜':\n                el.url = $('ç¡®å®šæ¸…é™¤â€œ' + v.name + 'â€è®¢é˜…ç¼“å­˜ï¼Ÿ\\n(å¯ç«‹å³æ›´æ–°)').confirm((url) => {\n                    deleteCache(url);\n                    return 'toast://æ¸…é™¤æˆåŠŸ'\n                }, v.url)\n                break;\n        }\n        d.push(el)\n    });\n    return d;\n}\n\n$.exports = {\n    renderSetting: renderSetting\n}"},{"col_type":"movie_3","name":"äº‘å£ä»¤","path":"cloud","rule":"eval(JSON.parse(request(\"hiker://page/batchIm?rule=èšç›´æ’­\")).rule);\nlet content = parsePaste(input);\nbatchImport(content, \"èšç›´æ’­\");"}],"title":"èšç›´æ’­","author":"å°æ£‰è¢„ğŸŒ&Joker","version":10,"type":"live","url":"hiker://empty","col_type":"icon_2_round","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\neval(JSON.parse(request(\"hiker://page/config\")).rule); //getConfig\n\nlet data = [],\n    config = getConfig();\nconfig.data = config.data.filter(v => !v.inVisible);\n\nif (config.data.length <= 0) {\n    data = $.require('hiker://page/renderSetting').renderSetting();\n} else {\n    let select = getItem(\"live-select\", config.data[0].name),\n        has = config.data.map(i => i.name).includes(select);\n    if (!has) {\n        select = config.data[0].name;\n    }\n\n    data.push({\n        title: 'èšç›´æ’­'.bold() + ' &nbsp &nbsp ' + 'âš™ èšç›´æ’­è®¾ç½® âš™'.small(),\n        col_type: \"avatar\",\n        pic_url: MY_RULE.icon,\n        url: $(\"hiker://empty#noLoading#\").rule(() => {\n            addListener('onClose', 'refreshPage()')\n            setResult($.require('hiker://page/renderSetting').renderSetting())\n        })\n    })\n\n    data.push({\n        title: 'æœç´¢',\n        desc: 'è¯·è¾“å…¥æœç´¢å…³é”®è¯',\n        extra: {\n            defaultValue: getVar('search_key', ''),\n            onChange: 'putVar(\"search_key\",input)'\n        },\n        col_type: 'input',\n        url: $.toString(() => {\n            return 'hiker://search?rule=' + getMyVar('title') + '&s=' + getVar('search_key', '')\n        })\n    })\n\n\n\n    for (source of config.data) {\n        data.push({\n            title: source.name == select ? \"â€œâ€œâ€â€<span style='color: #19B89D'>\" + select + \"</span>\" : source.name,\n            col_type: \"scroll_button\",\n            url: $('#noLoading#').lazyRule((a) => {\n                setItem(\"live-select\", a);\n                setItem('selectGroup', '');\n                refreshPage();\n                return \"hiker://empty\"\n            }, source.name)\n        })\n    }\n\n    data.push({\n        col_type: 'blank_block'\n    })\n    \n    if (typeof(setPreResult) != \"undefined\") {\n        data.push({\n            pic_url: \"https://hikerfans.com/weisyr/img/Loading1.gif\",\n            col_type: \"pic_1_center\",\n            extra: {\n                cls: \"loading_gif\"\n            }\n       })\n       setPreResult(data);\n       data = [];\n    }\n\n    for (source of config.data) {\n        if (source.name == select) {\n            try {\n                let items = $.require('hiker://page/renderData').renderLiveData(source.url,source.ua);\n                let groups = Object.keys(items);\n                //groups.push(groups.splice(groups.indexOf(0), 1)[0]);\n                let selectGroup = getItem('selectGroup', groups[0]);\n                if (selectGroup == \"\" || !groups.includes(selectGroup)) selectGroup = groups[0];\n                groups.forEach((group) => {\n                    if (group) {\n                        data.push({\n                            title: group == selectGroup ? \"â€œâ€œâ€â€<span style='color: #19B89D'>\" + group + \"</span>\" : group,\n                            url: $('#noLoading#').lazyRule((group) => {\n                                setItem('selectGroup', group);\n                                refreshPage();\n                                return 'hiker://empty'\n                            }, group),\n                            col_type: 'scroll_button',\n                            extra: {\n                                lineVisible: false\n                            }\n                        })\n                    }\n                })\n                \n                for (let title in items[selectGroup]) {\n                    data.push({\n                        title: title,\n                        url: $().lazyRule((sourceurl,selectGroup,title) => {\n                            let items = $.require('hiker://page/renderData').renderLiveData(sourceurl);\n                            let surls = items[selectGroup][title].url;\n                            let sheaders = items[selectGroup][title].headers;\n                            for (let groupi in items){\n                                let group = items[groupi];\n                                if(!group) continue;\n                                for (let ititle in group){\n                                    if(ititle == title && !!group[ititle]){\n                                        let urls = group[ititle].url;\n                                        let headers = group[ititle].headers;\n                                       surls = surls.concat(urls);\n                                       sheaders = sheaders.concat(headers);\n                                    }\n                                }\n                            }\n                            surls = Array.from(new Set(surls));\n                            sheaders = Array.from(new Set(sheaders));\n                            return JSON.stringify({\n                                urls: surls,\n                                headers: sheaders\n                            })\n                        },source.url,selectGroup,title),\n                        //col_type: 'text_3',\n                        img: \"https://hikerfans.com/tubiao/more/228.png\"\n                    })\n                }\n            } catch (e) {\n                data.push({\n                    title: \"æ•°æ®åŠ è½½å¤±è´¥\\n\" + JSON.stringify(e),\n                    col_type: \"long_text\"\n                })\n            }\n            break;\n        }\n    }\n    deleteItemByCls(\"loading_gif\");\n}\nsetResult(data);","searchFind":"js:\neval(JSON.parse(request(\"hiker://page/config\")).rule);\nlet config = getConfig();\nlet rules = config.data.map((source) => {\n    return {\n        title: source.name,\n        search_url: 'hiker://empty?key=**',\n        searchFind: 'js:' + $.toString((url, rule_title) => {\n            let d = [],\n                key = getParam('key');\n            let items = $.require('hiker://page/renderData?rule=' + rule_title).renderLiveData(url);\n            for (let group in items) {\n                for (let title in items[group]) {\n                    if (title.indexOf(key) >= 0 || title.toLowerCase().indexOf(key) >= 0) {\n                        d.push({\n                            title: title,\n                            url: JSON.stringify({\n                                urls: items[group][title].url,\n                                headers: items[group][title].headers\n                            })\n                        })\n                    }\n                }\n            }\n            setResult(d);\n        }, source.url, getMyVar('title'))\n    };\n})\nsetResult([{\n    title: \"ç‚¹æˆ‘å¼€å§‹èšæœ\",\n    url: \"hiker://search?s=\" + getParam(\"key\"),\n    extra: {\n        rules: $.toString((rules) => {\n            return JSON.stringify(rules)\n        }, rules)\n    }\n}])","search_url":"hiker://empty?key=**","group":"â‘¥ç›´æ’­","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"putMyVar('title',MY_RULE.title);","pages":"[{\"col_type\":\"movie_3\",\"name\":\"åŠ è½½æ•°æ®\",\"path\":\"config\",\"rule\":\"function getConfig() {\\n    try {\\n        let config = fetch(\\\"hiker://files/rules/live/config.json\\\");\\n        if (!config || config == \\\"\\\") {\\n            return {\\n                data: [],\\n                version: 0\\n            }\\n        } else {\\n            return JSON.parse(config)\\n        }\\n    } catch (e) {\\n        try {\\n            toast(\\\"é…ç½®æ–‡ä»¶æ ¼å¼æœ‰è¯¯\\\")\\n        } catch (e) {}\\n        return {\\n            data: [],\\n            version: 0\\n        }\\n    }\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"æ‰¹é‡å¯¼å…¥\",\"path\":\"batchIm\",\"rule\":\"function batchImport(input, rule) {\\n    input = input.trim();\\n    if (input.length < 3 || input[0] != \\\"{\\\") {\\n        return \\\"toast://è¯·è¾“å…¥æ­£ç¡®çš„æ ¼å¼\\\"\\n    }\\n    let im = JSON.parse(input);\\n    if (im.data == null || im.data.length < 1) {\\n        return \\\"toast://è¯·è¾“å…¥æ­£ç¡®çš„æ ¼å¼\\\"\\n    }\\n    eval(JSON.parse(request(\\\"hiker://page/config?rule=\\\" + rule)).rule);\\n    let config = getConfig();\\n    let count = 0;\\n    let all = config.data.map(it => it.url + \\\"&&&\\\").join();\\n    for (let i of im.data) {\\n        if (all.indexOf(i.url + \\\"&&&\\\") >= 0) {\\n            //é‡å¤çš„ä¸è¦\\n            continue;\\n        }\\n        count++;\\n        config.data.push(i)\\n    }\\n    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n    refreshPage();\\n    return \\\"toast://å·²å¯¼å…¥\\\" + count + \\\"æ¡è®¢é˜…æº\\\";\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"ç›´æ’­æ•°æ®\",\"path\":\"renderData\",\"rule\":\"function renderLiveData(url,ua) {\\n    let m3u = \\\"\\\";\\n    if (url.startsWith('hiker://') || url.startsWith('file://')) {\\n        m3u = fetch(url);\\n    } else {\\n        let interval = Number(getItem('interval', '24')),\\n            oldData = fetch('hiker://files/libs/' + md5(url) + '.js'),\\n            remoteData = '';\\n        try {\\n            remoteData = fetchCache(url, interval, {\\n                headers:{\\n                    'User-Agent' : ua || MOBILE_UA\\n                },\\n                timeout: 50000\\n            });\\n        } catch (e) {}\\n        if (!remoteData.includes('http') || remoteData.includes('<body>')) { \\n            log('æ›´æ–°å¤±è´¥');\\n            if (oldData) writeFile('hiker://files/libs/' + md5(url) + '.js', oldData);\\n            m3u = oldData;\\n        } else {\\n            m3u = remoteData;\\n        }\\n    }\\n\\n    let mode =  m3u.indexOf('#EXTM3U') == 0 , re;\\n    if(mode){\\n        re = /(.*),(.*)\\\\s*?((?:http|rtmp)[^#\\\\s]*)/g;\\n    }else{\\n        re = /()(?:\\\\B\\\\$c_start|\\\\B#{1,2})?(.*?),?(##|å¤´#|\\\\$c_end|,?#genre#|(?:http|rtmp)[^\\\\s]*)/g;\\n    }\\n        \\n    let items = {},\\n        group = 'æœªåˆ†ç»„';\\n    for (let i = re.exec(m3u); i != null; i = re.exec(m3u)) {\\n        if (mode) {\\n            group = (i[1].match(/group-title=\\\"(.*?)\\\"/) || [null, group])[1];\\n        } else if (['#genre#','##','å¤´#','$c_end'].includes(i[3])) {\\n            group = i[2];\\n            continue;\\n        }\\n        let title = i[2],\\n            url = i[3].includes('#') ? i[3].split('#') : [i[3]],\\n            headers = [];\\n        if(!url[url.length-1]) url.pop();\\n        url.forEach((v,index,array)=>{\\n            if(/;\\\\{(.*)\\\\}/.test(v)){\\n                let obj = {},\\n                     con = v.match(/;\\\\{(.*)\\\\}/)[1],\\n                     arr = con.split('&&');\\n                arr.forEach((i)=>{\\n                    let [key,value] = i.split('@');\\n                    obj[key] = value.replace(/;/g,'ï¼›ï¼›');\\n                })\\n                array[index] = v.match(/^([^;]*);\\\\{/)[1]\\n                headers.push(obj);\\n            }else{\\n                headers.push({'User-Agent' : MOBILE_UA.replace(/;/g,'ï¼›ï¼›')});\\n            }\\n            array[index] = array[index].replace(/;/g,'ï¼›ï¼›')+'#isVideo=true#';\\n        });\\n        if (items[group]) {\\n            if (items[group][title]) {\\n                items[group][title].url = items[group][title].url.concat(url);\\n                items[group][title].headers = items[group][title].headers.concat(headers);\\n            } else {\\n                items[group][title] = {url:url,headers:headers};\\n            }\\n        } else {\\n            items[group] = {};\\n            items[group][title] = {url:url,headers:headers};\\n        };\\n    }\\n    return items;\\n}\\n\\n$.exports = {\\n    renderLiveData: renderLiveData\\n}\\n\"},{\"col_type\":\"movie_3\",\"name\":\"è®¾ç½®é¡µ\",\"path\":\"renderSetting\",\"rule\":\"function renderSetting() {\\n    function getColoredText(text) {\\n        return 'â€œâ€œâ€â€<span style=\\\"color: #19B89D\\\">' + text + '</span>';\\n    }\\n    const d = [];\\n    let interval = getItem('interval', '24');\\n    d.push({\\n        title: interval == -1 ? 'å·²ç¦æ­¢è‡ªåŠ¨æ›´æ–°'.fontcolor(\\\"#19B89D\\\").bold() : ('æ›´æ–°é—´éš”:' + interval + 'å°æ—¶').fontcolor(\\\"#19B89D\\\").bold(),\\n        url: $(interval, 'è¾“å…¥nä¸ºæ­£æ•´æ•°æ—¶ï¼Œæ¯éš”nå°æ—¶è‡ªåŠ¨æ›´æ–°\\\\nä¸º0æ—¶ï¼Œæ¯æ¬¡æ‰“å¼€éƒ½ä¼šæ›´æ–°\\\\nä¸º-1æ—¶ï¼Œç¦æ­¢è‡ªåŠ¨æ›´æ–°').input(() => {\\n            if (parseInt(input) >= -1) {\\n                setItem('interval', input);\\n            }\\n            refreshPage();\\n            return 'hiker://empty'\\n        }),\\n        pic_url: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fis4.mzstatic.com%2Fimage%2Fthumb%2FPurple3%2Fv4%2Fdf%2Ff6%2Fda%2Fdff6da83-47d7-9cb6-2398-1919c13837b4%2Fmzl.kgmnwodo.png%2F0x0ss-85.jpg&refer=http%3A%2F%2Fis4.mzstatic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638629349&t=2f6d967185fe2b9c54e8b230eb83e66c',\\n        col_type: \\\"avatar\\\"\\n    });\\n\\n    d.push({\\n        col_type: \\\"big_blank_block\\\"\\n    });\\n\\n    d.push({\\n        title: getColoredText(\\\"æ–°å»ºè®¢é˜…\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        desc: \\\"è¯·è¾“å…¥ç›´æ’­æºè®¢é˜…åœ°å€\\\",\\n        url: $('', 'è¯·è¾“å…¥è®¢é˜…åœ°å€\\\\nå¯ä»¥åœ¨åœ°å€ååŠ ua\\\\n(ä½¿ç”¨$$$åˆ†å‰²)').input((rule) => {\\n            if (input == \\\"\\\") {\\n                return \\\"toast://ä¸èƒ½ä¸ºç©º\\\"\\n            } else if (input.indexOf(\\\"http\\\") != 0 && input.indexOf(\\\"file\\\") != 0 && input.indexOf(\\\"hiker\\\") != 0) {\\n                return \\\"toast://é“¾æ¥æ ¼å¼æœ‰è¯¯\\\"\\n            } else {\\n                let [url,ua] = input.split('$$$');\\n                return $('', \\\"è¯·è¾“å…¥è®¢é˜…æ ‡é¢˜\\\").input((url, rule,ua) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config?rule=\\\" + rule)).rule);\\n                    let config = getConfig();\\n                    config.data.push({\\n                        name: input,\\n                        url: url,\\n                        ua: ua || ''\\n                    });\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage();\\n                    return \\\"toast://å·²ä¿å­˜\\\";\\n                }, url, rule,ua)\\n            }\\n        }, getMyVar('title'))\\n    });\\n\\n    d.push({\\n        title: getColoredText(\\\"å¯¼å…¥è®¢é˜…\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: $('', 'æ”¯æŒåŸå§‹æ•°æ®å’Œäº‘å‰ªè´´æ¿åˆ†äº«é“¾æ¥').input((rule) => {\\n            eval(JSON.parse(request(\\\"hiker://page/batchIm?rule=\\\" + rule)).rule);\\n            if (input.startsWith('èšç›´æ’­åˆ†äº«##')) {\\n                input = parsePaste(input.split('##\\\\n')[1]);\\n            }\\n            return batchImport(input, rule);\\n        }, getMyVar('title'))\\n    });\\n    d.push({\\n        title: getColoredText(\\\"å¯¼å…¥æœ¬åœ°æº\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        desc: \\\"è¯·è¾“å…¥ç›´æ’­æºåç§°\\\",\\n        url: $('', 'è¯·è¾“å…¥ç›´æ’­æºåç§°').input((rule) => {\\n            if (input == \\\"\\\") {\\n                return \\\"toast://ä¸èƒ½ä¸ºç©º\\\"\\n            } else {\\n                return \\\"fileSelect://\\\" + $.toString((name) => {\\n                    let s = input.split(\\\"/\\\")\\n                    var url = \\\"hiker://files/cache/live/\\\" + name + \\\".m3u\\\"\\n                    var c = fetch(\\\"hiker://files/cache/\\\" + s[s.length - 1])\\n                    if (!c.includes('http')) {\\n                        return 'toast://éæ³•æ–‡ä»¶'\\n                    }\\n                    writeFile(url, c)\\n                    eval(JSON.parse(request(\\\"hiker://page/config?rule=èšç›´æ’­\\\")).rule);\\n                    let config = getConfig();\\n                    config.data.push({\\n                        name: name,\\n                        url: url\\n                    });\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage();\\n                    return 'toast://å·²ä¿å­˜'\\n                }, input)\\n            }\\n        })\\n    });\\n    d.push({\\n        title: getColoredText(\\\"åˆ†äº«è®¢é˜…\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: $([\\\"åŸå§‹æ•°æ®\\\", \\\"äº‘å‰ªè´´æ¿\\\", \\\"äº‘å£ä»¤\\\"], 3).select(() => {\\n            return $('ç¡®å®šå¯¼å‡ºï¼Ÿ\\\\n(ç¦ç”¨è®¢é˜…ä¸ä¼šå¯¼å‡º)').confirm((type) => {\\n                eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                config = getConfig();\\n                config.data = config.data.filter(v => !v.inVisible);\\n                if (type == \\\"äº‘å‰ªè´´æ¿\\\") {\\n                    var data = 'èšç›´æ’­åˆ†äº«##\\\\n' + sharePaste(JSON.stringify(config));\\n                } else if (type == \\\"äº‘å£ä»¤\\\") {\\n                    var data = 'èšç›´æ’­åˆ†äº«,å¤åˆ¶åæ‰“å¼€è½¯ä»¶å³å¯å¯¼å…¥\\\\n' + sharePaste(JSON.stringify(config)) + '@import=js:eval(JSON.parse(fetch(\\\"hiker://page/cloud?rule=èšç›´æ’­\\\")).rule)';\\n                } else {\\n                    var data = JSON.stringify(config);\\n                }\\n                return \\\"copy://\\\" + data;\\n            }, input)\\n        })\\n    });\\n    d.push({\\n        title: getColoredText(\\\"ç¼–è¾‘å…¨éƒ¨\\\"),\\n        col_type: \\\"scroll_button\\\",\\n        url: \\\"editFile://hiker://files/rules/live/config.json\\\"\\n    });\\n\\n    d.push({\\n        col_type: \\\"blank_block\\\"\\n    });\\n\\n    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n    config = getConfig();\\n    let editMode = getMyVar('editMode', 'å¯ç”¨ç¦ç”¨');\\n    ['å¯ç”¨ç¦ç”¨', 'åˆ é™¤è®¢é˜…', 'é‡æ–°æ’åº', 'ç¼–è¾‘è®¢é˜…', 'æ¸…é™¤ç¼“å­˜'].forEach((v) => {\\n        d.push({\\n            title: v == editMode ? 'â€œâ€œâ€â€' + v.bold().fontcolor('#19B89D') : v,\\n            url: v == editMode ? 'hiker://empty' : $('#noLoading#').lazyRule((v) => {\\n                putMyVar('editMode', v)\\n                refreshPage(false)\\n                return 'hiker://empty'\\n            }, v),\\n            col_type: 'scroll_button'\\n        })\\n    });\\n    config.data.forEach((v, i) => {\\n        let el = {\\n            title: v.name,\\n            col_type: \\\"text_3\\\"\\n        }\\n        switch (editMode) {\\n            case 'å¯ç”¨ç¦ç”¨':\\n                el.title = (v.inVisible ? 'ğŸ”´ ' : 'ğŸŸ¢ ') + el.title\\n                el.url = $('#noLoading#').lazyRule((i) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                    config = getConfig();\\n                    config.data[i].inVisible = !config.data[i].inVisible;\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage(false);\\n                    return 'hiker://empty'\\n                }, i)\\n                break\\n            case 'åˆ é™¤è®¢é˜…':\\n                el.url = \\\"confirm://ç¡®è®¤åˆ é™¤â€œ\\\" + v.name + \\\"â€è®¢é˜…ï¼Ÿ.js:\\\" + $.toString((i) => {\\n                    eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                    config = getConfig();\\n                    config.data.splice(i, 1);\\n                    writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                    refreshPage(false);\\n                    return \\\"toast://å·²åˆ é™¤\\\";\\n                }, i)\\n                break\\n            case 'é‡æ–°æ’åº':\\n                let sortFlag = parseInt(getMyVar('sortFlag', '-1'))\\n                el.title = (sortFlag == i ? 'ğŸ”ƒ  ' : '') + el.title\\n                if (sortFlag == -1)\\n                    el.url = $('#noLoading#').lazyRule((i) => {\\n                        putMyVar('sortFlag', i.toString())\\n                        refreshPage(false)\\n                        return 'toast://é€‰æ‹©è¦ç§»åŠ¨åˆ°çš„ä½ç½®'\\n                    }, i)\\n                else\\n                    el.url = $('#noLoading#').lazyRule((oldIndex, newIndex) => {\\n                        eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                        config = getConfig();\\n                        config.data.splice(newIndex, 0, config.data.splice(oldIndex, 1)[0])\\n                        writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                        putMyVar('sortFlag', '-1')\\n                        refreshPage(false)\\n                        return 'hiker://empty'\\n                    }, sortFlag, i)\\n                break\\n            case 'ç¼–è¾‘è®¢é˜…':\\n                let arr = ['ç¼–è¾‘åç§°', 'ç¼–è¾‘åœ°å€', 'ç¼–è¾‘å†…å®¹'];\\n                el.url = $(arr, 3).select((v, i) => {\\n                    if (input == 'ç¼–è¾‘åç§°') {\\n                        return $(v.name, 'è¾“å…¥æ–°åç§°').input((i) => {\\n                            eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                            config = getConfig();\\n                            if (input) {\\n                                config.data[i].name = input\\n                                writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                                refreshPage(false)\\n                                return 'toast://ä¿®æ”¹æˆåŠŸ'\\n                            } else {\\n                                return 'toast://ä¸èƒ½ä¸ºç©º'\\n                            }\\n                        }, i);\\n                    } else if (input == 'ç¼–è¾‘åœ°å€') {\\n                        return $(v.ua ? v.url + '$$$' + v.ua : v.url, 'è¾“å…¥æ–°åœ°å€').input((i) => {\\n                            eval(JSON.parse(request(\\\"hiker://page/config\\\")).rule);\\n                            config = getConfig();\\n                            if (input == \\\"\\\") {\\n                                return \\\"toast://ä¸èƒ½ä¸ºç©º\\\"\\n                            } else if (input.indexOf(\\\"http\\\") != 0 && input.indexOf(\\\"file\\\") != 0 && input.indexOf(\\\"hiker\\\") != 0) {\\n                                return \\\"toast://é“¾æ¥æ ¼å¼æœ‰è¯¯\\\"\\n                            } else {\\n                                let [url,ua] = input.split('$$$');\\n                                config.data[i].url = url;\\n                                config.data[i].ua = ua;\\n                                writeFile(\\\"hiker://files/rules/live/config.json\\\", JSON.stringify(config));\\n                                refreshPage(false)\\n                                return 'toast://ä¿®æ”¹æˆåŠŸ'\\n                            }\\n                        }, i);\\n                    } else if (input == 'ç¼–è¾‘å†…å®¹') {\\n                        if (v.url.startsWith('file://') || v.url.startsWith('hiker://files')) {\\n                            return 'editFile://' + v.url;\\n                        }\\n                        return 'editFile://hiker://files/libs/' + md5(v.url) + '.js'\\n                    }\\n                }, v, i);\\n                break;\\n            case 'æ¸…é™¤ç¼“å­˜':\\n                el.url = $('ç¡®å®šæ¸…é™¤â€œ' + v.name + 'â€è®¢é˜…ç¼“å­˜ï¼Ÿ\\\\n(å¯ç«‹å³æ›´æ–°)').confirm((url) => {\\n                    deleteCache(url);\\n                    return 'toast://æ¸…é™¤æˆåŠŸ'\\n                }, v.url)\\n                break;\\n        }\\n        d.push(el)\\n    });\\n    return d;\\n}\\n\\n$.exports = {\\n    renderSetting: renderSetting\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"äº‘å£ä»¤\",\"path\":\"cloud\",\"rule\":\"eval(JSON.parse(request(\\\"hiker://page/batchIm?rule=èšç›´æ’­\\\")).rule);\\nlet content = parsePaste(input);\\nbatchImport(content, \\\"èšç›´æ’­\\\");\"}]","proxy":"","icon":"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fis4.mzstatic.com%2Fimage%2Fthumb%2FPurple3%2Fv4%2Fdf%2Ff6%2Fda%2Fdff6da83-47d7-9cb6-2398-1919c13837b4%2Fmzl.kgmnwodo.png%2F0x0ss-85.jpg&refer=http%3A%2F%2Fis4.mzstatic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1638629349&t=2f6d967185fe2b9c54e8b230eb83e66c"}