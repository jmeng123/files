{"last_chapter_rule":"","pageList":[{"col_type":"text_1","name":"è®¾ç½®","path":"settings","rule":"js:\nvar d = [];\nd.push({\n    desc: \"webdavåœ°å€\",\n    col_type: \"input\",\n    extra: {\n        defaultValue: getItem(\"dav\", \"\"),\n        titleVisible: false,\n        onChange: $.toString(() => {\n            if (input[input.length - 1] == \"/\") {\n                url = input.substring(0, input.length - 1)\n                setItem(\"dav\", url)\n            } else {\n                setItem(\"dav\", input)\n            }\n        })\n    }\n})\nd.push({\n    desc: \"è´¦æˆ·\",\n    col_type: \"input\",\n    extra: {\n        defaultValue: getItem(\"user\", \"\"),\n        titleVisible: false,\n        onChange: $.toString(() => {\n            setItem(\"user\", input)\n        })\n    }\n})\nd.push({\n    desc: \"å¯†ç \",\n    col_type: \"input\",\n    extra: {\n        defaultValue: getItem(\"passwd\", \"\"),\n        titleVisible: false,\n        type: \"password\",\n        onChange: $.toString(() => {\n            setItem(\"passwd\", input)\n        })\n    }\n})\nd.push({\n    title: \"æµ‹è¯•è¿æ¥\",\n    url: $().lazyRule(() => {\n        const {\n            getFiles\n        } = $.require(\"hiker://page/code\")\n        if (getFiles(getItem(\"dav\") + \"/\")) {\n            return \"toast://è¿æ¥æˆåŠŸ\"\n        } else {\n            return \"toast://è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥è´¦æˆ·å¯†ç \"\n        }\n    }),\n    col_type: \"text_center_1\"\n})\nlet icon = getItem(\"iconStyle\", \"é»˜è®¤\")\nlet detail = getItem(\"detail\", \"å¼€\")\nlet subtitle = getItem(\"subtitle\", \"å¼€\")\nlet timestamp = getItem(\"time\", \"0\")\nlet newVersion;\nlet myVersion = MY_PARAMS.version || 999;\ntry {\n    res = JSON.parse(fetch(\"http://hiker.nokia.press/hikerule/dev/getbyid?id=5210\"))\n    newVersion = res.result.ver\n} catch (e) {\n    toast(\"é“é•¿ä»“åº“æŠ½é£äº†ï¼Œæœ¬æ¬¡æœªæ£€æµ‹åˆ°æ–°ç‰ˆä¿¡æ¯\");\n    newVersion = myVersion;\n}\nlet isUpdate = Number(newVersion) <= Number(myVersion);\nlet isVer = Number(newVersion) === Number(myVersion);\nd.push({\n    col_type: \"line_blank\"\n}, {\n    title: isUpdate ? \"å·²æ˜¯æœ€æ–°ç‰ˆ\" : \"ğŸ†™æ–°ç‰ˆæœ¬\",\n    url: \"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQV2ViZGF244CR77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTUyMTAmYXV0aD1hYjIzMDUyYi1jMGQ2LTU4ZmMtOTU1NS1hMjUwMmEwMGEzODc=\",\n    col_type: \"text_2\"\n}, {\n    title: \"æ˜¾ç¤ºè¯¦ç»†ï¼š\" + detail,\n    url: $().lazyRule((detail) => {\n        setItem(\"detail\", detail == \"å¼€\" ? \"å…³\" : \"å¼€\")\n        refreshPage()\n        return \"hiker://empty\"\n    }, detail),\n    col_type: \"text_2\"\n}, {\n    title: \"å­—å¹•åŠŸèƒ½ï¼š\" + subtitle,\n    url: $().lazyRule((subtitle) => {\n        setItem(\"subtitle\", subtitle == \"å¼€\" ? \"å…³\" : \"å¼€\")\n        refreshPage()\n        return \"hiker://empty\"\n    }, subtitle),\n    col_type: \"text_2\"\n}, {\n    title: \"æ—¶é—´æ ¼å¼ï¼š\" + (timestamp == \"0\" ? \"2022/08/20 17:14:31\" : \"Sat, 20 Aug 2022 09:14:31 GMT\"),\n    url: $().lazyRule((timestamp) => {\n        setItem(\"time\", timestamp == \"0\" ? \"1\" : \"0\")\n        refreshPage()\n        return \"hiker://empty\"\n    }, timestamp),\n    col_type: \"text_1\"\n}, {\n    url: $().rule(() => {\n        setResult([{\n            title: `\n            <p>æœ¬ç¯‡æ–‡ç« åªé’ˆå¯¹è®¾ç½®ï¼Œå…¶ä»–çš„ä½¿ç”¨æ–¹æ³•å·²ç»åœ¨è§„åˆ™ä¸­è¯´æ˜æ¸…é™¤äº†</p> <p><ins><ins>å‰ææ¡ä»¶ï¼šå·²ç»æ›´æ–°7.9ç‰ˆæœ¬</ins></ins></p> <p>æµ·é˜”è§†ç•Œé¦–é¡µé¢‘é“è§„åˆ™ã€Webdavã€‘ï¿¥home_rule_urlï¿¥http://hiker.nokia.press/hikerule/rulelist.json?id=5210&amp;auth=ab23052b-c0d6-58fc-9555-a2502a00a387</p> <h1 id=\"webdav%E6%98%AF%E4%BB%80%E4%B9%88\" tabindex=\"-1\">Webdavæ˜¯ä»€ä¹ˆ</h1> <p>webdavå°±æ˜¯ä¸€ç§ç½‘ç›˜æ–‡ä»¶ä¼ è¾“åè®®ï¼Œå¸¸ç”¨äºå°ä¼—è½¯ä»¶çš„æ•°æ®å¤‡ä»½ã€‚æœ¬è§„åˆ™å¯ä»¥ç®¡ç†webdavçš„æ–‡ä»¶ï¼Œæ”¯æŒæµè§ˆã€æ’­æ”¾ã€ä¸‹è½½ã€ä¸Šä¼ ã€åˆ é™¤ç­‰æ“ä½œ</p> <h1 id=\"%E6%89%93%E5%BC%80%E8%AE%BE%E7%BD%AE\" tabindex=\"-1\">æ‰“å¼€è®¾ç½®</h1> <p><img src=\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_082550_com.example.hikerview.jpg\" alt=\"Screenshot_20220821_082550_com.example.hikerview\" /></p> <p>å°†ä½ çš„webdavé“¾æ¥å’Œè´¦æˆ·å¯†ç å¡«è¿›å»ï¼ˆè¿™é‡Œæ¨èä½¿ç”¨åšæœäº‘ï¼Œä¼˜ç‚¹:ç¨³å®š;ç¼ºç‚¹:å®¹é‡å°‘ï¼Œä»·æ ¼è´µã€‚ä¹Ÿå¯ä»¥è‡ªå·±æ­å»ºwebdavç³»ç»Ÿï¼Œä¾‹å¦‚alistå’Œcloudreveï¼Œéœ€è¦ä¸€å®šçš„åŠ¨æ‰‹èƒ½åŠ›ï¼‰</p> <h2 id=\"%E8%AE%BE%E7%BD%AE%E5%9B%BE%E6%A0%87\" tabindex=\"-1\">è®¾ç½®å›¾æ ‡</h2> <p>æœ¬è§„åˆ™å†…ç½®ä¸¤ç§é£æ ¼çš„å›¾æ ‡ï¼Œåˆ†åˆ«ä¸ºé“é•¿çš„å’Œè“è“çš„ï¼Œè‡ªå·±é€‰æ‹©</p> <h2 id=\"%E6%98%BE%E7%A4%BA%E8%AF%A6%E7%BB%86\" tabindex=\"-1\">æ˜¾ç¤ºè¯¦ç»†</h2> <p>å¯ä»¥åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ã€‚<br /> <strong><strong>é—®é¢˜ï¼š</strong></strong><br /> ä¸èƒ½è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é›†</p> <h2 id=\"%E5%AD%97%E5%B9%95\" tabindex=\"-1\">å­—å¹•</h2> <p>å­—å¹•åŠŸèƒ½å¦‚æœæ‰“å¼€ï¼Œé‚£ä¹ˆå¦‚æœè§†é¢‘ä¸å­—å¹•çš„æ–‡ä»¶åç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨æŒ‚è½½ä¸Šã€‚å¦‚æœå½“å‰æ–‡ä»¶å¤¹æœ‰è¿™ä¸ªå­—å¹•æ–‡ä»¶ï¼Œä½†æ˜¯åå­—ä¸åŒï¼Œå°±ä¼šè·³å‡ºé€‰æ‹©æ¡†é€‰æ‹©</p> <h1 id=\"%E8%BF%94%E5%9B%9E%E4%B8%BB%E7%95%8C%E9%9D%A2\" tabindex=\"-1\">è¿”å›ä¸»ç•Œé¢</h1> <p><img src=\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_140705_com.example.hikerview.jpg\" alt=\"Screenshot_20220821_140705_com.example.hikerview\" /><br /> å¯ä»¥çœ‹è§æœ‰æ“ä½œæ ï¼Œå¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œæ–°å»ºæ–‡ä»¶å¤¹å’Œåˆ é™¤æ–‡ä»¶ä¸‰ä¸ªæ“ä½œ</p> <p>ä¸‹é¢æ˜¯ä½ çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥åƒæµè§ˆæ–‡ä»¶ç®¡ç†å™¨ä¸€æ ·ä½¿ç”¨ä»–</p> <h1 id=\"%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE\" tabindex=\"-1\">é«˜çº§è®¾ç½®</h1> <p>ç‚¹å‡»ç¼–è¾‘è§„åˆ™ï¼Œåˆ’åˆ°åº•éƒ¨çš„é¢„å¤„ç†<br /> <img src=\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_141135_com.example.hikerview.jpg\" alt=\"Screenshot_20220821_141135_com.example.hikerview\" /><br /> æ ¹æ®æ³¨é‡Šä¿®æ”¹ï¼Œæˆ‘å†™çš„å‡ ä¸ªæ–‡ä»¶æ ¼å¼å·²ç»å¾ˆå®Œæ•´äº†ï¼Œå¦‚æœæœ‰æœ‹å‹è®¤ä¸ºä¸å¥½ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹<br /> æ ¼å¼ï¼š[â€œç±»å‹1â€,â€œç±»å‹2â€]</p> <p>éƒ½å®Œæˆäº†ï¼ŒenjoyğŸ’</p>\n            `,\n            col_type: \"rich_text\"\n        }])\n    }),\n    title: \"æŸ¥çœ‹ä½¿ç”¨è¯´æ˜\",\n    desc: \"Powered by Joe&å°æ£‰è¢„\",\n    col_type: \"text_center_1\",\n    extra: {\n        lineVisible: false\n    }\n})\nsetResult(d);"},{"col_type":"movie_3","name":"ä»£ç ","path":"code","rule":"$.exports.getFiles = function(path) {\n    try {\n        if (!path || path == \"\") {\n            return false\n        }\n        let webdav = buildWebDav(path, getItem(\"user\", \"\"), getItem(\"passwd\", \"\"))\n        let res = webdav.list()\n        res = JSON.parse(res)\n        return res\n    } catch (e) {\n        log(e.message)\n        return false\n    }\n}\n$.exports.fetchFile = function(path) {\n    let res = request(path, {\n        headers: {\n            \"authorization\": \"Basic \" + base64Encode(getItem(\"user\") + \":\" + getItem(\"passwd\"))\n        }\n    })\n    return res\n}\n$.exports.getIcon = function(content) {\n    if (content.dir) {\n        img = \"https://hikerfans.com/tubiao/more/274.png\"\n    } else {\n        let fileName = content.name.toLowerCase()\n        let hzm = $.require(\"code\").getHzm(fileName)\n        if (content.thumb && content.type != 0) {\n            img = content.thumb\n        } else if ($.movie.includes(hzm)) {\n            img = \"https://hikerfans.com/tubiao/more/30.png\"\n        } else if ($.audio.includes(hzm)) {\n            img = \"https://hikerfans.com/tubiao/more/40.png\"\n        } else if ($.text.includes(hzm)) {\n            img = \"https://hikerfans.com/tubiao/more/78.png\"\n        } else if ($.img.includes(hzm)) {\n            img = content.url + \"@headers=\" + JSON.stringify({\n                \"authorization\": \"Basic \" + base64Encode(getItem(\"user\") + \":\" + getItem(\"passwd\"))\n            })\n        } else if ($.yasuo.includes(hzm)) {\n            img = \"https://hikerfans.com/tubiao/more/201.png\"\n        } else if ($.office.includes(hzm)) {\n            img = \"https://hikerfans.com/tubiao/more/185.png\"\n        } else {\n            img = \"https://hikerfans.com/tubiao/more/239.png\"\n        }\n    }\n    return img\n}\n$.exports.getHzm = function(fileName) {\n    return fileName.substr(fileName.lastIndexOf(\".\") + 1)\n}\n$.exports.removeExt = function(file) {\n    return file.split('.').slice(0, -1).join('.')\n};\n$.exports.getSub = function(list) {\n    const {\n        getHzm\n    } = $.require(\"hiker://page/code\")\n    let s = []\n    list.forEach(item => {\n        if ($.subtitle.includes(getHzm(item.name))) {\n            s.push({\n                title: item.name,\n                url: item.url\n            })\n        }\n    })\n    return s\n}\n$.exports.download = function(path, name) {\n    let webdav = buildWebDav(path, getItem(\"user\", \"\"), getItem(\"passwd\", \"\"))\n    let p = \"hiker://files/cache/_fileSelect_\" + name;\n    webdav.download(name, p);\n    return getPath(p);\n}\n$.exports.deleteFile = function(path, name) {\n    let webdav = buildWebDav(path, getItem(\"user\", \"\"), getItem(\"passwd\", \"\"))\n    webdav.delete(name)\n}\n$.exports.rename = function(path, oldname, newname) {\n    toast(\"æš‚æœªæ”¯æŒ\")\n}\n$.exports.sorts = function(list, method) {\n    if (method.includes(\"åç§°\")) {\n        list.sort(function(a, b) {\n            return a.name.localeCompare(b.name)\n        })\n    } else if (method.includes(\"æ—¶é—´\")) {\n        list.sort(function(a, b) {\n            return a.modifyTimestamp - b.modifyTimestamp\n        })\n    }\n    if (method.includes(\"å\")) {\n        list.reverse();\n    }\n    return list\n}\n$.exports.getInfo = function() {\n    return JSON.parse(readFile(\"hiker://files/rules/webdav/info.json\"))\n}"},{"col_type":"movie_3","name":"ä¸»é¡µ","path":"main","rule":"js:\ntry {\n    var d = [];\n    const {\n        getFiles,\n        download,\n        getIcon,\n        sorts\n    } = $.require(\"hiker://page/code\")\n    var root = getItem(\"dav\") + \"/\"\n    var paths = storage0.getMyVar(\"path\", [])\n    var sroot = paths.join(\"/\")\n    var path = root + sroot\n    var files = getFiles(path)\n    if (files) {\n        let temp = \"\"\n        sorts(files, getMyVar(\"sort\", \"é»˜è®¤\"))\n        let sorr = [\"é»˜è®¤\", \"åç§°\", \"æ—¶é—´\"]\n        d.push({\n            title: \"è®¾ç½®\",\n            url: \"hiker://page/settings\",\n            img: \"hiker://images/home_icon_item\",\n            col_type: \"icon_5\",\n            extra: {\n                version: MY_RULE.version\n            }\n        }, {\n            title: \"åˆ‡æ¢æ ·å¼\",\n            url: $([\"movie_1_left_pic\", \"card_pic_3\", \"avatar\", \"movie_1_vertical_pic\", \"text_1\"]).select(() => {\n                setItem(\"col_type\", input)\n                refreshPage()\n                return \"toast://å·²åˆ‡æ¢\"\n            }),\n            img: \"hiker://images/home_icon_code\",\n            col_type: \"icon_5\"\n        }, {\n            title: \"ä¸Šä¼ æ–‡ä»¶\",\n            url: \"fileSelect://\" + $.toString((path) => {\n                let webdav = buildWebDav(path, getItem(\"user\"), getItem(\"passwd\"))\n                let s = input.split(\"/\")\n                webdav.upload(s[s.length - 1].replace(\"_fileSelect_\", \"\"), input)\n                refreshPage();\n            }, path),\n            img: \"hiker://images/home_icon_bookmark\",\n            col_type: \"icon_5\"\n        }, {\n            title: \"æ–°å»ºæ–‡ä»¶\",\n            url: $(\"\").input((path) => {\n                let webdav = buildWebDav(path, getItem(\"user\"), getItem(\"passwd\"))\n                writeFile(\"hiker://files/cache/wa.txt\", \"\")\n                webdav.upload(input, \"hiker://files/cache/wa.txt\")\n                refreshPage();\n            }, path),\n            img: \"hiker://images/home_icon_bookmark\",\n            col_type: \"icon_5\"\n        }, {\n            title: \"æ–°æ–‡ä»¶å¤¹\",\n            url: $(\"\", \"è¾“å…¥æ–‡ä»¶å¤¹åç§°\").input((path) => {\n                let webdav = buildWebDav(path, getItem(\"user\"), getItem(\"passwd\"))\n                webdav.makeDir(input)\n                refreshPage()\n                return \"hiker://empty\"\n            }, path),\n            img: \"hiker://images/home_icon_fold\",\n            col_type: \"icon_5\"\n        })\n        sorr.forEach(item => {\n            var n = getMyVar(\"sort\", \"é»˜è®¤\")\n            if (n == item) {\n                var title = item + \"â†“\"\n            } else if (n.includes(\"å\") && n.includes(item)) {\n                var title = item + \"â†‘\"\n            } else {\n                var title = item + \"â†•\"\n            }\n            d.push({\n                title: title,\n                col_type: \"scroll_button\",\n                url: $().lazyRule((item) => {\n                    if (getMyVar(\"sort\", \"é»˜è®¤\") == item) {\n                        putMyVar(\"sort\", item + \"å\")\n                    } else {\n                        putMyVar(\"sort\", item)\n                    }\n                    refreshPage()\n                    return \"hiker://empty\"\n                }, item)\n            })\n        })\n        d.push({\n            col_type: \"blank_block\"\n        })\n        d.push({\n            title: `<`,\n            url: $().lazyRule((paths) => {\n                paths.pop()\n                storage0.putMyVar(\"path\", paths)\n                refreshPage()\n                return \"hiker://empty\"\n            }, paths),\n            col_type: \"scroll_button\"\n        }, {\n            title: \"ğŸ \",\n            url: $().lazyRule(() => {\n                clearMyVar(\"path\")\n                refreshPage()\n                return \"hiker://empty\"\n            }),\n            col_type: \"scroll_button\"\n        })\n        paths.forEach((item, index) => {\n            if (item != \"\") {\n                d.push({\n                    title: decodeURIComponent(item),\n                    url: $().lazyRule((i, paths) => {\n                        paths.splice(i + 1)\n                        storage0.putMyVar(\"path\", paths)\n                        refreshPage()\n                        return \"hiker://empty\"\n                    }, index, paths),\n                    col_type: \"scroll_button\"\n                })\n            }\n        });\n        files.forEach((item, index) => {\n            let fileName = decodeURIComponent(item.name)\n            let icon = getIcon(item)\n\n            var url = $().lazyRule((item, files, path) => {\n                var paths = storage0.getMyVar(\"path\", [])\n                const {\n                    fetchFile,\n                    getHzm,\n                    getSub,\n                    removeExt,\n                    download\n                } = $.require(\"hiker://page/code\")\n                if (item.dir) {\n                    paths.push(item.fileName)\n                    storage0.putMyVar(\"path\", paths)\n                    refreshPage()\n                    return \"hiker://empty\"\n                } else if ($.movie.includes(getHzm(item.name))) {\n                    if (getItem(\"subtitle\", \"å¼€\") == \"å¼€\") {\n                        let subtitles = getSub(files)\n                        let names = [\"ä¸éœ€è¦å­—å¹•\"]\n                        subtitles.forEach(ds => {\n                            names.push(ds.title)\n                        })\n                        if (subtitles.length != 0) {\n                            return $(names, 1, \"è¯·é€‰æ‹©å­—å¹•\").select((names, subtitles, url) => {\n                                if (input == \"ä¸éœ€è¦å­—å¹•\") {\n                                    return JSON.stringify({\n                                        urls: [url],\n                                        headers: {\n                                            \"Authorization\": \"Basic \" + base64Encode(getItem(\"user\") + \":\" + getItem(\"passwd\"))\n                                        }\n                                    })\n                                } else {\n                                    return JSON.stringify({\n                                        urls: [url],\n                                        subtitle: subtitles[names.indexOf(input) - 1].url,\n                                        headers: {\n                                            \"Authorization\": \"Basic \" + base64Encode(getItem(\"user\") + \":\" + getItem(\"passwd\"))\n                                        }\n                                    })\n                                }\n                            }, names, subtitles, item.url)\n                        } else {\n                            return item.playUrl + \"#isVideo=true#\"\n                        }\n                    } else {\n                        return item.playUrl + \"#isVideo=true#\"\n                    }\n                } else if ($.text.includes(getHzm(item.name))) {\n                    return $([\"ç¼–è¾‘\", \"ä¸‹è½½\"]).select((item, path) => {\n                        if (input == \"ä¸‹è½½\") {\n                            return \"download://\" + item.playUrl\n                        } else {\n                            return buildUrl(\"hiker://page/edit\", {\n                                path: path,\n                                name: item.name\n                            })\n                        }\n                    }, item, path)\n                } else if ($.audio.includes(getHzm(item.name))) {\n                    return item.playUrl + \"#isMusic=true#\"\n                } else if ($.img.includes(getHzm(item.name))) {\n                    let p = download(path, item.name)\n                    return p\n                } else {\n                    return \"download://\" + item.playUrl\n                }\n            }, item, files, path)\n            d.push({\n                title: fileName,\n                desc: getItem(\"time\", \"0\") == \"0\" ? item.modifyTimeStr : item.modifyTime,\n                img: icon,\n                url: url,\n                col_type: getItem(\"col_type\", \"avatar\"),\n                extra: {\n                    id: index + \"\",\n                    longClick: [{\n                        title: \"åˆ é™¤æ–‡ä»¶\",\n                        js: $.toString((path, name) => {\n                            return $(\"ç¡®å®šåˆ é™¤ï¼Ÿ\").confirm((path, name) => {\n                                $.require(\"hiker://page/code\").deleteFile(path, name)\n                                refreshPage()\n                            }, path, name)\n                        }, path, item.name)\n                    }, {\n                        title: \"ä½¿ç”¨å…¶å®ƒåº”ç”¨æ‰“å¼€\",\n                        js: $.toString((path, item) => {\n                            log(item)\n                            let webdav = buildWebDav(path, getItem(\"user\", \"\"), getItem(\"passwd\", \"\"))\n                            let p = \"hiker://files/cache/\" + item.name;\n                            webdav.download(item.name, p)\n                            return \"openFile://\" + p\n                        }, path, item)\n                    }]\n                }\n            })\n            if (getItem(\"detail\", \"å¼€\") == \"å¼€\" && getItem(\"col_type\", \"avatar\") == \"avatar\") {\n                d.push({\n                    title: \"â€œâ€œâ€â€<small>â€œâ€œâ€â€<font color='#aaaaaa'>\" + (getItem(\"time\", \"0\") == \"0\" ? item.modifyTimeStr : item.modifyTime) + \"</font></small>\",\n                    url: url,\n                    col_type: \"text_1\"\n                })\n            }\n        })\n    } else if (getItem(\"dav\", \"\") == \"\" || getItem(\"user\", \"\") == \"\" || getItem(\"passwd\", \"\") == \"\") {\n        d.push({\n            title: \"å½“å‰æœªè®¾ç½®è´¦å·ï¼Œç‚¹æˆ‘è®¾ç½®\",\n            url: \"hiker://page/settings\",\n            col_type: \"text_center_1\"\n        })\n    } else {\n        d.push({\n            title: \"è®¾ç½®\",\n            col_type: \"text_1\",\n            url: \"hiker://page/settings\"\n        }, {\n            title: \"å‡ºé”™äº†ï¼Œç‚¹å‡»åˆ·æ–°\",\n            url: $().lazyRule(() => {\n                refreshPage()\n                return \"hiker://empty\"\n            }),\n            col_type: \"text_center_1\"\n        })\n    }\n} catch (e) {\n    log(e.message)\n    toast(\"ç¨‹åºé”™è¯¯ï¼ï¼ï¼è¯·æ‰“å¼€æ—¥å¿—æŸ¥çœ‹\")\n}\nsetResult(d);"},{"col_type":"movie_3","name":"ç¼–è¾‘","path":"edit","rule":"js:\nvar d = [];\nconst {\n    download\n} = $.require(\"hiker://page/code\")\nvar p = download(getParam(\"path\"), getParam(\"name\"))\nvar defa = fetch(p)\nd.push({\n    col_type: \"input\",\n    extra: {\n        type: 'textarea',\n        height: 10,\n        highlight: true,\n        defaultValue: defa,\n        onChange: $.toString(() => {\n            putMyVar(\"text\", input)\n            updateItem(\"button\", {\n                title: `â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">ä¿ å­˜</span></big><strong><font color=\"#F54343\"> â—‰ </front></strong>`\n            })\n        })\n    }\n}, {\n    title: `â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">ä¿ å­˜</span></big>`,\n    url: $().lazyRule((defa, name) => {\n        let webdav = buildWebDav(getParam(\"path\"), getItem(\"user\"), getItem(\"passwd\"))\n        writeFile(\"hiker://files/cache/wa.txt\", getMyVar(\"text\", defa))\n        webdav.upload(name, \"hiker://files/cache/wa.txt\")\n        updateItem(\"button\", {\n            title: `â€˜â€˜â€™â€™<big><span style=\"color:#6EB897\">ä¿ å­˜</span></big>`\n        })\n        return \"toast://ä¿å­˜æˆåŠŸ\"\n    }, defa, getParam(\"name\")),\n    col_type: \"text_center_1\",\n    extra: {\n        id: \"button\"\n    }\n})\nsetResult(d);"}],"title":"Webdav","author":"Joe&å°æ£‰è¢„ğŸŒ","version":33,"type":"tool","url":"hiker://empty","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:$.require(\"hiker://page/main\")","searchFind":"","search_url":"","group":"â‘£ç½‘ç›˜","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"$.extend({\n    text: [\"htm\", \"html\", \"xml\", \"java\", \"properties\", \"sql\", \"js\", \"md\", \"json\", \"conf\", \"ini\", \"vue\", \"php\", \"py\", \"bat\", \"gitignore\", \"yml\", \"go\", \"sh\", \"c\", \"cpp\", \"h\", \"hpp\", \"tsx\", \"txt\", \"epub\", \"azw3\", \"mobi\", \"pdf\", \"chm\"],\n    audio: [\"mp3\", \"flac\", \"ogg\", \"m4a\", \"wav\", \"opus\"],\n    movie: [\"mp4\", \"mkv\", \"avi\", \"mov\", \"rmvb\", \"webm\", \"flv\", \"m4v\", \"m3u8\"],\n    img: [\"jpg\", \"png\", \"jpeg\", \"gif\", \"svg\", \"raw\"],\n    subtitle: [\"vtt\", \"srt\", \"ass\"],\n    yasuo: [\"zip\", \"rar\", \"jar\"],\n    office: [\"doc\", \"docx\", \"xls\", \"xlsx\", \"ppt\", \"pptx\"]\n})","pages":"[{\"col_type\":\"text_1\",\"name\":\"è®¾ç½®\",\"path\":\"settings\",\"rule\":\"js:\\nvar d = [];\\nd.push({\\n    desc: \\\"webdavåœ°å€\\\",\\n    col_type: \\\"input\\\",\\n    extra: {\\n        defaultValue: getItem(\\\"dav\\\", \\\"\\\"),\\n        titleVisible: false,\\n        onChange: $.toString(() => {\\n            if (input[input.length - 1] == \\\"/\\\") {\\n                url = input.substring(0, input.length - 1)\\n                setItem(\\\"dav\\\", url)\\n            } else {\\n                setItem(\\\"dav\\\", input)\\n            }\\n        })\\n    }\\n})\\nd.push({\\n    desc: \\\"è´¦æˆ·\\\",\\n    col_type: \\\"input\\\",\\n    extra: {\\n        defaultValue: getItem(\\\"user\\\", \\\"\\\"),\\n        titleVisible: false,\\n        onChange: $.toString(() => {\\n            setItem(\\\"user\\\", input)\\n        })\\n    }\\n})\\nd.push({\\n    desc: \\\"å¯†ç \\\",\\n    col_type: \\\"input\\\",\\n    extra: {\\n        defaultValue: getItem(\\\"passwd\\\", \\\"\\\"),\\n        titleVisible: false,\\n        type: \\\"password\\\",\\n        onChange: $.toString(() => {\\n            setItem(\\\"passwd\\\", input)\\n        })\\n    }\\n})\\nd.push({\\n    title: \\\"æµ‹è¯•è¿æ¥\\\",\\n    url: $().lazyRule(() => {\\n        const {\\n            getFiles\\n        } = $.require(\\\"hiker://page/code\\\")\\n        if (getFiles(getItem(\\\"dav\\\") + \\\"/\\\")) {\\n            return \\\"toast://è¿æ¥æˆåŠŸ\\\"\\n        } else {\\n            return \\\"toast://è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥è´¦æˆ·å¯†ç \\\"\\n        }\\n    }),\\n    col_type: \\\"text_center_1\\\"\\n})\\nlet icon = getItem(\\\"iconStyle\\\", \\\"é»˜è®¤\\\")\\nlet detail = getItem(\\\"detail\\\", \\\"å¼€\\\")\\nlet subtitle = getItem(\\\"subtitle\\\", \\\"å¼€\\\")\\nlet timestamp = getItem(\\\"time\\\", \\\"0\\\")\\nlet newVersion;\\nlet myVersion = MY_PARAMS.version || 999;\\ntry {\\n    res = JSON.parse(fetch(\\\"http://hiker.nokia.press/hikerule/dev/getbyid?id=5210\\\"))\\n    newVersion = res.result.ver\\n} catch (e) {\\n    toast(\\\"é“é•¿ä»“åº“æŠ½é£äº†ï¼Œæœ¬æ¬¡æœªæ£€æµ‹åˆ°æ–°ç‰ˆä¿¡æ¯\\\");\\n    newVersion = myVersion;\\n}\\nlet isUpdate = Number(newVersion) <= Number(myVersion);\\nlet isVer = Number(newVersion) === Number(myVersion);\\nd.push({\\n    col_type: \\\"line_blank\\\"\\n}, {\\n    title: isUpdate ? \\\"å·²æ˜¯æœ€æ–°ç‰ˆ\\\" : \\\"ğŸ†™æ–°ç‰ˆæœ¬\\\",\\n    url: \\\"rule://5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQV2ViZGF244CR77+laG9tZV9ydWxlX3VybO+/pWh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzcy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTUyMTAmYXV0aD1hYjIzMDUyYi1jMGQ2LTU4ZmMtOTU1NS1hMjUwMmEwMGEzODc=\\\",\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"æ˜¾ç¤ºè¯¦ç»†ï¼š\\\" + detail,\\n    url: $().lazyRule((detail) => {\\n        setItem(\\\"detail\\\", detail == \\\"å¼€\\\" ? \\\"å…³\\\" : \\\"å¼€\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, detail),\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"å­—å¹•åŠŸèƒ½ï¼š\\\" + subtitle,\\n    url: $().lazyRule((subtitle) => {\\n        setItem(\\\"subtitle\\\", subtitle == \\\"å¼€\\\" ? \\\"å…³\\\" : \\\"å¼€\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, subtitle),\\n    col_type: \\\"text_2\\\"\\n}, {\\n    title: \\\"æ—¶é—´æ ¼å¼ï¼š\\\" + (timestamp == \\\"0\\\" ? \\\"2022/08/20 17:14:31\\\" : \\\"Sat, 20 Aug 2022 09:14:31 GMT\\\"),\\n    url: $().lazyRule((timestamp) => {\\n        setItem(\\\"time\\\", timestamp == \\\"0\\\" ? \\\"1\\\" : \\\"0\\\")\\n        refreshPage()\\n        return \\\"hiker://empty\\\"\\n    }, timestamp),\\n    col_type: \\\"text_1\\\"\\n}, {\\n    url: $().rule(() => {\\n        setResult([{\\n            title: `\\n            <p>æœ¬ç¯‡æ–‡ç« åªé’ˆå¯¹è®¾ç½®ï¼Œå…¶ä»–çš„ä½¿ç”¨æ–¹æ³•å·²ç»åœ¨è§„åˆ™ä¸­è¯´æ˜æ¸…é™¤äº†</p> <p><ins><ins>å‰ææ¡ä»¶ï¼šå·²ç»æ›´æ–°7.9ç‰ˆæœ¬</ins></ins></p> <p>æµ·é˜”è§†ç•Œé¦–é¡µé¢‘é“è§„åˆ™ã€Webdavã€‘ï¿¥home_rule_urlï¿¥http://hiker.nokia.press/hikerule/rulelist.json?id=5210&amp;auth=ab23052b-c0d6-58fc-9555-a2502a00a387</p> <h1 id=\\\"webdav%E6%98%AF%E4%BB%80%E4%B9%88\\\" tabindex=\\\"-1\\\">Webdavæ˜¯ä»€ä¹ˆ</h1> <p>webdavå°±æ˜¯ä¸€ç§ç½‘ç›˜æ–‡ä»¶ä¼ è¾“åè®®ï¼Œå¸¸ç”¨äºå°ä¼—è½¯ä»¶çš„æ•°æ®å¤‡ä»½ã€‚æœ¬è§„åˆ™å¯ä»¥ç®¡ç†webdavçš„æ–‡ä»¶ï¼Œæ”¯æŒæµè§ˆã€æ’­æ”¾ã€ä¸‹è½½ã€ä¸Šä¼ ã€åˆ é™¤ç­‰æ“ä½œ</p> <h1 id=\\\"%E6%89%93%E5%BC%80%E8%AE%BE%E7%BD%AE\\\" tabindex=\\\"-1\\\">æ‰“å¼€è®¾ç½®</h1> <p><img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_082550_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_082550_com.example.hikerview\\\" /></p> <p>å°†ä½ çš„webdavé“¾æ¥å’Œè´¦æˆ·å¯†ç å¡«è¿›å»ï¼ˆè¿™é‡Œæ¨èä½¿ç”¨åšæœäº‘ï¼Œä¼˜ç‚¹:ç¨³å®š;ç¼ºç‚¹:å®¹é‡å°‘ï¼Œä»·æ ¼è´µã€‚ä¹Ÿå¯ä»¥è‡ªå·±æ­å»ºwebdavç³»ç»Ÿï¼Œä¾‹å¦‚alistå’Œcloudreveï¼Œéœ€è¦ä¸€å®šçš„åŠ¨æ‰‹èƒ½åŠ›ï¼‰</p> <h2 id=\\\"%E8%AE%BE%E7%BD%AE%E5%9B%BE%E6%A0%87\\\" tabindex=\\\"-1\\\">è®¾ç½®å›¾æ ‡</h2> <p>æœ¬è§„åˆ™å†…ç½®ä¸¤ç§é£æ ¼çš„å›¾æ ‡ï¼Œåˆ†åˆ«ä¸ºé“é•¿çš„å’Œè“è“çš„ï¼Œè‡ªå·±é€‰æ‹©</p> <h2 id=\\\"%E6%98%BE%E7%A4%BA%E8%AF%A6%E7%BB%86\\\" tabindex=\\\"-1\\\">æ˜¾ç¤ºè¯¦ç»†</h2> <p>å¯ä»¥åˆ—å‡ºå½“å‰æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ã€‚<br /> <strong><strong>é—®é¢˜ï¼š</strong></strong><br /> ä¸èƒ½è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é›†</p> <h2 id=\\\"%E5%AD%97%E5%B9%95\\\" tabindex=\\\"-1\\\">å­—å¹•</h2> <p>å­—å¹•åŠŸèƒ½å¦‚æœæ‰“å¼€ï¼Œé‚£ä¹ˆå¦‚æœè§†é¢‘ä¸å­—å¹•çš„æ–‡ä»¶åç›¸åŒï¼Œé‚£ä¹ˆå°±ä¼šè‡ªåŠ¨æŒ‚è½½ä¸Šã€‚å¦‚æœå½“å‰æ–‡ä»¶å¤¹æœ‰è¿™ä¸ªå­—å¹•æ–‡ä»¶ï¼Œä½†æ˜¯åå­—ä¸åŒï¼Œå°±ä¼šè·³å‡ºé€‰æ‹©æ¡†é€‰æ‹©</p> <h1 id=\\\"%E8%BF%94%E5%9B%9E%E4%B8%BB%E7%95%8C%E9%9D%A2\\\" tabindex=\\\"-1\\\">è¿”å›ä¸»ç•Œé¢</h1> <p><img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_140705_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_140705_com.example.hikerview\\\" /><br /> å¯ä»¥çœ‹è§æœ‰æ“ä½œæ ï¼Œå¯ä»¥ä¸Šä¼ æ–‡ä»¶ï¼Œæ–°å»ºæ–‡ä»¶å¤¹å’Œåˆ é™¤æ–‡ä»¶ä¸‰ä¸ªæ“ä½œ</p> <p>ä¸‹é¢æ˜¯ä½ çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥åƒæµè§ˆæ–‡ä»¶ç®¡ç†å™¨ä¸€æ ·ä½¿ç”¨ä»–</p> <h1 id=\\\"%E9%AB%98%E7%BA%A7%E8%AE%BE%E7%BD%AE\\\" tabindex=\\\"-1\\\">é«˜çº§è®¾ç½®</h1> <p>ç‚¹å‡»ç¼–è¾‘è§„åˆ™ï¼Œåˆ’åˆ°åº•éƒ¨çš„é¢„å¤„ç†<br /> <img src=\\\"http://alist.joegu.tk/d/hiker/Screenshot_20220821_141135_com.example.hikerview.jpg\\\" alt=\\\"Screenshot_20220821_141135_com.example.hikerview\\\" /><br /> æ ¹æ®æ³¨é‡Šä¿®æ”¹ï¼Œæˆ‘å†™çš„å‡ ä¸ªæ–‡ä»¶æ ¼å¼å·²ç»å¾ˆå®Œæ•´äº†ï¼Œå¦‚æœæœ‰æœ‹å‹è®¤ä¸ºä¸å¥½ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹<br /> æ ¼å¼ï¼š[â€œç±»å‹1â€,â€œç±»å‹2â€]</p> <p>éƒ½å®Œæˆäº†ï¼ŒenjoyğŸ’</p>\\n            `,\\n            col_type: \\\"rich_text\\\"\\n        }])\\n    }),\\n    title: \\\"æŸ¥çœ‹ä½¿ç”¨è¯´æ˜\\\",\\n    desc: \\\"Powered by Joe&å°æ£‰è¢„\\\",\\n    col_type: \\\"text_center_1\\\",\\n    extra: {\\n        lineVisible: false\\n    }\\n})\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"ä»£ç \",\"path\":\"code\",\"rule\":\"$.exports.getFiles = function(path) {\\n    try {\\n        if (!path || path == \\\"\\\") {\\n            return false\\n        }\\n        let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n        let res = webdav.list()\\n        res = JSON.parse(res)\\n        return res\\n    } catch (e) {\\n        log(e.message)\\n        return false\\n    }\\n}\\n$.exports.fetchFile = function(path) {\\n    let res = request(path, {\\n        headers: {\\n            \\\"authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"user\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n        }\\n    })\\n    return res\\n}\\n$.exports.getIcon = function(content) {\\n    if (content.dir) {\\n        img = \\\"https://hikerfans.com/tubiao/more/274.png\\\"\\n    } else {\\n        let fileName = content.name.toLowerCase()\\n        let hzm = $.require(\\\"code\\\").getHzm(fileName)\\n        if (content.thumb && content.type != 0) {\\n            img = content.thumb\\n        } else if ($.movie.includes(hzm)) {\\n            img = \\\"https://hikerfans.com/tubiao/more/30.png\\\"\\n        } else if ($.audio.includes(hzm)) {\\n            img = \\\"https://hikerfans.com/tubiao/more/40.png\\\"\\n        } else if ($.text.includes(hzm)) {\\n            img = \\\"https://hikerfans.com/tubiao/more/78.png\\\"\\n        } else if ($.img.includes(hzm)) {\\n            img = content.url + \\\"@headers=\\\" + JSON.stringify({\\n                \\\"authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"user\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n            })\\n        } else if ($.yasuo.includes(hzm)) {\\n            img = \\\"https://hikerfans.com/tubiao/more/201.png\\\"\\n        } else if ($.office.includes(hzm)) {\\n            img = \\\"https://hikerfans.com/tubiao/more/185.png\\\"\\n        } else {\\n            img = \\\"https://hikerfans.com/tubiao/more/239.png\\\"\\n        }\\n    }\\n    return img\\n}\\n$.exports.getHzm = function(fileName) {\\n    return fileName.substr(fileName.lastIndexOf(\\\".\\\") + 1)\\n}\\n$.exports.removeExt = function(file) {\\n    return file.split('.').slice(0, -1).join('.')\\n};\\n$.exports.getSub = function(list) {\\n    const {\\n        getHzm\\n    } = $.require(\\\"hiker://page/code\\\")\\n    let s = []\\n    list.forEach(item => {\\n        if ($.subtitle.includes(getHzm(item.name))) {\\n            s.push({\\n                title: item.name,\\n                url: item.url\\n            })\\n        }\\n    })\\n    return s\\n}\\n$.exports.download = function(path, name) {\\n    let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n    let p = \\\"hiker://files/cache/_fileSelect_\\\" + name;\\n    webdav.download(name, p);\\n    return getPath(p);\\n}\\n$.exports.deleteFile = function(path, name) {\\n    let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n    webdav.delete(name)\\n}\\n$.exports.rename = function(path, oldname, newname) {\\n    toast(\\\"æš‚æœªæ”¯æŒ\\\")\\n}\\n$.exports.sorts = function(list, method) {\\n    if (method.includes(\\\"åç§°\\\")) {\\n        list.sort(function(a, b) {\\n            return a.name.localeCompare(b.name)\\n        })\\n    } else if (method.includes(\\\"æ—¶é—´\\\")) {\\n        list.sort(function(a, b) {\\n            return a.modifyTimestamp - b.modifyTimestamp\\n        })\\n    }\\n    if (method.includes(\\\"å\\\")) {\\n        list.reverse();\\n    }\\n    return list\\n}\\n$.exports.getInfo = function() {\\n    return JSON.parse(readFile(\\\"hiker://files/rules/webdav/info.json\\\"))\\n}\"},{\"col_type\":\"movie_3\",\"name\":\"ä¸»é¡µ\",\"path\":\"main\",\"rule\":\"js:\\ntry {\\n    var d = [];\\n    const {\\n        getFiles,\\n        download,\\n        getIcon,\\n        sorts\\n    } = $.require(\\\"hiker://page/code\\\")\\n    var root = getItem(\\\"dav\\\") + \\\"/\\\"\\n    var paths = storage0.getMyVar(\\\"path\\\", [])\\n    var sroot = paths.join(\\\"/\\\")\\n    var path = root + sroot\\n    var files = getFiles(path)\\n    if (files) {\\n        let temp = \\\"\\\"\\n        sorts(files, getMyVar(\\\"sort\\\", \\\"é»˜è®¤\\\"))\\n        let sorr = [\\\"é»˜è®¤\\\", \\\"åç§°\\\", \\\"æ—¶é—´\\\"]\\n        d.push({\\n            title: \\\"è®¾ç½®\\\",\\n            url: \\\"hiker://page/settings\\\",\\n            img: \\\"hiker://images/home_icon_item\\\",\\n            col_type: \\\"icon_5\\\",\\n            extra: {\\n                version: MY_RULE.version\\n            }\\n        }, {\\n            title: \\\"åˆ‡æ¢æ ·å¼\\\",\\n            url: $([\\\"movie_1_left_pic\\\", \\\"card_pic_3\\\", \\\"avatar\\\", \\\"movie_1_vertical_pic\\\", \\\"text_1\\\"]).select(() => {\\n                setItem(\\\"col_type\\\", input)\\n                refreshPage()\\n                return \\\"toast://å·²åˆ‡æ¢\\\"\\n            }),\\n            img: \\\"hiker://images/home_icon_code\\\",\\n            col_type: \\\"icon_5\\\"\\n        }, {\\n            title: \\\"ä¸Šä¼ æ–‡ä»¶\\\",\\n            url: \\\"fileSelect://\\\" + $.toString((path) => {\\n                let webdav = buildWebDav(path, getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n                let s = input.split(\\\"/\\\")\\n                webdav.upload(s[s.length - 1].replace(\\\"_fileSelect_\\\", \\\"\\\"), input)\\n                refreshPage();\\n            }, path),\\n            img: \\\"hiker://images/home_icon_bookmark\\\",\\n            col_type: \\\"icon_5\\\"\\n        }, {\\n            title: \\\"æ–°å»ºæ–‡ä»¶\\\",\\n            url: $(\\\"\\\").input((path) => {\\n                let webdav = buildWebDav(path, getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n                writeFile(\\\"hiker://files/cache/wa.txt\\\", \\\"\\\")\\n                webdav.upload(input, \\\"hiker://files/cache/wa.txt\\\")\\n                refreshPage();\\n            }, path),\\n            img: \\\"hiker://images/home_icon_bookmark\\\",\\n            col_type: \\\"icon_5\\\"\\n        }, {\\n            title: \\\"æ–°æ–‡ä»¶å¤¹\\\",\\n            url: $(\\\"\\\", \\\"è¾“å…¥æ–‡ä»¶å¤¹åç§°\\\").input((path) => {\\n                let webdav = buildWebDav(path, getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n                webdav.makeDir(input)\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, path),\\n            img: \\\"hiker://images/home_icon_fold\\\",\\n            col_type: \\\"icon_5\\\"\\n        })\\n        sorr.forEach(item => {\\n            var n = getMyVar(\\\"sort\\\", \\\"é»˜è®¤\\\")\\n            if (n == item) {\\n                var title = item + \\\"â†“\\\"\\n            } else if (n.includes(\\\"å\\\") && n.includes(item)) {\\n                var title = item + \\\"â†‘\\\"\\n            } else {\\n                var title = item + \\\"â†•\\\"\\n            }\\n            d.push({\\n                title: title,\\n                col_type: \\\"scroll_button\\\",\\n                url: $().lazyRule((item) => {\\n                    if (getMyVar(\\\"sort\\\", \\\"é»˜è®¤\\\") == item) {\\n                        putMyVar(\\\"sort\\\", item + \\\"å\\\")\\n                    } else {\\n                        putMyVar(\\\"sort\\\", item)\\n                    }\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                }, item)\\n            })\\n        })\\n        d.push({\\n            col_type: \\\"blank_block\\\"\\n        })\\n        d.push({\\n            title: `<`,\\n            url: $().lazyRule((paths) => {\\n                paths.pop()\\n                storage0.putMyVar(\\\"path\\\", paths)\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }, paths),\\n            col_type: \\\"scroll_button\\\"\\n        }, {\\n            title: \\\"ğŸ \\\",\\n            url: $().lazyRule(() => {\\n                clearMyVar(\\\"path\\\")\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }),\\n            col_type: \\\"scroll_button\\\"\\n        })\\n        paths.forEach((item, index) => {\\n            if (item != \\\"\\\") {\\n                d.push({\\n                    title: decodeURIComponent(item),\\n                    url: $().lazyRule((i, paths) => {\\n                        paths.splice(i + 1)\\n                        storage0.putMyVar(\\\"path\\\", paths)\\n                        refreshPage()\\n                        return \\\"hiker://empty\\\"\\n                    }, index, paths),\\n                    col_type: \\\"scroll_button\\\"\\n                })\\n            }\\n        });\\n        files.forEach((item, index) => {\\n            let fileName = decodeURIComponent(item.name)\\n            let icon = getIcon(item)\\n\\n            var url = $().lazyRule((item, files, path) => {\\n                var paths = storage0.getMyVar(\\\"path\\\", [])\\n                const {\\n                    fetchFile,\\n                    getHzm,\\n                    getSub,\\n                    removeExt,\\n                    download\\n                } = $.require(\\\"hiker://page/code\\\")\\n                if (item.dir) {\\n                    paths.push(item.fileName)\\n                    storage0.putMyVar(\\\"path\\\", paths)\\n                    refreshPage()\\n                    return \\\"hiker://empty\\\"\\n                } else if ($.movie.includes(getHzm(item.name))) {\\n                    if (getItem(\\\"subtitle\\\", \\\"å¼€\\\") == \\\"å¼€\\\") {\\n                        let subtitles = getSub(files)\\n                        let names = [\\\"ä¸éœ€è¦å­—å¹•\\\"]\\n                        subtitles.forEach(ds => {\\n                            names.push(ds.title)\\n                        })\\n                        if (subtitles.length != 0) {\\n                            return $(names, 1, \\\"è¯·é€‰æ‹©å­—å¹•\\\").select((names, subtitles, url) => {\\n                                if (input == \\\"ä¸éœ€è¦å­—å¹•\\\") {\\n                                    return JSON.stringify({\\n                                        urls: [url],\\n                                        headers: {\\n                                            \\\"Authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"user\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n                                        }\\n                                    })\\n                                } else {\\n                                    return JSON.stringify({\\n                                        urls: [url],\\n                                        subtitle: subtitles[names.indexOf(input) - 1].url,\\n                                        headers: {\\n                                            \\\"Authorization\\\": \\\"Basic \\\" + base64Encode(getItem(\\\"user\\\") + \\\":\\\" + getItem(\\\"passwd\\\"))\\n                                        }\\n                                    })\\n                                }\\n                            }, names, subtitles, item.url)\\n                        } else {\\n                            return item.playUrl + \\\"#isVideo=true#\\\"\\n                        }\\n                    } else {\\n                        return item.playUrl + \\\"#isVideo=true#\\\"\\n                    }\\n                } else if ($.text.includes(getHzm(item.name))) {\\n                    return $([\\\"ç¼–è¾‘\\\", \\\"ä¸‹è½½\\\"]).select((item, path) => {\\n                        if (input == \\\"ä¸‹è½½\\\") {\\n                            return \\\"download://\\\" + item.playUrl\\n                        } else {\\n                            return buildUrl(\\\"hiker://page/edit\\\", {\\n                                path: path,\\n                                name: item.name\\n                            })\\n                        }\\n                    }, item, path)\\n                } else if ($.audio.includes(getHzm(item.name))) {\\n                    return item.playUrl + \\\"#isMusic=true#\\\"\\n                } else if ($.img.includes(getHzm(item.name))) {\\n                    let p = download(path, item.name)\\n                    return p\\n                } else {\\n                    return \\\"download://\\\" + item.playUrl\\n                }\\n            }, item, files, path)\\n            d.push({\\n                title: fileName,\\n                desc: getItem(\\\"time\\\", \\\"0\\\") == \\\"0\\\" ? item.modifyTimeStr : item.modifyTime,\\n                img: icon,\\n                url: url,\\n                col_type: getItem(\\\"col_type\\\", \\\"avatar\\\"),\\n                extra: {\\n                    id: index + \\\"\\\",\\n                    longClick: [{\\n                        title: \\\"åˆ é™¤æ–‡ä»¶\\\",\\n                        js: $.toString((path, name) => {\\n                            return $(\\\"ç¡®å®šåˆ é™¤ï¼Ÿ\\\").confirm((path, name) => {\\n                                $.require(\\\"hiker://page/code\\\").deleteFile(path, name)\\n                                refreshPage()\\n                            }, path, name)\\n                        }, path, item.name)\\n                    }, {\\n                        title: \\\"ä½¿ç”¨å…¶å®ƒåº”ç”¨æ‰“å¼€\\\",\\n                        js: $.toString((path, item) => {\\n                            log(item)\\n                            let webdav = buildWebDav(path, getItem(\\\"user\\\", \\\"\\\"), getItem(\\\"passwd\\\", \\\"\\\"))\\n                            let p = \\\"hiker://files/cache/\\\" + item.name;\\n                            webdav.download(item.name, p)\\n                            return \\\"openFile://\\\" + p\\n                        }, path, item)\\n                    }]\\n                }\\n            })\\n            if (getItem(\\\"detail\\\", \\\"å¼€\\\") == \\\"å¼€\\\" && getItem(\\\"col_type\\\", \\\"avatar\\\") == \\\"avatar\\\") {\\n                d.push({\\n                    title: \\\"â€œâ€œâ€â€<small>â€œâ€œâ€â€<font color='#aaaaaa'>\\\" + (getItem(\\\"time\\\", \\\"0\\\") == \\\"0\\\" ? item.modifyTimeStr : item.modifyTime) + \\\"</font></small>\\\",\\n                    url: url,\\n                    col_type: \\\"text_1\\\"\\n                })\\n            }\\n        })\\n    } else if (getItem(\\\"dav\\\", \\\"\\\") == \\\"\\\" || getItem(\\\"user\\\", \\\"\\\") == \\\"\\\" || getItem(\\\"passwd\\\", \\\"\\\") == \\\"\\\") {\\n        d.push({\\n            title: \\\"å½“å‰æœªè®¾ç½®è´¦å·ï¼Œç‚¹æˆ‘è®¾ç½®\\\",\\n            url: \\\"hiker://page/settings\\\",\\n            col_type: \\\"text_center_1\\\"\\n        })\\n    } else {\\n        d.push({\\n            title: \\\"è®¾ç½®\\\",\\n            col_type: \\\"text_1\\\",\\n            url: \\\"hiker://page/settings\\\"\\n        }, {\\n            title: \\\"å‡ºé”™äº†ï¼Œç‚¹å‡»åˆ·æ–°\\\",\\n            url: $().lazyRule(() => {\\n                refreshPage()\\n                return \\\"hiker://empty\\\"\\n            }),\\n            col_type: \\\"text_center_1\\\"\\n        })\\n    }\\n} catch (e) {\\n    log(e.message)\\n    toast(\\\"ç¨‹åºé”™è¯¯ï¼ï¼ï¼è¯·æ‰“å¼€æ—¥å¿—æŸ¥çœ‹\\\")\\n}\\nsetResult(d);\"},{\"col_type\":\"movie_3\",\"name\":\"ç¼–è¾‘\",\"path\":\"edit\",\"rule\":\"js:\\nvar d = [];\\nconst {\\n    download\\n} = $.require(\\\"hiker://page/code\\\")\\nvar p = download(getParam(\\\"path\\\"), getParam(\\\"name\\\"))\\nvar defa = fetch(p)\\nd.push({\\n    col_type: \\\"input\\\",\\n    extra: {\\n        type: 'textarea',\\n        height: 10,\\n        highlight: true,\\n        defaultValue: defa,\\n        onChange: $.toString(() => {\\n            putMyVar(\\\"text\\\", input)\\n            updateItem(\\\"button\\\", {\\n                title: `â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">ä¿ å­˜</span></big><strong><font color=\\\"#F54343\\\"> â—‰ </front></strong>`\\n            })\\n        })\\n    }\\n}, {\\n    title: `â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">ä¿ å­˜</span></big>`,\\n    url: $().lazyRule((defa, name) => {\\n        let webdav = buildWebDav(getParam(\\\"path\\\"), getItem(\\\"user\\\"), getItem(\\\"passwd\\\"))\\n        writeFile(\\\"hiker://files/cache/wa.txt\\\", getMyVar(\\\"text\\\", defa))\\n        webdav.upload(name, \\\"hiker://files/cache/wa.txt\\\")\\n        updateItem(\\\"button\\\", {\\n            title: `â€˜â€˜â€™â€™<big><span style=\\\"color:#6EB897\\\">ä¿ å­˜</span></big>`\\n        })\\n        return \\\"toast://ä¿å­˜æˆåŠŸ\\\"\\n    }, defa, getParam(\\\"name\\\")),\\n    col_type: \\\"text_center_1\\\",\\n    extra: {\\n        id: \\\"button\\\"\\n    }\\n})\\nsetResult(d);\"}]","proxy":"","icon":"https://hikerfans.com/tubiao/movie/7.svg"}