{"last_chapter_rule":"","pageList":[],"title":"githubä»“åº“(è‡ªç”¨)","author":"äº¬æ¢¦","version":2,"type":"other","url":"hiker://empty##","col_type":"text_2","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\nlet g = {\n    'host': 'https://api.github.com/repos/ä½ çš„ç”¨æˆ·å/ä»“åº“å/contents/',\n    'token': 'ä½ çš„token',\n    'proxy': 'https://gh-proxy.com/'\n    'file': 'hiker://files/Jm/file/'\n};\n\nlet list = JSON.parse(fetch(g.host));\n\n//æ§åˆ¶æ˜¾ç¤ºçš„èµ„æºç±»å‹\nlet type = [\".hiker\", \".json\", \".js\", \".hkzip\", \".html\"];\n\nlist = list.filter(item => {\n    return item.type === \"file\" && type.some(ext => item.name.endsWith(ext));\n});\nlet it = list.map(j => {\n    return {\n        name: j.name,\n        url: j.download_url,\n        sha: j.sha\n    };\n});\n\nd.push({\n    title: 'ğŸ”',\n    col_type: 'input',\n    desc: 'è¯·è¾“å…¥å…³é”®è¯',\n    url: $.toString((it, g) => {\n        function search(name) {\n            return it.filter(item => item.name.toLowerCase().includes(name.toLowerCase()));\n        }\n        let results = search(input);\n        if (results.length > 0) {\n            return $('hiker://empty').rule((results, g) => {\n                let d = [];\n                results.forEach(j => {\n                    d.push({\n                        title: j.name,\n                        col_type: 'text_1',\n                        url: $([\"åˆ é™¤\", \"å¤åˆ¶åˆ†äº«é“¾æ¥\", \"å¯¼å…¥è§„åˆ™\", \"å¯¼å…¥æ–‡ä»¶\", \"ä¸‹è½½\"]).select((j, g) => {\n                            var h = g.proxy + j.url;\n                            if (input === \"å¤åˆ¶åˆ†äº«é“¾æ¥\") {\n                                return \"copy://æµ·é˜”è§†ç•Œè§„åˆ™ã€\" + j.name + \"ã€‘ï¿¥home_rule_urlï¿¥\" + h;\n                            } else if (input === \"å¯¼å…¥è§„åˆ™\") {\n                                return \"rule://\" + base64Encode(\"ï¿¥home_rule_urlï¿¥\" + h);\n                            } else if (input === \"å¯¼å…¥æ–‡ä»¶\") {\n                                let file = getPath(g.file + j.name);\n                                let html = fetch(h);\n                                writeFile(file, html);\n                                return 'toast://å·²å¯¼å…¥' + j.name\n                            } else if (input === \"ä¸‹è½½\") {\n                                return \"download://\" + h\n                            } else {\n                                return $(\"ç¡®è®¤ä»ä»“åº“åˆ é™¤è¯¥åˆ†äº«:\" + j.name).confirm((j, g) => {\n                                    showLoading(\"æ­£åœ¨åˆ é™¤\");\n                                    try {\n                                        let res = JSON.parse(fetch(g.host + j.name, {\n                                            headers: {\n                                                Accept: \"application/vnd.github.v3+json\",\n                                                Authorization: \"token \" + g.token\n                                            },\n                                            body: {\n                                                sha: j.sha,\n                                                message: \"åˆ é™¤è§„åˆ™\"\n                                            },\n                                            method: \"DELETE\",\n                                            withStatusCode: true\n                                        }));\n                                        if (res.statusCode === 200) {\n                                            java.lang.Thread.sleep(1650);\n                                            refreshPage(false);\n                                            hideLoading();\n                                            return \"toast://åˆ é™¤æˆåŠŸ,æœåŠ¡å™¨åˆ é™¤ä¼šæœ‰ä¸€å®šå»¶è¿Ÿ\";\n                                        } else {\n                                            res = JSON.parse(res.body);\n                                            throw new Error(res.message);\n                                        }\n                                    } catch (e) {\n                                        hideLoading();\n                                        return \"toast://åˆ é™¤å¤±è´¥:\" + e.toString();\n                                    }\n                                }, j, g);\n                            }\n                        }, j, g),\n                        extra: {\n                            inheritTitle: false\n                        }\n                    });\n                });\n                setResult(d);\n            }, results, g)\n        } else {\n            return 'toast://æ²¡æœ‰æ‰¾åˆ°'\n        }\n    }, it, g)\n});\n\nit.map(j => {\n    d.push({\n        title: 'â€˜â€˜â€™â€™<small>' + j.name + '</small>',\n        col_type: \"text_2\",\n        url: $([\"åˆ é™¤\", \"å¤åˆ¶åˆ†äº«é“¾æ¥\", \"å¯¼å…¥è§„åˆ™\", \"å¯¼å…¥æ–‡ä»¶\", \"ä¸‹è½½\"]).select((j, g) => {\n            var h = g.proxy + j.url;\n            if (input === \"å¤åˆ¶åˆ†äº«é“¾æ¥\") {\n                return \"copy://æµ·é˜”è§†ç•Œè§„åˆ™ã€\" + j.name + \"ã€‘ï¿¥home_rule_urlï¿¥\" + h;\n            } else if (input === \"å¯¼å…¥è§„åˆ™\") {\n                return \"rule://\" + base64Encode(\"ï¿¥home_rule_urlï¿¥\" + h);\n            } else if (input === \"å¯¼å…¥æ–‡ä»¶\") {\n                let file = getPath(g.file + j.name);\n                let html = fetch(h);\n                writeFile(file, html);\n                return 'toast://å·²å¯¼å…¥' + j.name\n            } else if (input === \"ä¸‹è½½\") {\n                return \"download://\" + h\n            } else {\n                return $(\"ç¡®è®¤ä»ä»“åº“åˆ é™¤è¯¥åˆ†äº«:\" + j.name).confirm((j, g) => {\n                    showLoading(\"æ­£åœ¨åˆ é™¤\");\n                    try {\n                        let res = JSON.parse(fetch(g.host + j.name, {\n                            headers: {\n                                Accept: \"application/vnd.github.v3+json\",\n                                Authorization: \"token \" + g.token\n                            },\n                            body: {\n                                sha: j.sha,\n                                message: \"åˆ é™¤è§„åˆ™\"\n                            },\n                            method: \"DELETE\",\n                            withStatusCode: true\n                        }));\n                        if (res.statusCode === 200) {\n                            java.lang.Thread.sleep(1650);\n                            refreshPage(false);\n                            hideLoading();\n                            return \"toast://åˆ é™¤æˆåŠŸ,æœåŠ¡å™¨åˆ é™¤ä¼šæœ‰ä¸€å®šå»¶è¿Ÿ\";\n                        } else {\n                            res = JSON.parse(res.body);\n                            throw new Error(res.message);\n                        }\n                    } catch (e) {\n                        hideLoading();\n                        return \"toast://åˆ é™¤å¤±è´¥:\" + e.toString();\n                    }\n                }, j, g);\n            }\n        }, j, g),\n        extra: {\n            textAlign: 'left',\n            inheritTitle: false\n        }\n    });\n});\nsetResult(d);","searchFind":"","search_url":"","group":"â‘§å·¥å…·","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://github.githubassets.com/favicons/favicon.svg"}