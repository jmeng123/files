{"last_chapter_rule":"","pageList":[],"title":"临时邮箱","author":"","version":0,"type":"other","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\nlet d = [];\n\nfunction getuser(minLength, maxLength) {\n    const length = Math.floor(Math.random() * (maxLength - minLength + 1)) + minLength;\n    let result = '';\n    const characters = 'abcdefghijklmnopqrstuvwxyz';\n    const charactersLength = characters.length;\n    for (let i = 0; i < length; i++) {\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\n    }\n    return result;\n}\n\nd.push({\n    title: getItem('mail', '@mailto.plus'),\n    col_type: 'input',\n    url: $.toString(() => {\n        if (/^[a-zA-Z0-9]{4,8}$/.test(input)) {\n            let mails = ['@mailto.plus', '@fexpost.com', '@fexbox.org', '@mailbox.in.ua', '@rover.info', '@chitthi.in', '@fextemp.com', '@any.pink', '@merepost.com'];\n            return $(mails, 1).select(() => {\n                setItem('mail', input)\n                clearMyVar('push')\n                refreshPage()\n            })\n        }\n    }),\n    extra: {\n        defaultValue: getItem('user', 'tempmail'),\n        onChange: \"setItem('user',input)\"\n    }\n}, {\n    title: '⭕ 随机新用户名',\n    url: $('#noLoading#').lazyRule((getuser) => {\n        setItem('user', getuser(6, 8))\n        clearMyVar('push')\n        refreshPage()\n        return 'hiker://empty'\n    }, getuser),\n    col_type: 'text_2',\n    extra:{\n        longClick:[{\n            title:\"复制\",\n            js:$.toString(()=>{\n    let txt =getItem('user')+getItem('mail');\n    copy(txt);\n})\n        }],\n    }\n}, {\n    title: getMyVar('push', '0') == '0' ? '❎ 开始获取邮件' : '✅ 正在获取邮件',\n    url: $('#noLoading#').lazyRule(() => {\n        if (getMyVar('push', '0') == '0') {\n            putMyVar('push', '1')\n            refreshPage()\n        } else {\n            unRegisterTask('tempmail')\n            putMyVar('push', '0')\n            updateItem('push', {\n                title: '❎ 开始获取邮件',\n            })\n        }\n        return 'hiker://empty'\n    }),\n    col_type: 'text_2',\n    extra: {\n        id: 'push'\n    }\n})\n\nif (getMyVar('push', '0') == '1') {\n    var email = getItem('user') + getItem('mail')\n    d.push({\n        col_type: 'line_blank'\n    }, {\n        title: '0',\n        desc: \"每10秒获取一次\",\n        img: 'https://hikerfans.com/tubiao/messy/33.svg',\n        url: $('清空邮箱').confirm((email) => {\n            var url = buildUrl('https://tempmail.plus/api/mails', {\n                email: email,\n            });\n            var first_id = JSON.parse(fetch(url)).first_id;\n            if (first_id == '0') {\n                return 'toast://没有邮件，清空个喵！'\n            } else {\n                fetch('https://tempmail.plus/api/mails/', {\n                    body: 'email=' + email + '&first_id=' + first_id,\n                    method: \"DELETE\"\n                })\n                refreshPage()\n                return 'toast://清空成功!'\n            }\n        }, email),\n        col_type: 'avatar',\n        extra: {\n            id: 'timer',\n        }\n    })\n    registerTask('tempmail', 10000, $.toString((email) => {\n        let url = 'https://tempmail.plus/api/mails?email=' + email + '&limit=100';\n        let data = JSON.parse(fetch(url)).mail_list;\n        let items = data.map(item => {\n            return {\n                title: (item.is_new ? '📪' : '📬') + item.from_mail,\n                desc: item.subject,\n                url: $('hiker://empty').rule((id, email) => {\n                    var d = [];\n                    var url = buildUrl('https://tempmail.plus/api/mails/' + id, {\n                        email: email\n                    });\n                    var data = JSON.parse(fetch(url))\n                    d.push({\n                        title: data.text,\n                        col_type: 'rich_text'\n                    })\n                    setHomeResult(d)\n                }, item.mail_id, email),\n                col_type: 'text_1',\n                extra: {\n                    cls: 'resmail'\n                }\n            }\n        });\n        updateItem('timer', {\n            title: '<b>' + items.length + '</b>'\n        })\n        deleteItemByCls('resmail')\n        addItemAfter('timer', items)\n    }, email))\n}\n\nsetHomeResult(d);","searchFind":"","search_url":"","group":"⑧工具","detail_col_type":"movie_1","detail_find_rule":"","sdetail_col_type":"movie_1","sdetail_find_rule":"","ua":"mobile","preRule":"","pages":"[]","proxy":"","icon":"https://hikerfans.com/tubiao/messy/103.svg"}