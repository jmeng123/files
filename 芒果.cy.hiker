{"last_chapter_rule":"","pageList":[{"col_type":"movie_3","name":"芒果二级","path":"mgtv","rule":"js:\n// 数据定位\nvar d = [];\nMY_URL = MY_URL.split(\"#\")[0];\nhtml = request(MY_URL);\ntry {\n    vid = MY_URL.split('/')[5].split('.')[0];\n} catch (e) {\n    link = html.match(/window.location = \"[\\S\\s]+(?=\" \\+ window.location.search)/)[0].replace('window.location = \"', '');\n    vid = link.split('/')[5].split('.')[0];\n    html = request(link);\n}\n剧集详情 = html.match(/\"videoinfo\":[\\S\\s]+(?=,\"fullVideoListInfo\")/)[0].replace('\"videoinfo\":', '');\nlog(剧集详情);\n类型 = JSON.parse(剧集详情)[0];\n地区 = JSON.parse(剧集详情)[1];\n电视台 = JSON.parse(剧集详情)[2];//电视台或导演\nif (JSON.parse(剧集详情)[4].match(/简介/)) {\n    简介 = JSON.parse(剧集详情)[4];\n} else if(JSON.parse(剧集详情)[5].match(/简介/)){\n    简介 = JSON.parse(剧集详情)[5]\n}else {\n    简介 = JSON.parse(剧集详情)[6];\n}\n更新状态 = JSON.parse(剧集详情).updateInfo\n封面 = JSON.parse(剧集详情).colImage.replace('\\u002F', '/').split('.jpg')[0] + \".jpg@Referer=\";\nsetPagePicUrl(封面);\n// 获取首页信息（30一页，可能多于30，因为番外，size不建议修改会出错）\n剧集信息 = JSON.parse(fetch(`https://pcweb.api.mgtv.com/episode/list?_support=10000000&version=5.5.35&video_id=${vid}&page=1&size=30&allowedRC=1&_support=10000000`, {\n    headers: {\n        'User-Agent': PC_UA\n    },\n    referrer: MY_URL,\n    method: 'GET'\n})).data;\n// log(剧集信息);\n影片名称 = 剧集信息.info.title;\nsetPageTitle(影片名称);\n// 播出时间=pdfh(html,'.desc&&.t3,3&&Text');用json接口获取比较精准\n追更日历 = 剧集信息.info.desc;\nif (追更日历 == '\\r\\n' || 追更日历 == '') {\n    追更日历 = '获取不到更新计划~';\n}\n剧集列表 = 剧集信息.list\n短讯 = \"⭐\" + 类型 + \"⭐\" + '\\t' + 地区 + '\\n' + 电视台 + '\\n' + 更新状态;\n// 前置参数和预处理---\nvar lazy = $('').lazyRule(() => {\n    eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\n    return aytmParse(input)\n});\nvar Color = \"#19B89D\";\n// var 每页集数 = 20;芒果小程序不能修改页集数~！\nvar 搜索模式 = '分组';\nvar 调用名称 = '简影';\nputMyVar('折叠', '关');\nputMyVar('日历', '关');\nputMyVar('lazy', lazy);\nputMyVar('本页长度', 剧集列表.length);\nputMyVar('剧集信息', 剧集信息);\n// 清除变量\naddListener('onClose', $.toString(() => {\n    clearMyVar('分集起');\n    clearMyVar('分集终');\n    clearMyVar('lazy');\n    clearMyVar('剧集信息');\n}))\n// 设置动态最新章节\nsetLastChapterRule('js:' + $.toString(() => {\n    eval(JSON.parse(request('hiker://page/getUpdate?rule=芒果.cy')).rule);\n}));\n// 页面内容正文---\n// 基本信息模块\nd.push({\n    title: 短讯,\n    desc: 简介.substring(0, 45) + '‘‘’’…<font color=\"#1C1C1C\">详情</font>',\n    img: 封面,\n    url: $().rule((html, 简介) => {\n        res = {};\n        var d = [];\n        导演 = pdfh(html, '.desc&&.t3,-2&&Text');\n        演员 = pdfh(html, '.desc&&.t3,-1&&Text');\n        d.push({\n            title: '影片简介：' + '\\n\\t\\t\\t\\t\\t\\t\\t' + 导演 + '\\n\\t\\t\\t\\t\\t\\t\\t' + 演员 + '\\n\\t\\t\\t\\t\\t\\t\\t' + 简介,\n            col_type: 'long_text'\n        });\n        res.data = d;\n        setHomeResult(res);\n    }, html, 简介),\n    col_type: 'movie_1_vertical_pic_blur',\n    extra: {\n        longClick: [{\n            title: '预告、花絮开关', js: $.toString(() => {\n                if (getItem('previewSwitch', 'fold') == 'fold') {\n                    setItem('previewSwitch', 'open');\n                    refreshPage(true);\n                    return \"toast://预告已经切换为展示~\";\n                } else {\n                    setItem('previewSwitch', 'fold');\n                    refreshPage(true);\n                    return \"toast://预告不再展示~\";\n                }\n            })\n        }, {\n            title: 'dm盒子', js: $.toString(() => {\n                return 'hiker://page/setting#noHistory#?rule=dm盒子';\n            })\n        }]\n    }\n});\n// 追剧日历模块\nd.push({\n    title: '‘‘’’<small><font><font color=\"#098AC1\">📅追剧</font>' + '</small>',\n    url: $('#noLoading##noHistory#').lazyRule((更新状态, 追更日历) => {\n        if (getMyVar('日历', '关') == '开') {\n            deleteItem('追剧日历');\n            putMyVar('日历', '关');\n        } else {\n            addItemAfter('显示模式', {\n                title: '追剧日历：' + '\\n\\t\\t\\t\\t\\t\\t\\t' + 更新状态 + '\\n\\t\\t\\t\\t\\t\\t\\t' + 追更日历,\n                col_type: 'long_text',\n                extra: {\n                    id: '追剧日历'\n                }\n            });\n            putMyVar('日历', '开');\n        }\n        return 'toast://已切换日历为:' + getMyVar('日历', '开')\n    }, 更新状态, 追更日历),\n    col_type: 'text_4'\n});\n// 豆瓣影讯模块\nd.push({\n    title: '‘‘’’<small><font color=\"#098AC1\">🍃豆瓣</font></small>',\n    url: 'hiker://search?s=' + 影片名称 + '&rule=青豆',\n    col_type: 'text_4'\n});\n// 精彩继续模块（周边+系列）\nd.push({\n    title: '‘‘’’<small><font color=\"#098AC1\">ღ精彩</font></small>',\n    url: $('#noLoading##noHistory#').lazyRule(() => {\n        周边数组 = [\"🤣花絮\", \"🏷️系列\"];\n        return $(周边数组, 1, 'ღ精彩继续').select(() => {\n            剧集信息 = JSON.parse(getMyVar('剧集信息'));\n            lazy = getMyVar('lazy');\n            if (input === '🤣花絮') {\n                return $().rule((剧集信息, lazy) => {\n                    res = {};\n                    d = [];\n                    setPageTitle('🤣花絮列表');\n                    花絮列表 = 剧集信息.short;\n                    if (花絮列表 == '') {\n                        d.push({\n                            title: '‘‘’’<big><font color=\"red\">⭐该影片没有相关花絮哦~⭐</font></big>',\n                            url: 'toast://都没有，，你点啥呀~',\n                            desc: '敬请期待~',\n                            col_type: 'text_center_1'\n                        });\n                    }\n                    花絮列表.forEach(list => {\n                        d.push({\n                            title: list.t3,\n                            img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                            url: 'https://www.mgtv.com' + list.url + lazy,\n                            desc: list.t2,\n                            col_type: 'movie_1_left_pic'\n                        });\n                    });\n                    res.data = d;\n                    setHomeResult(res);\n                }, 剧集信息, lazy)\n            } else if (input === '🏷️系列') {\n                return $().rule((剧集信息) => {\n                    res = {};\n                    d = [];\n                    setPageTitle('🏷️相关系列');\n                    系列列表 = 剧集信息.series;\n                    if (系列列表 == '') {\n                        d.push({\n                            title: '‘‘’’<big><font color=\"red\">⭐芒果表示该影片暂无系列数据~⭐</font></big>',\n                            url: 'toast://都没有，，你点啥呀~',\n                            desc: '敬请期待~',\n                            col_type: 'text_center_1'\n                        });\n                    } else {\n                        系列列表.forEach(list => {\n                            d.push({\n                                title: '‘‘’’<big><font color=\"blue\">' + list.t1 + '</font></big>',\n                                img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                                url: $('#noLoading##noHistory#').lazyRule((link) => {\n                                    return $('hiker://empty#immersiveTheme#').rule((link) => {\n                                        html = request(link)\n                                        link = html.match(/window.location = \"[\\S\\s]+(?=\" \\+ window.location.search)/)[0].replace('window.location = \"', '');\n                                        MY_URL = link + '#immersiveTheme#';\n                                        eval(JSON.parse(request('hiker://page/mgtv?rule=芒果.cy')).rule);\n                                    }, link)\n                                }, list.url),\n                                desc: \"⭐播放量⭐\\t\" + list.playcnt,\n                                col_type: 'movie_1_left_pic'\n                            });\n                        });\n                    }\n                    res.data = d;\n                    setHomeResult(res);\n                }, 剧集信息)\n            }\n        })\n    }),\n    col_type: 'text_4',\n    extra: {\n        id: '精彩继续'\n    }\n});\n// 显示模式更改模块\nd.push({\n    title: '‘‘’’<small><font color=\"#098AC1\">🔃' + getItem('模式', '双边') + '</font></small>',\n    url: $('#noLoading##noHistory#').lazyRule(() => {\n        if (getItem('模式', '双边') == '列表') {\n            for (let index = 1; index <= getMyVar('本页长度'); index++) {\n                updateItem('mgtv' + index, {\n                    col_type: 'movie_2',\n                });\n            }\n            setItem('模式', '双边')\n        } else {\n            for (let index = 1; index <= getMyVar('本页长度'); index++) {\n                updateItem('mgtv' + index, {\n                    col_type: 'movie_1_left_pic',\n                });\n            }\n            setItem('模式', '列表')\n        }\n        updateItem('显示模式', {\n            title: '‘‘’’<small><font color=\"#098AC1\">🔃' + getItem('模式', '双边') + '</font></small>',\n        });\n        return 'toast://已切换模式为:' + getItem('模式', '双边')\n    }),\n    col_type: 'text_4',\n    extra: {\n        id: '显示模式'\n    }\n});\n// 选插模块——局部刷新版\n来源 = 'mg';\nputMyVar('简插', $.toString(() => {\n    let titleArr = []\n    setFile = readFile('hiker://files/rules/DuanNian/MyParse.json');\n    try {\n        eval('json=' + setFile);\n    } catch (e) {\n        log('Json解析发生了错误:' + e.message);\n    }\n    titleArr = json.title;\n    let barry1 = ['✍️辅助'];\n    let barry2 = ['📦️魔断'];\n    let barry3 = ['🔍搜索'];\n    titleArr = barry3.concat(titleArr);\n    titleArr = barry2.concat(titleArr);\n    titleArr = barry1.concat(titleArr);\n    eval('op=json.settings.' + 来源);\n    titleArr = titleArr.map((it) => {\n        return it === op ? '👉' + it : it;\n    });\n    putMyVar('解析数组', titleArr);\n    putMyVar('setFile', setFile);\n}))\neval(getMyVar('简插'));\nd.push({\n    title: '解析：🔘<font color=\"' + Color + '\">' + op + '</font>\\t\\t页码：<font color=\"' + Color + '\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\n    url: $('#noLoading##noHistory#').lazyRule((json, 来源, Color, op, 影片名称, 搜索模式, 调用名称) => {\n        eval(getMyVar('简插'));\n        return $(eval(getMyVar('解析数组')), 3).select((json, 来源, Color, op, 影片名称, 搜索模式, 调用名称) => {\n            setFile = getMyVar('setFile');\n            input = input.replace(/👉/g, '');\n            if (input === '✍️辅助') {\n                return $().rule(() => {\n                    eval(JSON.parse(request('hiker://page/home?rule=配置助手')).rule);\n                })\n            } else if (input === '📦️魔断') {\n                return \"hiker://page/Route?rule=MyFieldᴰⁿ&type=编辑#noHistory#\";\n            } else if (input === '🔍搜索') {\n                if (搜索模式 == '分组') {\n                    return \"hiker://search?s=\" + 影片名称 + \"&group=\" + 调用名称;\n                } else {\n                    return \"hiker://search?s=\" + 影片名称 + \"&rule=\" + 调用名称;\n                }\n            }\n            // 原先的配置\n            originSettings = JSON.stringify(json.settings);\n            // 修改配置\n            eval('json.settings.' + 来源 + '=input;');\n            setFile = setFile.replace(originSettings, JSON.stringify(json.settings));\n            saveFile('hiker://files/rules/DuanNian/MyParse.json', setFile);\n            // 刷新元素\n            eval(getMyVar('简插'));\n            updateItem('op', {\n                title: '解析：🔘<font color=\"' + Color + '\">' + op + '</font>\\t\\t页码：<font color=\"' + Color + '\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\n            });\n            return \"toast://切换解析口为:\" + input;\n        }, json, 来源, Color, op, 影片名称, 搜索模式, 调用名称)\n    }, json, 来源, Color, op, 影片名称, 搜索模式, 调用名称),\n    img: 'hiker://files/rules/cy/tubiao/mgtv.svg',\n    col_type: \"avatar\",\n    extra: {\n        id: 'op'\n    }\n});\n// 滚动剧集条栏\n剧集长度 = 剧集信息.count;\nif (剧集长度 > 30) {\n    putMyVar('刷新选集', $.toString(() => {\n        putMyVar('分集起', start);\n        putMyVar('分集终', end);\n        eval(getMyVar('简插'));\n        updateItem('op', {\n            title: '解析：🔘<font color=\"' + Color + '\">' + op + '</font>\\t\\t页码：<font color=\"' + Color + '\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\n        })\n        // 删除\n        for (let i = 1; i <= getMyVar('本页长度'); i++) {\n            deleteItem('mgtv' + i);\n        }\n        // 添加\n        lazy = getMyVar('lazy');\n        剧集信息 = JSON.parse(fetch(`https://pcweb.api.mgtv.com/episode/list?_support=10000000&version=5.5.35&video_id=${vid}&page=${page}&size=30&allowedRC=1&_support=10000000`, {\n            headers: {\n                'User-Agent': PC_UA\n            },\n            referrer: MY_URL,\n            method: 'GET'\n        })).data;\n        剧集列表 = 剧集信息.list\n        putMyVar('本页长度', 剧集列表.length);\n        newArray = [];\n        index = 1;\n        剧集列表.forEach(list => {\n            // 可能为空数组\n            try {\n                状态或集数标识 = list.corner[0].font;\n            } catch (e) {\n                状态或集数标识d = '';\n            }\n            try {\n                集数标识 = list.corner[1].font\n            } catch (e) {\n                集数标识 = '';\n            }\n            if (getItem('previewSwitch', 'fold') == 'fold' && 状态或集数标识.match(/预|花絮/)) {\n                return;\n            } else {\n                // 考虑一些彩蛋章是没有集数的情况，取list.t1，同时考虑到电影的集数标识和time的值一样\n                if (集数标识 == '' || 集数标识 == list.time) {\n                    if (getItem('模式', '双边') == '列表') {\n                        newArray.push({\n                            title: list.t2,\n                            img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                            url: 'https://www.mgtv.com' + list.url + lazy,\n                            desc: 状态或集数标识 + '\\t' + list.t1 + '\\t' + list.time,\n                            col_type: 'movie_1_left_pic',\n                            extra: {\n                                id: 'mgtv' + index\n                            }\n                        });\n                    } else {\n                        newArray.push({\n                            title: list.t2,\n                            img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                            url: 'https://www.mgtv.com' + list.url + lazy,\n                            desc: 状态或集数标识 + '\\t' + list.t1 + '\\t' + list.time,\n                            col_type: 'movie_2',\n                            extra: {\n                                id: 'mgtv' + index\n                            }\n                        });\n                    }\n                } else {\n                    if (getItem('模式', '双边') == '列表') {\n                        newArray.push({\n                            title: list.t2,\n                            img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                            url: 'https://www.mgtv.com' + list.url + lazy,\n                            desc: 状态或集数标识 + '\\t' + 集数标识 + '\\t' + list.time,\n                            col_type: 'movie_1_left_pic',\n                            extra: {\n                                id: 'mgtv' + index\n                            }\n                        });\n                    } else {\n                        newArray.push({\n                            title: list.t2,\n                            img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                            url: 'https://www.mgtv.com' + list.url + lazy,\n                            desc: 状态或集数标识 + '\\t' + 集数标识 + '\\t' + list.time,\n                            col_type: 'movie_2',\n                            extra: {\n                                id: 'mgtv' + index\n                            }\n                        });\n                    }\n                }\n                index += 1;\n            }\n        });\n        addItemAfter(getMyVar('末页'), newArray);\n        // putMyVar('显示的剧集列表', 显示的剧集列表);\n    }));\n    d.push({\n        col_type: 'scroll_button',\n        url: 'hiker://empty',\n        title: '∷',\n        extra: {\n            id: '占位符',\n        }\n    })\n    putMyVar('分集起', 1);\n    putMyVar('分集终', 30);\n    总页数 = 剧集信息.total_page;\n    start = 1;\n    end = 30;\n    for (let page = 1; page <= 总页数; page++) {\n        if (end > 剧集长度) {\n            end = 剧集长度;\n        }\n        d.push({\n            title: start + '-' + end,\n            url: $('#noLoading##noHistory##noHistory#').lazyRule((start, end, Color, 来源, page, vid) => {\n                eval(getMyVar('刷新选集'));\n                return \"hiker://empty\";\n            }, start, end, Color, 来源, page, vid),\n            col_type: 'scroll_button',\n            extra: {\n                id: start + '-' + end\n            }\n        });\n        if (end < 剧集长度) {\n            start += 30;\n            end += 30;\n        }\n    }\n    // 记录末页的id\n    putMyVar('末页', start + '-' + end);\n} else {\n    putMyVar('分集起', 1);\n    putMyVar('分集终', 剧集长度);\n}\n// 剧集展示\nindex = 1;\n剧集列表.forEach(list => {\n    // 可能为空数组\n    try {\n        状态或集数标识 = list.corner[0].font;\n    } catch (e) {\n        状态或集数标识d = '';\n    }\n    try {\n        集数标识 = list.corner[1].font\n    } catch (e) {\n        集数标识 = '';\n    }\n    if (getItem('previewSwitch', 'fold') == 'fold' && 状态或集数标识.match(/预|花絮/)) {\n        return;\n    } else {\n        // 考虑一些彩蛋章是没有集数的情况，取list.t1，同时考虑到电影的集数标识和time的值一样\n        if (集数标识 == '' || 集数标识 == list.time) {\n            if (getItem('模式', '双边') == '列表') {\n                d.push({\n                    title: list.t2,\n                    img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                    url: 'https://www.mgtv.com' + list.url + lazy,\n                    desc: 状态或集数标识 + '\\t' + list.t1 + '\\t' + list.time,\n                    col_type: 'movie_1_left_pic',\n                    extra: {\n                        id: 'mgtv' + index\n                    }\n                });\n            } else {\n                d.push({\n                    title: list.t2,\n                    img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                    url: 'https://www.mgtv.com' + list.url + lazy,\n                    desc: 状态或集数标识 + '\\t' + list.t1 + '\\t' + list.time,\n                    col_type: 'movie_2',\n                    extra: {\n                        id: 'mgtv' + index\n                    }\n                });\n            }\n        } else {\n            if (getItem('模式', '双边') == '列表') {\n                d.push({\n                    title: list.t2,\n                    img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                    url: 'https://www.mgtv.com' + list.url + lazy,\n                    desc: 状态或集数标识 + '\\t' + 集数标识 + '\\t' + list.time,\n                    col_type: 'movie_1_left_pic',\n                    extra: {\n                        id: 'mgtv' + index\n                    }\n                });\n            } else {\n                d.push({\n                    title: list.t2,\n                    img: list.img.split('.jpg')[0] + \".jpg@Referer=\",\n                    url: 'https://www.mgtv.com' + list.url + lazy,\n                    desc: 状态或集数标识 + '\\t' + 集数标识 + '\\t' + list.time,\n                    col_type: 'movie_2',\n                    extra: {\n                        id: 'mgtv' + index\n                    }\n                });\n            }\n        }\n        index += 1;\n    }\n});\nsetResult(d);\n"},{"name":"芒果最新章节","path":"getUpdate","rule":"html = request(MY_URL);\ntry {\n    剧集详情 = html.match(/\"videoinfo\":[\\S\\s]+(?=,\"fullVideoListInfo\")/)[0].replace('\"videoinfo\":', '');\n} catch (e) {\n    MY_URL=html.match(/window.location = \"[\\S\\s]+(?=\")/)[0].replace('window.location = \"','');\n    html = request(MY_URL);\n    剧集详情 = html.match(/\"videoinfo\":[\\S\\s]+(?=,\"fullVideoListInfo\")/)[0].replace('\"videoinfo\":', '');\n}\n更新状态 = JSON.parse(剧集详情).updateInfo;\nsetResult(更新状态);"}],"title":"芒果.cy","author":"侠名","version":0,"type":"video","url":"hiker://empty##","col_type":"movie_3","class_name":"","class_url":"","area_name":"","area_url":"","sort_name":"","year_name":"","sort_url":"","year_url":"","find_rule":"js:\r\nvar d = [];\r\nd.push({\r\n    col_type: \"x5_webview_single\",\r\n    url: \"https://m.mgtv.com/channel/home/\",\r\n    desc: \"float&&100%\",\r\n    extra: {\r\n        canBack: true,\r\n        urlInterceptor: $.toString((MY_RULE) => {\r\n            // 拦截，进入原生二级\r\n            if (input.match(/\\/b\\//)) {\r\n                return $.toString((url, MY_RULE) => {\r\n                    fba.open(JSON.stringify({\r\n                        rule: MY_RULE.title,\r\n                        title: '影片详情',\r\n                        group: MY_RULE.group,\r\n                        preRule: MY_RULE.preRule,\r\n                        pages: MY_RULE.pages,\r\n                        url: url + '#immersiveTheme#',\r\n                        findRule: MY_RULE.detail_find_rule\r\n                    }));\r\n                }, input, MY_RULE)\r\n            }\r\n            // 拦截app下载页面——非网页代码\r\n            if (input.includes('download')) return true;\r\n        }, MY_RULE),\r\n        blockRules: [''],\r\n        js: $.toString(() => {\r\n            var token_timer = function () {\r\n                var timer = setInterval(() => {\r\n                    // 隐藏协议\r\n                    if (document.getElementsByClassName(\"secret-wrap\")[0]) {\r\n                        document.getElementsByClassName(\"secret-wrap\")[0].style.visibility = \"hidden\";\r\n                        // 模拟芒果官网JS\r\n                        document.getElementsByTagName('body')[0].style.overflow = 'auto';\r\n                    }\r\n                    // 模拟点击协议\r\n                    if (document.getElementsByClassName(\"sure\")[0]) {\r\n                        btn = document.getElementsByClassName(\"sure\")[0];\r\n                        btn.dispatchEvent(new Event('click'));\r\n                    }\r\n                    // 模拟点击继续浏览精彩内容——如果有'继续使用浏览器'的话(不知道有没有效)\r\n                    if (document.body.textContent.match(/继续使用浏览器/)) {\r\n                        document.getElementsByClassName(\"OpenAppDialog_container__InZw8\")[0].style.display = \"none\";\r\n                    }\r\n                    // 隐藏橙黄APP弹窗\r\n                    if (document.getElementsByClassName(\"OpenAppPendant_container__r5fbb\")[0]) {\r\n                        document.getElementsByClassName(\"OpenAppPendant_container__r5fbb\")[0].style.display = \"none\";\r\n                    }\r\n                    // 隐藏登录、历史——偶有拦截失效\r\n                    if (document.getElementsByClassName(\"listicon\")[0]) {\r\n                        document.getElementsByClassName(\"listicon\")[0].style.display = \"none\";\r\n                    }\r\n                    // 隐藏广告栏\r\n                    if (document.querySelector(\"div[graphicxcy='']\")) {\r\n                        document.querySelector(\"div[graphicxcy='']\").style.display = \"none\";\r\n                    }\r\n                }, 100)\r\n            };\r\n            token_timer();\r\n        }),\r\n        jsLoadingInject: true,\r\n        // 悬浮嗅探部分短视频\r\n        floatVideo: true,\r\n        ua: MOBILE_UA\r\n    }\r\n});\r\nsetResult(d);","searchFind":"js:\n\nMY_URL = MY_URL.split('##');\n\nlet seaword = MY_URL[1];\n\nvar d = [];\n\nvar res = {};\n\nlist = JSON.parse(fetch(\"https://mobileso.bz.mgtv.com/msite/search/v2?q=\" + seaword +\"&pc=30&pn=1&sort=0&ty=0&du=0&pt=0&corr=1&abroad=0&_support=10000000000000000&callback=jsonp_ltdyqd2pcfsnbnr\",{\n\n    headers: {\n\n        'User-Agent': PC_UA\n\n    },\n\n    method: 'GET'\n\n}).match(/{[\\S\\s]+}/)).data.contents;\n\nlist.forEach(movie => {\n\n    if (movie.name=='媒资头部') {\n\n        from='芒果TV';\n\n        if (movie.data[0].url.match(/qq/)) {\n\n            from='腾讯';\n\n        }else if(movie.data[0].url.match(/qiyi/)){\n\n            from='爱奇艺';\n\n        }else if(movie.data[0].url.match(/youku/)){\n\n            from='优酷';\n\n        }else if(movie.data[0].url.match(/bili/)){\n\n            from='哔哩';\n\n        }\n\n        d.push({\n\n            title: movie.data[0].title.replace(/(<B>|<\\/B>)/g,''),\n\n            img: movie.data[0].img+ \"@Referer=\",\n\n            url: (from=='芒果TV'?\"https://www.mgtv.com\"+movie.data[0].url:movie.data[0].url.replace('m','www')) + \"#immersiveTheme#\",\n\n            content:movie.data[0].desc[0]+\"\\n\"+movie.data[0].desc[1],\n\n            desc:\"⭐来源：\"+from\n\n        });\n\n    }\n\n});\n\nres.data = d;\n\nsetSearchResult(res);\n\n","search_url":"hiker://empty##**##fypage","group":"①推荐","detail_col_type":"movie_1","detail_find_rule":"js:\n\nMY_URL = MY_URL.split(\"#\")[0];\n\nif (MY_URL.match(/qiyi/)) {\n\n    eval(JSON.parse(request('hiker://page/qiyi?rule=爱奇艺.cy')).rule);\n\n}else if(MY_URL.match(/youku/)){\n\n    eval(JSON.parse(request('hiker://page/youku?rule=优酷.cy')).rule);\n\n}else if(MY_URL.match(/qq/)){\n\n    eval(JSON.parse(request('hiker://page/qq?rule=腾讯.cy')).rule);\n\n}else if(MY_URL.match(/mgtv/)){\n\n    eval(JSON.parse(request('hiker://page/mgtv?rule=芒果.cy')).rule);\n\n}else if(MY_URL.match(/bili/)){\n\n    eval(JSON.parse(request('hiker://page/bili?rule=哔哩.cy')).rule);\n\n}\n\n\n","sdetail_col_type":"movie_1","sdetail_find_rule":"*","ua":"pc","preRule":"","pages":"[{\"col_type\":\"movie_3\",\"name\":\"芒果二级\",\"path\":\"mgtv\",\"rule\":\"js:\\n// 数据定位\\nvar d = [];\\nMY_URL = MY_URL.split(\\\"#\\\")[0];\\nhtml = request(MY_URL);\\ntry {\\n    vid = MY_URL.split('/')[5].split('.')[0];\\n} catch (e) {\\n    link = html.match(/window.location = \\\"[\\\\S\\\\s]+(?=\\\" \\\\+ window.location.search)/)[0].replace('window.location = \\\"', '');\\n    vid = link.split('/')[5].split('.')[0];\\n    html = request(link);\\n}\\n剧集详情 = html.match(/\\\"videoinfo\\\":[\\\\S\\\\s]+(?=,\\\"fullVideoListInfo\\\")/)[0].replace('\\\"videoinfo\\\":', '');\\nlog(剧集详情);\\n类型 = JSON.parse(剧集详情)[0];\\n地区 = JSON.parse(剧集详情)[1];\\n电视台 = JSON.parse(剧集详情)[2];//电视台或导演\\nif (JSON.parse(剧集详情)[4].match(/简介/)) {\\n    简介 = JSON.parse(剧集详情)[4];\\n} else if(JSON.parse(剧集详情)[5].match(/简介/)){\\n    简介 = JSON.parse(剧集详情)[5]\\n}else {\\n    简介 = JSON.parse(剧集详情)[6];\\n}\\n更新状态 = JSON.parse(剧集详情).updateInfo\\n封面 = JSON.parse(剧集详情).colImage.replace('\\\\u002F', '/').split('.jpg')[0] + \\\".jpg@Referer=\\\";\\nsetPagePicUrl(封面);\\n// 获取首页信息（30一页，可能多于30，因为番外，size不建议修改会出错）\\n剧集信息 = JSON.parse(fetch(`https://pcweb.api.mgtv.com/episode/list?_support=10000000&version=5.5.35&video_id=${vid}&page=1&size=30&allowedRC=1&_support=10000000`, {\\n    headers: {\\n        'User-Agent': PC_UA\\n    },\\n    referrer: MY_URL,\\n    method: 'GET'\\n})).data;\\n// log(剧集信息);\\n影片名称 = 剧集信息.info.title;\\nsetPageTitle(影片名称);\\n// 播出时间=pdfh(html,'.desc&&.t3,3&&Text');用json接口获取比较精准\\n追更日历 = 剧集信息.info.desc;\\nif (追更日历 == '\\\\r\\\\n' || 追更日历 == '') {\\n    追更日历 = '获取不到更新计划~';\\n}\\n剧集列表 = 剧集信息.list\\n短讯 = \\\"⭐\\\" + 类型 + \\\"⭐\\\" + '\\\\t' + 地区 + '\\\\n' + 电视台 + '\\\\n' + 更新状态;\\n// 前置参数和预处理---\\nvar lazy = $('').lazyRule(() => {\\n    eval(fetch('hiker://files/cache/Parse_Dn.js', {}));\\n    return aytmParse(input)\\n});\\nvar Color = \\\"#19B89D\\\";\\n// var 每页集数 = 20;芒果小程序不能修改页集数~！\\nvar 搜索模式 = '分组';\\nvar 调用名称 = '简影';\\nputMyVar('折叠', '关');\\nputMyVar('日历', '关');\\nputMyVar('lazy', lazy);\\nputMyVar('本页长度', 剧集列表.length);\\nputMyVar('剧集信息', 剧集信息);\\n// 清除变量\\naddListener('onClose', $.toString(() => {\\n    clearMyVar('分集起');\\n    clearMyVar('分集终');\\n    clearMyVar('lazy');\\n    clearMyVar('剧集信息');\\n}))\\n// 设置动态最新章节\\nsetLastChapterRule('js:' + $.toString(() => {\\n    eval(JSON.parse(request('hiker://page/getUpdate?rule=芒果.cy')).rule);\\n}));\\n// 页面内容正文---\\n// 基本信息模块\\nd.push({\\n    title: 短讯,\\n    desc: 简介.substring(0, 45) + '‘‘’’…<font color=\\\"#1C1C1C\\\">详情</font>',\\n    img: 封面,\\n    url: $().rule((html, 简介) => {\\n        res = {};\\n        var d = [];\\n        导演 = pdfh(html, '.desc&&.t3,-2&&Text');\\n        演员 = pdfh(html, '.desc&&.t3,-1&&Text');\\n        d.push({\\n            title: '影片简介：' + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + 导演 + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + 演员 + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + 简介,\\n            col_type: 'long_text'\\n        });\\n        res.data = d;\\n        setHomeResult(res);\\n    }, html, 简介),\\n    col_type: 'movie_1_vertical_pic_blur',\\n    extra: {\\n        longClick: [{\\n            title: '预告、花絮开关', js: $.toString(() => {\\n                if (getItem('previewSwitch', 'fold') == 'fold') {\\n                    setItem('previewSwitch', 'open');\\n                    refreshPage(true);\\n                    return \\\"toast://预告已经切换为展示~\\\";\\n                } else {\\n                    setItem('previewSwitch', 'fold');\\n                    refreshPage(true);\\n                    return \\\"toast://预告不再展示~\\\";\\n                }\\n            })\\n        }, {\\n            title: 'dm盒子', js: $.toString(() => {\\n                return 'hiker://page/setting#noHistory#?rule=dm盒子';\\n            })\\n        }]\\n    }\\n});\\n// 追剧日历模块\\nd.push({\\n    title: '‘‘’’<small><font><font color=\\\"#098AC1\\\">📅追剧</font>' + '</small>',\\n    url: $('#noLoading##noHistory#').lazyRule((更新状态, 追更日历) => {\\n        if (getMyVar('日历', '关') == '开') {\\n            deleteItem('追剧日历');\\n            putMyVar('日历', '关');\\n        } else {\\n            addItemAfter('显示模式', {\\n                title: '追剧日历：' + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + 更新状态 + '\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t' + 追更日历,\\n                col_type: 'long_text',\\n                extra: {\\n                    id: '追剧日历'\\n                }\\n            });\\n            putMyVar('日历', '开');\\n        }\\n        return 'toast://已切换日历为:' + getMyVar('日历', '开')\\n    }, 更新状态, 追更日历),\\n    col_type: 'text_4'\\n});\\n// 豆瓣影讯模块\\nd.push({\\n    title: '‘‘’’<small><font color=\\\"#098AC1\\\">🍃豆瓣</font></small>',\\n    url: 'hiker://search?s=' + 影片名称 + '&rule=青豆',\\n    col_type: 'text_4'\\n});\\n// 精彩继续模块（周边+系列）\\nd.push({\\n    title: '‘‘’’<small><font color=\\\"#098AC1\\\">ღ精彩</font></small>',\\n    url: $('#noLoading##noHistory#').lazyRule(() => {\\n        周边数组 = [\\\"🤣花絮\\\", \\\"🏷️系列\\\"];\\n        return $(周边数组, 1, 'ღ精彩继续').select(() => {\\n            剧集信息 = JSON.parse(getMyVar('剧集信息'));\\n            lazy = getMyVar('lazy');\\n            if (input === '🤣花絮') {\\n                return $().rule((剧集信息, lazy) => {\\n                    res = {};\\n                    d = [];\\n                    setPageTitle('🤣花絮列表');\\n                    花絮列表 = 剧集信息.short;\\n                    if (花絮列表 == '') {\\n                        d.push({\\n                            title: '‘‘’’<big><font color=\\\"red\\\">⭐该影片没有相关花絮哦~⭐</font></big>',\\n                            url: 'toast://都没有，，你点啥呀~',\\n                            desc: '敬请期待~',\\n                            col_type: 'text_center_1'\\n                        });\\n                    }\\n                    花絮列表.forEach(list => {\\n                        d.push({\\n                            title: list.t3,\\n                            img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                            url: 'https://www.mgtv.com' + list.url + lazy,\\n                            desc: list.t2,\\n                            col_type: 'movie_1_left_pic'\\n                        });\\n                    });\\n                    res.data = d;\\n                    setHomeResult(res);\\n                }, 剧集信息, lazy)\\n            } else if (input === '🏷️系列') {\\n                return $().rule((剧集信息) => {\\n                    res = {};\\n                    d = [];\\n                    setPageTitle('🏷️相关系列');\\n                    系列列表 = 剧集信息.series;\\n                    if (系列列表 == '') {\\n                        d.push({\\n                            title: '‘‘’’<big><font color=\\\"red\\\">⭐芒果表示该影片暂无系列数据~⭐</font></big>',\\n                            url: 'toast://都没有，，你点啥呀~',\\n                            desc: '敬请期待~',\\n                            col_type: 'text_center_1'\\n                        });\\n                    } else {\\n                        系列列表.forEach(list => {\\n                            d.push({\\n                                title: '‘‘’’<big><font color=\\\"blue\\\">' + list.t1 + '</font></big>',\\n                                img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                                url: $('#noLoading##noHistory#').lazyRule((link) => {\\n                                    return $('hiker://empty#immersiveTheme#').rule((link) => {\\n                                        html = request(link)\\n                                        link = html.match(/window.location = \\\"[\\\\S\\\\s]+(?=\\\" \\\\+ window.location.search)/)[0].replace('window.location = \\\"', '');\\n                                        MY_URL = link + '#immersiveTheme#';\\n                                        eval(JSON.parse(request('hiker://page/mgtv?rule=芒果.cy')).rule);\\n                                    }, link)\\n                                }, list.url),\\n                                desc: \\\"⭐播放量⭐\\\\t\\\" + list.playcnt,\\n                                col_type: 'movie_1_left_pic'\\n                            });\\n                        });\\n                    }\\n                    res.data = d;\\n                    setHomeResult(res);\\n                }, 剧集信息)\\n            }\\n        })\\n    }),\\n    col_type: 'text_4',\\n    extra: {\\n        id: '精彩继续'\\n    }\\n});\\n// 显示模式更改模块\\nd.push({\\n    title: '‘‘’’<small><font color=\\\"#098AC1\\\">🔃' + getItem('模式', '双边') + '</font></small>',\\n    url: $('#noLoading##noHistory#').lazyRule(() => {\\n        if (getItem('模式', '双边') == '列表') {\\n            for (let index = 1; index <= getMyVar('本页长度'); index++) {\\n                updateItem('mgtv' + index, {\\n                    col_type: 'movie_2',\\n                });\\n            }\\n            setItem('模式', '双边')\\n        } else {\\n            for (let index = 1; index <= getMyVar('本页长度'); index++) {\\n                updateItem('mgtv' + index, {\\n                    col_type: 'movie_1_left_pic',\\n                });\\n            }\\n            setItem('模式', '列表')\\n        }\\n        updateItem('显示模式', {\\n            title: '‘‘’’<small><font color=\\\"#098AC1\\\">🔃' + getItem('模式', '双边') + '</font></small>',\\n        });\\n        return 'toast://已切换模式为:' + getItem('模式', '双边')\\n    }),\\n    col_type: 'text_4',\\n    extra: {\\n        id: '显示模式'\\n    }\\n});\\n// 选插模块——局部刷新版\\n来源 = 'mg';\\nputMyVar('简插', $.toString(() => {\\n    let titleArr = []\\n    setFile = readFile('hiker://files/rules/DuanNian/MyParse.json');\\n    try {\\n        eval('json=' + setFile);\\n    } catch (e) {\\n        log('Json解析发生了错误:' + e.message);\\n    }\\n    titleArr = json.title;\\n    let barry1 = ['✍️辅助'];\\n    let barry2 = ['📦️魔断'];\\n    let barry3 = ['🔍搜索'];\\n    titleArr = barry3.concat(titleArr);\\n    titleArr = barry2.concat(titleArr);\\n    titleArr = barry1.concat(titleArr);\\n    eval('op=json.settings.' + 来源);\\n    titleArr = titleArr.map((it) => {\\n        return it === op ? '👉' + it : it;\\n    });\\n    putMyVar('解析数组', titleArr);\\n    putMyVar('setFile', setFile);\\n}))\\neval(getMyVar('简插'));\\nd.push({\\n    title: '解析：🔘<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\t页码：<font color=\\\"' + Color + '\\\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\\n    url: $('#noLoading##noHistory#').lazyRule((json, 来源, Color, op, 影片名称, 搜索模式, 调用名称) => {\\n        eval(getMyVar('简插'));\\n        return $(eval(getMyVar('解析数组')), 3).select((json, 来源, Color, op, 影片名称, 搜索模式, 调用名称) => {\\n            setFile = getMyVar('setFile');\\n            input = input.replace(/👉/g, '');\\n            if (input === '✍️辅助') {\\n                return $().rule(() => {\\n                    eval(JSON.parse(request('hiker://page/home?rule=配置助手')).rule);\\n                })\\n            } else if (input === '📦️魔断') {\\n                return \\\"hiker://page/Route?rule=MyFieldᴰⁿ&type=编辑#noHistory#\\\";\\n            } else if (input === '🔍搜索') {\\n                if (搜索模式 == '分组') {\\n                    return \\\"hiker://search?s=\\\" + 影片名称 + \\\"&group=\\\" + 调用名称;\\n                } else {\\n                    return \\\"hiker://search?s=\\\" + 影片名称 + \\\"&rule=\\\" + 调用名称;\\n                }\\n            }\\n            // 原先的配置\\n            originSettings = JSON.stringify(json.settings);\\n            // 修改配置\\n            eval('json.settings.' + 来源 + '=input;');\\n            setFile = setFile.replace(originSettings, JSON.stringify(json.settings));\\n            saveFile('hiker://files/rules/DuanNian/MyParse.json', setFile);\\n            // 刷新元素\\n            eval(getMyVar('简插'));\\n            updateItem('op', {\\n                title: '解析：🔘<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\t页码：<font color=\\\"' + Color + '\\\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\\n            });\\n            return \\\"toast://切换解析口为:\\\" + input;\\n        }, json, 来源, Color, op, 影片名称, 搜索模式, 调用名称)\\n    }, json, 来源, Color, op, 影片名称, 搜索模式, 调用名称),\\n    img: 'hiker://files/rules/cy/tubiao/mgtv.svg',\\n    col_type: \\\"avatar\\\",\\n    extra: {\\n        id: 'op'\\n    }\\n});\\n// 滚动剧集条栏\\n剧集长度 = 剧集信息.count;\\nif (剧集长度 > 30) {\\n    putMyVar('刷新选集', $.toString(() => {\\n        putMyVar('分集起', start);\\n        putMyVar('分集终', end);\\n        eval(getMyVar('简插'));\\n        updateItem('op', {\\n            title: '解析：🔘<font color=\\\"' + Color + '\\\">' + op + '</font>\\\\t\\\\t页码：<font color=\\\"' + Color + '\\\">' + ((getMyVar('分集起', '首页') == '首页') ? '首页' : (getMyVar('分集起') + '-' + getMyVar('分集终'))) + '</font>',\\n        })\\n        // 删除\\n        for (let i = 1; i <= getMyVar('本页长度'); i++) {\\n            deleteItem('mgtv' + i);\\n        }\\n        // 添加\\n        lazy = getMyVar('lazy');\\n        剧集信息 = JSON.parse(fetch(`https://pcweb.api.mgtv.com/episode/list?_support=10000000&version=5.5.35&video_id=${vid}&page=${page}&size=30&allowedRC=1&_support=10000000`, {\\n            headers: {\\n                'User-Agent': PC_UA\\n            },\\n            referrer: MY_URL,\\n            method: 'GET'\\n        })).data;\\n        剧集列表 = 剧集信息.list\\n        putMyVar('本页长度', 剧集列表.length);\\n        newArray = [];\\n        index = 1;\\n        剧集列表.forEach(list => {\\n            // 可能为空数组\\n            try {\\n                状态或集数标识 = list.corner[0].font;\\n            } catch (e) {\\n                状态或集数标识d = '';\\n            }\\n            try {\\n                集数标识 = list.corner[1].font\\n            } catch (e) {\\n                集数标识 = '';\\n            }\\n            if (getItem('previewSwitch', 'fold') == 'fold' && 状态或集数标识.match(/预|花絮/)) {\\n                return;\\n            } else {\\n                // 考虑一些彩蛋章是没有集数的情况，取list.t1，同时考虑到电影的集数标识和time的值一样\\n                if (集数标识 == '' || 集数标识 == list.time) {\\n                    if (getItem('模式', '双边') == '列表') {\\n                        newArray.push({\\n                            title: list.t2,\\n                            img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                            url: 'https://www.mgtv.com' + list.url + lazy,\\n                            desc: 状态或集数标识 + '\\\\t' + list.t1 + '\\\\t' + list.time,\\n                            col_type: 'movie_1_left_pic',\\n                            extra: {\\n                                id: 'mgtv' + index\\n                            }\\n                        });\\n                    } else {\\n                        newArray.push({\\n                            title: list.t2,\\n                            img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                            url: 'https://www.mgtv.com' + list.url + lazy,\\n                            desc: 状态或集数标识 + '\\\\t' + list.t1 + '\\\\t' + list.time,\\n                            col_type: 'movie_2',\\n                            extra: {\\n                                id: 'mgtv' + index\\n                            }\\n                        });\\n                    }\\n                } else {\\n                    if (getItem('模式', '双边') == '列表') {\\n                        newArray.push({\\n                            title: list.t2,\\n                            img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                            url: 'https://www.mgtv.com' + list.url + lazy,\\n                            desc: 状态或集数标识 + '\\\\t' + 集数标识 + '\\\\t' + list.time,\\n                            col_type: 'movie_1_left_pic',\\n                            extra: {\\n                                id: 'mgtv' + index\\n                            }\\n                        });\\n                    } else {\\n                        newArray.push({\\n                            title: list.t2,\\n                            img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                            url: 'https://www.mgtv.com' + list.url + lazy,\\n                            desc: 状态或集数标识 + '\\\\t' + 集数标识 + '\\\\t' + list.time,\\n                            col_type: 'movie_2',\\n                            extra: {\\n                                id: 'mgtv' + index\\n                            }\\n                        });\\n                    }\\n                }\\n                index += 1;\\n            }\\n        });\\n        addItemAfter(getMyVar('末页'), newArray);\\n        // putMyVar('显示的剧集列表', 显示的剧集列表);\\n    }));\\n    d.push({\\n        col_type: 'scroll_button',\\n        url: 'hiker://empty',\\n        title: '∷',\\n        extra: {\\n            id: '占位符',\\n        }\\n    })\\n    putMyVar('分集起', 1);\\n    putMyVar('分集终', 30);\\n    总页数 = 剧集信息.total_page;\\n    start = 1;\\n    end = 30;\\n    for (let page = 1; page <= 总页数; page++) {\\n        if (end > 剧集长度) {\\n            end = 剧集长度;\\n        }\\n        d.push({\\n            title: start + '-' + end,\\n            url: $('#noLoading##noHistory##noHistory#').lazyRule((start, end, Color, 来源, page, vid) => {\\n                eval(getMyVar('刷新选集'));\\n                return \\\"hiker://empty\\\";\\n            }, start, end, Color, 来源, page, vid),\\n            col_type: 'scroll_button',\\n            extra: {\\n                id: start + '-' + end\\n            }\\n        });\\n        if (end < 剧集长度) {\\n            start += 30;\\n            end += 30;\\n        }\\n    }\\n    // 记录末页的id\\n    putMyVar('末页', start + '-' + end);\\n} else {\\n    putMyVar('分集起', 1);\\n    putMyVar('分集终', 剧集长度);\\n}\\n// 剧集展示\\nindex = 1;\\n剧集列表.forEach(list => {\\n    // 可能为空数组\\n    try {\\n        状态或集数标识 = list.corner[0].font;\\n    } catch (e) {\\n        状态或集数标识d = '';\\n    }\\n    try {\\n        集数标识 = list.corner[1].font\\n    } catch (e) {\\n        集数标识 = '';\\n    }\\n    if (getItem('previewSwitch', 'fold') == 'fold' && 状态或集数标识.match(/预|花絮/)) {\\n        return;\\n    } else {\\n        // 考虑一些彩蛋章是没有集数的情况，取list.t1，同时考虑到电影的集数标识和time的值一样\\n        if (集数标识 == '' || 集数标识 == list.time) {\\n            if (getItem('模式', '双边') == '列表') {\\n                d.push({\\n                    title: list.t2,\\n                    img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                    url: 'https://www.mgtv.com' + list.url + lazy,\\n                    desc: 状态或集数标识 + '\\\\t' + list.t1 + '\\\\t' + list.time,\\n                    col_type: 'movie_1_left_pic',\\n                    extra: {\\n                        id: 'mgtv' + index\\n                    }\\n                });\\n            } else {\\n                d.push({\\n                    title: list.t2,\\n                    img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                    url: 'https://www.mgtv.com' + list.url + lazy,\\n                    desc: 状态或集数标识 + '\\\\t' + list.t1 + '\\\\t' + list.time,\\n                    col_type: 'movie_2',\\n                    extra: {\\n                        id: 'mgtv' + index\\n                    }\\n                });\\n            }\\n        } else {\\n            if (getItem('模式', '双边') == '列表') {\\n                d.push({\\n                    title: list.t2,\\n                    img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                    url: 'https://www.mgtv.com' + list.url + lazy,\\n                    desc: 状态或集数标识 + '\\\\t' + 集数标识 + '\\\\t' + list.time,\\n                    col_type: 'movie_1_left_pic',\\n                    extra: {\\n                        id: 'mgtv' + index\\n                    }\\n                });\\n            } else {\\n                d.push({\\n                    title: list.t2,\\n                    img: list.img.split('.jpg')[0] + \\\".jpg@Referer=\\\",\\n                    url: 'https://www.mgtv.com' + list.url + lazy,\\n                    desc: 状态或集数标识 + '\\\\t' + 集数标识 + '\\\\t' + list.time,\\n                    col_type: 'movie_2',\\n                    extra: {\\n                        id: 'mgtv' + index\\n                    }\\n                });\\n            }\\n        }\\n        index += 1;\\n    }\\n});\\nsetResult(d);\\n\"},{\"name\":\"芒果最新章节\",\"path\":\"getUpdate\",\"rule\":\"html = request(MY_URL);\\ntry {\\n    剧集详情 = html.match(/\\\"videoinfo\\\":[\\\\S\\\\s]+(?=,\\\"fullVideoListInfo\\\")/)[0].replace('\\\"videoinfo\\\":', '');\\n} catch (e) {\\n    MY_URL=html.match(/window.location = \\\"[\\\\S\\\\s]+(?=\\\")/)[0].replace('window.location = \\\"','');\\n    html = request(MY_URL);\\n    剧集详情 = html.match(/\\\"videoinfo\\\":[\\\\S\\\\s]+(?=,\\\"fullVideoListInfo\\\")/)[0].replace('\\\"videoinfo\\\":', '');\\n}\\n更新状态 = JSON.parse(剧集详情).updateInfo;\\nsetResult(更新状态);\"}]","proxy":"","icon":"https://hikerfans.com/tubiao/movie/32.svg"}